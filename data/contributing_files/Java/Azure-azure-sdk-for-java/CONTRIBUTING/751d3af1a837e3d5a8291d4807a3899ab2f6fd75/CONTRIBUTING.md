# How to contribute

If you encounter any bugs with the library please file an issue in the [Issues](https://github.com/Azure/azure-sdk-for-java/issues) section of the project.

If you would like to become an active contributor to this project please follow the instructions provided in [Microsoft Azure Projects Contribution Guidelines](http://azure.github.com/guidelines.html).

## Generated source code
Most source code in this repository are generated from [Microsoft Azure OpenAPI specifications](https://github.com/Azure/azure-rest-api-specs) with [AutoRest](https://github.com/Azure/AutoRest). Please do not directly modify the files with header
```
...
* Code generated by Microsoft (R) AutoRest Code Generator 0.15.0.0
* Changes may cause incorrect behavior and will be lost if the code is
* regenerated.
...
```
This includes all the code under `src/main` in each module. Feel free to directly modify the files under `src/test` and `examples` directories.

## REST API changes
You make changes to the REST API specifications when you:
- Have new REST endpoints available to add
- The bug is reproduced in other language SDKs, e.g. C#, Node, etc
- The bug is not reproduced in similar operations in other modules

In general, you should follow the [Contribution guidelines](https://github.com/azure/azure-rest-api-specs#how-to-contribute) in the REST specs repository. You may also just submit an issue and service owners will take it from there.

## AutoRest code generator changes
You make changes to AutoRest Azure.Java or Java code generator when you:
- Want to support new client side feature, e.g., new data type
- Find a bug in client side behavior, e.g., serialization
- The bug is not reproduced in other language SDKs, e.g. C#, Node, etc

You may submit an issue in [Autorest](https://github.com/Azure/AutoRest) repository. In most cases, if you want to contribute to AutoRest about Java SDK related issues, you only need to change [Java](https://github.com/Azure/autorest/tree/master/AutoRest/Generators/Java/Java) or [Azure.Java](https://github.com/Azure/autorest/tree/master/AutoRest/Generators/Java/Java) generators.

## Propagate the changes to this repository
We use gulp for code regeneration tasks. Run `gulp` (`npm install` is required first) and you will see this:
```bash
Î» gulp
[17:08:13] Using gulpfile E:\work\azure-sdk-for-java\gulpfile.js
[17:08:13] Starting 'default'...
Usage: gulp codegen [--spec-root <swagger specs root>] [--projects <project names>] [--autorest <autorest info>]

--spec-root
        Root location of Swagger API specs, default value is "https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master"
--projects
        Comma separated projects to regenerate, default is all. List of available project names:
        compute
        storage
        resources
        subscriptions
        authorization
        features
        network
        website
--autorest
        The version of AutoRest. E.g. 0.15.0, or the location of AutoRest repo, E.g. E:\repo\autorest
[17:08:13] Finished 'default' after 7.26 ms
```
If you made changes to REST API specs, run
```bash
gulp codegen --spec-root E:\myreposfolder\azure-rest-api-specs --projects project_changed --autorest 0.15.0(or latest)
```
If you made changes to AutoRest code gen, run
```bash
gulp codegen --autorest E:\myreposfolder\AutoRest
```
Make sure you have fully built the AutoRest solution first.
