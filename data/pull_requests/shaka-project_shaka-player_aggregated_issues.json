[
  {
    "_id": "66219cd8d6ca63ac8d88ef66",
    "number": 6455,
    "body": null,
    "head_branch": "docs-4.8",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Update roadmap (#6455)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cd9d6ca63ac8d88ef67",
    "number": 6454,
    "body": "Backwards compatibility for https://github.com/shaka-project/shaka-player/pull/6188",
    "head_branch": "backwards-compatibility-hls-apple",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 76.92%"
    ],
    "commit_messages": [
      "chore: Add backwards compatibility for useNativeHlsOnSafari (#6454)\n\nBackwards compatibility for\r\nhttps://github.com/shaka-project/shaka-player/pull/6188"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cdad6ca63ac8d88ef68",
    "number": 6453,
    "body": "Backwards compatibility for https://github.com/shaka-project/shaka-player/pull/6063",
    "head_branch": "backwards-compatibility-dom-parser",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 86.01%",
      "Re: \"The `TimelineRegionInfo.eventElement` property is now a type of `shaka.externs.xml.Node` instead of `Element`\", it does seem they are not API-compatible.\r\n\r\nI think we could construct a DOM Element from the contents of xml.Node.\r\n\r\nSomething like this would be good enough, I think:\r\n\r\n```js\r\nfunction txmlNodeToDomElement(node, doParents = true, doChildren = true) {\r\n  const element = document.createElement(node.tagName);\r\n\r\n  for (const k in node.attributes) {\r\n    const v = node.attributes[k];\r\n    element.setAttribute(k, v);\r\n  }\r\n\r\n  if (doParents && node.parent) {\r\n    const parentElement = txmlNodeToDomElement(node.parent, /* doParents= */ true, /* doChildren */ false);\r\n    parentElement.appendChild(element);\r\n  }\r\n\r\n  if (doChildren) {\r\n    for (const child of node.children) {\r\n      let childElement;\r\n      if (typeof child == 'string') {\r\n        childElement = new Text(child);\r\n      } else {\r\n        childElement = txmlNodeToDomElement(child, /* doParents= */ false, /* doChildren */ true);\r\n      }\r\n      element.appendChild(childElement);\r\n    }\r\n  }\r\n\r\n  return element;\r\n}\r\n```",
      "@joeyparrish I added backwards compatibility for all."
    ],
    "commit_messages": [
      "chore: Add backwards compatibility for \"Remove DOM Parser\" (#6453)\n\nBackwards compatibility for https://github.com/shaka-project/shaka-player/pull/6063"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cdbd6ca63ac8d88ef69",
    "number": 6452,
    "body": "Backwards compatibility for https://github.com/shaka-project/shaka-player/pull/6362",
    "head_branch": "backwards-compatibility-extra-features",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 33.33%"
    ],
    "commit_messages": [
      "chore: Add backwards compatibility for addExtraFeaturesToSourceBuffer (#6452)\n\nBackwards compatibility for https://github.com/shaka-project/shaka-player/pull/6362"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cdcd6ca63ac8d88ef6a",
    "number": 6450,
    "body": null,
    "head_branch": "ui-vr-support",
    "is_a_fork": true,
    "comments": [
      "Demo:\r\n\r\nhttps://github.com/shaka-project/shaka-player/assets/8983024/81c2b24f-0dac-45db-b1b2-32d7a0bca56c\r\n\r\n",
      "Incremental code coverage: 73.17%"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cddd6ca63ac8d88ef6b",
    "number": 6449,
    "body": null,
    "head_branch": "wt-codec-switch-leak",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: clear listeners when resetting media source (#6449)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cded6ca63ac8d88ef6c",
    "number": 6444,
    "body": "When using customPlayheadTracker the content of video could have been replaced by the advertisement (case of SmartTVs where only one video element is supported at a time), so we want to prevent actions from being taken on the advertisement.",
    "head_branch": "pause-ad-smarttvs",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 75.00%"
    ],
    "commit_messages": [
      "fix(Ads): Fix ad pausing when using customPlayheadTracker (#6444)\n\nWhen using customPlayheadTracker the content of video could have been\r\nreplaced by the advertisement (case of SmartTVs where only one video\r\nelement is supported at a time), so we want to prevent actions from\r\nbeing taken on the advertisement."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cdfd6ca63ac8d88ef6d",
    "number": 6443,
    "body": "This configuration solves problems with some devices not being able to play a pre-roll.",
    "head_branch": "ads-play-detection",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 91.67%"
    ],
    "commit_messages": [
      "feat(Ads): Skip play detection in some devices (#6443)\n\nThis configuration solves problems with some devices not being able to\r\nplay a pre-roll."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cdfd6ca63ac8d88ef6e",
    "number": 6438,
    "body": null,
    "head_branch": "colr-box",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 31.82%"
    ],
    "commit_messages": [
      "feat: Parse colr box (#6438)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ce0d6ca63ac8d88ef6f",
    "number": 6437,
    "body": "This is a necessary step to implement VR in the UI",
    "head_branch": "spatial-video-info",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 72.15%"
    ],
    "commit_messages": [
      "feat: Trigger an event with spatial video info (#6437)\n\nThis is a necessary step to implement VR in the UI"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ce1d6ca63ac8d88ef70",
    "number": 6435,
    "body": "This reverts #4886, which was found to cause issues with fetching segments after seeking.\r\n\r\nCloses #5785\r\nRe-open #4589",
    "head_branch": "hls-fix-segments-not-fetched",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "@avelad was the issue with fetching segments after seeking related to VOD, LIVE or both? I don't think we experienced fetching segments issue in our LIVE streams so in case it was an issue restricted to VODs only, any chance original fix could be applied to LIVE streams?",
      "@joeyparrish can you comment on the above?",
      "This was generic, so it affects both VOD and Live."
    ],
    "commit_messages": [
      "revert: Fix potential AV sync issues after seek or adaptation (#6435)\n\nThis reverts #4886, which was found to cause issues with fetching segments after seeking.\r\n\r\nCloses #5785\r\nRe-open #4589"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ce2d6ca63ac8d88ef71",
    "number": 6434,
    "body": null,
    "head_branch": "hls-aes-warning",
    "is_a_fork": true,
    "comments": [
      "Test stream: https://bitmovin-a.akamaihd.net/content/art-of-motion_drm/m3u8s/11331.m3u8",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix bad warning when playing HLS-AES128 (#6434)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ce3d6ca63ac8d88ef72",
    "number": 6433,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6355\r\n\r\nit's still in draft until having proper unit tests to control this\r\n\r\nThis PR is doing the following\r\nAt startup time and at buffering it will set the playback rate to 0. like it was before and reset it to the default value we no buffer.\r\nI'm still passing all the unit test but i'm still thinging if we have an impact with the live catchup feature that is changing the playback rate.\r\n\r\nMaybe we should just re introduce the isBuffering_ value in playbackrate class.\r\nHappy to do it if you think so\r\n\r\nhere the link the PR that introduce the regression\r\nhttps://github.com/shaka-project/shaka-player/pull/5696/files#diff-274a4cc3948f85eed18f86e04c6260b93faa97b995d38f0e3b1af618fd01fab7L34\r\n",
    "head_branch": "feat/fix-rebufferinggoal",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "@avelad, you made the change to stop using playbackRate of 0 to manage buffering state.  This would reintroduce a smaller version of that, by explicitly setting playbackRate to 0 when we enter a buffering state, but without so much machinery to manage things.  It also has the side-effect of reverting to defaultPlaybackRate after a buffering event, instead of the playbackRate explicitly chosen by the user or by the catch-up logic.\r\n\r\n@avelad, I would prefer you look at this and make recommendations.",
      "@avelad thanks",
      "@joeyparrish can you review it? Thanks!",
      "Gentle ask to @joeyparrish if you have time ;) thanks a lot",
      "@theodab @joeyparrish can you review it again? Thanks!",
      "This appears to be causing test failures on Tizen.",
      "Specifically, this causes these two failures on Tizen 100% of the time:\r\n\r\n```\r\nPlayer\r\n    rebufferGoal\r\n      ✗ state orchestration and buffer length [Safari 3.0 (Tizen 3.0)]\r\n\tError: Expected 23.801 to be greater than or equal 25.\r\n\t    at <Jasmine>\r\n\t    at _callee45$ (test/player_integration.js:1022:34 <- test/player_integration.js:1595:42)\r\n\t    at tryCatch (node_modules/@babel/polyfill/dist/polyfill.js:6473:40)\r\n\t    at GeneratorFunctionPrototype.invoke [as _invoke] (node_modules/@babel/polyfill/dist/polyfill.js:6[70](https://github.com/shaka-project/shaka-player/actions/runs/8976237248/job/24654981074#step:10:71)2:22)\r\n\r\n\r\n  Player Src Equals\r\n    ✗ can control trick play rate [Safari 3.0 (Tizen 3.0)]\r\n\tError: Expected 0 to be 2.\r\n\t    at <Jasmine>\r\n\t    at _callee11$ (test/player_src_equals_integration.js:184:32 <- test/player_src_equals_integration.js:311:40)\r\n\t    at tryCatch (node_modules/@babel/polyfill/dist/polyfill.js:64[73](https://github.com/shaka-project/shaka-player/actions/runs/8976237248/job/24654981074#step:10:74):40)\r\n\t    at GeneratorFunctionPrototype.invoke [as _invoke] (node_modules/@babel/polyfill/dist/polyfill.js:6702:22)\r\n\r\n\tError: Expected false to be true.\r\n\t    at <Jasmine>\r\n\t    at _callee11$ (test/player_src_equals_integration.js:190:30 <- test/player_src_equals_integration.js:319:38)\r\n\t    at tryCatch (node_modules/@babel/polyfill/dist/polyfill.js:6473:40)\r\n\t    at GeneratorFunctionPrototype.invoke [as _invoke] (node_modules/@babel/polyfill/dist/polyfill.js:6702:22)\r\n\r\n\tError: Expected 0 to be 1.\r\n\t    at <Jasmine>\r\n\t    at _callee11$ (test/player_src_equals_integration.js:197:32 <- test/player_src_equals_integration.js:327:40)\r\n\t    at tryCatch (node_modules/@babel/polyfill/dist/polyfill.js:6473:40)\r\n\t    at GeneratorFunctionPrototype.invoke [as _invoke] (node_modules/@babel/polyfill/dist/polyfill.js:6702:22)\r\n```\r\n\r\nAs seen here when testing v4.8.2: https://github.com/shaka-project/shaka-player/actions/runs/8976237248/job/24654981074\r\n\r\nI am reverting this before v4.8.2 goes out.  It has not been in a release yet.",
      "Reverted by https://github.com/shaka-project/shaka-player/pull/6540"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ce4d6ca63ac8d88ef73",
    "number": 6432,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/1352\r\n\r\nSegment prefetch keeps the segments until the position of the segment to be requested changes, which is exactly what happens when the QuotaExceededError error occurs. So enabling this by default with a value of 1 solves this problem.",
    "head_branch": "change-segmentPrefetchLimit",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ce5d6ca63ac8d88ef74",
    "number": 6431,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/6338",
    "head_branch": "docs-offline",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Add note about the result of calling storage.store twice (#6431)\n\nCloses https://github.com/shaka-project/shaka-player/issues/6338"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ce6d6ca63ac8d88ef75",
    "number": 6430,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.17](https://github.com/shaka-project/shaka-player/compare/v4.6.16...v4.6.17) (2024-04-15)\n\n\n### Bug Fixes\n\n* Correct playhead when seek beyond seekRange ([#6304](https://github.com/shaka-project/shaka-player/issues/6304)) ([09b154e](https://github.com/shaka-project/shaka-player/commit/09b154ed7a2f1539a239436b2cb8f76b464e4308))\n* **HLS:** Fix labelling of captions in Safari ([#6426](https://github.com/shaka-project/shaka-player/issues/6426)) ([f5fa229](https://github.com/shaka-project/shaka-player/commit/f5fa229181997133fcab40db113b411180810192))\n* Looser tolerance for ending trick play at edge of seek range. ([#6422](https://github.com/shaka-project/shaka-player/issues/6422)) ([4edf77e](https://github.com/shaka-project/shaka-player/commit/4edf77e8106ee550a3d32c90c572efec179a6b27)), closes [#6421](https://github.com/shaka-project/shaka-player/issues/6421)\n\n\n### Reverts\n\n* Fix potential AV sync issues after seek or adaptation ([#6435](https://github.com/shaka-project/shaka-player/issues/6435)) ([3a231dd](https://github.com/shaka-project/shaka-player/commit/3a231ddfce62a2f0ef0b7340a798e062d9814c24)), closes [#5785](https://github.com/shaka-project/shaka-player/issues/5785) [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.17 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.17 (#6430)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ce7d6ca63ac8d88ef76",
    "number": 6429,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.13](https://github.com/shaka-project/shaka-player/compare/v4.7.12...v4.7.13) (2024-04-15)\n\n\n### Bug Fixes\n\n* Correct playhead when seek beyond seekRange ([#6304](https://github.com/shaka-project/shaka-player/issues/6304)) ([f91188e](https://github.com/shaka-project/shaka-player/commit/f91188eaecb91583385f49fdf1e39add3f77d7c2))\n* **DASH:** Fix support for multi-mimeType variants ([#6348](https://github.com/shaka-project/shaka-player/issues/6348)) ([0581be5](https://github.com/shaka-project/shaka-player/commit/0581be5726ef83dfa01463b75e9b24517fc732fb))\n* **HLS:** Fix labelling of captions in Safari ([#6426](https://github.com/shaka-project/shaka-player/issues/6426)) ([e3aad9f](https://github.com/shaka-project/shaka-player/commit/e3aad9fdf5f85cef5f511f2a800c0ad1d51c7777))\n* Looser tolerance for ending trick play at edge of seek range. ([#6422](https://github.com/shaka-project/shaka-player/issues/6422)) ([66924d0](https://github.com/shaka-project/shaka-player/commit/66924d05c94436b294df1ec3d7bad5a505acf2e1)), closes [#6421](https://github.com/shaka-project/shaka-player/issues/6421)\n\n\n### Reverts\n\n* Fix potential AV sync issues after seek or adaptation ([#6435](https://github.com/shaka-project/shaka-player/issues/6435)) ([cbbb704](https://github.com/shaka-project/shaka-player/commit/cbbb704c08ce5a71a65478d2b37df27f6193870f)), closes [#5785](https://github.com/shaka-project/shaka-player/issues/5785) [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.13 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.13 (#6429)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ce8d6ca63ac8d88ef77",
    "number": 6426,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6233",
    "head_branch": "src-labelling-hls",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 50.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix labelling of captions in Safari (#6426)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6233"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ce9d6ca63ac8d88ef78",
    "number": 6425,
    "body": "Issue #6424",
    "head_branch": "newVersionFaqBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Add FAQ entry about new versions. (#6425)\n\nIssue #6424"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cead6ca63ac8d88ef79",
    "number": 6422,
    "body": "Fixes #6421",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%",
      "Sadly, I don't think \"sub-second\" has a good antonym, so there's not a great name for this PR... Let's see."
    ],
    "commit_messages": [
      "fix: Looser tolerance for ending trick play at edge of seek range. (#6422)\n\nFixes #6421"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cebd6ca63ac8d88ef7a",
    "number": 6419,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/6418 ",
    "head_branch": "feat/dash-update-period-configuration",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 85.00%",
      "@avelad  just added the config demo"
    ],
    "commit_messages": [
      "feat(DASH): update period as part of configuration (#6419)\n\nCloses https://github.com/shaka-project/shaka-player/issues/6418"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cecd6ca63ac8d88ef7b",
    "number": 6417,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2959",
    "head_branch": "getPlayheadTimeAsDate-vod",
    "is_a_fork": true,
    "comments": [
      "Test stream: https://storage.googleapis.com/livestream-demo-output/ccl-webvtt-test/manifest-ts.m3u8",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat: Make getPlayheadTimeAsDate and getPresentationStartTimeAsDate available for VOD (#6417)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2959"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cedd6ca63ac8d88ef7c",
    "number": 6416,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2430\r\n\r\nTest stream: http://dash.akamaized.net/dash264/TestCasesIOP41/LastSegmentNumber/1/manifest_last_segment_num.mpd",
    "head_branch": "dash-signalling-last-segment-number",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(DASH): Add signalling the last segment number in Period (#6416)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2430\r\n\r\nTest stream:\r\nhttp://dash.akamaized.net/dash264/TestCasesIOP41/LastSegmentNumber/1/manifest_last_segment_num.mpd"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ceed6ca63ac8d88ef7d",
    "number": 6415,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.16](https://github.com/shaka-project/shaka-player/compare/v4.6.15...v4.6.16) (2024-04-09)\n\n\n### Bug Fixes\n\n* Add LOAS-AAC detection in TS ([#6390](https://github.com/shaka-project/shaka-player/issues/6390)) ([c347e8d](https://github.com/shaka-project/shaka-player/commit/c347e8d8ed4dfe036d5f3eb1bab840f89bccb1a7))\n* Add ManagedMediaSource support in MediaSource polyfill ([#6361](https://github.com/shaka-project/shaka-player/issues/6361)) ([938776c](https://github.com/shaka-project/shaka-player/commit/938776cac0697bbcfe7d8246ab4a490e6a90b0aa))\n* Add Opus and AV1 detection in TS ([#6385](https://github.com/shaka-project/shaka-player/issues/6385)) ([9be9183](https://github.com/shaka-project/shaka-player/commit/9be91836366162b1ce7c0f94e992f57357b4feb4))\n* **Cast:** Don't pause local video until the cast connection is established ([#6359](https://github.com/shaka-project/shaka-player/issues/6359)) ([e74d90a](https://github.com/shaka-project/shaka-player/commit/e74d90af669dd9366c57d5747cfc9c56fef160ba))\n* **DASH:** Set delay to 0 for LL streams ([#6406](https://github.com/shaka-project/shaka-player/issues/6406)) ([0a9f97f](https://github.com/shaka-project/shaka-player/commit/0a9f97f6f2126c30adc33da631017a73d2a20454))\n* **demo:** Remove max height of demo config tabs ([#6324](https://github.com/shaka-project/shaka-player/issues/6324)) ([a7b7436](https://github.com/shaka-project/shaka-player/commit/a7b743672556b552c5063f2e04d3e24a599d9298))\n* Disable smooth codec switching in Edge Windows ([#6384](https://github.com/shaka-project/shaka-player/issues/6384)) ([012ec5c](https://github.com/shaka-project/shaka-player/commit/012ec5ccb74b27a52cd6c2bff8eff2ffc69ef2ec))\n* Fix cea608 whitespace rendering ([#6329](https://github.com/shaka-project/shaka-player/issues/6329)) ([7a7a36b](https://github.com/shaka-project/shaka-player/commit/7a7a36bcae8a243752f99004dc49640225c0f48b)), closes [#6328](https://github.com/shaka-project/shaka-player/issues/6328)\n* Fix ENCA box parsing ([#6298](https://github.com/shaka-project/shaka-player/issues/6298)) ([1a62c24](https://github.com/shaka-project/shaka-player/commit/1a62c24faaf978c4c97d764e0dc4a7f915d66944))\n* Fix PES rollover in TS ([#6363](https://github.com/shaka-project/shaka-player/issues/6363)) ([6683811](https://github.com/shaka-project/shaka-player/commit/668381131d13a56ff8c06777f11e42597eda3f67))\n* Fix playback stuck on initial gap ([#6340](https://github.com/shaka-project/shaka-player/issues/6340)) ([a621642](https://github.com/shaka-project/shaka-player/commit/a621642143c1dfbbcea2d7af129653fe849765fe)), closes [#6339](https://github.com/shaka-project/shaka-player/issues/6339)\n* Fix SAR when transmuxing ([#6309](https://github.com/shaka-project/shaka-player/issues/6309)) ([83b7027](https://github.com/shaka-project/shaka-player/commit/83b70276eff7ad436e661f550965434f48f3e5b6))\n* Fix waiting for empty init datas ([#6292](https://github.com/shaka-project/shaka-player/issues/6292)) ([e75505a](https://github.com/shaka-project/shaka-player/commit/e75505aa44b4100503e4bf42be0a666bb446dcc9)), closes [#6228](https://github.com/shaka-project/shaka-player/issues/6228)\n* **HLS:** Fix IAMF codec selection in HLS ([#6389](https://github.com/shaka-project/shaka-player/issues/6389)) ([4d5727d](https://github.com/shaka-project/shaka-player/commit/4d5727d2289ec329196568b952a1d27dc714f6ba))\n* **HLS:** getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME ([#6371](https://github.com/shaka-project/shaka-player/issues/6371)) ([090016a](https://github.com/shaka-project/shaka-player/commit/090016af9e8a4048ee6e1fefc91d853b9a62ca0e))\n* **HLS:** Only offset segment ref times when needed w/ EXT-X-MEDIA-SEQUENCE ([#6378](https://github.com/shaka-project/shaka-player/issues/6378)) ([d3696a4](https://github.com/shaka-project/shaka-player/commit/d3696a4084e01d2f89d1eda01b3a469f6facaba0))\n* **HLS:** Reset textSequenceModeOffset on discontinuity ([#6388](https://github.com/shaka-project/shaka-player/issues/6388)) ([8cc2e24](https://github.com/shaka-project/shaka-player/commit/8cc2e24e260ea015185144874daef2c79cccf6c9))\n* Reject TS content on all platforms and transmux always ([#6382](https://github.com/shaka-project/shaka-player/issues/6382)) ([74644d3](https://github.com/shaka-project/shaka-player/commit/74644d3ab5a7b9a8b27cba4252310bdc651a8b3f))\n* **transmuxer:** Support raw AAC with TS extension ([#6360](https://github.com/shaka-project/shaka-player/issues/6360)) ([e5296c2](https://github.com/shaka-project/shaka-player/commit/e5296c27f07d0184dbfecfc7799a4bf1ea8f20e1))\n* **WebVTT:** Remove rollover logic because we always transmux TS ([#6397](https://github.com/shaka-project/shaka-player/issues/6397)) ([6610c22](https://github.com/shaka-project/shaka-player/commit/6610c2283465430acd2fac8ecaf585e5d25e6969))\n\n\n### Performance Improvements\n\n* **Cast:** memoize/cache canDisplayType results to reduce startup latency ([#6367](https://github.com/shaka-project/shaka-player/issues/6367)) ([f54433e](https://github.com/shaka-project/shaka-player/commit/f54433ed434953d52bc607b6e328a86365673683))\n* **transmuxer:** Improve performance on video transmuxing ([#6364](https://github.com/shaka-project/shaka-player/issues/6364)) ([5143ef4](https://github.com/shaka-project/shaka-player/commit/5143ef4609a9c8d5568f3a0be245da1eaeae1c16))\n\n\n### Reverts\n\n* getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME ([#6330](https://github.com/shaka-project/shaka-player/issues/6330)) ([fd0fb28](https://github.com/shaka-project/shaka-player/commit/fd0fb285d5da1fd3d653e41600a95c99c4cef0fe))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.16 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.16 (#6415)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cefd6ca63ac8d88ef7e",
    "number": 6414,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.12](https://github.com/shaka-project/shaka-player/compare/v4.7.11...v4.7.12) (2024-04-09)\n\n\n### Bug Fixes\n\n* Add LOAS-AAC detection in TS ([#6390](https://github.com/shaka-project/shaka-player/issues/6390)) ([a370627](https://github.com/shaka-project/shaka-player/commit/a370627ddedee7134742e841ca84c20f88332b5d))\n* Add ManagedMediaSource support in MediaSource polyfill ([#6361](https://github.com/shaka-project/shaka-player/issues/6361)) ([a134917](https://github.com/shaka-project/shaka-player/commit/a13491799cd31f6604f057c991fc479c7e1557c6))\n* Add Opus and AV1 detection in TS ([#6385](https://github.com/shaka-project/shaka-player/issues/6385)) ([1ed0c24](https://github.com/shaka-project/shaka-player/commit/1ed0c2417c3c87bcf3114ca40b9559ca0f6ed04b))\n* **Cast:** Don't pause local video until the cast connection is established ([#6359](https://github.com/shaka-project/shaka-player/issues/6359)) ([30cf6f2](https://github.com/shaka-project/shaka-player/commit/30cf6f2205463af3668157c30aeb6ea7e2448e06))\n* **DASH:** Set delay to 0 for LL streams ([#6406](https://github.com/shaka-project/shaka-player/issues/6406)) ([1ccf611](https://github.com/shaka-project/shaka-player/commit/1ccf61103edc0b2e5a00e6e1668f7270996558c1))\n* **demo:** Remove max height of demo config tabs ([#6324](https://github.com/shaka-project/shaka-player/issues/6324)) ([f18e818](https://github.com/shaka-project/shaka-player/commit/f18e818b410ffe749c069c53dc96c790e2b1cf7a))\n* Disable smooth codec switching in Edge Windows ([#6384](https://github.com/shaka-project/shaka-player/issues/6384)) ([b6a9ab3](https://github.com/shaka-project/shaka-player/commit/b6a9ab3cc55d91780af9f1f1099f3c36bd0da5e7))\n* Fix cea608 whitespace rendering ([#6329](https://github.com/shaka-project/shaka-player/issues/6329)) ([4cedaf9](https://github.com/shaka-project/shaka-player/commit/4cedaf9bd29368f1f42d6986bdb88fe4fced12d7)), closes [#6328](https://github.com/shaka-project/shaka-player/issues/6328)\n* Fix ENCA box parsing ([#6298](https://github.com/shaka-project/shaka-player/issues/6298)) ([5d0e418](https://github.com/shaka-project/shaka-player/commit/5d0e418c5115f69c5d0bc20354c2397f31ed6237))\n* Fix PES rollover in TS ([#6363](https://github.com/shaka-project/shaka-player/issues/6363)) ([4ec646b](https://github.com/shaka-project/shaka-player/commit/4ec646b316ec46da061067030e21a64d927f2338))\n* Fix playback stuck on initial gap ([#6340](https://github.com/shaka-project/shaka-player/issues/6340)) ([1eac68f](https://github.com/shaka-project/shaka-player/commit/1eac68f7c558d0b5fc8e1e150598f5b775e750ff)), closes [#6339](https://github.com/shaka-project/shaka-player/issues/6339)\n* Fix SAR when transmuxing ([#6309](https://github.com/shaka-project/shaka-player/issues/6309)) ([ad111e6](https://github.com/shaka-project/shaka-player/commit/ad111e6b86ab5ce61663977265d268cb3919b7ec))\n* Fix waiting for empty init datas ([#6292](https://github.com/shaka-project/shaka-player/issues/6292)) ([4fa32b0](https://github.com/shaka-project/shaka-player/commit/4fa32b04b57eddd2b57dbecf18542f3ac5af0444)), closes [#6228](https://github.com/shaka-project/shaka-player/issues/6228)\n* **HLS:** Fix IAMF codec selection in HLS ([#6389](https://github.com/shaka-project/shaka-player/issues/6389)) ([dad2e81](https://github.com/shaka-project/shaka-player/commit/dad2e81a4403c02e3b4d750d1b0a0256ff45db1e))\n* **HLS:** getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME ([#6371](https://github.com/shaka-project/shaka-player/issues/6371)) ([4aa8caa](https://github.com/shaka-project/shaka-player/commit/4aa8caac062af09416a4ec0d29e809518322e72d))\n* **HLS:** Only offset segment ref times when needed w/ EXT-X-MEDIA-SEQUENCE ([#6378](https://github.com/shaka-project/shaka-player/issues/6378)) ([7825d62](https://github.com/shaka-project/shaka-player/commit/7825d6204d877aee0d176da54b5813dc0e235ba4))\n* **HLS:** Reset textSequenceModeOffset on discontinuity ([#6388](https://github.com/shaka-project/shaka-player/issues/6388)) ([f889315](https://github.com/shaka-project/shaka-player/commit/f88931587ab434c661ca1d1222514591ff964d39))\n* Reject TS content on all platforms and transmux always ([#6382](https://github.com/shaka-project/shaka-player/issues/6382)) ([ccf42c2](https://github.com/shaka-project/shaka-player/commit/ccf42c2285a7996afb1aa52154e8d322efd170be))\n* **transmuxer:** Support raw AAC with TS extension ([#6360](https://github.com/shaka-project/shaka-player/issues/6360)) ([3cf68c1](https://github.com/shaka-project/shaka-player/commit/3cf68c1d9c1fd81de1845221f3f17dcdbfed1550))\n* **WebVTT:** Remove rollover logic because we always transmux TS ([#6397](https://github.com/shaka-project/shaka-player/issues/6397)) ([9ab54d1](https://github.com/shaka-project/shaka-player/commit/9ab54d1485564065e02136b538b080186a0161e9))\n\n\n### Performance Improvements\n\n* **Cast:** memoize/cache canDisplayType results to reduce startup latency ([#6367](https://github.com/shaka-project/shaka-player/issues/6367)) ([9870b48](https://github.com/shaka-project/shaka-player/commit/9870b487c975a885758f248c5ca151d00f432e3e))\n* **transmuxer:** Improve performance on video transmuxing ([#6364](https://github.com/shaka-project/shaka-player/issues/6364)) ([cc8fcfe](https://github.com/shaka-project/shaka-player/commit/cc8fcfec1e5da547a73d3531cc63cafc49660794))\n\n\n### Reverts\n\n* getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME ([#6330](https://github.com/shaka-project/shaka-player/issues/6330)) ([07be922](https://github.com/shaka-project/shaka-player/commit/07be922d5095d50634512750f0b8f0142ba5b27f))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.12 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.12 (#6414)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cf0d6ca63ac8d88ef7f",
    "number": 6406,
    "body": null,
    "head_branch": "dash-ll",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(DASH): Set delay to 0 for LL streams (#6406)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cf1d6ca63ac8d88ef80",
    "number": 6405,
    "body": null,
    "head_branch": "wt-abr-events",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 38.89%"
    ],
    "commit_messages": [
      "chore(ABR): Use EventManager for network change events (#6405)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cf2d6ca63ac8d88ef81",
    "number": 6404,
    "body": "This change gives better performance when playing low latency streams",
    "head_branch": "evict-prefetch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 83.33%"
    ],
    "commit_messages": [
      "feat: Evict instead delete on prefetch (#6404)\n\nThis change gives better performance when playing low latency streams"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cf3d6ca63ac8d88ef82",
    "number": 6403,
    "body": null,
    "head_branch": "updateIntervalSeconds-ll",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat: Set updateIntervalSeconds to 0.1 by default for low latency streaming (#6403)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cf4d6ca63ac8d88ef83",
    "number": 6402,
    "body": null,
    "head_branch": "sample-aes",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 73.68%"
    ],
    "commit_messages": [
      "fix(HLS): Fix SAMPLE-AES playback (#6402)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cf5d6ca63ac8d88ef84",
    "number": 6399,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6407",
    "head_branch": "aes-cache-keys",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Avoid duplicate AES requests (#6399)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6407"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cf6d6ca63ac8d88ef85",
    "number": 6398,
    "body": null,
    "head_branch": "readme-update",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Update HLS info in README (#6398)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cf7d6ca63ac8d88ef86",
    "number": 6397,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6320",
    "head_branch": "vtt-rollover",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(WebVTT): Remove rollover logic because we always transmux TS (#6397)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6320"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cf8d6ca63ac8d88ef87",
    "number": 6396,
    "body": "related to issue: https://github.com/shaka-project/shaka-player/issues/6381",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 75.00%",
      "@joeyparrish the failed test looks like it failed not because of my suggested changes.\r\nWhat should I do? Is it just a flaky test?\r\n@theodab ",
      "I don't believe your PR is the right direction.\r\n\r\nI recommend you use the existing configuration `abr.useNetworkInformation` and set it to `false` to disable the NetworkInformation API from being used. Then you can set the `abr.defaultBandwidthEstimate` to whatever you want (bits/sec).\r\n\r\nThanks!",
      "> I don't believe your PR is the right direction.\r\n> \r\n> I recommend you use the existing configuration `abr.useNetworkInformation` and set it to `false` to disable the NetworkInformation API from being used. Then you can set the `abr.defaultBandwidthEstimate` to whatever you want (bits/sec).\r\n> \r\n> Thanks!\r\n\r\nThe problem is that Network information is more accurate than the estimation, but in old phones, this is quite flaky (I.e. you can get from the network information that you are on 5mbps while you are processing only 0.5mbps which causes repeatedly bad experience of buffering since the ABR not function).\r\nThe estimation on the other hand is not that accurate as well (and does not respond fast enough for cellphones), on old weak phones (tested on the new A12 Galaxy for example) the watching experience becomes unbearable thanks to this behaviour.\r\n\r\nIn the end, what we want is the minimum estimation + network API to get the most reliable estimation of our current net quality and this is critical for a smoother experience on low-power / old devices.\r\n\r\n(just as an illustration, I changed the settings of ABR percent to 0.5 and 0.5 (Bandwidth Downgrade Target and Bandwidth Upgrade Target) and even that didn't solve the issue in this type of device since the changes are quite radically (not sure 100% why, but an educated guess can be in the range of A. those devices constantly jumps from wifi to cellular. B. those devices' CPU can't maintain a proper bandwidth. C. the device is on the move inside the house, so the reception quality changes. D. there is other moving parts in the house that affect the reception quality.\r\n\r\nEither way, choosing the minimum of estimation and API results makes sense (this is the logic we do there basically on the estimation logic, get the minimum from the fast and slow moving average) and additionally will improve the experience of the users.\r\n",
      "You can also plug in a custom AbrManager if you want."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cf9d6ca63ac8d88ef88",
    "number": 6395,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4974",
    "head_branch": "ttml-surrounding-spaces",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(TTML): Fix trim surrounding spaces with xml:space=\"default\" (#6395)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4974"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cfad6ca63ac8d88ef89",
    "number": 6394,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6374",
    "head_branch": "multiline-colored-vtt",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(WebVTT): Fix multiline colored VTT subtitles (#6394)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6374"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cfbd6ca63ac8d88ef8a",
    "number": 6392,
    "body": null,
    "head_branch": "patch-3",
    "is_a_fork": true,
    "comments": [
      "Please do it in https://github.com/shaka-project/shaka-player/pull/6386"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cfcd6ca63ac8d88ef8b",
    "number": 6391,
    "body": null,
    "head_branch": "patch-2",
    "is_a_fork": true,
    "comments": [
      "Please do it in https://github.com/shaka-project/shaka-player/pull/6386",
      "Done!"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cfdd6ca63ac8d88ef8c",
    "number": 6390,
    "body": null,
    "head_branch": "ts-aac-loas",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 37.50%"
    ],
    "commit_messages": [
      "fix: Add LOAS-AAC detection in TS (#6390)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cfed6ca63ac8d88ef8d",
    "number": 6389,
    "body": "IAMF spec: https://aomediacodec.github.io/iamf/\r\n\r\nIAMF codec string: https://aomediacodec.github.io/iamf/#codecsparameter",
    "head_branch": "iamf-hls-detection",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix IAMF codec selection in HLS (#6389)\n\nIAMF spec: https://aomediacodec.github.io/iamf/\r\n\r\nIAMF codec string: https://aomediacodec.github.io/iamf/#codecsparameter"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219cffd6ca63ac8d88ef8e",
    "number": 6388,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5168\r\nFixes https://github.com/shaka-project/shaka-player/issues/6325\r\nFixes https://github.com/shaka-project/shaka-player/issues/5096\r\nFixes https://github.com/shaka-project/shaka-player/issues/4828\r\nFixes https://github.com/shaka-project/shaka-player/issues/5604\r\n\r\n- Currently the offset used for `time.periodStart` in [computeHlsSequenceModeOffset_](https://github.com/shaka-project/shaka-player/blob/03bb463a724483c88df818b11c807a0fdc11cccb/lib/text/vtt_text_parser.js#L174), is calculated and set at stream start and never updated.\r\n- In `MediaSourceEngine` the correct offset is actually being calculated on every call to `appendBuffer`. But when it is applied to the text engine `textEngine_.setTimestampOffset`, in order to update `time.periodStart`,  it only ever uses the initial calculated offset. \r\n- `this.textSequenceModeOffset_` is initiated as a `shaka.util.PublicPromise()`. The value is updated by calling `this.textSequenceModeOffset_.resolve(value)`. However, once the promise is resolved, calling resolve on it again has no effect. So the first value passed is locked in and used in all subsequent calculations.\r\n- This PR resets `this.textSequenceModeOffset_` to a new `shaka.util.PublicPromise()` after it's previously fulfilled value has been read.",
    "head_branch": "fix/hls-text-offset",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "@avelad The only way I can think of to properly test this is with a full integration or E2E test. That would require a public stream which we don't have available. Can we merge the fix while we figure out a way to test this? ",
      "@littlespex We have https://github.com/shaka-project/shaka-player/blob/main/test/hls/hls_parser_integration.js for HLS integration tests. Since this problem also occurs on VOD, it should be easy to do a test.",
      "@avelad The issue is we don't have an asset that we can share publicly. ",
      "@avelad @theodab @joeyparrish We've added an integration test for this change.",
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=6388`\n",
      "Tests updated and unused assets removed.",
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=6388`\n"
    ],
    "commit_messages": [
      "fix(HLS): Reset textSequenceModeOffset on discontinuity (#6388)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5168\r\nFixes https://github.com/shaka-project/shaka-player/issues/6325\r\nFixes https://github.com/shaka-project/shaka-player/issues/5096\r\nFixes https://github.com/shaka-project/shaka-player/issues/4828\r\nFixes https://github.com/shaka-project/shaka-player/issues/5604\r\n\r\n- Currently the offset used for `time.periodStart` in [computeHlsSequenceModeOffset_](https://github.com/shaka-project/shaka-player/blob/03bb463a724483c88df818b11c807a0fdc11cccb/lib/text/vtt_text_parser.js#L174), is calculated and set at stream start and never updated.\r\n- In `MediaSourceEngine` the correct offset is actually being calculated on every call to `appendBuffer`. But when it is applied to the text engine `textEngine_.setTimestampOffset`, in order to update `time.periodStart`,  it only ever uses the initial calculated offset. \r\n- `this.textSequenceModeOffset_` is initiated as a `shaka.util.PublicPromise()`. The value is updated by calling `this.textSequenceModeOffset_.resolve(value)`. However, once the promise is resolved, calling resolve on it again has no effect. So the first value passed is locked in and used in all subsequent calculations.\r\n- This PR resets `this.textSequenceModeOffset_` to a new `shaka.util.PublicPromise()` after it's previously fulfilled value has been read.\r\n\r\nCo-authored-by: Casey Occhialini <1508707+littlespex@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d00d6ca63ac8d88ef8f",
    "number": 6387,
    "body": null,
    "head_branch": "opus-transmuxer",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 81.45%",
      "Thanks @theodab !"
    ],
    "commit_messages": [
      "feat: Add Opus TS transmuxer (#6387)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d01d6ca63ac8d88ef90",
    "number": 6386,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/6376",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/6386/checks?check_run_id=23307303530) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "@MarianoFacundoArch Please add your name and email to https://github.com/shaka-project/shaka-player/blob/main/AUTHORS and https://github.com/shaka-project/shaka-player/blob/main/CONTRIBUTORS (alphabetically please). Thanks!",
      "Hi! Thanks! It is done in two commits; please let me know when it is merged. I am willing to continue collaborating! :D \r\nhttps://github.com/shaka-project/shaka-player/pull/6391\r\nhttps://github.com/shaka-project/shaka-player/pull/6392",
      "@avelad Name added to this PR as requested; how do we proceed and get it merged?\r\nThanks!",
      "Incremental code coverage: 100.00%",
      "> @avelad Name added to this PR as requested; how do we proceed and get it merged? Thanks!\r\n\r\nWe need a review from @joeyparrish or @theodab before merge it. Thanks!",
      "When shall this be released? In which version?",
      "If we don't do a new branch for v4.8, this would be out in v5.0, which we will be more cautious about.  There are other things we want to break this year, like moving to TypeScript, so it's possible that v5.0 will be delayed for a while.  If we create a v4.8.x branch without the breaking changes in it, your change would be in that branch and would be out sooner.",
      "We will be releasing v4.8.0 soon.",
      "Got it. Thank you @joeyparrish !"
    ],
    "commit_messages": [
      "feat(UI): Add config for refreshTickInSeconds (#6386)\n\nCloses https://github.com/shaka-project/shaka-player/issues/6376\r\n\r\n---------\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d02d6ca63ac8d88ef91",
    "number": 6385,
    "body": "This detection is necessary to be able to correctly detect whether a media playlist of HLS that has TS segments is compatible or not.\r\n\r\nExample: https://raw.githubusercontent.com/obecny/hls-opus-testing/main/stream.m3u8 (media playlist with Opus)",
    "head_branch": "ts-opus-av1",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 11.36%"
    ],
    "commit_messages": [
      "fix: Add Opus and AV1 detection in TS (#6385)\n\nThis detection is necessary to be able to correctly detect whether a\r\nmedia playlist of HLS that has TS segments is compatible or not.\r\n\r\nExample:\r\nhttps://raw.githubusercontent.com/obecny/hls-opus-testing/main/stream.m3u8\r\n(media playlist with Opus)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d03d6ca63ac8d88ef92",
    "number": 6384,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6353",
    "head_branch": "changetype-edge-windows",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Disable smooth codec switching in Edge Windows (#6384)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6353"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d04d6ca63ac8d88ef93",
    "number": 6383,
    "body": null,
    "head_branch": "preload-only-variant",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(HLS): Create segmentIndex when there is only one variant (#6383)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d05d6ca63ac8d88ef94",
    "number": 6382,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/6334\r\nRelated to https://github.com/shaka-project/shaka-player/issues/6320#issuecomment-1979835203\r\nAlso reverts https://github.com/shaka-project/shaka-player/pull/6045 since now it is not necessary",
    "head_branch": "reject-ts-content",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Reject TS content on all platforms and transmux always (#6382)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/6334\r\nRelated to\r\nhttps://github.com/shaka-project/shaka-player/issues/6320#issuecomment-1979835203\r\nAlso reverts https://github.com/shaka-project/shaka-player/pull/6045\r\nsince now it is not necessary"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d05d6ca63ac8d88ef95",
    "number": 6378,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6377\r\n\r\nWhen choosing to synchronize HLS streams using `EXT-X-MEDIA-SEQUENCE` instead of `EXT-X-PROGRAM-DATE-TIME` during LIVE playlist variant switches, Shaka unnecessarily drops 'old' segments and offsets the segment references of the new playlist so that the earliest reference represents media time `0`: https://github.com/shaka-project/shaka-player/blob/ea740ba2468f3b035d463ea9933aa7eeccf5c748/lib/hls/hls_parser.js#L610-L613\r\n\r\nThis is problematic, as the `StreamingEngine`'s media time used to download new segments is based off the latest segment references:\r\nhttps://github.com/shaka-project/shaka-player/blob/ea740ba2468f3b035d463ea9933aa7eeccf5c748/lib/media/streaming_engine.js#L1248-L1250\r\nhttps://github.com/shaka-project/shaka-player/blob/ea740ba2468f3b035d463ea9933aa7eeccf5c748/lib/media/streaming_engine.js#L1385\r\n\r\nFor example:\r\n\r\n```\r\n            Playlist download #1         \r\nEXT-X-MEDIA-SEQUENCE       Media Time\r\n           0                   0\r\n           1                   6\r\n           2                   12\r\n           3                   18\r\n\r\n           Playlist download #2 (what happens now)\r\nEXT-X-MEDIA-SEQUENCE       Media Time\r\n          6                   0\r\n          7                   6\r\n          8                   12\r\n          9                   18\r\n\r\n           Playlist download #2 (desired behavior)\r\nEXT-X-MEDIA-SEQUENCE       Media Time\r\n          6                   36\r\n          7                   42\r\n          8                   48\r\n          9                   54\r\n\r\n```\r\n\r\nWithout this fix, and given the above example, if Shaka tries to request the segment at `time=36`, it will fail because the media state only has segment references up to `time=18`. Until the manifests, 'catch up', the player freezes; this can be especially problematic when a large amount of time accumulates before a variant switch occurs.\r\n\r\nThis has been confirmed by Pluto TV to fix their freezing issues.\r\n",
    "head_branch": "6377-live-hls-streams-freeze-on-variant-switches-when-ignoremanifestprogramdatetime-is-true",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "Looks simple enough.  But please add tests, and please add more detail in the PR description to help others understand the problem and how this solves it.  Thanks!",
      "@JulianDomingo can you fix the build errors? Thanks!",
      "> Please, add a test to avoid regressions in the future! Thanks!\r\n\r\n> Looks simple enough. But please add tests, and please add more detail in the PR description to help others understand the problem and how this solves it. Thanks!\r\n\r\n> @JulianDomingo can you fix the build errors? Thanks!\r\n\r\nDone, I've updated the PR description and added unit tests. Fixed lint errors as well.",
      "@JulianDomingo Please, fix the tests",
      "> @JulianDomingo Please, fix the tests\r\n\r\nDone; I mistakenly placed the initial assertion after the live playlist update occurs, which was not the intention."
    ],
    "commit_messages": [
      "fix(HLS): Only offset segment ref times when needed w/ EXT-X-MEDIA-SEQUENCE (#6378)\n\nFixes #6377\r\n\r\nWhen choosing to synchronize HLS streams using `EXT-X-MEDIA-SEQUENCE` instead of `EXT-X-PROGRAM-DATE-TIME` during LIVE playlist variant switches, Shaka unnecessarily drops 'old' segments and offsets the segment references of the new playlist so that the earliest reference represents media time `0`: https://github.com/shaka-project/shaka-player/blob/ea740ba2468f3b035d463ea9933aa7eeccf5c748/lib/hls/hls_parser.js#L610-L613\r\n\r\nThis is problematic, as the `StreamingEngine`'s media time used to download new segments is based off the latest segment references:\r\nhttps://github.com/shaka-project/shaka-player/blob/ea740ba2468f3b035d463ea9933aa7eeccf5c748/lib/media/streaming_engine.js#L1248-L1250\r\nhttps://github.com/shaka-project/shaka-player/blob/ea740ba2468f3b035d463ea9933aa7eeccf5c748/lib/media/streaming_engine.js#L1385\r\n\r\nFor example:\r\n\r\n```\r\n            Playlist download #1         \r\nEXT-X-MEDIA-SEQUENCE       Media Time\r\n           0                   0\r\n           1                   6\r\n           2                   12\r\n           3                   18\r\n\r\n           Playlist download #2 (what happens now)\r\nEXT-X-MEDIA-SEQUENCE       Media Time\r\n          6                   0\r\n          7                   6\r\n          8                   12\r\n          9                   18\r\n\r\n           Playlist download #2 (desired behavior)\r\nEXT-X-MEDIA-SEQUENCE       Media Time\r\n          6                   36\r\n          7                   42\r\n          8                   48\r\n          9                   54\r\n\r\n```\r\n\r\nWithout this fix, and given the above example, if Shaka tries to request the segment at `time=36`, it will fail because the media state only has segment references up to `time=18`. Until the manifests, 'catch up', the player freezes; this can be especially problematic when a large amount of time accumulates before a variant switch occurs.\r\n\r\nThis has been confirmed by Pluto TV to fix their freezing issues."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d07d6ca63ac8d88ef96",
    "number": 6372,
    "body": "This new configuration value allows the HLS parser to selectively ignore EXT-X-PROGRAM-DATE-TIME tags on some streams while honoring him for other streams.",
    "head_branch": "selectiveIgnorePDTBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 76.67%"
    ],
    "commit_messages": [
      "feat(HLS): Add ignoreManifestProgramDateTimeForTypes (#6372)\n\nThis new configuration value allows the HLS parser to selectively ignore EXT-X-PROGRAM-DATE-TIME tags on some streams while honoring him for other streams."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d08d6ca63ac8d88ef97",
    "number": 6371,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5939",
    "head_branch": "getPlayheadTimeAsDate-hls",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 93.18%"
    ],
    "commit_messages": [
      "fix(HLS): getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME (#6371)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5939"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d09d6ca63ac8d88ef98",
    "number": 6370,
    "body": "This is useful when creating custom manifests, which are actually a single segment. For example, a custom AAC manifest or any other audio format.",
    "head_branch": "segment-data",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 95.00%"
    ],
    "commit_messages": [
      "feat: Add segmentData info to SegmentReference (#6370)\n\nThis is useful when creating custom manifests, which are actually a\r\nsingle segment. For example, a custom AAC manifest or any other audio\r\nformat."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d0ad6ca63ac8d88ef99",
    "number": 6367,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5776#issuecomment-1934955286",
    "head_branch": "cache-canDisplayType",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 83.33%"
    ],
    "commit_messages": [
      "perf(Cast): memoize/cache canDisplayType results to reduce startup latency (#6367)\n\nRelated to\r\nhttps://github.com/shaka-project/shaka-player/issues/5776#issuecomment-1934955286"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d0bd6ca63ac8d88ef9a",
    "number": 6366,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/6231",
    "head_branch": "live-3-chunks-doc",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Add FAQ documentation for minimum recommended chunks (#6366)\n\nCloses https://github.com/shaka-project/shaka-player/issues/6231"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d0cd6ca63ac8d88ef9b",
    "number": 6365,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/6234",
    "head_branch": "media-tailor-export",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 52.38%"
    ],
    "commit_messages": [
      "feat(Ads): Add ability to set tracking URL for Media Tailor (#6365)\n\nCloses https://github.com/shaka-project/shaka-player/issues/6234"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d0dd6ca63ac8d88ef9c",
    "number": 6364,
    "body": null,
    "head_branch": "perf-video-transmuxer",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 50.00%"
    ],
    "commit_messages": [
      "perf(transmuxer): Improve performance on video transmuxing (#6364)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d0ed6ca63ac8d88ef9d",
    "number": 6363,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/6320#issuecomment-1979835203",
    "head_branch": "ts-rollover",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "@avelad can this fix be added to 4.3.x too? We were forced to update our Chromecast to use 4.6.16 but because of https://github.com/shaka-project/shaka-player/issues/6070 we may have to go back to 4.3.x but if we do, this TS rollover thing will be an issue for us again.",
      "In 4.3.x mux.js is used and Shaka's transmuxer is not used, so the change cannot be migrated."
    ],
    "commit_messages": [
      "fix: Fix PES rollover in TS (#6363)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/6320#issuecomment-1979835203"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d0ed6ca63ac8d88ef9e",
    "number": 6362,
    "body": "Closes #6358 \r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfeat: add `mediaSource.addExtraFeaturesToSourceBuffer` (#6362)\r\n\r\nCloses #6358\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "wt-extra-features-upstream",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "Sorry for being late to this one, but this removes a config without providing backward compatibility.  That makes it a breaking change that has to be in v5.0 instead of v4.8.  Should I relabel it as a breaking change, or would you like to add backward compatibility when someone uses the old config?",
      "I thought it'd go straight to 5.0. I just started my Easter time off so I won't be able to add backwards compatibility now. Let's mark it as a breaking change.",
      "Will do.",
      "@joeyparrish the next version is 5.0, so I don’t think that backwards compatibility is necessary.",
      "We're not forced to do 5.0 yet.  We can still create a v4.8.x branch if we want to.  I don't have super-strong feelings about 5.0 vs 4.8, but I think we should consider 5.0 carefully, especially if we want to move to TypeScript this year.  Would 5.0 be breaking features and then 6.0 be TypeScript?  What's the least complicated for maintenance?  This is how I'm thinking about it."
    ],
    "commit_messages": [
      "feat: add `mediaSource.addExtraFeaturesToSourceBuffer` (#6362)\n\nCloses #6358"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d0fd6ca63ac8d88ef9f",
    "number": 6361,
    "body": null,
    "head_branch": "managed-media-source",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 30.43%"
    ],
    "commit_messages": [
      "fix: Add ManagedMediaSource support in MediaSource polyfill (#6361)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d10d6ca63ac8d88efa0",
    "number": 6360,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6322\r\nFixes https://github.com/shaka-project/shaka-player/issues/6357",
    "head_branch": "aac-raw-ts-extension",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 77.78%",
      "@joeyparrish I implemented another solution, I hope this new solution is more to your liking",
      "> Looks good to me. I am concerned that the new test case failed in all three test runs on Tizen, though. Can you take a look?\r\n\r\nNow all test are green!"
    ],
    "commit_messages": [
      "fix(transmuxer): Support raw AAC with TS extension (#6360)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6322\r\nFixes https://github.com/shaka-project/shaka-player/issues/6357"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d11d6ca63ac8d88efa1",
    "number": 6359,
    "body": "CastProxy's getInitState_() pauses the local video as part of a transfer of state to the receiver.  Calling getInitState_() (via  CastSender's onInitStateRequired_()) should be deferred until we establish a connection.  This keeps the local video from pausing during a connection attempt.\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/6293",
    "head_branch": "cast-pause",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 80.00%",
      "The way this fixed the issue was not at all obvious to me from the diff.  This needed an explanation in the PR description to be understood.  I'll add one, then approve & merge."
    ],
    "commit_messages": [
      "fix(Cast): Don't pause local video until the cast connection is established (#6359)\n\nCastProxy's getInitState_() pauses the local video as part of a transfer\r\nof state to the receiver. Calling getInitState_() (via CastSender's\r\nonInitStateRequired_()) should be deferred until we establish a\r\nconnection. This keeps the local video from pausing during a connection\r\nattempt.\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/6293"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d12d6ca63ac8d88efa2",
    "number": 6349,
    "body": "Issue #6010",
    "head_branch": "newAssetBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(demo): Add new demo asset for multi-mimeType/codec feature (#6349)\n\nIssue #6010"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d13d6ca63ac8d88efa3",
    "number": 6348,
    "body": "A previous PR, #5950, added support for variants that contain multiple different codecs.\r\nIt was supposed to also add support for variants with multiple mimeTypes, but that part didn't work correctly. This reworks a lot of #5950 and #6047, to change how they handle such complicated variants.\r\n\r\nThis has the side-effect of allowing the stream utils to differentiate between content that has multiple codecs because of type changes, and content that has multiple codecs because of being muxed video+audio.\r\n\r\nFixes #6010",
    "head_branch": "fixMultiMimeTypeBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 97.20%",
      "@theodab, you have a few dozen test failures on every platform.  Can you please fix the tests?",
      "Tests are failing consistently with disconnection errors.  If I saw that on one browser, I would chalk it up to a random infrastructure issue.  But it's pretty consistent across platforms.  Is it possible that this PR either crashes a browser or ties up the main thread in JS for long enough that the browser is seen as having \"disconnected\"?",
      "> Tests are failing consistently with disconnection errors. If I saw that on one browser, I would chalk it up to a random infrastructure issue. But it's pretty consistent across platforms. Is it possible that this PR either crashes a browser or ties up the main thread in JS for long enough that the browser is seen as having \"disconnected\"?\r\n\r\nDoing a full test run on my local machine I get:\r\n\r\n> Chrome 123.0.0.0 (Mac OS 10.15.7) ERROR\r\n>   Disconnected reconnect failed before timeout of 10000ms (ping timeout)\r\n> Chrome 123.0.0.0 (Mac OS 10.15.7) ERROR\r\n>   Disconnected , because no message in 300000 ms.\r\n\r\nSo that seems quite possible, yeah.\r\nI wish it'd tell me which test it was timing out during... I guess I'll have to run it again in verbose mode.",
      "Okay, it appears that the streaming engine live integration tests crash the browser, so that's the culprit.",
      "@theodab has to move to a higher priority issue right now, so I will help debug these tests as soon as I'm available.",
      "That should fix the issue that @avelad reported. Now I just need to fix the final test failures."
    ],
    "commit_messages": [
      "fix(DASH): Fix support for multi-mimeType variants (#6348)\n\nA previous PR, #5950, added support for variants that contain multiple\r\ndifferent codecs.\r\nIt was supposed to also add support for variants with multiple\r\nmimeTypes, but that part didn't work correctly. This reworks a lot of\r\n#5950 and #6047, to change how they handle such complicated variants.\r\n\r\nThis has the side-effect of allowing the stream utils to differentiate\r\nbetween content that has multiple codecs because of type changes, and\r\ncontent that has multiple codecs because of being muxed video+audio.\r\n\r\nFixes #6010\r\n\r\n---------\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d14d6ca63ac8d88efa4",
    "number": 6345,
    "body": "Bumps [follow-redirects](https://github.com/follow-redirects/follow-redirects) from 1.15.4 to 1.15.6.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/35a517c5861d79dc8bff7db8626013d20b711b06\"><code>35a517c</code></a> Release version 1.15.6 of the npm package.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/c4f847f85176991f95ab9c88af63b1294de8649b\"><code>c4f847f</code></a> Drop Proxy-Authorization across hosts.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/8526b4a1b2ab3a2e4044299377df623a661caa76\"><code>8526b4a</code></a> Use GitHub for disclosure.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/b1677ce00110ee50dc5da576751d39b281fc4944\"><code>b1677ce</code></a> Release version 1.15.5 of the npm package.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/d8914f7982403ea096b39bd594a00ee9d3b7e224\"><code>d8914f7</code></a> Preserve fragment in responseUrl.</li>\n<li>See full diff in <a href=\"https://github.com/follow-redirects/follow-redirects/compare/v1.15.4...v1.15.6\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=follow-redirects&package-manager=npm_and_yarn&previous-version=1.15.4&new-version=1.15.6)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/shaka-project/shaka-player/network/alerts).\n\n</details>",
    "head_branch": "dependabot/npm_and_yarn/follow-redirects-1.15.6",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(deps-dev): bump follow-redirects from 1.15.4 to 1.15.6 (#6345)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d15d6ca63ac8d88efa5",
    "number": 6344,
    "body": "https://i.imgur.com/gcvICl9.png",
    "head_branch": "update-stats-docs",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Update getStats() docs WRT NaN (#6344)\n\nhttps://i.imgur.com/gcvICl9.png"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d16d6ca63ac8d88efa6",
    "number": 6343,
    "body": "This is not needed since Chrome 61 and was not even registered in uncompiled mode.  (An audit of polyfills found this was the only one missing from uncompiled mode.)",
    "head_branch": "remove-storage-polyfill",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Remove storage estimate polyfill (#6343)\n\nThis is not needed since Chrome 61 and was not even registered in\r\nuncompiled mode. (An audit of polyfills found this was the only one\r\nmissing from uncompiled mode.)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d17d6ca63ac8d88efa7",
    "number": 6342,
    "body": "Closes #6331",
    "head_branch": "issue/6331-cmcd-test-pollution",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "Sorry I'm late to this one...  I'm having a hard time understanding the fix.  I'll poke at it locally.",
      "This seems to fix the specific filter I gave in the bug, but I don't think it really addresses the root of the problem.\r\n\r\nThe tests still fail if you run the CmcdManager tests in a random order.  For example:\r\n\r\n```sh\r\n./build/test.py --use-xvfb --browsers Chrome --filter 'CmcdManager' --random --seed=1710532370757\r\n```\r\n\r\nI think the fundamental problem is as I mentioned in #6331: The CmcdManager instance needs to be recreated in beforeEach(), rather than in a test body or beforeAll().  You want each test to start with a new instance, so you know the test is independent of other tests.",
      "The seed I mentioned in the last comment definitely fails, but you can leave off the `--seed=` argument to get a new random seed each time.  You can also combine `--filter CmcdManager --random` with something like `--runs 10` to check that you have no hidden dependencies.",
      "That would work for some of the tests, but others are intended to mimic a real playback scenario where multiple calls a made to the same instance. This ensures a request to the manifest don't pollute requests to the segments, etc. ",
      "Fixed"
    ],
    "commit_messages": [
      "test: update CMCD tests to allow them to be run individually  (#6342)\n\nCloses #6331"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d18d6ca63ac8d88efa8",
    "number": 6340,
    "body": "Fixes #6339  ",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/6340/checks?check_run_id=22509245249) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "Incremental code coverage: 100.00%",
      "@vlazh, thank you for the fix!  Could you try to add a test for this?  It would be nice to know right away if we ever reintroduced this bug in a future refactor.\r\n\r\nSince the fix is in lib/player.js, it might be best to test for it in test/player_integration.js or test/player_unit.js.  Let me know if you need any guidance on how to do that.",
      "@joeyparrish could you review again?",
      "I double-checked that the test fails with the fix commented out, so it is an effective test.  Thanks!"
    ],
    "commit_messages": [
      "fix: Fix playback stuck on initial gap (#6340)\n\nFixes #6339"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d19d6ca63ac8d88efa9",
    "number": 6332,
    "body": "This moves VTT sequence mode offset calculations into a method.\r\n\r\nIt also makes all X-TIMESTAMP-MAP usage dependent on HLS specifically, rather than sequence mode, simplifying the conditions.  Sequence mode is typically only used with HLS, and X-TIMESTAMP-MAP is explicitly only for HLS.  So excluding X-TIMESTAMP-MAP for DASH makes sense, instead of conflating HLS and sequence mode.\r\n\r\nThis required updating some tests to explicitly set both the manifest type and sequence mode flag.\r\n\r\nThis does *not* change the offset calculations themselves.  Changes will be made in follow-up PRs.\r\n\r\nIssue #6320",
    "head_branch": "vtt-offset",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 78.05%"
    ],
    "commit_messages": [
      "refactor: Move sequence mode VTT offset calculations (#6332)\n\nThis moves VTT sequence mode offset calculations into a method.\r\n\r\nIt also makes all X-TIMESTAMP-MAP usage dependent on HLS specifically,\r\nrather than sequence mode, simplifying the conditions. Sequence mode is\r\ntypically only used with HLS, and X-TIMESTAMP-MAP is explicitly only for\r\nHLS. So excluding X-TIMESTAMP-MAP for DASH makes sense, instead of\r\nconflating HLS and sequence mode.\r\n\r\nThis required updating some tests to explicitly set both the manifest\r\ntype and sequence mode flag.\r\n\r\nThis does *not* change the offset calculations themselves. Changes will\r\nbe made in follow-up PRs.\r\n\r\nIssue #6320"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d1ad6ca63ac8d88efaa",
    "number": 6330,
    "body": "This reverts 776b69dcb99e1f5dbd22181e40c22898f0b8e47a\r\n\r\nCloses #6317\r\nCloses #6299\r\nReopening issue #5939\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfix: Fix HLS segment index errors and x-program-date-time errors since v4.7.4\r\n\r\nCloses #6317\r\nCloses #6299\r\nReopening issue #5939\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "revert5939branch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "You need reopen the associated issue ",
      "I reopened #5939 with a comment."
    ],
    "commit_messages": [
      "revert: getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME (#6330)\n\nThis reverts 776b69dcb99e1f5dbd22181e40c22898f0b8e47a\r\n\r\nCloses #6317\r\nCloses #6299\r\nReopening issue #5939"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d1bd6ca63ac8d88efab",
    "number": 6329,
    "body": "Ensure whitespace rendered in CEA-608 test streams instead of `⠀` (braille pattern blank).\r\nUpdated UT too, but avoiding this char at ends of the string hence vulnerable to trim() 🤦 \r\n\r\nFixes #6328",
    "head_branch": "fix/6328/cea608-whitespace",
    "is_a_fork": true,
    "comments": [
      "Fix proposed for #6328 ",
      "Incremental code coverage: 100.00%",
      "Thanks for the fix!"
    ],
    "commit_messages": [
      "fix: Fix cea608 whitespace rendering (#6329)\n\nEnsure whitespace rendered in CEA-608 test streams instead of `⠀` (braille pattern blank).\r\nUpdated UT too, but avoiding this char at ends of the string hence vulnerable to trim() 🤦 \r\n\r\nFixes #6328"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d1cd6ca63ac8d88efac",
    "number": 6324,
    "body": "Each tab in the demo config had a max height of 1000px. That was not a problem previously, but the \"streaming\" config now has so many config values that it no longer fits into that limit. This PR removes that limit, by instead setting a max-height value of \"fit-content\".\r\nUnfortunately, doing that seems to break the open/close animation of the tabs, and makes it look kind of bad, so this also removes the animation entirely; it's better to have no animation than an ugly one.",
    "head_branch": "configLessBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(demo): Remove max height of demo config tabs (#6324)\n\nEach tab in the demo config had a max height of 1000px. That was not a problem previously, but the \"streaming\" config now has so many config values that it no longer fits into that limit. This PR removes that limit, by instead setting a max-height value of \"fit-content\".\r\nUnfortunately, doing that seems to break the open/close animation of the tabs, and makes it look kind of bad, so this also removes the animation entirely; it's better to have no animation than an ugly one."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d1dd6ca63ac8d88efad",
    "number": 6319,
    "body": "Upgrading release-please-action to v4 requires some changes:\r\n - Move some settings from the action inputs to a manifest file (release-type, extra-files)\r\n - Rename default-branch to target-branch\r\n\r\nAdditionally:\r\n - There is an example in the new release-please-action docs that covers our exact use case for upload-release-action, but with the official GitHub CLI app.  So we drop upload-release-action and use the GitHub CLI instead.\r\n - There is an output in release-please-action that gives access to the patch version from semver.  We should use this instead of running endsWith() over tag_name.\r\n - Update mxschmitt/action-tmate@v3.6 => v3.17.  This is a trivial update on an action that I missed in my last audit.",
    "head_branch": "update-actions",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "Changes tested as far as possible in my fork."
    ],
    "commit_messages": [
      "ci: Update release-please-action and drop upload-release-action (#6319)\n\nUpgrading release-please-action to v4 requires some changes:\r\n - Move some settings from the action inputs to a manifest file (release-type, extra-files)\r\n - Rename default-branch to target-branch\r\n\r\nAdditionally:\r\n - There is an example in the new release-please-action docs that covers our exact use case for upload-release-action, but with the official GitHub CLI app.  So we drop upload-release-action and use the GitHub CLI instead.\r\n - There is an output in release-please-action that gives access to the patch version from semver.  We should use this instead of running endsWith() over tag_name.\r\n - Update mxschmitt/action-tmate@v3.6 => v3.17.  This is a trivial update on an action that I missed in my last audit."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d1ed6ca63ac8d88efae",
    "number": 6313,
    "body": "This PR makes the following request information available for ABR consideration. Allowing the ABR manager to know about the request latency from the time to first byte and knowing the order order of a packet, as well as the contentType of the request.",
    "head_branch": "additional-abr-information",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(ABR): Additional request information for ABR Managers (#6313)\n\nThis PR makes the following request information available for ABR consideration. Allowing the ABR manager to know about the request latency from the time to first byte and knowing the order order of a packet, as well as the contentType of the request."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d1fd6ca63ac8d88efaf",
    "number": 6312,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/2532",
    "head_branch": "compiler-issue",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 25.00%"
    ],
    "commit_messages": [
      "fix: Fix compiler issue in Mp4BoxParsers (#6312)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/2532"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d20d6ca63ac8d88efb0",
    "number": 6309,
    "body": null,
    "head_branch": "wrong-sar",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 50.00%"
    ],
    "commit_messages": [
      "fix: Fix SAR when transmuxing (#6309)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d21d6ca63ac8d88efb1",
    "number": 6308,
    "body": null,
    "head_branch": "mp4-sample-aes-clearkey",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 97.60%",
      "@shaka-bot please test",
      "@avelad: Lab tests started with arguments:\n - `pr=6308`\n",
      "@shaka-bot please test",
      "@avelad: Lab tests started with arguments:\n - `pr=6308`\n",
      "Quoting the HLS spec:\r\n\r\n> An encryption method of SAMPLE-AES means that the Media Segments\r\n>       are Sample Encrypted using the Advanced Encryption Standard\r\n>       [[AES_128](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-AES_128)].  How these media streams are encrypted and encapsulated\r\n>       in a segment depends on the media encoding and the media format of\r\n>       the segment.  **fMP4 Media Segments are encrypted using the 'cbcs'\r\n>       scheme of Common Encryption [[COMMON_ENC](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-COMMON_ENC)].**  Encryption of other\r\n>       Media Segment formats containing H.264 [[H_264](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-H_264)], AAC [[ISO_14496](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-ISO_14496)],\r\n>       AC-3 [[AC_3](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-AC_3)], and Enhanced AC-3 [[AC_3](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-AC_3)] media streams is described\r\n>       in the HTTP Live Streaming (HLS) Sample Encryption specification\r\n>       [[SampleEnc](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-SampleEnc)].  The IV attribute MAY be present; see [Section 5.2](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#section-5.2).\r\n\r\nSo I think Tizen doesn't support CBCS, and isn't checking the `schm` box, and it assumes CTR mode.  Then it decrypts to garbage and fails to decode.\r\n\r\nI think we need to resolve https://github.com/shaka-project/shaka-player/issues/1419 and then skip the test if CBCS is unsupported.",
      "> Quoting the HLS spec:\r\n> \r\n> > An encryption method of SAMPLE-AES means that the Media Segments\r\n> > are Sample Encrypted using the Advanced Encryption Standard\r\n> > [[AES_128](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-AES_128)].  How these media streams are encrypted and encapsulated\r\n> > in a segment depends on the media encoding and the media format of\r\n> > the segment.  **fMP4 Media Segments are encrypted using the 'cbcs'\r\n> > scheme of Common Encryption [[COMMON_ENC](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-COMMON_ENC)].**  Encryption of other\r\n> > Media Segment formats containing H.264 [[H_264](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-H_264)], AAC [[ISO_14496](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-ISO_14496)],\r\n> > AC-3 [[AC_3](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-AC_3)], and Enhanced AC-3 [[AC_3](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-AC_3)] media streams is described\r\n> > in the HTTP Live Streaming (HLS) Sample Encryption specification\r\n> > [[SampleEnc](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#ref-SampleEnc)].  The IV attribute MAY be present; see [Section 5.2](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#section-5.2).\r\n> \r\n> So I think Tizen doesn't support CBCS, and isn't checking the `schm` box, and it assumes CTR mode. Then it decrypts to garbage and fails to decode.\r\n> \r\n> I think we need to resolve #1419 and then skip the test if CBCS is unsupported.\r\n\r\nI'm going to skip the test for now",
      "@shaka-bot please test",
      "@avelad: Lab tests started with arguments:\n - `pr=6308`\n",
      "> I'm going to skip the test for now\r\n\r\nThat's fair.  I'm bumping the priority of #1419 and assigning it to myself to follow-up with a proper check on this test.",
      "@shaka-bot please test"
    ],
    "commit_messages": [
      "feat(HLS): Add automatically keyId-key for identity format (#6308)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d22d6ca63ac8d88efb2",
    "number": 6307,
    "body": "I missed some before.  I only updated actions from GitHub \"actions/...\"\r\n\r\nThis updates all other actions except google-github-actions/release-please, which has some breaking changes we would need to absorb and test.",
    "head_branch": "update-actions",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Update more actions (#6307)\n\nI missed some before.  I only updated actions from GitHub \"actions/...\"\r\n\r\nThis updates all other actions except google-github-actions/release-please, which has some breaking changes we would need to absorb and test."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d23d6ca63ac8d88efb3",
    "number": 6306,
    "body": " - Link CI status to specific jobs, not just the run\r\n - Split selenium job status flag away from ignore_test_status (which is for getting screenshots)\r\n - Remove redundant status setting step in update-screenshots\r\n - Fix final status computation in update-screenshots to account for edge cases and old typo",
    "head_branch": "ci-status-improvements",
    "is_a_fork": true,
    "comments": [
      "Oops, found a bug via my test run on my fork... I'll make this a draft for now.",
      "Incremental code coverage: No instrumented code was changed.",
      "Fixed & verified on my fork.  Ready for review.  PTAL!"
    ],
    "commit_messages": [
      "ci: Improve CI status setting (#6306)\n\n- Link CI status to specific jobs, not just the run\r\n - Split selenium job status flag away from ignore_test_status (which is for getting screenshots)\r\n - Remove redundant status setting step in update-screenshots\r\n - Fix final status computation in update-screenshots to account for edge cases and old typo"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d24d6ca63ac8d88efb4",
    "number": 6305,
    "body": "This eliminates warnings about outdated node runtimes in GitHub Actions.\r\n\r\nactions/download-artifact and actions/upload-artifact are the only ones with any potential breaking changes, and adjustments have been made and tested.\r\n\r\nSee https://github.com/actions/upload-artifact/blob/main/docs/MIGRATION.md",
    "head_branch": "update-actions",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Update all actions (#6305)\n\nThis eliminates warnings about outdated node runtimes in GitHub Actions.\r\n\r\nactions/download-artifact and actions/upload-artifact are the only ones\r\nwith any potential breaking changes, and adjustments have been made and\r\ntested.\r\n\r\nSee\r\nhttps://github.com/actions/upload-artifact/blob/main/docs/MIGRATION.md"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d25d6ca63ac8d88efb5",
    "number": 6304,
    "body": "Use recurring timer to correct playhead when time is beyond seekRange.\r\nFixes https://github.com/shaka-project/shaka-player/issues/5202",
    "head_branch": "fix/SeekBeyondRange",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/6304/checks?check_run_id=22024284106) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "@CeilingFANC please sign the CLA! Thanks!",
      "Incremental code coverage: 100.00%",
      "@CeilingFANC, this is failing tests on all platforms.  You can run the tests yourself with `python3 build/test.py`.",
      "Closing due to inactivity. If the author would like to continue this PR, they can reopen it (preferred) or start a new one (if needed).",
      "@CeilingFANC I reopened it",
      "@CeilingFANC Please, rebase!",
      "This PR has been identified as the cause of seeking-related bugs in the Cast Application Framework, affecting v4.7.13, v4.8.0, and v4.8.1.  I will revert this PR and reopen the associated issue.  The reverted PR will appear in v4.7.14 and v4.8.2.",
      "Reverted by https://github.com/shaka-project/shaka-player/pull/6539"
    ],
    "commit_messages": [
      "fix: Correct playhead when seek beyond seekRange (#6304)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5202\r\n\r\n---------\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d26d6ca63ac8d88efb6",
    "number": 6302,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.15](https://github.com/shaka-project/shaka-player/compare/v4.3.14...v4.3.15) (2024-02-27)\n\n\n### Bug Fixes\n\n* **Cast:** Force TS content to be transmuxed on Chromecast ([#6262](https://github.com/shaka-project/shaka-player/issues/6262)) ([d007f6f](https://github.com/shaka-project/shaka-player/commit/d007f6fe76fc8fcf04745d848f4d4b9a72ccf59b)), closes [#5278](https://github.com/shaka-project/shaka-player/issues/5278)\n* **HLS:** Ban unsupported combinations of SAMPLE-AES encryption ([#6295](https://github.com/shaka-project/shaka-player/issues/6295)) ([3b60303](https://github.com/shaka-project/shaka-player/commit/3b60303449956f775696ca1e9096c9adb9af4a17))\n* **VTT:** fix setting textShadow when multiple CSS classes provided ([#6287](https://github.com/shaka-project/shaka-player/issues/6287)) ([f96895b](https://github.com/shaka-project/shaka-player/commit/f96895b123b5aa6fcd2e7d43974609b65cce04e0))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      "@shaka-bot please test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6302`\n",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.3.15 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.15 (#6302)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d27d6ca63ac8d88efb7",
    "number": 6301,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.15](https://github.com/shaka-project/shaka-player/compare/v4.6.14...v4.6.15) (2024-02-26)\n\n\n### Bug Fixes\n\n* **Cast:** Force TS content to be transmuxed on Chromecast ([#6262](https://github.com/shaka-project/shaka-player/issues/6262)) ([e26f6e5](https://github.com/shaka-project/shaka-player/commit/e26f6e5491ae4f6bccb96e14e3754435ec2f5cf1)), closes [#5278](https://github.com/shaka-project/shaka-player/issues/5278)\n* **HLS:** Ban unsupported combinations of SAMPLE-AES encryption ([#6295](https://github.com/shaka-project/shaka-player/issues/6295)) ([4843767](https://github.com/shaka-project/shaka-player/commit/48437670a188943e0bb70f58f3062a5ee120ffae))\n* **HLS:** Fix bad init segment request with byterange when using media playlist ([#6297](https://github.com/shaka-project/shaka-player/issues/6297)) ([274d31c](https://github.com/shaka-project/shaka-player/commit/274d31c5015710d8e4f164b486a6001cfda600d8))\n* **VTT:** fix setting textShadow when multiple CSS classes provided ([#6287](https://github.com/shaka-project/shaka-player/issues/6287)) ([e034a5b](https://github.com/shaka-project/shaka-player/commit/e034a5b8d9f4754ee7ed8cc18a6ce0ae4b79f697))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "@shaka-bot please test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6301`\n",
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.15 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.15 (#6301)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d28d6ca63ac8d88efb8",
    "number": 6300,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.11](https://github.com/shaka-project/shaka-player/compare/v4.7.10...v4.7.11) (2024-02-26)\n\n\n### Bug Fixes\n\n* **Cast:** Force TS content to be transmuxed on Chromecast ([#6262](https://github.com/shaka-project/shaka-player/issues/6262)) ([7db39a1](https://github.com/shaka-project/shaka-player/commit/7db39a10f0aa9d86530193f26658ac1139ea9372)), closes [#5278](https://github.com/shaka-project/shaka-player/issues/5278)\n* **HLS:** Ban unsupported combinations of SAMPLE-AES encryption ([#6295](https://github.com/shaka-project/shaka-player/issues/6295)) ([bc6dbf5](https://github.com/shaka-project/shaka-player/commit/bc6dbf558800264ede7f650c7b6838cd45e659a1))\n* **HLS:** Fix bad init segment request with byterange when using media playlist ([#6297](https://github.com/shaka-project/shaka-player/issues/6297)) ([6fb0587](https://github.com/shaka-project/shaka-player/commit/6fb0587519a353b20d12ae275c0131b150951ad7))\n* **VTT:** fix setting textShadow when multiple CSS classes provided ([#6287](https://github.com/shaka-project/shaka-player/issues/6287)) ([911d464](https://github.com/shaka-project/shaka-player/commit/911d464f3ca7a466b95c48f577ed62f726b52069))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "@shaka-bot please test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6300`\n",
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.11 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.11 (#6300)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d29d6ca63ac8d88efb9",
    "number": 6298,
    "body": null,
    "head_branch": "audio-sample-entry",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 26.67%"
    ],
    "commit_messages": [
      "fix: Fix ENCA box parsing (#6298)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d2ad6ca63ac8d88efba",
    "number": 6297,
    "body": null,
    "head_branch": "fix-hls-get-init-segment",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "@avelad, would a new test make sense?",
      "@joeyparrish I plan to make an improved testsuite for media playlist, but it will have to be when I return (in 4 weeks)."
    ],
    "commit_messages": [
      "fix(HLS): Fix bad init segment request with byterange when using media playlist (#6297)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d2bd6ca63ac8d88efbb",
    "number": 6296,
    "body": "This is a preliminary step to be able to support HLS identity without the user configuring clearkeys.",
    "head_branch": "helper-clearkeys-configuration",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore: Add createDrmInfoFromClearKeys and simplify DrmEngine (#6296)\n\nThis is a preliminary step to be able to support HLS identity without\r\nthe user configuring clearkeys."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d2bd6ca63ac8d88efbc",
    "number": 6295,
    "body": null,
    "head_branch": "clearkey-hls-legacy",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 61.54%"
    ],
    "commit_messages": [
      "fix(HLS): Ban unsupported combinations of SAMPLE-AES encryption (#6295)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d2cd6ca63ac8d88efbd",
    "number": 6292,
    "body": "Issue #6228",
    "head_branch": "offlineFailingSilentlyBranch",
    "is_a_fork": true,
    "comments": [
      "This fixes (?) and issue that I found while investigating #6228.\r\n\r\nAs I did not reproduce the exact issue that reporter had, and they did not reproduce the issue I had, it is possible this is a platform-specific problem, maybe based on macOS versions. It's hard to say.",
      "Incremental code coverage: 100.00%",
      "@shaka-bot please test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6292`\n",
      "I merged main into this branch to fix flaky tests and other issues, and now I'm rerunning the lab tests to validate that the timeout is sufficient.\r\n\r\n@shaka-bot please test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6292`\n",
      "I'll merge once I see tests pass in the lab."
    ],
    "commit_messages": [
      "fix: Fix waiting for empty init datas (#6292)\n\nIssue #6228"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d2dd6ca63ac8d88efbe",
    "number": 6291,
    "body": "Some transmuxer tests were flaking on Tizen because the \"ended\" attribute on the video element was behaving unreliably.  The reason this caused a failure is because we try to play 15s of content when the content is only 10s or 12s long, so only the \"ended\" attribute was allowing the test to complete.\r\n\r\nWe should not be relying on \"ended\" in this test, as it has nothing to do with the feature under test.  By extending the test contents to at least 20s, we should not have to rely on this any more.\r\n\r\nCloses #6273",
    "head_branch": "fix-transmuxer-test-content",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Extend Transmuxer test contents to fix flake (#6291)\n\nSome transmuxer tests were flaking on Tizen because the \"ended\"\r\nattribute on the video element was behaving unreliably. The reason this\r\ncaused a failure is because we try to play 15s of content when the\r\ncontent is only 10s or 12s long, so only the \"ended\" attribute was\r\nallowing the test to complete.\r\n\r\nWe should not be relying on \"ended\" in this test, as it has nothing to\r\ndo with the feature under test. By extending the test contents to at\r\nleast 20s, we should not have to rely on this any more.\r\n\r\nCloses #6273"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d2ed6ca63ac8d88efbf",
    "number": 6290,
    "body": null,
    "head_branch": "remove-deprecated-features",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%",
      "The next release will be 4.8 so at the moment this PR is not necessary."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d2fd6ca63ac8d88efc0",
    "number": 6289,
    "body": "Some deprecation messages were misleading, and claimed that entire classes like AbrManager were deprected, when in fact, it was a particular form of AbrManager (without a method) that is deprecated.\r\n\r\nThis adds method and other details to the deprecation calls where needed.\r\n\r\nWe also had a malformed messsage where join('') was called on the pieces instead of join(' ').  This fixes the formatting.",
    "head_branch": "fix-deprecation-messages",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 33.33%"
    ],
    "commit_messages": [
      "chore: Fix deprecation messages (#6289)\n\nSome deprecation messages were misleading, and claimed that entire\r\nclasses like AbrManager were deprected, when in fact, it was a\r\nparticular form of AbrManager (without a method) that is deprecated.\r\n\r\nThis adds method and other details to the deprecation calls where\r\nneeded.\r\n\r\nWe also had a malformed messsage where join('') was called on the pieces\r\ninstead of join(' '). This fixes the formatting."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d30d6ca63ac8d88efc1",
    "number": 6287,
    "body": null,
    "head_branch": "wt-text-shadow-fix",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "Can you add a test? Thanks!"
    ],
    "commit_messages": [
      "fix(VTT): fix setting textShadow when multiple CSS classes provided (#6287)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d31d6ca63ac8d88efc2",
    "number": 6286,
    "body": null,
    "head_branch": "debug-idb-hangs",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 58.00%",
      "This PR can be closed for now."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d32d6ca63ac8d88efc3",
    "number": 6285,
    "body": "When overwriting any part of the library or platform in a test, we must restore it afterward.\r\n\r\nThis fixes two test suites that overwrote SegmentPrefetch with a test fake, but never restored the original.\r\n\r\nThis fixes failures in unrelated preload tests running in uncompiled mode.\r\n\r\nCloses #6275",
    "head_branch": "fix-test-pollution",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Fix prefetch test fake pollution (#6285)\n\nWhen overwriting any part of the library or platform in a test, we must\r\nrestore it afterward.\r\n\r\nThis fixes two test suites that overwrote SegmentPrefetch with a test\r\nfake, but never restored the original.\r\n\r\nThis fixes failures in unrelated preload tests running in uncompiled\r\nmode.\r\n\r\nCloses #6275"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d33d6ca63ac8d88efc4",
    "number": 6284,
    "body": "A test suite that overwrites the HLS parser needs to restore it afterward.  To aid in debugging future parser issues, this adds the detected or specified MIME type to the error object for UNABLE_TO_GUESS_MANIFEST_TYPE.\r\n\r\nCloses #5834",
    "head_branch": "fix-mime-type-error",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "test: Fix missing HLS parser in tests (#6284)\n\nA test suite that overwrites the HLS parser needs to restore it afterward.  To aid in debugging future parser issues, this adds the detected or specified MIME type to the error object for UNABLE_TO_GUESS_MANIFEST_TYPE.\r\n\r\nCloses #5834"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d34d6ca63ac8d88efc5",
    "number": 6283,
    "body": null,
    "head_branch": "fix-preload-failure",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 56.67%"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d35d6ca63ac8d88efc6",
    "number": 6282,
    "body": "Whatever was wrong seems to be fixed in `main`, so we can restore these tests.\r\n\r\nCloses #5834",
    "head_branch": "fix-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Restore disabled tests on Edge (#6282)\n\nWhatever was wrong seems to be fixed in `main`, so we can restore these\r\ntests.\r\n\r\nCloses #5834"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d36d6ca63ac8d88efc7",
    "number": 6281,
    "body": " - Fix bogus assertion failure in tests on Safari (#6272)\r\n   - This test should not be seeking so close to the duration (10ms) as to cause flakiness on certain browsers.  Adjusting the seek time fixes the assertion without compromising the purpose of the test.\r\n - Fix uncaught rejections in load graph tests (#6274)\r\n   - These tests had calls that were interrupted by the teardown process that occurs after the test body.  Waiting for the operations before ending the test fixes the issue.\r\n - Fix interrupted load in test on Tizen (#6274)\r\n   - This test triggers a deliberate DRM error without waiting for load().  On most platforms in the lab, the load() operation completed before the error.  Not so on Tizen.  This exposed a general problem in which we should be catching errors in this test.  Only timing saved us on most platforms.\r\n\r\nCloses #6272\r\nCloses #6274",
    "head_branch": "fix-tests",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Fix several test failures (#6281)\n\n- Fix bogus assertion failure in tests on Safari (#6272)\r\n- This test should not be seeking so close to the duration (10ms) as to\r\ncause flakiness on certain browsers. Adjusting the seek time fixes the\r\nassertion without compromising the purpose of the test.\r\n - Fix uncaught rejections in load graph tests (#6274)\r\n- These tests had calls that were interrupted by the teardown process\r\nthat occurs after the test body. Waiting for the operations before\r\nending the test fixes the issue.\r\n - Fix interrupted load in test on Tizen (#6274)\r\n- This test triggers a deliberate DRM error without waiting for load().\r\nOn most platforms in the lab, the load() operation completed before the\r\nerror. Not so on Tizen. This exposed a general problem in which we\r\nshould be catching errors in this test. Only timing saved us on most\r\nplatforms.\r\n\r\nCloses #6272\r\nCloses #6274"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d37d6ca63ac8d88efc8",
    "number": 6271,
    "body": "Interrupting load() was causing two concurrent sets of load() operations to happen at once, which led the asset URI for the second operation to be overwritten by the first.\r\n\r\nThis was exposed by a test failure on Safari.  There is nothing special about Safari, but the timing happened to work out such that the concurrent load() calls would intefere with each other.\r\n\r\nThis fixes the issue by acquiring the mutex in load() for the preloadManager.start() operation.\r\n\r\nThis issue did not affect any releases.\r\n\r\nCloses #6225",
    "head_branch": "fix-load-interruption",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(preload): Fix load interruption (#6271)\n\nInterrupting load() was causing two concurrent sets of load() operations\r\nto happen at once, which led the asset URI for the second operation to\r\nbe overwritten by the first.\r\n\r\nThis was exposed by a test failure on Safari. There is nothing special\r\nabout Safari, but the timing happened to work out such that the\r\nconcurrent load() calls would intefere with each other.\r\n\r\nThis fixes the issue by acquiring the mutex in load() for the\r\npreloadManager.start() operation.\r\n\r\nThis issue did not affect any releases.\r\n\r\nCloses #6225"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d38d6ca63ac8d88efc9",
    "number": 6270,
    "body": "Bumps [xml2js](https://github.com/Leonidas-from-XIV/node-xml2js) and [parse-bmfont-xml](https://github.com/mattdesl/parse-bmfont-xml). These dependencies needed to be updated together.\nUpdates `xml2js` from 0.4.23 to 0.5.0\n<details>\n<summary>Commits</summary>\n<ul>\n<li>See full diff in <a href=\"https://github.com/Leonidas-from-XIV/node-xml2js/commits/0.5.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\nUpdates `parse-bmfont-xml` from 1.1.4 to 1.1.6\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/mattdesl/parse-bmfont-xml/commit/7d2ec18fd3a65bee1d62d0d44356a603698c110b\"><code>7d2ec18</code></a> 1.1.6</li>\n<li><a href=\"https://github.com/mattdesl/parse-bmfont-xml/commit/3aef157b043f95a92a0b1fe394d55d2d39433fc6\"><code>3aef157</code></a> use a clone of the object to avoid getting the same as xml2js</li>\n<li><a href=\"https://github.com/mattdesl/parse-bmfont-xml/commit/b70995bbbdb708b620eb55f0cf61fc0f2e51ca92\"><code>b70995b</code></a> 1.1.5</li>\n<li><a href=\"https://github.com/mattdesl/parse-bmfont-xml/commit/1e5fda8ddeb04e243b44453983cb7a0b587ec8e5\"><code>1e5fda8</code></a> Merge pull request <a href=\"https://redirect.github.com/mattdesl/parse-bmfont-xml/issues/4\">#4</a> from Siyer2/master</li>\n<li><a href=\"https://github.com/mattdesl/parse-bmfont-xml/commit/7866377c745d4781835a13d16a6f1f594c4d77d5\"><code>7866377</code></a> Update xml2js package</li>\n<li>See full diff in <a href=\"https://github.com/mattdesl/parse-bmfont-xml/compare/v1.1.4...v1.1.6\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/shaka-project/shaka-player/network/alerts).\n\n</details>",
    "head_branch": "dependabot/npm_and_yarn/xml2js-and-parse-bmfont-xml-0.5.0",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(deps): bump xml2js and parse-bmfont-xml (#6270)\n\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d39d6ca63ac8d88efca",
    "number": 6269,
    "body": " - Fix wrong index variable in loop (\"i\" vs \"INDEX\") that prevented detection of commands at arbitrary places in a comment.\r\n - Fix parsing of comments with newlines.\r\n - Normalize commands to lowercase before checking them.\r\n - Enhance debugging of command parsing.\r\n - Allow the user to say \"please\" because it just feels nicer to me, even when I'm talking to a robot.",
    "head_branch": "tweak-command-parsing",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Tweak command parsing (#6269)\n\n- Fix wrong index variable in loop (\"i\" vs \"INDEX\") that prevented\r\ndetection of commands at arbitrary places in a comment.\r\n - Fix parsing of comments with newlines.\r\n - Normalize commands to lowercase before checking them.\r\n - Enhance debugging of command parsing.\r\n- Allow the user to say \"please\" because it just feels nicer to me, even\r\nwhen I'm talking to a robot."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d3ad6ca63ac8d88efcb",
    "number": 6268,
    "body": "The issue we had in less.js v4 has since been resolved.  This updates to less.js v4.2.0, which includes the underlying fix from its dependency, needle v3.1.0.\r\n\r\nUnforking also resolves CI issues where gitpkg.now.sh temporarily fails to load, causing the whole test run to fail before it can start.",
    "head_branch": "unfork-lessjs",
    "is_a_fork": true,
    "comments": [
      "Verified that less.js doesn't break on Mac (the issue that caused us to fork originally.)",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Unfork less.js (#6268)\n\nThe issue we had in less.js v4 has since been resolved. This updates to\r\nless.js v4.2.0, which includes the underlying fix from its dependency,\r\nneedle v3.1.0.\r\n\r\nUnforking also resolves CI issues where gitpkg.now.sh temporarily fails\r\nto load, causing the whole test run to fail before it can start."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d3bd6ca63ac8d88efcc",
    "number": 6267,
    "body": "To provide feature parity with the `DOMParser.getAttribute` API which would unescape html entities for free this PR unescapes url strings which come from node attributes.\r\n\r\nIn a similar vain to https://github.com/shaka-project/shaka-player/pull/6198 which unescapes child strings.",
    "head_branch": "attribute-url-escapes",
    "is_a_fork": true,
    "comments": [
      "The other PR involved a smaller change, in which the parsing change was inside Txml instead of at every call site.  I think I would prefer this to go into Txml, too, unless there is some good reason to do otherwise.",
      "Incremental code coverage: 100.00%",
      "The reason not to do that in this case is to save calling the unescape function whilst parsing every attribute when it is only needed in a few places. The change in the other PR was possible because I had already made a change at every callsite from `element.textContent` to `TXml.getContents(element)` in the initial PR. I thought about making a similar method in the TXml library but that method would just call `StringUtils.htmlUnescape` anyway.",
      "As this custom XML parser is exposed to API users via the dash manifest preprocessor option, things that happened automatically before but don't now, should probably be documented somewhere. As that will make it easier for developers to migrate their projects to the new XML parser.",
      "@absidue that is a fair point and I have updated the upgrade documentation to reflect this.",
      "You've convinced me on your approach.  If we can agree on the docs, I'll be happy to merge it.  Thanks for your contribution!"
    ],
    "commit_messages": [
      "fix(tXml): html unescape node attributes with urls (#6267)\n\nTo provide feature parity with the `DOMParser.getAttribute` API which\r\nwould unescape html entities for free this PR unescapes url strings\r\nwhich come from node attributes.\r\n\r\nIn a similar vain to\r\nhttps://github.com/shaka-project/shaka-player/pull/6198 which unescapes\r\nchild strings."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d3cd6ca63ac8d88efcd",
    "number": 6266,
    "body": "My previous fix only affected one H265 test, not both.\r\n\r\nI also found some maximum versions in exclusions around AC3/EC3, and removed those, as the issue is still not fixed in Chrome and there is no way to predict when it will get fixed.  I would rather not increment that number after every new Chrome release.",
    "head_branch": "skip-h265-chrome-windows",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Exclude all H265 tests for Chrome+Windows (#6266)\n\nMy previous fix only affected one H265 test, not both.\r\n\r\nI also found some maximum versions in exclusions around AC3/EC3, and\r\nremoved those, as the issue is still not fixed in Chrome and there is no\r\nway to predict when it will get fixed. I would rather not increment that\r\nnumber after every new Chrome release."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d3dd6ca63ac8d88efce",
    "number": 6265,
    "body": "Closes #6224",
    "head_branch": "fix-prefetch-test",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Add missing method in fake SegmentPrefetch (#6265)\n\nCloses #6224"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d3ed6ca63ac8d88efcf",
    "number": 6264,
    "body": "Some screenshots got out of date while some of our infrastructure was failing in the lab.\r\n\r\nSome screenshots were also unstable due to competing use of the GPU by multiple Selenium nodes on the same machine.  This disables GPU on Chrome, Edge, and Firefox to make the screenshots more stable across time, across circumstances, and across machines.",
    "head_branch": "update-screenshots",
    "is_a_fork": true,
    "comments": [
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=6264`\n",
      "I'm seeing some unstable results for these on Safari.  I'm going to merge in other test fixes from `main`, then run a few more tests in the lab by hand to figure out what is causing the instability for these screenshots on Safari.",
      "If I run screenshot tests on Safari and Chrome on the same device at the same time, I get a failure on Safari where a couple of screenshots are a slightly different shade of green background than the golden image.\r\n\r\nIf I run Safari alone, it matches the golden as of this PR.\r\nIf I run Safari in parallel with Chrome, the green is a little lighter.\r\n\r\nI can only assume this has to do with the GPU.  If both browsers are running at once, I would assume both are trying to use the GPU at once, and maybe one of them (Safari?) ends up with some amount of hardware-accelerated rendering disabled.  I was surprised that this would impact the fidelity of a shade of green, but then I looked through the source again and rediscovered that for native text display, we must have a video loaded.  We use `test/test/assets/green-pixel.mp4` for this, which is perhaps being decoded to a slightly different color with a software decoder vs hardware decoder.\r\n\r\nI'm going to see if I can disable hardware acceleration for Chrome.  If it really is a battle for a hardware decoder, I could resolve the problem for Safari by reconfiguring Chrome.  Safari itself has no options for this.",
      "Incremental code coverage: No instrumented code was changed.",
      "Disabling GPU on Chrome fixes the unstable results from Safari.",
      "The screenshots in this PR are from the lab.  I will let the tests run on GitHub VMs now to see if those match the results from the lab.",
      "Safari in the lab and Safari on GitHub CI seem to disagree about how bold `font-weight: 700` should be.  The one from the lab, frankly, looked like trash compared to the one from GitHub.\r\n\r\nAdding `-webkit-font-smoothing: antialiased;` to the controls CSS seems to resolve this in favor of GitHub's version.  I'll update the screenshots from the lab and compare with GitHub CI one more time."
    ],
    "commit_messages": [
      "test: Update screenshots and disable GPU to increase screenshot stability (#6264)\n\nSome screenshots got out of date while some of our infrastructure was\r\nfailing in the lab.\r\n\r\nSome screenshots were also unstable due to competing use of the GPU by\r\nmultiple Selenium nodes on the same machine. This disables GPU on\r\nChrome, Edge, and Firefox to make the screenshots more stable across\r\ntime, across circumstances, and across machines.\r\n\r\nFinally, this adds font smoothing to normalize rendering on Safari\r\nacross devices."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d3fd6ca63ac8d88efd0",
    "number": 6263,
    "body": "Features for LCEVC Decoder integration into Shaka player:\r\n\r\nInitially in this PR we had changes to shaka player to accommodate changes for iOS fullscreen functionality. But now we have a way to do that inside the scope of lcevc decoder. So the only change in this PR is the version bump of the lcevc decoder library.",
    "head_branch": "lcevc-update",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat: Update for LCEVC Integration with new features added. (#6263)\n\nFeatures for LCEVC Decoder integration into Shaka player:\r\n\r\nInitially in this PR we had changes to shaka player to accommodate\r\nchanges for iOS fullscreen functionality. But now we have a way to do\r\nthat inside the scope of lcevc decoder. So the only change in this PR is\r\nthe version bump of the lcevc decoder library."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d40d6ca63ac8d88efd1",
    "number": 6262,
    "body": "Although Chromecast natively supports TS content, it does not work in all cases.  In particular, we have some sample live streams where some TS segments can be parsed by external tools as valid TS, but cause the Chromecast to throw a parsing error.\r\n\r\nWe should reject TS content on Chromecast, and allow the builtin transmuxer to take over parsing.\r\n\r\nThis also removes the use of `cast.__platform__.canDisplayType` to patch MediaSource.isTypeSupported on Chromecast.  Current versions of Shaka Player are doing very rough filtering with isTypeSupported before calling MediaCapabilities.decodingInfo.  And our MediaCapabilities polyfill calls `cast.__platform__.canDisplayType` directly, bypassing any polyfill we might install on isTypeSupported.  So there is no longer any purpose to canDisplayType in isTypeSupported.\r\n\r\nCloses #5278",
    "head_branch": "force-transmuxing-ts-on-chromecast",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 80.00%",
      "@joeyparrish Since TS causes so many problems, I wonder if we shouldn't reject it on all platforms and always use the transmuxer...",
      "We are practically there already.  I'm okay with it.  Or maybe it should be a config that's on by default, to give partners a choice about risking the native TS on a platform to save some CPU cycles.",
      "I would add a configuration to be able to use native TS or not, and if you do not have a transmuxer, always use the native one. And the default should always be to use the transmuxer for TS. With this code you always block TS even if it works in some cases (for example in VOD). My opinion is that it should be configurable...",
      "I agree.  That sounds good to me.  Let's make it an option that is not platform-specific, which defaults to always transmuxing TS when we can."
    ],
    "commit_messages": [
      "fix(Cast): Force TS content to be transmuxed on Chromecast (#6262)\n\nAlthough Chromecast natively supports TS content, it does not work in\r\nall cases. In particular, we have some sample live streams where some TS\r\nsegments can be parsed by external tools as valid TS, but cause the\r\nChromecast to throw a parsing error.\r\n\r\nWe should reject TS content on Chromecast, and allow the builtin\r\ntransmuxer to take over parsing.\r\n\r\nThis also removes the use of `cast.__platform__.canDisplayType` to patch\r\nMediaSource.isTypeSupported on Chromecast. Current versions of Shaka\r\nPlayer are doing very rough filtering with isTypeSupported before\r\ncalling MediaCapabilities.decodingInfo. And our MediaCapabilities\r\npolyfill calls `cast.__platform__.canDisplayType` directly, bypassing\r\nany polyfill we might install on isTypeSupported. So there is no longer\r\nany purpose to canDisplayType in isTypeSupported.\r\n\r\nCloses #5278"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d41d6ca63ac8d88efd2",
    "number": 6261,
    "body": null,
    "head_branch": "skip-h265-tests-chrome-windows",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Skip H265 Transmuxer tests in Chrome on Windows (#6261)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d42d6ca63ac8d88efd3",
    "number": 6260,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.14](https://github.com/shaka-project/shaka-player/compare/v4.6.13...v4.6.14) (2024-02-21)\n\n\n### Bug Fixes\n\n* **DASH:** Fix precision issue on some platforms ([#6258](https://github.com/shaka-project/shaka-player/issues/6258)) ([56e8faa](https://github.com/shaka-project/shaka-player/commit/56e8faa7366ef779d58636360400976ad504bc3f))\n* **DASH:** Use labels to stitch streams across periods ([#6121](https://github.com/shaka-project/shaka-player/issues/6121)) ([dc5e796](https://github.com/shaka-project/shaka-player/commit/dc5e79697f0b057515f3fbf79f2b3420f1de2356))\n* do not remove sub-second amounts from source buffer ([4a4c9e9](https://github.com/shaka-project/shaka-player/commit/4a4c9e9d5e0f1926c5ee19cb70fd614367e2471b)), closes [#6240](https://github.com/shaka-project/shaka-player/issues/6240)\n* don't double wrap URIs for HLS key requests ([#6246](https://github.com/shaka-project/shaka-player/issues/6246)) ([0e37f4a](https://github.com/shaka-project/shaka-player/commit/0e37f4af353f74b7d98b756341f717bac5f6af2a))\n* Fix detection of flac support on Safari ([#6250](https://github.com/shaka-project/shaka-player/issues/6250)) ([070ff8e](https://github.com/shaka-project/shaka-player/commit/070ff8eb32c7b88571227da2eadbe0f32c6f18d2)), closes [#6249](https://github.com/shaka-project/shaka-player/issues/6249)\n\n\n### Performance Improvements\n\n* Optimize init segment reference comparison for common case ([#6014](https://github.com/shaka-project/shaka-player/issues/6014)) ([db9d9ef](https://github.com/shaka-project/shaka-player/commit/db9d9ef5d19d5dc59c607fcf9269f6770ecffe45))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      "@shaka-bot test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6260`\n",
      "@shaka-bot test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6260`\n",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.14 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.14 (#6260)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d43d6ca63ac8d88efd4",
    "number": 6259,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.10](https://github.com/shaka-project/shaka-player/compare/v4.7.9...v4.7.10) (2024-02-21)\n\n\n### Bug Fixes\n\n* **DASH:** Fix precision issue on some platforms ([#6258](https://github.com/shaka-project/shaka-player/issues/6258)) ([a2a56cf](https://github.com/shaka-project/shaka-player/commit/a2a56cf16da6636f6ef6fa8a6baf2d0916aa7ee6))\n* **DASH:** Use labels to stitch streams across periods ([#6121](https://github.com/shaka-project/shaka-player/issues/6121)) ([75c8dce](https://github.com/shaka-project/shaka-player/commit/75c8dce0f7d8e1fb8cf64ed947355c20185aae20))\n* do not remove sub-second amounts from source buffer ([08c92c5](https://github.com/shaka-project/shaka-player/commit/08c92c53b9964c31d6e358a02eba679081a37521)), closes [#6240](https://github.com/shaka-project/shaka-player/issues/6240)\n* don't double wrap URIs for HLS key requests ([#6246](https://github.com/shaka-project/shaka-player/issues/6246)) ([5c8bd2e](https://github.com/shaka-project/shaka-player/commit/5c8bd2e4141d5bea749e92fd45cf1ee84a96598c))\n* Fix detection of flac support on Safari ([#6250](https://github.com/shaka-project/shaka-player/issues/6250)) ([5b9c494](https://github.com/shaka-project/shaka-player/commit/5b9c4949e6f202da45c1b997de1ebe1697b9c329)), closes [#6249](https://github.com/shaka-project/shaka-player/issues/6249)\n\n\n### Performance Improvements\n\n* Optimize init segment reference comparison for common case ([#6014](https://github.com/shaka-project/shaka-player/issues/6014)) ([0ffb401](https://github.com/shaka-project/shaka-player/commit/0ffb401dae98f3a73d940227f28dc010092b54b5))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      "@shaka-bot test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6259`\n",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.10 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.10 (#6259)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d44d6ca63ac8d88efd5",
    "number": 6258,
    "body": "When recalculations of period end are made, it is possible that we will not be able to find last segment from period on low precision platforms. To mitigate it, try to use cached value of `periodEnd_` whenever possible.\r\nIssue observed on Xbox One & Xbox Series.",
    "head_branch": "wt-precision-fix",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(DASH): Fix precision issue on some platforms (#6258)\n\nWhen recalculations of period end are made, it is possible that we will not be able to find last segment from period on low precision platforms. To mitigate it, try to use cached value of `periodEnd_` whenever possible.\r\n\r\nIssue observed on Xbox One & Xbox Series."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d45d6ca63ac8d88efd6",
    "number": 6253,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.14](https://github.com/shaka-project/shaka-player/compare/v4.3.13...v4.3.14) (2024-02-20)\n\n\n### Bug Fixes\n\n* **ABR:** Fix HLS playback after internet connection is restored ([#5879](https://github.com/shaka-project/shaka-player/issues/5879)) ([65d1157](https://github.com/shaka-project/shaka-player/commit/65d115768f36b4cbfc6c9851518f33ea25d66008))\n* AC-3 audio codec support on Tizen ([#6166](https://github.com/shaka-project/shaka-player/issues/6166)) ([83c57ee](https://github.com/shaka-project/shaka-player/commit/83c57ee4505fd1dc2f2ee9e70acee5f8522a0006))\n* add missing properties to PlayButton type ([#6130](https://github.com/shaka-project/shaka-player/issues/6130)) ([b3ef659](https://github.com/shaka-project/shaka-player/commit/b3ef659d7acf3ac864a3d2ab2258a8f8aa679393))\n* Add Orange platform to requiresEncryptionInfoInAllInitSegments ([#5895](https://github.com/shaka-project/shaka-player/issues/5895)) ([013c54b](https://github.com/shaka-project/shaka-player/commit/013c54b01cf1576ec0dcd38221efb7845ba62e39))\n* **Ads:** Fix VMAP won't play in muted autoplay ([#6046](https://github.com/shaka-project/shaka-player/issues/6046)) ([5201950](https://github.com/shaka-project/shaka-player/commit/520195042860f43e2c2cfc2e4456b41d990c9ba0))\n* Allow by default variants without pssh in the manifest ([#6144](https://github.com/shaka-project/shaka-player/issues/6144)) ([db788a0](https://github.com/shaka-project/shaka-player/commit/db788a0dc14a22cb50d525f3b195f65e0f74d177))\n* Allow parseXmlString when createNodeIterator is not available ([#5805](https://github.com/shaka-project/shaka-player/issues/5805)) ([dd4b36f](https://github.com/shaka-project/shaka-player/commit/dd4b36fa1fc6557a8a2da3437f80ab72172caf7c))\n* APL set-top box wrongly identifies as an Apple device. ([#6026](https://github.com/shaka-project/shaka-player/issues/6026)) ([2e8e2a4](https://github.com/shaka-project/shaka-player/commit/2e8e2a47c537c0e498f959fd56d0ebf4f2878e48))\n* auto cancel trickPlay on live as specified ([#6100](https://github.com/shaka-project/shaka-player/issues/6100)) ([1b08e12](https://github.com/shaka-project/shaka-player/commit/1b08e129b0cfd94add274f287bd0e47709fc175c))\n* avoid uiTextDisplayer.destroy crashing if called more than once ([#6022](https://github.com/shaka-project/shaka-player/issues/6022)) ([8f9fbb2](https://github.com/shaka-project/shaka-player/commit/8f9fbb2aede48b5c6a7243eee1c5c9f6b192a0a2))\n* ban new Uint16Array(buffer) ([#5838](https://github.com/shaka-project/shaka-player/issues/5838)) ([4e314db](https://github.com/shaka-project/shaka-player/commit/4e314db29dd91f05a4536d0e289ca73cf3238d04))\n* CEA decoder should return early if packet is not large enough ([#5893](https://github.com/shaka-project/shaka-player/issues/5893)) ([b866b3c](https://github.com/shaka-project/shaka-player/commit/b866b3ce69e8b2c323b3f45ebea4e3b16a345e98))\n* **CMCD:** Fix CMCD for some mimetypes in src= ([#6178](https://github.com/shaka-project/shaka-player/issues/6178)) ([b6adc09](https://github.com/shaka-project/shaka-player/commit/b6adc0903367ff5c1074d51e3d1f5f868213f42c))\n* **DASH:** Fix false redirect detection ([#5910](https://github.com/shaka-project/shaka-player/issues/5910)) ([92d41dd](https://github.com/shaka-project/shaka-player/commit/92d41dd0feb2a4d80a57460f80461d0c4a8baa40))\n* **DASH:** Fix manifest update time for Live manifests ([#5763](https://github.com/shaka-project/shaka-player/issues/5763)) ([da38819](https://github.com/shaka-project/shaka-player/commit/da38819f422f6d72141e5a2b2599d43e2d5cda3d))\n* **DASH:** Fix manifest update time for LL-DASH ([#5736](https://github.com/shaka-project/shaka-player/issues/5736)) ([ff6a72d](https://github.com/shaka-project/shaka-player/commit/ff6a72d07a48dd08412c70dfe7dd4d498174c3a7))\n* **DASH:** Handle minimumUpdatePeriod=0 with urn:mpeg:dash:event:2012 (EMSG) ([#5823](https://github.com/shaka-project/shaka-player/issues/5823)) ([ad78d09](https://github.com/shaka-project/shaka-player/commit/ad78d09038d2eee3a933e02e189126e25f6f3a75))\n* **DASH:** Update dash manifest when minimumUpdatePeriod = 0 ([#6187](https://github.com/shaka-project/shaka-player/issues/6187)) ([2e2767e](https://github.com/shaka-project/shaka-player/commit/2e2767e6637cb884ef5b01c90182ecaeb50df95b))\n* **DASH:** Use labels to stitch streams across periods ([#6121](https://github.com/shaka-project/shaka-player/issues/6121)) ([76bf5e7](https://github.com/shaka-project/shaka-player/commit/76bf5e707d5f64b4dc7d1d54f80bc6582e89c8bc))\n* **Demo:** Pressing \"Edit\" button unstores custom asset, but does not update \"stored\" button ([#5936](https://github.com/shaka-project/shaka-player/issues/5936)) ([30a71f2](https://github.com/shaka-project/shaka-player/commit/30a71f2b0057759effa89cf998adb2af3ed6ad89))\n* do not remove sub-second amounts from source buffer ([267169c](https://github.com/shaka-project/shaka-player/commit/267169c5bcc2bcab7dff54f2a9528ae5f0d6ab2a)), closes [#6240](https://github.com/shaka-project/shaka-player/issues/6240)\n* ENCRYPTED CONTENT WITHOUT DRM INFO on comcast X1 due to safari blocklist ([#6034](https://github.com/shaka-project/shaka-player/issues/6034)) ([daa224d](https://github.com/shaka-project/shaka-player/commit/daa224dd8530b7582d86af2e8b0a0cd2ed2b9797))\n* Fix crash while playing HLS AES 128 streams ([#5830](https://github.com/shaka-project/shaka-player/issues/5830)) ([43b6d48](https://github.com/shaka-project/shaka-player/commit/43b6d48606e713e808d94325d934956864745287))\n* Fix detection of flac support on Safari ([#6250](https://github.com/shaka-project/shaka-player/issues/6250)) ([74fcf51](https://github.com/shaka-project/shaka-player/commit/74fcf516139f52b5e2bf398ba8905dc2ab1bef99))\n* Fix detection of spatial rendering support in Cast ([#6138](https://github.com/shaka-project/shaka-player/issues/6138)) ([579fb9a](https://github.com/shaka-project/shaka-player/commit/579fb9a582d2f53da57afa57965a7eaeb1852390))\n* Fix DRM workaround for Tizen and Xbox with ac-4 boxes ([#5812](https://github.com/shaka-project/shaka-player/issues/5812)) ([4c3c3e2](https://github.com/shaka-project/shaka-player/commit/4c3c3e2a37fff296966a8bc2bd738d026db9a42c))\n* Fix DRM workaround for Xbox with Dolby Vision boxes ([#6201](https://github.com/shaka-project/shaka-player/issues/6201)) ([c068a50](https://github.com/shaka-project/shaka-player/commit/c068a501e61f34b521065adf216faba959efe984))\n* Fix gitpkg.now.sh dependencies ([#6211](https://github.com/shaka-project/shaka-player/issues/6211)) ([d749614](https://github.com/shaka-project/shaka-player/commit/d749614425f3fe29dda0d1ebbe28b0977d866463))\n* fix handling of multiple CC tracks ([#6076](https://github.com/shaka-project/shaka-player/issues/6076)) ([081362d](https://github.com/shaka-project/shaka-player/commit/081362dfddc1ab7dbad96f698e4a3d5cd15f0c39))\n* Fix init segment comparison ([#5920](https://github.com/shaka-project/shaka-player/issues/5920)) ([42d38d5](https://github.com/shaka-project/shaka-player/commit/42d38d5d7792f3e7e1e81d2dbe7a5c5106dfc5cb))\n* Fix language comparison in addTextTrackAsync ([#5904](https://github.com/shaka-project/shaka-player/issues/5904)) ([4438ca1](https://github.com/shaka-project/shaka-player/commit/4438ca122a0e5a78a659a2378672e8bf93f3336f))\n* Fix liveLatency in stats ([#5982](https://github.com/shaka-project/shaka-player/issues/5982)) ([ba45266](https://github.com/shaka-project/shaka-player/commit/ba4526685f346e18c90cebff8561357f01b0dbc8))\n* Fix trackschanged event not fired after a license request is denied for some tracks ([#5962](https://github.com/shaka-project/shaka-player/issues/5962)) ([554f9ed](https://github.com/shaka-project/shaka-player/commit/554f9edf115dcb7be552b4a94027484cd28d2916))\n* **hisense:** set stallSkip to 0 for HiSense devices ([#5833](https://github.com/shaka-project/shaka-player/issues/5833)) ([f78cab4](https://github.com/shaka-project/shaka-player/commit/f78cab4a2ce74bbd1a7571f37087922e9d41d564))\n* **HLS:** Avoid duplicate AES request when using the same info ([#6118](https://github.com/shaka-project/shaka-player/issues/6118)) ([a1084f5](https://github.com/shaka-project/shaka-player/commit/a1084f578268da59a006df2b6021e561d6a16ac3))\n* **HLS:** Fix init segment when EXT-X-MAP is preceded by EXT-X-BYTERANGE ([#5732](https://github.com/shaka-project/shaka-player/issues/5732)) ([931b2f8](https://github.com/shaka-project/shaka-player/commit/931b2f80c4578ea8d2bd32232d8c602f800e81ea))\n* **HLS:** Fix kind detection for 'captions' text tracks ([#5819](https://github.com/shaka-project/shaka-player/issues/5819)) ([a4fa63b](https://github.com/shaka-project/shaka-player/commit/a4fa63b9043e37b77e66fe5ce69b0c707b5b18bb))\n* **HLS:** Fix VVC codec selection in HLS ([#6156](https://github.com/shaka-project/shaka-player/issues/6156)) ([1e73bb2](https://github.com/shaka-project/shaka-player/commit/1e73bb205b5c10851024e9719efaa56fcaad4dd4))\n* **HLS:** getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME ([#6059](https://github.com/shaka-project/shaka-player/issues/6059)) ([cb17e24](https://github.com/shaka-project/shaka-player/commit/cb17e2478767aa4e5ea55ab675519c399db19e50))\n* **HLS:** Live recovery after disconnects ([#6048](https://github.com/shaka-project/shaka-player/issues/6048)) ([468425a](https://github.com/shaka-project/shaka-player/commit/468425a65122475d3d8048800d042db8c72762c1))\n* **HLS:** Recognize CEA subtitles when CLOSED-CAPTIONS attribute is missing ([#5916](https://github.com/shaka-project/shaka-player/issues/5916)) ([440d4ab](https://github.com/shaka-project/shaka-player/commit/440d4ab1d87644d0e89b0b7718e627c7ed6c55dc))\n* Install by default shaka.polyfill.PatchedMediaKeysApple when there is no unprefixed EME support ([#6053](https://github.com/shaka-project/shaka-player/issues/6053)) ([caf7a7c](https://github.com/shaka-project/shaka-player/commit/caf7a7c118bc06a1b86d174be4f647c164c1f905))\n* **offline:** Fix server certificate error when trying to delete stored content ([#6080](https://github.com/shaka-project/shaka-player/issues/6080)) ([2bc0c25](https://github.com/shaka-project/shaka-player/commit/2bc0c259e88fc440b30fb8d33870e9e42f3c3e25))\n* **offline:** Fix server certificate error when trying to store content ([#5848](https://github.com/shaka-project/shaka-player/issues/5848)) ([1e907db](https://github.com/shaka-project/shaka-player/commit/1e907db9f959095105ca63891984ee3c4a22e3b9))\n* **offline:** Fix store persistent licenses with drm info in the pssh ([#6143](https://github.com/shaka-project/shaka-player/issues/6143)) ([438e098](https://github.com/shaka-project/shaka-player/commit/438e0980fea4afb1e55e4aeba3d3eb78a3e572b8))\n* Prevent license requests for unplayable variants ([#6204](https://github.com/shaka-project/shaka-player/issues/6204)) ([725391a](https://github.com/shaka-project/shaka-player/commit/725391a1a40d9ee0fdf36671bcd63314ffeac68e))\n* Properly size region anchor from LINE units ([#5941](https://github.com/shaka-project/shaka-player/issues/5941)) ([f0a07bc](https://github.com/shaka-project/shaka-player/commit/f0a07bc3c00a8c446ac1f331dc9efbd34aa54885))\n* Reject Opus encrypted on Firefox Android ([#6115](https://github.com/shaka-project/shaka-player/issues/6115)) ([95cba57](https://github.com/shaka-project/shaka-player/commit/95cba570340159e26d303c8ae983834aa7134899))\n* Reset to default playback rate on release playback rate controller ([#6089](https://github.com/shaka-project/shaka-player/issues/6089)) ([2e390ed](https://github.com/shaka-project/shaka-player/commit/2e390ed674b2095fa250bfec5fce4355dfca9ef7))\n* text roles being combined incorrectly in some multiperiod cases ([#6055](https://github.com/shaka-project/shaka-player/issues/6055)) ([f6fea75](https://github.com/shaka-project/shaka-player/commit/f6fea75827aca70f439f67dc0fa9079c34faea6e))\n* **TTML:** Clip to video when extent is not present ([#6086](https://github.com/shaka-project/shaka-player/issues/6086)) ([44cac01](https://github.com/shaka-project/shaka-player/commit/44cac017708b770570e565898e29dda2f543e72b))\n* **TTML:** Fix support of urls in smpte:backgroundImage ([#5851](https://github.com/shaka-project/shaka-player/issues/5851)) ([b1510ca](https://github.com/shaka-project/shaka-player/commit/b1510caba1c428508198bf8e08cb3ed59ce71c43))\n* **UI:** Correctly display video time and duration for VOD ([#5929](https://github.com/shaka-project/shaka-player/issues/5929)) ([3775daa](https://github.com/shaka-project/shaka-player/commit/3775daaa5e5b49664425b556c19a9b9b5d65a43f))\n* **UI:** Fix keyboard navigation of volume bar on Firefox ([#5981](https://github.com/shaka-project/shaka-player/issues/5981)) ([6ea473f](https://github.com/shaka-project/shaka-player/commit/6ea473fdaee87d3731a27502141a48c4161123ff))\n* **UI:** Fix replay button when the post-roll is running using CS ([#6072](https://github.com/shaka-project/shaka-player/issues/6072)) ([1282575](https://github.com/shaka-project/shaka-player/commit/1282575bb603765de8fd271854e31e9a6d76db90))\n* **UI:** Fix text selector when the trackLabelFormat is set to LABEL ([#5751](https://github.com/shaka-project/shaka-player/issues/5751)) ([da2033e](https://github.com/shaka-project/shaka-player/commit/da2033edff908c687536b4d723bf8e359944034f))\n* UITextDisplayer font-family is overridden by UI's Roboto font ([#5829](https://github.com/shaka-project/shaka-player/issues/5829)) ([d55137b](https://github.com/shaka-project/shaka-player/commit/d55137b2bfe4d42794ebfc651b1544ef9a03d729))\n* **UI:** Update the playbackrate on loaded event ([#6090](https://github.com/shaka-project/shaka-player/issues/6090)) ([2bac3b9](https://github.com/shaka-project/shaka-player/commit/2bac3b9215135b8fd52f53d035a3360a9c1ae673))\n* Unmask errors on LL ([#5908](https://github.com/shaka-project/shaka-player/issues/5908)) ([78564b9](https://github.com/shaka-project/shaka-player/commit/78564b999385b17c9351aa43a59358af39d01f9b))\n* **WebVTT:** Fix support for line vertical alignment ([#5945](https://github.com/shaka-project/shaka-player/issues/5945)) ([1a7d4da](https://github.com/shaka-project/shaka-player/commit/1a7d4da38370684242d7dfa7033a85097d6fb665))\n* **WebVTT:** Fix wrong writing-mode in nested cues ([#5807](https://github.com/shaka-project/shaka-player/issues/5807)) ([f0c2c2d](https://github.com/shaka-project/shaka-player/commit/f0c2c2d5727495f55687d956978ffa16ec3c254c))\n* When disconnecting from chromecast, subtitles are turned off ([#6103](https://github.com/shaka-project/shaka-player/issues/6103)) ([5550836](https://github.com/shaka-project/shaka-player/commit/5550836230d02d9d90f980839b01fff69797bf5b))\n\n\n### Performance Improvements\n\n* **dash:** improve readability and reduce number of loops in dash parser ([#5768](https://github.com/shaka-project/shaka-player/issues/5768)) ([2767bc9](https://github.com/shaka-project/shaka-player/commit/2767bc9722f98cc323ee0a03c6c869f35e79afb9))\n* **DASH:** reduce looping and remove chaining awaits in period ([#5774](https://github.com/shaka-project/shaka-player/issues/5774)) ([af79ca4](https://github.com/shaka-project/shaka-player/commit/af79ca4531eb6e54ee12323877cc248db9c9dcc3))\n* **HLS:** do not filter all tags to get the first tag ([#6088](https://github.com/shaka-project/shaka-player/issues/6088)) ([c6794d6](https://github.com/shaka-project/shaka-player/commit/c6794d635e0591b48b1dcead21cd723ea6b2703f))\n* Improve performance of addThumbnailsTrack ([#6067](https://github.com/shaka-project/shaka-player/issues/6067)) ([d8e46ba](https://github.com/shaka-project/shaka-player/commit/d8e46baebed416870be8fded3a49470e4a21ae9d))\n* **manifest:** avoid unnecessary looping in uri resolver ([#5773](https://github.com/shaka-project/shaka-player/issues/5773)) ([b887978](https://github.com/shaka-project/shaka-player/commit/b887978457f82e2b9cf39475a0ba1929a2a2c28d))\n* Optimize init segment reference comparison for common case ([#6014](https://github.com/shaka-project/shaka-player/issues/6014)) ([fb1d167](https://github.com/shaka-project/shaka-player/commit/fb1d167053f87fb1be742a0310ef9db4893ceafb))\n* simplify and improve performance of parsing initData when deduping ([#5775](https://github.com/shaka-project/shaka-player/issues/5775)) ([0350f9d](https://github.com/shaka-project/shaka-player/commit/0350f9da76f12a2cfe4b66ef1a1ca0d9147f23e5))\n* **utils:** use WeakSet to track object references ([#5791](https://github.com/shaka-project/shaka-player/issues/5791)) ([2cab9a2](https://github.com/shaka-project/shaka-player/commit/2cab9a2f518717422402b6de5cf4069a83cbbb58))\n* **WebVTT:** Improve parsing time for unstyled payloads ([#6066](https://github.com/shaka-project/shaka-player/issues/6066)) ([80b66bd](https://github.com/shaka-project/shaka-player/commit/80b66bd2a43c0e034f6055e3e50560c0ea9d9f3a))\n* **Xbox:** drop incompatible variants for XBOX early ([#5777](https://github.com/shaka-project/shaka-player/issues/5777)) ([e471bfc](https://github.com/shaka-project/shaka-player/commit/e471bfc699dc8b9a83cd1037ea7ce9eeac1c9d32))\n\n\n### Reverts\n\n* Install by default shaka.polyfill.PatchedMediaKeysApple when there is no unprefixed EME support ([#6068](https://github.com/shaka-project/shaka-player/issues/6068)) ([e62103f](https://github.com/shaka-project/shaka-player/commit/e62103f8722f7d927fe3a9e942b8ac2ee5a05204))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      "@shaka-bot test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6253`\n",
      "@shaka-bot test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6253`\n",
      "@shaka-bot test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=6253`\n",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.3.14 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.14 (#6253)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d46d6ca63ac8d88efd7",
    "number": 6252,
    "body": null,
    "head_branch": "modifyCueCallbackBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(text): Add time context to modifyCueCallback (#6252)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d46d6ca63ac8d88efd8",
    "number": 6250,
    "body": "When constructing the MediaDecodingConfigurations to query media capabilities in `stream_utils.js`, the spelling of \"fLaC\" should not change to \"flac\" on Safari. This is because on Safari the query will return `supported: false` for \"flac\" but `supported: true` for \"fLaC\".\r\n\r\nThis change allows manifests with \"fLaC\" codecs to work properly on Safari when using MSE / Managed Media Source.\r\n\r\nFixes #6249",
    "head_branch": "jmswaney-issue-6249",
    "is_a_fork": true,
    "comments": [
      "The CI didn't run on this PR automatically because it's your first on the project.  Once I check the test results, I'll merge it.\r\n\r\nThanks for your contribution!",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix detection of flac support on Safari (#6250)\n\nWhen constructing the MediaDecodingConfigurations to query media capabilities in `stream_utils.js`, the spelling of \"fLaC\" should not change to \"flac\" on Safari. This is because on Safari the query will return `supported: false` for \"flac\" but `supported: true` for \"fLaC\".\r\n\r\nThis change allows manifests with \"fLaC\" codecs to work properly on Safari when using MSE / Managed Media Source.\r\n\r\nFixes #6249"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d47d6ca63ac8d88efd9",
    "number": 6248,
    "body": "This PR adds the ability to filter/limit the amount of data transmitted when CMCD is enabled. It matches the functionality provided in [`dash.js`](https://github.com/Dash-Industry-Forum/dash.js/blob/9e3da3cb35da71d339444158db359bfec63035a0/src/core/Settings.js#L712-L713) and [`hls.js`](https://github.com/video-dev/hls.js/blob/dfb384dc765f400ea3d401b790cfc4d53a44410f/src/config.ts#L70-L75) and addresses concernes raised by video providers:\r\n\r\nhttps://github.com/cta-wave/common-media-client-data/issues/122\r\n\r\n\r\n",
    "head_branch": "task/cmcd-include-keys",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat: add includeKeys to CMCD config to allow filtering of CMCD data (#6248)\n\nThis PR adds the ability to filter/limit the amount of data transmitted\r\nwhen CMCD is enabled. It matches the functionality provided in\r\n[`dash.js`](https://github.com/Dash-Industry-Forum/dash.js/blob/9e3da3cb35da71d339444158db359bfec63035a0/src/core/Settings.js#L712-L713)\r\nand\r\n[`hls.js`](https://github.com/video-dev/hls.js/blob/dfb384dc765f400ea3d401b790cfc4d53a44410f/src/config.ts#L70-L75)\r\nand addresses concernes raised by video providers: https://github.com/cta-wave/common-media-client-data/issues/122"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d48d6ca63ac8d88efda",
    "number": 6246,
    "body": "The `constructSegmentUris` util already returns an array, so the call to `makeRequest` was being made with an array of arrays. This wasn't causing errors for requests that use the `fetch` plugin, since `fetch` will stringify the first argument if it's an array. But the data URI plugin expects to receive a string and calls `.split()` on it, so keys using data URIs throw an error if the URI is wrapped in an array.\r\n\r\n\r\nThanks to https://github.com/shaka-project/shaka-player/pull/6243 and @andrew0",
    "head_branch": "double-wrap",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%"
    ],
    "commit_messages": [
      "fix: don't double wrap URIs for HLS key requests (#6246)\n\nThe `constructSegmentUris` util already returns an array, so the call to `makeRequest` was being made with an array of arrays. This wasn't causing errors for requests that use the `fetch` plugin, since `fetch` will stringify the first argument if it's an array. But the data URI plugin expects to receive a string and calls `.split()` on it, so keys using data URIs throw an error if the URI is wrapped in an array.\r\n\r\nThanks to https://github.com/shaka-project/shaka-player/pull/6243 and @andrew0"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d49d6ca63ac8d88efdb",
    "number": 6243,
    "body": "edit: nevermind, consider allowing people to sign CLA without a google account",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/6243/checks?check_run_id=21453912028) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "@andrew0, I don't have any control over Google's CLA policy.  I respect your decision not to sign it, and I apologize for any inconvenience.",
      "@joeyparrish thanks, sorry if I came off a bit cranky, I just don't use google and didn't want to jump through a bunch of hoops for such a small change",
      "It's all good.  I hope you are okay with @avelad continuing your PR and crediting you with a mention in the commit.",
      "yup, totally fine 👍 "
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d4ad6ca63ac8d88efdc",
    "number": 6242,
    "body": "Increases the default required removal duration from `0.01` => `1.0`.\r\n\r\nCloses #6240.",
    "head_branch": "6240-small-mediasourceremove-intervals-causing-crashes-on-cast-platforms",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "feat: add an option specifying when source buffer removals happen (#6242)\n\nIncreases the default required removal duration from `0.01` => `1.0`.\r\n\r\nCloses #6240."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d4bd6ca63ac8d88efdd",
    "number": 6238,
    "body": "This method should be called after the load is successful, not if the load fails.\r\nThis also adds a new test that ensures that onKeyStatus_ messages work correctly, as a regression test.\r\nThis was exposed by the test failures, but was not the cause of them.\r\n\r\nIssue #6225",
    "head_branch": "preloadTimingBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(preload): Fix timing of call to stopQueuingLatePhaseQueuedOperations (#6238)\n\nThis method should be called after the load is successful, not if the\r\nload fails.\r\nThis also adds a new test that ensures that onKeyStatus_ messages work\r\ncorrectly, as a regression test.\r\nThis was exposed by the test failures, but was not the cause of them.\r\n\r\nIssue #6225"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d4cd6ca63ac8d88efde",
    "number": 6237,
    "body": "Closes #6227",
    "head_branch": "fix-safari-seek-range-test",
    "is_a_fork": true,
    "comments": [
      "Confirmed that this fixes the issue in GitHub CI.",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Fix seek range test flake on Safari (#6237)\n\nCloses #6227"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d4dd6ca63ac8d88efdf",
    "number": 6236,
    "body": "Getting some debug logging from GitHub CI.  Please ignore.",
    "head_branch": "debug-6227-safari-seek-range-test",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d4ed6ca63ac8d88efe0",
    "number": 6235,
    "body": "This adds a mock for Date.now.  Any test using Date needs to have Date mocked to avoid flake.\r\n\r\nCloses #6226",
    "head_branch": "fix-buffering-observer-test-flake",
    "is_a_fork": true,
    "comments": [
      "I intend to wait for the test results on Safari to confirm the fix before I merge it, but I'm pretty confident in this fix.",
      "Incremental code coverage: No instrumented code was changed.",
      "Confirmed that this resolves this particular failure."
    ],
    "commit_messages": [
      "test: Fix flaky test for BufferingObserver (#6235)\n\nThis adds a mock for Date.now. Any test using Date needs to have Date\r\nmocked to avoid flake.\r\n\r\nCloses #6226"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d4fd6ca63ac8d88efe1",
    "number": 6223,
    "body": null,
    "head_branch": "dummy-change",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d50d6ca63ac8d88efe2",
    "number": 6222,
    "body": "Also fixes how demo cards handle src= preloads.",
    "head_branch": "fixStartBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(preload): Only start preload if manager exists (#6222)\n\nAlso fixes how demo cards handle src= preloads."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d51d6ca63ac8d88efe3",
    "number": 6221,
    "body": "This updated version of karma-local-wd-launcher incorporates https://github.com/shaka-project/karma-local-wd-launcher/pull/65 to supply a path to the Edge binary on all platforms.  This fixes local testing and GitHub CI testing of Edge.\r\n\r\nThough the tests run once more, there are still some test failures that need to be dealt with.",
    "head_branch": "edge-launcher-fix",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Fix Edge launcher for local testing and GitHub CI (#6221)\n\nThis updated version of karma-local-wd-launcher incorporates\r\nhttps://github.com/shaka-project/karma-local-wd-launcher/pull/65 to\r\nsupply a path to the Edge binary on all platforms. This fixes local\r\ntesting and GitHub CI testing of Edge.\r\n\r\nThough the tests run once more, there are still some test failures that\r\nneed to be dealt with."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d52d6ca63ac8d88efe4",
    "number": 6220,
    "body": "By specifying the binary path and also merging https://github.com/shaka-project/shaka-lab/pull/47, we are able to restore Edge on Windows in the lab.",
    "head_branch": "disable-lab-edge",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Restore Edge on Windows in the lab (#6220)\n\nBy specifying the binary path and also merging\r\nhttps://github.com/shaka-project/shaka-lab/pull/47, we are able to\r\nrestore Edge on Windows in the lab."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d53d6ca63ac8d88efe5",
    "number": 6216,
    "body": "shaka-lab-hub reports:\r\n\r\n```\r\n/wd/hub/session java.io.IOException:\r\norg.openqa.grid.common.exception.GridException:\r\nCannot extract a capabilities from the request:\r\n```\r\n\r\nGenerally, there should be a request object after this, but here it is blank.  It's not clear why or how this could be. There are no errors from shaka-lab-node on Windows.",
    "head_branch": "disable-lab-edge",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Temporarily disable Edge on Windows in the lab (#6216)\n\nshaka-lab-hub reports:\r\n\r\n```\r\n/wd/hub/session java.io.IOException:\r\norg.openqa.grid.common.exception.GridException:\r\nCannot extract a capabilities from the request:\r\n```\r\n\r\nGenerally, there should be a request object after this, but here it is\r\nblank. It's not clear why or how this could be. There are no errors from\r\nshaka-lab-node on Windows."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d54d6ca63ac8d88efe6",
    "number": 6214,
    "body": "This adds a supplementary new method, unloadAndSavePreload. This method unloads the current asset but creates a PreloadManager object containing the loaded manifest, so the asset can be loaded again more quickly. This can be used for situations where an asset must be unloaded only temporarily; say, you wish to detach the player from the current media element and re-attach it to another, then begin playing the same asset.",
    "head_branch": "unloadAndSavePreloadBranch",
    "is_a_fork": true,
    "comments": [
      "This was broken off of #5897, as the unloadAndSavePreload  feature is not central to preload functionality and could be improved a little.\r\n\r\nPossible improvements to make:\r\n\r\n- ~~Create a segment prefetch for the preload manager.~~\r\n- ~~Save the current variant.~~\r\n- Save the DRM engine, if possible. --> It is not possible because we depend on the keys that have been loaded in the video element.",
      "Incremental code coverage: 98.94%",
      "@joeyparrish can you review it? Thanks!",
      "Okay, I can't approve this, since it's technically my PR, but your additions have my approval now."
    ],
    "commit_messages": [
      "feat: Add unloadAndSavePreload (#6214)\n\nThis adds a supplementary new method, unloadAndSavePreload. This method\r\nunloads the current asset but creates a PreloadManager object containing\r\nthe loaded manifest, so the asset can be loaded again more quickly. This\r\ncan be used for situations where an asset must be unloaded only\r\ntemporarily; say, you wish to detach the player from the current media\r\nelement and re-attach it to another, then begin playing the same asset.\r\n\r\n---------\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d55d6ca63ac8d88efe7",
    "number": 6211,
    "body": "gitpkg.now.sh dependencies started to have broken SHA for some reason which breaks CI infrastructure here & in our fork.",
    "head_branch": "wt-fix-deps",
    "is_a_fork": true,
    "comments": [
      "Thanks for this.  I saw the same issue with our nightly demo deployment last night."
    ],
    "commit_messages": [
      "fix: Fix gitpkg.now.sh dependencies (#6211)\n\ngitpkg.now.sh dependencies started to have broken SHA for some reason which breaks CI infrastructure here & in our fork."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d56d6ca63ac8d88efe8",
    "number": 6210,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.9](https://github.com/shaka-project/shaka-player/compare/v4.7.8...v4.7.9) (2024-02-02)\n\n\n### Bug Fixes\n\n* **CMCD:** allow session id to be configured ([#6192](https://github.com/shaka-project/shaka-player/issues/6192)) ([2166cfa](https://github.com/shaka-project/shaka-player/commit/2166cfad86b1c332becc57a7276ceef5126374d7))\n* **DASH:** Update dash manifest when minimumUpdatePeriod = 0 ([#6187](https://github.com/shaka-project/shaka-player/issues/6187)) ([e28956e](https://github.com/shaka-project/shaka-player/commit/e28956e53b662bec93ffc1c9b72695b4e7f9aabc))\n* **Demo:** Fix MSS assets ([#6194](https://github.com/shaka-project/shaka-player/issues/6194)) ([a22967a](https://github.com/shaka-project/shaka-player/commit/a22967a0efd9e48a7bd4e920db7b097b8803b2bd))\n* Fix DRM workaround for Xbox with Dolby Vision boxes ([#6201](https://github.com/shaka-project/shaka-player/issues/6201)) ([77f252d](https://github.com/shaka-project/shaka-player/commit/77f252d25d98062f8292334d0dfb64eadb25d65f))\n* Fix gitpkg.now.sh dependencies ([#6211](https://github.com/shaka-project/shaka-player/issues/6211)) ([be1706f](https://github.com/shaka-project/shaka-player/commit/be1706f6b83858971a4d93fafcd99b62408b600b))\n* Prevent license requests for unplayable variants ([#6204](https://github.com/shaka-project/shaka-player/issues/6204)) ([f5a9ab1](https://github.com/shaka-project/shaka-player/commit/f5a9ab1a8fa4f8160a747c9c0c82e7ab1e912ca2))\n\n\n### Reverts\n\n* Add chapter titles and dividers on the seek bar ([#6208](https://github.com/shaka-project/shaka-player/issues/6208)) ([8c8ffd9](https://github.com/shaka-project/shaka-player/commit/8c8ffd9e988385d35dbbe8360d84bd846362076d))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.9 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.9 (#6210)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d57d6ca63ac8d88efe9",
    "number": 6209,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.13](https://github.com/shaka-project/shaka-player/compare/v4.6.12...v4.6.13) (2024-02-02)\n\n\n### Bug Fixes\n\n* **DASH:** Update dash manifest when minimumUpdatePeriod = 0 ([#6187](https://github.com/shaka-project/shaka-player/issues/6187)) ([aa8f36c](https://github.com/shaka-project/shaka-player/commit/aa8f36c34a65527ac959135fb6b26e52529c525f))\n* **Demo:** Fix MSS assets ([#6194](https://github.com/shaka-project/shaka-player/issues/6194)) ([7076b7a](https://github.com/shaka-project/shaka-player/commit/7076b7ac7a3ffb41b130a51ff3dd31593a3cec79))\n* Fix DRM workaround for Xbox with Dolby Vision boxes ([#6201](https://github.com/shaka-project/shaka-player/issues/6201)) ([2497b91](https://github.com/shaka-project/shaka-player/commit/2497b911947debf4dfa2ebf957fa7dffb2b3a5ce))\n* Fix gitpkg.now.sh dependencies ([#6211](https://github.com/shaka-project/shaka-player/issues/6211)) ([dc1e2d1](https://github.com/shaka-project/shaka-player/commit/dc1e2d1181b66f17765198113bcd220ce12e8d79))\n* Prevent license requests for unplayable variants ([#6204](https://github.com/shaka-project/shaka-player/issues/6204)) ([7f72634](https://github.com/shaka-project/shaka-player/commit/7f72634322bae4cdb66b0b42e8a9e3895f3306f6))\n\n\n### Reverts\n\n* Add chapter titles and dividers on the seek bar ([#6208](https://github.com/shaka-project/shaka-player/issues/6208)) ([78fba77](https://github.com/shaka-project/shaka-player/commit/78fba7733883b31e6579e72abde0b195755ca249))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.13 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.13 (#6209)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d58d6ca63ac8d88efea",
    "number": 6208,
    "body": "re-open: https://github.com/shaka-project/shaka-player/issues/3597",
    "head_branch": "revert-ui-chapters",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "revert: Add chapter titles and dividers on the seek bar (#6208)\n\nre-open: https://github.com/shaka-project/shaka-player/issues/3597"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d59d6ca63ac8d88efeb",
    "number": 6207,
    "body": "Fixes: https://github.com/shaka-project/shaka-player/issues/6205",
    "head_branch": "bugfix/6205",
    "is_a_fork": true,
    "comments": [
      "Your rebase attempt seems to have broken things.  There are many conflicts now.",
      "> Your rebase attempt seems to have broken things. There are many conflicts now.\r\n\r\nlet me revert back and fix",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat: Add config to set live stream duration to Infinity (#6207)\n\nFixes: https://github.com/shaka-project/shaka-player/issues/6205"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d5ad6ca63ac8d88efec",
    "number": 6206,
    "body": null,
    "head_branch": "license-updates",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add missing license details after tXml import (#6206)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d5ad6ca63ac8d88efed",
    "number": 6204,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/3429",
    "head_branch": "prevent-license-requests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Prevent license requests for unplayable variants (#6204)\n\nFixes https://github.com/shaka-project/shaka-player/issues/3429"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d5cd6ca63ac8d88efee",
    "number": 6203,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3464",
    "head_branch": "docs-ui-customization",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add specific doc on UI localization strategies (#6203)\n\nCloses https://github.com/shaka-project/shaka-player/issues/3464"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d5cd6ca63ac8d88efef",
    "number": 6202,
    "body": null,
    "head_branch": "safari17-test",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix some tests in Safari 17 (#6202)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d5dd6ca63ac8d88eff0",
    "number": 6201,
    "body": null,
    "head_branch": "dv-contnent-workarounds",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix DRM workaround for Xbox with Dolby Vision boxes (#6201)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d5ed6ca63ac8d88eff1",
    "number": 6199,
    "body": null,
    "head_branch": "prefetch-changes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix SegmentPrefetch in some cases (#6199)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d5fd6ca63ac8d88eff2",
    "number": 6198,
    "body": "It would appear that the previous `textContent` api transformed html entities. This PR provides feature parity with the DOMParser approach. ",
    "head_branch": "node-parsering-escape-htmlcodes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Escape html codes when getting node contents (#6198)\n\nIt would appear that the previous `textContent` api transformed html\r\nentities. This PR provides feature parity with the DOMParser approach."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d60d6ca63ac8d88eff3",
    "number": 6197,
    "body": null,
    "head_branch": "disableTextPrefetch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add disableTextPrefetch config (#6197)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d61d6ca63ac8d88eff4",
    "number": 6194,
    "body": null,
    "head_branch": "mss-demo-assets",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Demo): Fix MSS assets (#6194)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d62d6ca63ac8d88eff5",
    "number": 6193,
    "body": "This switches the live sync to use target latency (which is the only required part of DASH's service descriptors) and a configurable tolerance value, which defaults to 0.5s due to a recommendation from the LL-DASH spec.\r\nAdditionally, it adds a dynamic target latency feature which shifts the current target latency towards the minimum latency value when playback is stable (based on a configurable threshold, which defaults to 60s) and also shifts the latency towards the maximum latency on rebuffering events (by the configurable increment value, which defaults to 0.5s).\r\n\r\nCloses #6131.",
    "head_branch": "dynamic-target-latency",
    "is_a_fork": true,
    "comments": [
      "Completely forgot about tests, I'll check on them tomorrow.",
      "I believe this is ready for review.",
      "@gkatsev Please rebase and resolve the conflicts, Thanks!",
      "@avelad rebased and fixed conflicts!",
      "OK, I'm assuming that if @avelad approved but didn't merge, he was either waiting for test results or my review.  I'll take a look now.",
      "@avelad in #6683, you mentioned that you'll have a follow-up PR related to target latency. I think it probably makes sense for this change to wait till then? If yes, do you have thoughts on timing, if not, I'm happy to prioritize getting this PR fixed up asap. Thanks!",
      "> @avelad in #6683, you mentioned that you'll have a follow-up PR related to target latency. I think it probably makes sense for this change to wait till then? If yes, do you have thoughts on timing, if not, I'm happy to prioritize getting this PR fixed up asap. Thanks!\r\n\r\nIt will take 1 or 2 weeks. If you want to do that PR first I would be happy to review it.",
      "That change involves removing the max and min latency configs? Anything else to consider? Particularly, since that would be a breaking change? One way to maintain backwards compat is to use the max/min configs to create calculate the target latency and the latency tolerance, if not provided. Then, the actual code would only consider target latency and the target latency tolerance.",
      "> That change involves removing the max and min latency configs? Anything else to consider? Particularly, since that would be a breaking change? One way to maintain backwards compat is to use the max/min configs to create calculate the target latency and the latency tolerance, if not provided. Then, the actual code would only consider target latency and the target latency tolerance.\r\n\r\nThe idea is to deprecate max and min and create a target config. \r\nFor the deprecated one see https://github.com/shaka-project/shaka-player/blob/main/lib/player.js#L3534\r\nAnd I think this change should go in a separate PR so we can merge it sooner.",
      "Ah, forgot deprecation was a thing. Yeah, definitely a separate PR.",
      "@gkatsev I think this can be resumed, what do you think?",
      "yes, i'll fix it up, probably in a separate PR",
      "Superseded by https://github.com/shaka-project/shaka-player/pull/6858"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d63d6ca63ac8d88eff6",
    "number": 6192,
    "body": null,
    "head_branch": "task/cmcd-session-id",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(CMCD): allow session id to be configured (#6192)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d64d6ca63ac8d88eff7",
    "number": 6191,
    "body": null,
    "head_branch": "task/cmcd-session-id",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d65d6ca63ac8d88eff8",
    "number": 6190,
    "body": null,
    "head_branch": "safari17-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix some tests in Safari 17 (#6190)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d66d6ca63ac8d88eff9",
    "number": 6189,
    "body": "`com.adobe.primetime` is not implemented in any browser and no one has reported any problems in the 8 years of Shaka Player.\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfeat: Remove com.adobe.primetime keysystem (#6189)\r\n\r\n`com.adobe.primetime` is not implemented in any browser and no one has reported any problems in the 8 years of Shaka Player.\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "remove-adobe-primetime",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat!: Remove com.adobe.primetime keysystem (#6189)\n\n`com.adobe.primetime` is not implemented in any browser and no one has\r\nreported any problems in the 8 years of Shaka Player."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d67d6ca63ac8d88effa",
    "number": 6188,
    "body": "Our HLS implementation is stable and robust enough that we can enable it by default.\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfeat: Prefer MSE HLS over native HLS in Apple platform when not encrypted (#6188) \r\nEND_COMMIT_OVERRIDE",
    "head_branch": "hls-mse-prefer-apple",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat!: Prefer MSE HLS over native HLS in Apple platform when not encrypted (#6188)\n\nOur HLS implementation is stable and robust enough that we can enable it\r\nby default."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d68d6ca63ac8d88effb",
    "number": 6187,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6185",
    "head_branch": "update-dash-manifest",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DASH): Update dash manifest when minimumUpdatePeriod = 0 (#6187)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6185"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d69d6ca63ac8d88effc",
    "number": 6186,
    "body": null,
    "head_branch": "docs-hisense",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add Hisense information to README (#6186)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d6ad6ca63ac8d88effd",
    "number": 6184,
    "body": null,
    "head_branch": "cmcd-rtp",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(CMCD): Add support to rtp parameter (#6184)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d6bd6ca63ac8d88effe",
    "number": 6183,
    "body": null,
    "head_branch": "docs-roadmap",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Update roadmap for 5.0 (#6183)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d6cd6ca63ac8d88efff",
    "number": 6182,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.8](https://github.com/shaka-project/shaka-player/compare/v4.7.7...v4.7.8) (2024-01-30)\n\n\n### Bug Fixes\n\n* AC-3 audio codec support on Tizen ([#6166](https://github.com/shaka-project/shaka-player/issues/6166)) ([5cf7192](https://github.com/shaka-project/shaka-player/commit/5cf7192dbe34ca9b72d354dda1101b32af6bda35))\n* **Ads:** Fix initial ads configuration ([#6176](https://github.com/shaka-project/shaka-player/issues/6176)) ([2a471e3](https://github.com/shaka-project/shaka-player/commit/2a471e3409f4b8ecabbbffd4d85a86b99dde19dd))\n* **CMCD:** Allow reconfigure session ID ([#6177](https://github.com/shaka-project/shaka-player/issues/6177)) ([a9b4dac](https://github.com/shaka-project/shaka-player/commit/a9b4dacea04de71feefca101665af241ffc6ecb1))\n* **CMCD:** Fix CMCD for some mimetypes in src= ([#6178](https://github.com/shaka-project/shaka-player/issues/6178)) ([82526b4](https://github.com/shaka-project/shaka-player/commit/82526b4fb4ac54a88a3078545a8896c33a90800a))\n* Fix wrong aspect ratio in transmuxed videos ([#6170](https://github.com/shaka-project/shaka-player/issues/6170)) ([0b646aa](https://github.com/shaka-project/shaka-player/commit/0b646aa3353939814bf0586dae73fe7ebb55a1ed))\n* **HLS:** Fix VVC codec selection in HLS ([#6156](https://github.com/shaka-project/shaka-player/issues/6156)) ([245dd5a](https://github.com/shaka-project/shaka-player/commit/245dd5abde01c3cbb1b27e0b7f3a4b3584960eb8))\n* **HLS:** Set the bandwidth correctly for audio/video-only variants ([#6165](https://github.com/shaka-project/shaka-player/issues/6165)) ([21c1c56](https://github.com/shaka-project/shaka-player/commit/21c1c56c0fc4c8bff371871b840a25d18616668f))\n* player Dropping Variant (better codec available) when it should not ([#6163](https://github.com/shaka-project/shaka-player/issues/6163)) ([65cafab](https://github.com/shaka-project/shaka-player/commit/65cafab4fb1d60d4d7db7896d9827bf20ad85f6f))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.8 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.8 (#6182)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d6dd6ca63ac8d88f000",
    "number": 6181,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.12](https://github.com/shaka-project/shaka-player/compare/v4.6.11...v4.6.12) (2024-01-30)\n\n\n### Bug Fixes\n\n* AC-3 audio codec support on Tizen ([#6166](https://github.com/shaka-project/shaka-player/issues/6166)) ([77121fa](https://github.com/shaka-project/shaka-player/commit/77121fa033ced17a4e627bd22363c2d4701c2cc3))\n* **Ads:** Fix initial ads configuration ([#6176](https://github.com/shaka-project/shaka-player/issues/6176)) ([4b997a9](https://github.com/shaka-project/shaka-player/commit/4b997a95691a5cd61417f488d155aca32b071c89))\n* **CMCD:** Allow reconfigure session ID ([#6177](https://github.com/shaka-project/shaka-player/issues/6177)) ([a9e7fa5](https://github.com/shaka-project/shaka-player/commit/a9e7fa59f84f3036f4a530ccdf28ee158aa7b029))\n* **CMCD:** Fix CMCD for some mimetypes in src= ([#6178](https://github.com/shaka-project/shaka-player/issues/6178)) ([bbb1ebb](https://github.com/shaka-project/shaka-player/commit/bbb1ebb9e5007820b9a60e5835369150bd5ac369))\n* Fix wrong aspect ratio in transmuxed videos ([#6170](https://github.com/shaka-project/shaka-player/issues/6170)) ([d8e08fb](https://github.com/shaka-project/shaka-player/commit/d8e08fb05e7f796d8180f7999a5d86c5def25eba))\n* **HLS:** Fix VVC codec selection in HLS ([#6156](https://github.com/shaka-project/shaka-player/issues/6156)) ([00b73c8](https://github.com/shaka-project/shaka-player/commit/00b73c8ea2d02d8b29ce9a16cff982e0d19a6bc4))\n* player Dropping Variant (better codec available) when it should not ([#6163](https://github.com/shaka-project/shaka-player/issues/6163)) ([fb1214d](https://github.com/shaka-project/shaka-player/commit/fb1214d50f117a2e6c57674b6d5b368de368b520))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.12 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.12 (#6181)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d6ed6ca63ac8d88f001",
    "number": 6180,
    "body": null,
    "head_branch": "detect-max-hw-resolution",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Detect maximum HW resolution automatically on some platforms (#6180)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d6fd6ca63ac8d88f002",
    "number": 6178,
    "body": null,
    "head_branch": "cmcd-src-equals",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(CMCD): Fix CMCD for some mimetypes in src= (#6178)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d70d6ca63ac8d88f003",
    "number": 6177,
    "body": null,
    "head_branch": "cmcd-sid-config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(CMCD): Allow reconfigure session ID (#6177)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d71d6ca63ac8d88f004",
    "number": 6176,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/6169",
    "head_branch": "ads-config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Ads): Fix initial ads configuration (#6176)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/6169"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d72d6ca63ac8d88f005",
    "number": 6175,
    "body": "- #6173\r\n\r\n# changes\r\n\r\n- Introduced a new `setHttpFetchUtil` method in `shaka.Player` class to help set a custom Fetcher function (replacing the default Fetch API provided via `shaka.net.HttpFetchPlugin.fetch_`)",
    "head_branch": "v4.7.7-custom",
    "is_a_fork": true,
    "comments": [
      "Instead of adding an extra option that changes the way the existing fetch networking plugin works, you should register your own networking plugin in your own code: https://shaka-player-demo.appspot.com/docs/api/tutorial-plugins.html",
      "@absidue Thanks for the useful link. I will try to work on that.\r\n\r\nI am Closing this PR for now.\r\n\r\nThanks for the help!"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d73d6ca63ac8d88f006",
    "number": 6174,
    "body": null,
    "head_branch": "v4.7.7-custom",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/6174/checks?check_run_id=20956798436) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d74d6ca63ac8d88f007",
    "number": 6172,
    "body": "Dynamically update playback rate to keep the buffer full.\r\n\r\nRelated to https://github.com/shaka-project/shaka-player/issues/6131",
    "head_branch": "vod-pbr-buffer",
    "is_a_fork": true,
    "comments": [
      "This is ready for review again."
    ],
    "commit_messages": [
      "feat: vod dynamic playback rate buffer control (#6172)\n\nDynamically update playback rate to keep the buffer full.\r\n\r\nRelated to https://github.com/shaka-project/shaka-player/issues/6131"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d75d6ca63ac8d88f008",
    "number": 6171,
    "body": null,
    "head_branch": "cmcd-dl-nrr-nor",
    "is_a_fork": true,
    "comments": [
      "@littlespex It's a draft PR because I wants a first review from you first"
    ],
    "commit_messages": [
      "feat(CMCD): Add support to dl, nrr and nor parameters (#6171)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d76d6ca63ac8d88f009",
    "number": 6170,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6168",
    "head_branch": "pasp-box",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix wrong aspect ratio in transmuxed videos (#6170)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6168"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d77d6ca63ac8d88f00a",
    "number": 6167,
    "body": "This callback gives developers a chance to modify cues after they are parsed but before they are appended.",
    "head_branch": "captionPositionBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(text): Add MediaSource.modifyCueCallback (#6167)\n\nThis callback gives developers a chance to modify cues after they are\r\nparsed but before they are appended."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d78d6ca63ac8d88f00b",
    "number": 6166,
    "body": "## 📖 Description of the problem\r\n\r\nA regression got introduced in version `4.2.7` where audio.codecs got rewrite (ref: https://github.com/shaka-project/shaka-player/pull/4858) with the corrected audio codecs.\r\n\r\nAfter this change, the player tries to play the audio stream with codec EC-3 instead of AC-3 (the original value provided by the manifest representation) due to the current implementation of supporting AC-3 on Tizen.\r\n\r\n## 📚 Fix\r\n\r\nDelegating the check from ac-3 to ec-3 in `stream_utils` to the actual media capabilities polyfill so that when a system is requesting the support of `AC-3` audio codec on Tizen, we change the capabilities to `EC-3` and let it do its check.\r\n\r\n## 📓 Reference\r\n\r\nThis completes the work on 🐛  https://github.com/shaka-project/shaka-player/issues/6160.\r\n\r\n## 🗒 Note\r\n\r\nIt was tested locally on a real Samsung TV (Tizen 5.0) in our internal project using Shaka as well as a dumbed down project with Shaka only providing the manifest listed in the bug.\r\n",
    "head_branch": "fix/tizen-ac-3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: AC-3 audio codec support on Tizen (#6166)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6160"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d79d6ca63ac8d88f00c",
    "number": 6165,
    "body": null,
    "head_branch": "hsl-stream-bandwidth-audio-only",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Set the bandwidth correctly for audio/video-only variants (#6165)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d7ad6ca63ac8d88f00d",
    "number": 6164,
    "body": null,
    "head_branch": "lowlatency-config-changes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d7bd6ca63ac8d88f00e",
    "number": 6163,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6162",
    "head_branch": "dropping-variant",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: player Dropping Variant (better codec available) when it should not (#6163)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6162"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d7cd6ca63ac8d88f00f",
    "number": 6161,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6159",
    "head_branch": "fix-preferredAudioChannelCount",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d7dd6ca63ac8d88f010",
    "number": 6157,
    "body": null,
    "head_branch": "vpcc-av1c-boxes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Parse vpcC and av1C boxes (#6157)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d7ed6ca63ac8d88f011",
    "number": 6156,
    "body": null,
    "head_branch": "vvc-hls-detection",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix VVC codec selection in HLS (#6156)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d7ed6ca63ac8d88f012",
    "number": 6155,
    "body": null,
    "head_branch": "supplemental-codecs-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Add support for SUPPLEMENTAL-CODECS (#6155)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d7fd6ca63ac8d88f013",
    "number": 6154,
    "body": null,
    "head_branch": "dolby-vision-avc-av1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add support for Dolby Vision based on AVC and AV1 (#6154)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d80d6ca63ac8d88f014",
    "number": 6153,
    "body": null,
    "head_branch": "typoBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Fix minor typo in demo configuration. (#6153)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d81d6ca63ac8d88f015",
    "number": 6151,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.7](https://github.com/shaka-project/shaka-player/compare/v4.7.6...v4.7.7) (2024-01-24)\n\n\n### Bug Fixes\n\n* add missing properties to PlayButton type ([#6130](https://github.com/shaka-project/shaka-player/issues/6130)) ([dcea386](https://github.com/shaka-project/shaka-player/commit/dcea3865e9db5399c6acab3449b62b8e4b38f945))\n* Allow by default variants without pssh in the manifest ([#6144](https://github.com/shaka-project/shaka-player/issues/6144)) ([dad7669](https://github.com/shaka-project/shaka-player/commit/dad766907ff99da29e5e496a05907dc28a319863))\n* Fix detection of spatial rendering support in Cast ([#6138](https://github.com/shaka-project/shaka-player/issues/6138)) ([272751c](https://github.com/shaka-project/shaka-player/commit/272751c52200b46e8545df1f1289e5b40655a550))\n* Fix nalu parsing in TS ([#6137](https://github.com/shaka-project/shaka-player/issues/6137)) ([ec5882f](https://github.com/shaka-project/shaka-player/commit/ec5882fcc319b16193418b3a2831dfdd42aba732))\n* **offline:** Fix store persistent licenses with drm info in the pssh ([#6143](https://github.com/shaka-project/shaka-player/issues/6143)) ([5dc441d](https://github.com/shaka-project/shaka-player/commit/5dc441d5092fb4f53356d433815ccdd882186041))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.7 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.7 (#6151)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d82d6ca63ac8d88f016",
    "number": 6150,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.11](https://github.com/shaka-project/shaka-player/compare/v4.6.10...v4.6.11) (2024-01-24)\n\n\n### Bug Fixes\n\n* add missing properties to PlayButton type ([#6130](https://github.com/shaka-project/shaka-player/issues/6130)) ([2ecd8c9](https://github.com/shaka-project/shaka-player/commit/2ecd8c9980b2187697897a79d982a449188b7015))\n* Allow by default variants without pssh in the manifest ([#6144](https://github.com/shaka-project/shaka-player/issues/6144)) ([862809a](https://github.com/shaka-project/shaka-player/commit/862809a0ad14f4f1bba0a0416d16d54d31362f43))\n* Fix detection of spatial rendering support in Cast ([#6138](https://github.com/shaka-project/shaka-player/issues/6138)) ([a0a3103](https://github.com/shaka-project/shaka-player/commit/a0a310326d66d2b5b99478fd77b6e3aa558b7a8a))\n* Fix nalu parsing in TS ([#6137](https://github.com/shaka-project/shaka-player/issues/6137)) ([6183af8](https://github.com/shaka-project/shaka-player/commit/6183af88eaa052721bf8906b98caad7ba339d25d))\n* **offline:** Fix store persistent licenses with drm info in the pssh ([#6143](https://github.com/shaka-project/shaka-player/issues/6143)) ([1fe82fe](https://github.com/shaka-project/shaka-player/commit/1fe82fe0855a0151bf16986529af08b04b990790))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.11 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.11 (#6150)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d83d6ca63ac8d88f017",
    "number": 6149,
    "body": "This PR introduces a live sync panic mode (`streaming.liveSyncPanicMode`) which sets the player into the `streaming.liveSyncMinPlaybackRate` while we're within the `streaming.liveSyncPanicThreshold`. This should help reduce the change of subsequent rebuffering events by moving further away from the live edge.\r\n\r\nPart 1 of potentially 3 of #6131.",
    "head_branch": "live-sync-panic",
    "is_a_fork": true,
    "comments": [
      "I did not test this extensively, yet.",
      "Seems to be working. I was thinking that it wasn't kicking in enough and then I realized I needed to convert the threshold into ms.\r\n\r\nAlso, when playing back live HLS in chrome, it basically always stopped here: https://github.com/shaka-project/shaka-player/blob/35b8fb1cc5df616e43572277a6c8b2f3a1495807/lib/player.js#L5657-L5661\r\nBut otherwise, seems to be working as expected for DASH and for live hls on safari.",
      "> Seems to be working. I was thinking that it wasn't kicking in enough and then I realized I needed to convert the threshold into ms.\r\n> \r\n> Also, when playing back live HLS in chrome, it basically always stopped here:\r\n> \r\n> https://github.com/shaka-project/shaka-player/blob/35b8fb1cc5df616e43572277a6c8b2f3a1495807/lib/player.js#L5657-L5661\r\n> \r\n> But otherwise, seems to be working as expected for DASH and for live hls on safari.\r\n\r\nFor it to work in HLS Live in Chorme you need to `useSafariBehaviorForLive = false`. I have tried and with this it works correctly.",
      "> For it to work in HLS Live in Chorme you need to `useSafariBehaviorForLive = false`. I have tried and with this it works correctly.\r\n\r\nAh, Ok, I was missing something 🙂.\r\n\r\nThanks!"
    ],
    "commit_messages": [
      "feat: add a live sync panic mode (#6149)\n\nThis PR introduces a live sync panic mode\r\n(`streaming.liveSyncPanicMode`) which sets the player into the\r\n`streaming.liveSyncMinPlaybackRate` while we're within the\r\n`streaming.liveSyncPanicThreshold`. This should help reduce the change\r\nof subsequent rebuffering events by moving further away from the live\r\nedge.\r\n\r\nRelated to #6131."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d84d6ca63ac8d88f018",
    "number": 6148,
    "body": "This commit aims to minimize unnecessary memory allocation during stream content checks. It will indirectly reduce the load on the garbage collector.",
    "head_branch": "perf/hls-do-ot-allocate-memory-and-break-out-early",
    "is_a_fork": true,
    "comments": [
      "Please, fix the test!",
      "Closing due to inactivity. If the author would like to continue this PR, they can reopen it (preferred) or start a new one (if needed)."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d85d6ca63ac8d88f019",
    "number": 6147,
    "body": "Handle remove chevrons that appear as part of the inner text of the element to avoid parse failure.",
    "head_branch": "remove-chevrons-from-innertext",
    "is_a_fork": true,
    "comments": [
      "@gkatsev can your review it also? Thanks!",
      "Yes, taking a look. Decided it was worth taking a look at the spec, and it seems like `<` isn't allowed in cue text body, but `>` is allowed: https://www.w3.org/TR/webvtt/#webvtt-cue-text-span\r\n\r\nI've also confirmed the behavior in firefox, chrome, and safari, where if there's `<` things after it get swallowed up and not rendered.\r\n\r\nFor example:\r\n```\r\nt.addCue(new VTTCue(0, 10, '<c>foobar < > > fdjkfdj</c>'))\r\n```\r\nwill only render `foobar > fdjkfdj`\r\n\r\nand \r\n```\r\nt.addCue(new VTTCue(0, 10, '<c>foobar > foo >foo <test> > < fdjkfdj</c>')) \r\n```\r\nwill only render `foobar > foo >foo >`\r\n\r\nand\r\n```\r\nt.addCue(new VTTCue(0, 10, '<c>foobar --> foobaz</c>'))\r\n```\r\nwill render as `foobar --> foobaz`\r\n\r\nGiven this, we can probably even simplify the escape a bit.",
      "I will remove the function I added to string utils and create a method in VTT parser just for this."
    ],
    "commit_messages": [
      "feat(WebVTT): Handle badly formed VTT (#6147)\n\nHandle remove chevrons that appear as part of the inner text of the\r\nelement to avoid parse failure."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d86d6ca63ac8d88f01a",
    "number": 6146,
    "body": null,
    "head_branch": "box-parser",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Parse avcC, hvcC and dvcC boxes (#6146)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d87d6ca63ac8d88f01b",
    "number": 6145,
    "body": "The tXml parser gracefully handles this now, so it is no longer needed.",
    "head_branch": "remove-vtt-payload-normalisation",
    "is_a_fork": true,
    "comments": [
      "@dave-nicholas I convert it into a feat so that it is not included until 5.0 is released since it depends on changes in this release."
    ],
    "commit_messages": [
      "feat(WebVTT): Remove un-needed VTT payload normalisation (#6145)\n\nThe tXml parser gracefully handles this now, so it is no longer needed."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d88d6ca63ac8d88f01c",
    "number": 6144,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5176",
    "head_branch": "variants-without-pssh",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Allow by default variants without pssh in the manifest (#6144)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5176"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d89d6ca63ac8d88f01d",
    "number": 6143,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6141",
    "head_branch": "storage-offline",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(offline): Fix store persistent licenses with drm info in the pssh (#6143)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6141"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d8ad6ca63ac8d88f01e",
    "number": 6139,
    "body": "Implements the behavior outlines in #6128.\r\nAdds `streaming.prefetchAudioLanguages` and `streaming.disableVideoPrefetch` options.\r\n\r\nDoes not currently have `disableAudioPrefetch` and `disableTextPrefetch`.",
    "head_branch": "prefetch-audio-languages",
    "is_a_fork": true,
    "comments": [
      "This is a draft PR because some tests are failing (they pass in our fork) but I wanted to get this out asap to get some eyes on them. I'll take a look into why tests are failing and fix them before adding in support for `disableAudioPrefetch` and `disableTextPrefetch`.",
      "Tests fixed. I also ran a quick check locally and seems to be working as expected, still. Next steps for this PR:\r\n- [x] update the API for SegmentPrefetch\r\n- [x] disable video segment prefetch if `disableVideoPrefetch` is enabled after playback began\r\n- [x] add `disableAudioPrefetch`\r\n- [x] add `disableTextPrefetch`\r\n- [x] address demo config change",
      "Noticed that if I enable `disableVideoPrefetch` after the fact, it doesn't disable it if previously enabled, so, another change that needs to happen.",
      "Also, right now, segment prefetch never runs for text. `createSegmentPrefetch` only runs for VIDEO and AUDIO streams: https://github.com/shaka-project/shaka-player/blob/701ec9bece38d202c08db7910130616ee4be11f8/lib/media/streaming_engine.js#L899-L902\r\n\r\nGiven this, I'm inclined to skip `disableTextPrefetch` as enabling it would be a whole other feature.",
      "I think this PR is ready for a proper review now.",
      "Please fix the tests",
      "Tests fixed."
    ],
    "commit_messages": [
      "feat: prefetch audio languages. (#6139)\n\nCloses #6128"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d8bd6ca63ac8d88f01f",
    "number": 6138,
    "body": "See https://developers.google.com/cast/docs/media#audio_passthrough ",
    "head_branch": "cast-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix detection of spatial rendering support in Cast (#6138)\n\nSee https://developers.google.com/cast/docs/media#audio_passthrough"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d8cd6ca63ac8d88f020",
    "number": 6137,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6136",
    "head_branch": "nalu-parsing",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix nalu parsing in TS (#6137)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6136"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d8dd6ca63ac8d88f021",
    "number": 6135,
    "body": null,
    "head_branch": "demo-manifest-sections",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore(Demo): Split manifest sections by manifest parser (#6135)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d8ed6ca63ac8d88f022",
    "number": 6132,
    "body": null,
    "head_branch": "box-parser",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d8fd6ca63ac8d88f023",
    "number": 6130,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6125.",
    "head_branch": "add-missing-properties-to-PlayButton-type",
    "is_a_fork": true,
    "comments": [
      "Thanks you @avelad for the approval !"
    ],
    "commit_messages": [
      "fix: add missing properties to PlayButton type (#6130)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6125."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d90d6ca63ac8d88f024",
    "number": 6126,
    "body": null,
    "head_branch": "addTextTrackAsync-kind-validation",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Add warning on unsupported kind in addTextTrackAsync (#6126)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d91d6ca63ac8d88f025",
    "number": 6124,
    "body": "More info in https://github.blog/changelog/2019-10-28-new-issue-template-configuration-options/",
    "head_branch": "blank_issues",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Always use a template for issues (#6124)\n\nMore info in\r\nhttps://github.blog/changelog/2019-10-28-new-issue-template-configuration-options/"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d92d6ca63ac8d88f026",
    "number": 6123,
    "body": null,
    "head_branch": "question-template",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update question template (#6123)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d93d6ca63ac8d88f027",
    "number": 6122,
    "body": null,
    "head_branch": "apic-demo",
    "is_a_fork": true,
    "comments": [
      "Test stream https://stream-cdn-1.open.fm/OFM18/ngrp:standard/playlist.m3u8"
    ],
    "commit_messages": [
      "feat(Demo): Show APIC(ID3) as poster for audio only streams (#6122)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d94d6ca63ac8d88f028",
    "number": 6121,
    "body": "If available streams differ only by label, PeriodCombiner does not take it into account when looking for the best candidate. Due to that streams from newly arrived periods will create new audio tracks, as existing streams match always with firstly found stream from new period.\r\n\r\nIssue has been mitigated by recent PeriodCombiner improvements, as label has been used for hash generation. But if hash don't match i.e. due to bandwidth change, issue would still appear.\r\n\r\nI haven't added similar check for video streams because I'm not sure what should be the precedence of it. If any suggestions, I'm happy to add it as well!",
    "head_branch": "wt-pc-label",
    "is_a_fork": true,
    "comments": [
      "@theodab can you review it? Thanks!"
    ],
    "commit_messages": [
      "fix(DASH): Use labels to stitch streams across periods (#6121)\n\nIf available streams differ only by label, PeriodCombiner does not take it into account when looking for the best candidate. Due to that streams from newly arrived periods will create new audio tracks, as existing streams match always with firstly found stream from new period.\r\n\r\nIssue has been mitigated by recent PeriodCombiner improvements, as label has been used for hash generation. But if hash don't match i.e. due to bandwidth change, issue would still appear."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d95d6ca63ac8d88f029",
    "number": 6120,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.6](https://github.com/shaka-project/shaka-player/compare/v4.7.5...v4.7.6) (2024-01-18)\n\n\n### Bug Fixes\n\n* Change quality only when adding the last partial segment and it is fast switching ([#6114](https://github.com/shaka-project/shaka-player/issues/6114)) ([f1937da](https://github.com/shaka-project/shaka-player/commit/f1937daa0a06f2ad7c4c54479eec8a15f98d3891))\n* **DASH:** Fix PERIOD_FLATTENING_FAILED on fastswitching streams ([#6113](https://github.com/shaka-project/shaka-player/issues/6113)) ([216a13d](https://github.com/shaka-project/shaka-player/commit/216a13d90eeaae4c05fbc371c3c57b40014e4e11))\n* Don't retry MSE errors on startup ([#6112](https://github.com/shaka-project/shaka-player/issues/6112)) ([28479ef](https://github.com/shaka-project/shaka-player/commit/28479ef6bd5fa429969cf978cb7afe319e7acc2d))\n* Include text bandwidth in stats ([#6109](https://github.com/shaka-project/shaka-player/issues/6109)) ([1f49e81](https://github.com/shaka-project/shaka-player/commit/1f49e81a2b6e4c4bce2958510afd2ef1d18bffce))\n* Reject Opus encrypted on Firefox Android ([#6115](https://github.com/shaka-project/shaka-player/issues/6115)) ([2115142](https://github.com/shaka-project/shaka-player/commit/2115142a1b453e99fdb375b06e34eb0f0003fb65))\n* **UI:** Disable PiP on casting ([#6110](https://github.com/shaka-project/shaka-player/issues/6110)) ([171c182](https://github.com/shaka-project/shaka-player/commit/171c182eed086eb32563df5c7b4667320debd4f9))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.6 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.6 (#6120)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d96d6ca63ac8d88f02a",
    "number": 6119,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.10](https://github.com/shaka-project/shaka-player/compare/v4.6.9...v4.6.10) (2024-01-18)\n\n\n### Bug Fixes\n\n* Include text bandwidth in stats ([#6109](https://github.com/shaka-project/shaka-player/issues/6109)) ([34d75b1](https://github.com/shaka-project/shaka-player/commit/34d75b137c2ccd8fbff4acc1eb44766cbbefab2d))\n* Reject Opus encrypted on Firefox Android ([#6115](https://github.com/shaka-project/shaka-player/issues/6115)) ([02689f8](https://github.com/shaka-project/shaka-player/commit/02689f8a85b2150a282bd8cce5d420e255df2320))\n* **UI:** Disable PiP on casting ([#6110](https://github.com/shaka-project/shaka-player/issues/6110)) ([3167736](https://github.com/shaka-project/shaka-player/commit/3167736e61657b1560a82bed2d7ca4a43da7e30d))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.10 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.10 (#6119)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d97d6ca63ac8d88f02b",
    "number": 6118,
    "body": null,
    "head_branch": "hls-aes-cache",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Avoid duplicate AES request when using the same info (#6118)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d98d6ca63ac8d88f02c",
    "number": 6117,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/6116",
    "head_branch": "show-hide-ui-programmatically",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Allow show/hide ui programmatically (#6117)\n\nCloses https://github.com/shaka-project/shaka-player/issues/6116"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d98d6ca63ac8d88f02d",
    "number": 6115,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6111",
    "head_branch": "firefox-android-opus",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Reject Opus encrypted on Firefox Android (#6115)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6111"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d99d6ca63ac8d88f02e",
    "number": 6114,
    "body": null,
    "head_branch": "fastswitching-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Change quality only when adding the last partial segment and it is fast switching (#6114)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d9ad6ca63ac8d88f02f",
    "number": 6113,
    "body": null,
    "head_branch": "period-combiner-fast-switching",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DASH): Fix PERIOD_FLATTENING_FAILED on fastswitching streams (#6113)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d9bd6ca63ac8d88f030",
    "number": 6112,
    "body": "Do not retry MSE errors on startup to avoid masking errors when the stream loads",
    "head_branch": "allowMediaSourceRecoveries",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Don't retry MSE errors on startup (#6112)\n\nDo not retry MSE errors on startup to avoid masking errors when the\r\nstream loads"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d9cd6ca63ac8d88f031",
    "number": 6110,
    "body": null,
    "head_branch": "ui-pip",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(UI): Disable PiP on casting (#6110)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d9dd6ca63ac8d88f032",
    "number": 6109,
    "body": null,
    "head_branch": "stats-text-bandwidth",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Include text bandwidth in stats (#6109)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d9ed6ca63ac8d88f033",
    "number": 6108,
    "body": "When stream is paused and codec switch is done, stream resumes to play. Moving setting autoplay from `canplay` to `canplaythrough` fixes this issue.\r\n\r\nProblem observed on Tizen 6 & 7.",
    "head_branch": "wt-autoplay-upstream",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: stay paused after codec switch (#6108)\n\nWhen stream is paused and codec switch is done, stream resumes to play.\r\nMoving setting autoplay from `canplay` to `canplaythrough` fixes this\r\nissue.\r\n\r\nProblem observed on Tizen 6 & 7."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219d9fd6ca63ac8d88f034",
    "number": 6107,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.5](https://github.com/shaka-project/shaka-player/compare/v4.7.4...v4.7.5) (2024-01-16)\n\n\n### Bug Fixes\n\n* auto cancel trickPlay on live as specified ([#6100](https://github.com/shaka-project/shaka-player/issues/6100)) ([d4f3b1f](https://github.com/shaka-project/shaka-player/commit/d4f3b1f71bdeae2a04d774d8963d7b1d97337811))\n* do not append blank codec strings ([#6093](https://github.com/shaka-project/shaka-player/issues/6093)) ([ffafe5a](https://github.com/shaka-project/shaka-player/commit/ffafe5a0d22997d5baf5ab129350c95173681261)), closes [#6092](https://github.com/shaka-project/shaka-player/issues/6092)\n* Reset to default playback rate on release playback rate controller ([#6089](https://github.com/shaka-project/shaka-player/issues/6089)) ([c2e31f1](https://github.com/shaka-project/shaka-player/commit/c2e31f1c6a707354e2d2b75dc03d003c3b9faee2))\n* stay paused after codec switch ([#6108](https://github.com/shaka-project/shaka-player/issues/6108)) ([d7748c4](https://github.com/shaka-project/shaka-player/commit/d7748c44c9d665a524ff6d19b84722f6e05763e6))\n* **TTML:** Clip to video when extent is not present ([#6086](https://github.com/shaka-project/shaka-player/issues/6086)) ([4506f13](https://github.com/shaka-project/shaka-player/commit/4506f13d463d5be2554f28a9aff410d0dde71062))\n* **UI:** Update the playbackrate on loaded event ([#6090](https://github.com/shaka-project/shaka-player/issues/6090)) ([fdc03b9](https://github.com/shaka-project/shaka-player/commit/fdc03b99fa371a04374b0054798cc90e32df30f0))\n* When disconnecting from chromecast, subtitles are turned off ([#6103](https://github.com/shaka-project/shaka-player/issues/6103)) ([96cc25a](https://github.com/shaka-project/shaka-player/commit/96cc25a87d44dc1258b04d3158b45354a6b0671d))\n\n\n### Performance Improvements\n\n* **HLS:** do not filter all tags to get the first tag ([#6088](https://github.com/shaka-project/shaka-player/issues/6088)) ([0d8a45a](https://github.com/shaka-project/shaka-player/commit/0d8a45a2ebec376995e5381192e67f7bf9aa907a))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.5 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.5 (#6107)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219da0d6ca63ac8d88f035",
    "number": 6106,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.9](https://github.com/shaka-project/shaka-player/compare/v4.6.8...v4.6.9) (2024-01-16)\n\n\n### Bug Fixes\n\n* auto cancel trickPlay on live as specified ([#6100](https://github.com/shaka-project/shaka-player/issues/6100)) ([60c78f7](https://github.com/shaka-project/shaka-player/commit/60c78f7cab559afbef871aa447290266e52dadc1))\n* Reset to default playback rate on release playback rate controller ([#6089](https://github.com/shaka-project/shaka-player/issues/6089)) ([e9c11cd](https://github.com/shaka-project/shaka-player/commit/e9c11cdb34800226666703b56b4fe5af0e4fcac0))\n* stay paused after codec switch ([#6108](https://github.com/shaka-project/shaka-player/issues/6108)) ([2499947](https://github.com/shaka-project/shaka-player/commit/2499947275d8d10217068d0a1babf244538dfab5))\n* **TTML:** Clip to video when extent is not present ([#6086](https://github.com/shaka-project/shaka-player/issues/6086)) ([17f8bb6](https://github.com/shaka-project/shaka-player/commit/17f8bb6711babaca0fc7437d7f4f7bc7d72050bf))\n* **UI:** Update the playbackrate on loaded event ([#6090](https://github.com/shaka-project/shaka-player/issues/6090)) ([243c113](https://github.com/shaka-project/shaka-player/commit/243c113101299def0b3ba0a525581b707d90aab3))\n* When disconnecting from chromecast, subtitles are turned off ([#6103](https://github.com/shaka-project/shaka-player/issues/6103)) ([f0b506b](https://github.com/shaka-project/shaka-player/commit/f0b506b8d77bc4da62466d8817d0241a079229d8))\n\n\n### Performance Improvements\n\n* **HLS:** do not filter all tags to get the first tag ([#6088](https://github.com/shaka-project/shaka-player/issues/6088)) ([4704577](https://github.com/shaka-project/shaka-player/commit/4704577add1acb3435a052295cc8b2ec12c8cde7))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.9 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.9 (#6106)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219da1d6ca63ac8d88f036",
    "number": 6105,
    "body": "Related to https://github.com/shaka-project/shaka-player/pull/6102",
    "head_branch": "filter-alias",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Make it easier to run just the offline tests (documentation) (#6105)\n\nRelated to https://github.com/shaka-project/shaka-player/pull/6102"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219da2d6ca63ac8d88f037",
    "number": 6103,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4036",
    "head_branch": "cast-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: When disconnecting from chromecast, subtitles are turned off (#6103)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4036"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219da3d6ca63ac8d88f038",
    "number": 6102,
    "body": "closes https://github.com/shaka-project/shaka-player/issues/2078",
    "head_branch": "run-offline-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Make it easier to run just the offline tests (#6102)\n\ncloses https://github.com/shaka-project/shaka-player/issues/2078"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219da4d6ca63ac8d88f039",
    "number": 6100,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5944",
    "head_branch": "trickplay-live",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: auto cancel trickPlay on live as specified (#6100)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5944"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219da5d6ca63ac8d88f03a",
    "number": 6097,
    "body": "In our streams we have guarantee that every track will have a single match in every period. This change allows `PeriodCombiner` to take benefit of this knowledge.\r\n\r\nI was testing `PeriodCombiner.combinePeriods()` performance of mentioned changes on Tizen 2021 on 2 streams and I've got following results:\r\n\r\n| content | upstream | proposed changes |\r\n| - | -: | -: |\r\n| stream 1 | 17 ms | 12 ms |\r\n| stream 2 | 191 ms | 98 ms |\r\n\r\nBoth streams are VOD.\r\nStream 1 has 18 periods with 6 video & audio tracks in each.\r\nStream 2 has 18 periods with 6 video tracks & 36 audio tracks in each. \r\n",
    "head_branch": "wt-period-combiner-config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(DASH): Allow PeriodCombiner for using streams once (#6097)\n\nIn our streams we have guarantee that every track will have a single\r\nmatch in every period. This change allows `PeriodCombiner` to take\r\nbenefit of this knowledge.\r\n\r\nI was testing `PeriodCombiner.combinePeriods()` performance of mentioned\r\nchanges on Tizen 2021 on 2 streams and I've got following results:\r\n\r\n| content | upstream | proposed changes |\r\n| - | -: | -: |\r\n| stream 1 | 17 ms | 12 ms |\r\n| stream 2 | 191 ms | 98 ms |\r\n\r\nBoth streams are VOD.\r\nStream 1 has 18 periods with 6 video & audio tracks in each.\r\nStream 2 has 18 periods with 6 video tracks & 36 audio tracks in each."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219da6d6ca63ac8d88f03b",
    "number": 6096,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/6039",
    "head_branch": "ui-quality-role-label",
    "is_a_fork": true,
    "comments": [
      "@absidue FYI",
      "This works perfectly, thank you so much :)."
    ],
    "commit_messages": [
      "feat(UI): Use the same logic to group variants into audio and quality selectors (#6096)\n\nCloses https://github.com/shaka-project/shaka-player/issues/6039"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219da7d6ca63ac8d88f03c",
    "number": 6095,
    "body": "Motivation: we (Sky/Peacock) were working on custom manifest parser and we wanted to use similar approach to `shaka.dash.TimelineSegmentIndex` but adjusted to our needs and data structure.\r\n\r\nSo similar to that, we extended base `SegmentIndex` class with our implementation, but `MetaSegmentIndex` didn't work correctly with this implementation due to 2 issues:\r\n1. `MetaSegmentIndex` uses protected `numEvicted_` field that we cannot modify externally in any way.\r\n2. Even adding exported `getNumEvicted()` method wasn't enough, because Closure Compiler optimization was aliasing internal call to this method in `MetaSegmentIndex` for some reason.\r\n\r\nBy moving crucial APIs to extern we can overcome this issue. Still, preferred way of using own SegmentIndex implementation is by extending base class, as it offers SegmentIterator out of the box.",
    "head_branch": "wt-segment-index",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: SegmentIndex minimal interface (#6095)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219da8d6ca63ac8d88f03d",
    "number": 6094,
    "body": "It was a bit irritating to recall what these split values were during debugging so I decided to name them",
    "head_branch": "chore/make-normalize-function-more-readable",
    "is_a_fork": true,
    "comments": [
      "Please fix the tests"
    ],
    "commit_messages": [
      "chore(language): make normalize function more readable through destructuring (#6094)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219da9d6ca63ac8d88f03e",
    "number": 6093,
    "body": "Resolves #6092 ",
    "head_branch": "issue/6092-text-codec-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: do not append blank codec strings (#6093)\n\nResolves #6092"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219daad6ca63ac8d88f03f",
    "number": 6090,
    "body": null,
    "head_branch": "ui-playbackrate-update",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(UI): Update the playbackrate on loaded event (#6090)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dabd6ca63ac8d88f040",
    "number": 6089,
    "body": null,
    "head_branch": "playbackrate-reset",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Reset to default playback rate on release playback rate controller (#6089)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dacd6ca63ac8d88f041",
    "number": 6088,
    "body": "Filtering all the tags to get the first one that's required is not needed",
    "head_branch": "perf/hls-utils-do-not-filter-all-tags-to-get-first",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "perf(HLS): do not filter all tags to get the first tag (#6088)\n\nFiltering all the tags to get the first one that's required is not\r\nneeded\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dacd6ca63ac8d88f042",
    "number": 6087,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4862",
    "head_branch": "tutorial-text-displayer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add tutorial for text displayer (#6087)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4862"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dadd6ca63ac8d88f043",
    "number": 6086,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4793",
    "head_branch": "ttml-wrong-position",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(TTML): Clip to video when extent is not present (#6086)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4793"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219daed6ca63ac8d88f044",
    "number": 6085,
    "body": null,
    "head_branch": "safari-test",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix some tests in Safari 17 (#6085)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dafd6ca63ac8d88f045",
    "number": 6084,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.4](https://github.com/shaka-project/shaka-player/compare/v4.7.3...v4.7.4) (2024-01-11)\n\n\n### Bug Fixes\n\n* **Ads:** Fix muting/unmuting ads won't affect video and vice versa ([#6073](https://github.com/shaka-project/shaka-player/issues/6073)) ([baf53ec](https://github.com/shaka-project/shaka-player/commit/baf53ec5dbae98c23e748a0955903361f181b5eb))\n* fix handling of multiple CC tracks ([#6076](https://github.com/shaka-project/shaka-player/issues/6076)) ([e657960](https://github.com/shaka-project/shaka-player/commit/e657960475df69c9a92aa8bea71256e8db991377))\n* **HLS:** getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME ([#6059](https://github.com/shaka-project/shaka-player/issues/6059)) ([cc1f3df](https://github.com/shaka-project/shaka-player/commit/cc1f3dfed75e16ac89f59c3f0e2799262477ac73))\n* **offline:** Fix server certificate error when trying to delete stored content ([#6080](https://github.com/shaka-project/shaka-player/issues/6080)) ([8473301](https://github.com/shaka-project/shaka-player/commit/8473301d78501eaef31bf2eac5d2a8a43ff36b61))\n* **UI:** Fix replay button when the post-roll is running using CS ([#6072](https://github.com/shaka-project/shaka-player/issues/6072)) ([c809573](https://github.com/shaka-project/shaka-player/commit/c8095735cca9557827c8f2d3d0a4643d6e2cf4b7))\n\n\n### Performance Improvements\n\n* Improve performance of addThumbnailsTrack ([#6067](https://github.com/shaka-project/shaka-player/issues/6067)) ([80fcc21](https://github.com/shaka-project/shaka-player/commit/80fcc215368f637f1889eeca8e0f4df754db3967))\n* **WebVTT:** Improve parsing time for unstyled payloads ([#6066](https://github.com/shaka-project/shaka-player/issues/6066)) ([e32c4bb](https://github.com/shaka-project/shaka-player/commit/e32c4bba054e66176a08e6b0af4eefb6d7a8bbee))\n\n\n### Reverts\n\n* Install by default shaka.polyfill.PatchedMediaKeysApple when there is no unprefixed EME support ([#6068](https://github.com/shaka-project/shaka-player/issues/6068)) ([2c4b000](https://github.com/shaka-project/shaka-player/commit/2c4b000431d3be77fae680377d695fc423a67a2a))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.4 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.4 (#6084)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219db0d6ca63ac8d88f046",
    "number": 6083,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.8](https://github.com/shaka-project/shaka-player/compare/v4.6.7...v4.6.8) (2024-01-11)\n\n\n### Bug Fixes\n\n* **Ads:** Fix muting/unmuting ads won't affect video and vice versa ([#6073](https://github.com/shaka-project/shaka-player/issues/6073)) ([71f7c57](https://github.com/shaka-project/shaka-player/commit/71f7c57b7fade6f3261c44f2836b9f8adb26edfa))\n* fix handling of multiple CC tracks ([#6076](https://github.com/shaka-project/shaka-player/issues/6076)) ([215b204](https://github.com/shaka-project/shaka-player/commit/215b2046f158d9065a5ffc33a59979af035f38af))\n* **HLS:** getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME ([#6059](https://github.com/shaka-project/shaka-player/issues/6059)) ([7d41ddc](https://github.com/shaka-project/shaka-player/commit/7d41ddc27510ff310ea6a4760ff5a17b7e8bbc0a))\n* **offline:** Fix server certificate error when trying to delete stored content ([#6080](https://github.com/shaka-project/shaka-player/issues/6080)) ([fd770ad](https://github.com/shaka-project/shaka-player/commit/fd770ad51f55416e9d1e1cc729d1b88795e18d8c))\n* **UI:** Fix replay button when the post-roll is running using CS ([#6072](https://github.com/shaka-project/shaka-player/issues/6072)) ([6c8b700](https://github.com/shaka-project/shaka-player/commit/6c8b700806c845edb4bcd78256f85e8d4bc70485))\n\n\n### Performance Improvements\n\n* Improve performance of addThumbnailsTrack ([#6067](https://github.com/shaka-project/shaka-player/issues/6067)) ([8d29cff](https://github.com/shaka-project/shaka-player/commit/8d29cffa14e907bcfc113421e62b1462b81259c3))\n* **WebVTT:** Improve parsing time for unstyled payloads ([#6066](https://github.com/shaka-project/shaka-player/issues/6066)) ([5740367](https://github.com/shaka-project/shaka-player/commit/5740367a242b48a71545aa09ecc4271a9d1a8d15))\n\n\n### Reverts\n\n* Install by default shaka.polyfill.PatchedMediaKeysApple when there is no unprefixed EME support ([#6068](https://github.com/shaka-project/shaka-player/issues/6068)) ([8747403](https://github.com/shaka-project/shaka-player/commit/8747403a9b889211a223474b2f04485d665dd211))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.8 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.8 (#6083)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219db1d6ca63ac8d88f047",
    "number": 6080,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6079",
    "head_branch": "storage-certificate",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(offline): Fix server certificate error when trying to delete stored content (#6080)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6079"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219db2d6ca63ac8d88f048",
    "number": 6078,
    "body": null,
    "head_branch": "tests-safari-17",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix some tests in Safari 17 (#6078)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219db3d6ca63ac8d88f049",
    "number": 6076,
    "body": "Due to issue around channel calculation, shaka was never using CC4 track and data from there were landing in CC2 track.",
    "head_branch": "wt-cea-fix-upstream",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: fix handling of multiple CC tracks (#6076)\n\nDue to issue around channel calculation, shaka was never using CC4 track\r\nand data from there were landing in CC2 track."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219db4d6ca63ac8d88f04a",
    "number": 6075,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2711",
    "head_branch": "expose-getSegmentAvailabilityDuration",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Expose PresentationTimeline segment availability duration through Player (#6075)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2711"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219db5d6ca63ac8d88f04b",
    "number": 6073,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6071",
    "head_branch": "muting-ads-video",
    "is_a_fork": true,
    "comments": [
      "@avelad Thanks, this was really fast. Works great! "
    ],
    "commit_messages": [
      "fix(Ads): Fix muting/unmuting ads won't affect video and vice versa (#6073)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6071"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219db6d6ca63ac8d88f04c",
    "number": 6072,
    "body": null,
    "head_branch": "replay-post-roll-ui",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(UI): Fix replay button when the post-roll is running using CS (#6072)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219db7d6ca63ac8d88f04d",
    "number": 6069,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/6039",
    "head_branch": "ui-quality-channel-count",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Use the same logic to group variants into audio and quality selectors (#6069)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/6039"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219db8d6ca63ac8d88f04e",
    "number": 6068,
    "body": "This reverts commit 5b5b2ce1746ea888e163dddb3d36125f03100102.\r\n\r\nDue to: https://github.com/shaka-project/shaka-player/commit/b1e5063cb8f17747bad40836c3c612224e2811a5#commitcomment-136674454",
    "head_branch": "revert",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "revert: Install by default shaka.polyfill.PatchedMediaKeysApple when there is no unprefixed EME support (#6068)\n\nThis reverts commit 5b5b2ce1746ea888e163dddb3d36125f03100102.\r\n\r\nDue to:\r\nhttps://github.com/shaka-project/shaka-player/commit/b1e5063cb8f17747bad40836c3c612224e2811a5#commitcomment-136674454"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219db9d6ca63ac8d88f04f",
    "number": 6067,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6065",
    "head_branch": "perf-addThumbnailsTrack",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "perf: Improve performance of addThumbnailsTrack (#6067)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6065"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dbad6ca63ac8d88f050",
    "number": 6066,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/6065",
    "head_branch": "perf-vtt-parser",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "perf(WebVTT): Improve parsing time for unstyled payloads (#6066)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/6065"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dbbd6ca63ac8d88f051",
    "number": 6064,
    "body": "Bumps [follow-redirects](https://github.com/follow-redirects/follow-redirects) from 1.14.8 to 1.15.4.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/65858205e59f1e23c9bf173348a7a7cbb8ac47f5\"><code>6585820</code></a> Release version 1.15.4 of the npm package.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/7a6567e16dfa9ad18a70bfe91784c28653fbf19d\"><code>7a6567e</code></a> Disallow bracketed hostnames.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/05629af696588b90d64e738bc2e809a97a5f92fc\"><code>05629af</code></a> Prefer native URL instead of deprecated url.parse.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/1cba8e85fa73f563a439fe460cf028688e4358df\"><code>1cba8e8</code></a> Prefer native URL instead of legacy url.resolve.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/72bc2a4229bc18dc9fbd57c60579713e6264cb92\"><code>72bc2a4</code></a> Simplify _processResponse error handling.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/3d42aecdca39b144a0a2f27ea134b4cf67dd796a\"><code>3d42aec</code></a> Add bracket tests.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/bcbb096b32686ecad6cd34235358ed6f2217d4f0\"><code>bcbb096</code></a> Do not directly set Error properties.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/192dbe7ce671ecad813c074bffe3b3f5d3680fee\"><code>192dbe7</code></a> Release version 1.15.3 of the npm package.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/bd8c81e4f32d12f28a35d265f88b1716703687c6\"><code>bd8c81e</code></a> Fix resource leak on destroy.</li>\n<li><a href=\"https://github.com/follow-redirects/follow-redirects/commit/9c728c314b06f9595dcd7f245d40731e8a27d79f\"><code>9c728c3</code></a> Split linting and testing.</li>\n<li>Additional commits viewable in <a href=\"https://github.com/follow-redirects/follow-redirects/compare/v1.14.8...v1.15.4\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=follow-redirects&package-manager=npm_and_yarn&previous-version=1.14.8&new-version=1.15.4)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/shaka-project/shaka-player/network/alerts).\n\n</details>",
    "head_branch": "dependabot/npm_and_yarn/follow-redirects-1.15.4",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(deps-dev): bump follow-redirects from 1.14.8 to 1.15.4 (#6064)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dbcd6ca63ac8d88f052",
    "number": 6063,
    "body": "## Background: \r\nThe native DOM Parser can perform poorly on some older devices, this approach is faster on newer devices but is considerably better on older devices.\r\nThis PR replaces the usage of the DOM Parser for DASH, MSS, VTT and TTML.\r\n\r\nThe draw back of this approach that it does not include any validation at the cost of better performance.\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfeat: Replace native DOM Parser with a more performant one (#6063)\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "txml-dash-mss",
    "is_a_fork": true,
    "comments": [
      "@dave-nicholas Since it change the returns of some externs, i'll change it to feat!",
      "@theodab can you review it again? Thanks!"
    ],
    "commit_messages": [
      "feat!: Remove DOM Parser (#6063)\n\n## Background: \r\nThe native DOM Parser can perform poorly on some older devices, this\r\napproach is faster on newer devices but is considerably better on older\r\ndevices.\r\nThis PR replaces the usage of the DOM Parser for DASH, MSS, VTT and\r\nTTML.\r\n\r\nThe draw back of this approach that it does not include any validation\r\nat the cost of better performance."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dbdd6ca63ac8d88f053",
    "number": 6062,
    "body": null,
    "head_branch": "demo-fairplay-asset",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore(Demo): Add FairPlay asset from EZDRM to demo (#6062)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dbed6ca63ac8d88f054",
    "number": 6061,
    "body": null,
    "head_branch": "content-steering-hls-readme",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update Content Steering support in README (#6061)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dbed6ca63ac8d88f055",
    "number": 6060,
    "body": null,
    "head_branch": "readme-demo",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore(Demo): Add more demo pages to README (#6060)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dbfd6ca63ac8d88f056",
    "number": 6059,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5939",
    "head_branch": "getPlayheadTimeAsDate-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME (#6059)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5939"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dc0d6ca63ac8d88f057",
    "number": 6057,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.3](https://github.com/shaka-project/shaka-player/compare/v4.7.2...v4.7.3) (2024-01-09)\n\n\n### Bug Fixes\n\n* **Ads:** Fix VMAP won't play in muted autoplay ([#6046](https://github.com/shaka-project/shaka-player/issues/6046)) ([50d9640](https://github.com/shaka-project/shaka-player/commit/50d96403ec80b9c0ef7bb43daf624e2105a55274))\n* **DASH:** Fix bad error on DASH DAI ([#6047](https://github.com/shaka-project/shaka-player/issues/6047)) ([ce8792d](https://github.com/shaka-project/shaka-player/commit/ce8792dc819e4b0419b2839d91df654b001d2a5d))\n* **Demo:** Allow play MP4 and TS in legacy iOS devices ([#6051](https://github.com/shaka-project/shaka-player/issues/6051)) ([ea8f3fc](https://github.com/shaka-project/shaka-player/commit/ea8f3fc020b85d2eddc789691334f0d40d5f5ce4))\n* **HLS:** Fix playback of muxed TS content in Safari ([#6045](https://github.com/shaka-project/shaka-player/issues/6045)) ([baa31d2](https://github.com/shaka-project/shaka-player/commit/baa31d21ae01afd0fe44d61a913c90ba26e12768))\n* **HLS:** Live recovery after disconnects ([#6048](https://github.com/shaka-project/shaka-player/issues/6048)) ([0a5d42b](https://github.com/shaka-project/shaka-player/commit/0a5d42b4000c3bd5e7f383f072e56210a758f590))\n* Improved HEAD request fail test when fallback-ing to GET request ([#6044](https://github.com/shaka-project/shaka-player/issues/6044)) ([4e2ca68](https://github.com/shaka-project/shaka-player/commit/4e2ca68a67800afe6623c5531da3a0d9350de242))\n* Install by default shaka.polyfill.PatchedMediaKeysApple when there is no unprefixed EME support ([#6053](https://github.com/shaka-project/shaka-player/issues/6053)) ([b1e5063](https://github.com/shaka-project/shaka-player/commit/b1e5063cb8f17747bad40836c3c612224e2811a5))\n* text roles being combined incorrectly in some multiperiod cases ([#6055](https://github.com/shaka-project/shaka-player/issues/6055)) ([ee42570](https://github.com/shaka-project/shaka-player/commit/ee4257099f0adf48a0437df1783f518b90b4e145)), closes [#6054](https://github.com/shaka-project/shaka-player/issues/6054)\n* **UI:** Fix the scrolling when scrolling from the laterals when seekOnTaps is enabled ([#6050](https://github.com/shaka-project/shaka-player/issues/6050)) ([4564233](https://github.com/shaka-project/shaka-player/commit/456423383c8c8c718a4c2916f4610340c390b56b))\n\n\n### Performance Improvements\n\n* PeriodCombiner improvements ([#6005](https://github.com/shaka-project/shaka-player/issues/6005)) ([ffd60f1](https://github.com/shaka-project/shaka-player/commit/ffd60f12c64b5768532aa1a368cad57bf934de4e))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.3 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.3 (#6057)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dc1d6ca63ac8d88f058",
    "number": 6056,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.7](https://github.com/shaka-project/shaka-player/compare/v4.6.6...v4.6.7) (2024-01-09)\n\n\n### Bug Fixes\n\n* **Ads:** Fix VMAP won't play in muted autoplay ([#6046](https://github.com/shaka-project/shaka-player/issues/6046)) ([2ee7389](https://github.com/shaka-project/shaka-player/commit/2ee73894c8f685167c519d0d9c666647bd6d5a8a))\n* **Demo:** Allow play MP4 and TS in legacy iOS devices ([#6051](https://github.com/shaka-project/shaka-player/issues/6051)) ([daf667a](https://github.com/shaka-project/shaka-player/commit/daf667a1cbba2c0b0dfcbb0192254912ab9b92ca))\n* **HLS:** Live recovery after disconnects ([#6048](https://github.com/shaka-project/shaka-player/issues/6048)) ([44fdb64](https://github.com/shaka-project/shaka-player/commit/44fdb648726f57ba474ca02b257fa94c8891c7a1))\n* Improved HEAD request fail test when fallback-ing to GET request ([#6044](https://github.com/shaka-project/shaka-player/issues/6044)) ([141d3ea](https://github.com/shaka-project/shaka-player/commit/141d3ea4c7f02cc0d22e99da582c20aff78a179a))\n* Install by default shaka.polyfill.PatchedMediaKeysApple when there is no unprefixed EME support ([#6053](https://github.com/shaka-project/shaka-player/issues/6053)) ([7832f1b](https://github.com/shaka-project/shaka-player/commit/7832f1ba4ffd3bccf478113dfad6955603b0ed82))\n* text roles being combined incorrectly in some multiperiod cases ([#6055](https://github.com/shaka-project/shaka-player/issues/6055)) ([f32a769](https://github.com/shaka-project/shaka-player/commit/f32a769bbb5bbcbf3ac65b3fe4802227b2c41274)), closes [#6054](https://github.com/shaka-project/shaka-player/issues/6054)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.7 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.7 (#6056)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dc2d6ca63ac8d88f059",
    "number": 6055,
    "body": "Resolves #6054 ",
    "head_branch": "issue/6054-forced-subtitle-period-combine",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: text roles being combined incorrectly in some multiperiod cases (#6055)\n\nResolves #6054"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dc3d6ca63ac8d88f05a",
    "number": 6053,
    "body": null,
    "head_branch": "eme-apple-legacy-devices",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Install by default shaka.polyfill.PatchedMediaKeysApple when there is no unprefixed EME support (#6053)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dc4d6ca63ac8d88f05b",
    "number": 6052,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/6008",
    "head_branch": "textTrackLabelFormat",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Separate trackLabelFormat settings for text tracks and audio tracks (#6052)\n\nCloses https://github.com/shaka-project/shaka-player/issues/6008"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dc5d6ca63ac8d88f05c",
    "number": 6051,
    "body": "This occurs on a 6th generation iPod touch with iOS 12.",
    "head_branch": "demo-old-ios-versions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Demo): Allow play MP4 and TS in legacy iOS devices (#6051)\n\nThis occurs on a 6th generation iPod touch with iOS 12."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dc6d6ca63ac8d88f05d",
    "number": 6050,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6027",
    "head_branch": "tap-to-seek-fix",
    "is_a_fork": true,
    "comments": [
      "> Fixes #6027\r\n\r\nIn that issue you said this is a partial fix. If you marks this with \"fixes\", it'll auto-close the issue."
    ],
    "commit_messages": [
      "fix(UI): Fix the scrolling when scrolling from the laterals when seekOnTaps is enabled (#6050)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6027"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dc7d6ca63ac8d88f05e",
    "number": 6049,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/6040",
    "head_branch": "disable-seek-ui-hidden",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Disable forward and rewind with arrows while seekbar not active (#6049)\n\nCloses https://github.com/shaka-project/shaka-player/issues/6040"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dc8d6ca63ac8d88f05f",
    "number": 6048,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6019",
    "head_branch": "hls-live-recovery",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Live recovery after disconnects (#6048)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6019"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dc9d6ca63ac8d88f060",
    "number": 6047,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6010",
    "head_branch": "dai-fix",
    "is_a_fork": true,
    "comments": [
      "@theodab the regression was introduced in https://github.com/shaka-project/shaka-player/commit/24e32559bff6457aa8a1b356f26d83b6a320b9b2\r\n\r\nReview with the asset `Tears of Steel (live, DASH, Server Side ads)`"
    ],
    "commit_messages": [
      "fix(DASH): Fix bad error on DASH DAI (#6047)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6010"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dcad6ca63ac8d88f061",
    "number": 6046,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6020\r\nFixes https://github.com/shaka-project/shaka-player/issues/6037",
    "head_branch": "vmap-muted",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Ads): Fix VMAP won't play in muted autoplay (#6046)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6020\r\nFixes https://github.com/shaka-project/shaka-player/issues/6037"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dcbd6ca63ac8d88f062",
    "number": 6045,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/6032",
    "head_branch": "muxed-ts-safari",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix playback of muxed TS content in Safari (#6045)\n\nFixes https://github.com/shaka-project/shaka-player/issues/6032"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dccd6ca63ac8d88f063",
    "number": 6044,
    "body": "This should close https://github.com/shaka-project/shaka-player/issues/6016.\r\n\r\nFollowing PR https://github.com/shaka-project/shaka-player/pull/5986, it appears that servers don't always return correct HTTP status error code when `HEAD` request is not supported. It should be `405` but badly configured servers could return `404`.\r\n\r\nSo I replaced:\r\n\r\n```\r\nif (error && error.code == shaka.util.Error.Code.HTTP_ERROR) {\r\n  request.method = 'GET';\r\n  ...\r\n}\r\n```\r\n\r\nby:\r\n\r\n```\r\nif (error && (error.code == shaka.util.Error.Code.HTTP_ERROR || error.code == shaka.util.Error.Code.BAD_HTTP_STATUS)) {\r\n  request.method = 'GET';\r\n  ...\r\n}\r\n```\r\n\r\nThis change was made in `lib/hls/hls_parser.js` and `lib/net/networking_utils.js`.",
    "head_branch": "6016-fix-proposal",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Improved HEAD request fail test when fallback-ing to GET request (#6044)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dcdd6ca63ac8d88f064",
    "number": 6043,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.6](https://github.com/shaka-project/shaka-player/compare/v4.6.5...v4.6.6) (2024-01-08)\n\n\n### Bug Fixes\n\n* APL set-top box wrongly identifies as an Apple device. ([#6026](https://github.com/shaka-project/shaka-player/issues/6026)) ([ca751a1](https://github.com/shaka-project/shaka-player/commit/ca751a100126aaff49af03b8171d355d3268a711))\n* avoid uiTextDisplayer.destroy crashing if called more than once ([#6022](https://github.com/shaka-project/shaka-player/issues/6022)) ([bb4f88b](https://github.com/shaka-project/shaka-player/commit/bb4f88b41652988b8397c86d22282db7530df54b))\n* ENCRYPTED CONTENT WITHOUT DRM INFO on comcast X1 due to safari blocklist ([#6034](https://github.com/shaka-project/shaka-player/issues/6034)) ([a75f6bc](https://github.com/shaka-project/shaka-player/commit/a75f6bc90e3be4045a4586667eb0720d753d3ff5))\n* Fix untrusted types in MediaTailorAdManager ([#5996](https://github.com/shaka-project/shaka-player/issues/5996)) ([18891ea](https://github.com/shaka-project/shaka-player/commit/18891ea0c1f8f16531faeb1b766f5f78697df498))\n* **HLS:** Fix clear init segment mapping ([#6000](https://github.com/shaka-project/shaka-player/issues/6000)) ([61d5298](https://github.com/shaka-project/shaka-player/commit/61d52984637c4327c33e44ee74c2b9728df0f8f0))\n* log prefetch miss for missing segments ([#6012](https://github.com/shaka-project/shaka-player/issues/6012)) ([1528eef](https://github.com/shaka-project/shaka-player/commit/1528eefd9b9320190b1dabfb5edf1735a22c2084))\n* **UI:** Fix disable PiP when using documentPictureInPicture ([#5992](https://github.com/shaka-project/shaka-player/issues/5992)) ([521bbe2](https://github.com/shaka-project/shaka-player/commit/521bbe25f0cf5503d9e7f2fb09416cc45741941d))\n\n\n### Performance Improvements\n\n* **mp4generator:** stop nesting concat in methods ([#6041](https://github.com/shaka-project/shaka-player/issues/6041)) ([2bc303b](https://github.com/shaka-project/shaka-player/commit/2bc303b325c7ed005df7a9176b988e9e3601176f))\n* **transmuxer:** various performance improvements ([#6003](https://github.com/shaka-project/shaka-player/issues/6003)) ([dd8e507](https://github.com/shaka-project/shaka-player/commit/dd8e50710905790987ae1dcb0516250218a338f9))\n* ts parser O(n^2) performance bug. ([#6035](https://github.com/shaka-project/shaka-player/issues/6035)) ([d3081f6](https://github.com/shaka-project/shaka-player/commit/d3081f656bda6be274a1f465d9fbde7126034d06))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.6 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.6 (#6043)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dced6ca63ac8d88f065",
    "number": 6042,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.2](https://github.com/shaka-project/shaka-player/compare/v4.7.1...v4.7.2) (2024-01-08)\n\n\n### Bug Fixes\n\n* APL set-top box wrongly identifies as an Apple device. ([#6026](https://github.com/shaka-project/shaka-player/issues/6026)) ([9df8253](https://github.com/shaka-project/shaka-player/commit/9df8253012829a9e8a6663512ee8281ca415336d))\n* avoid uiTextDisplayer.destroy crashing if called more than once ([#6022](https://github.com/shaka-project/shaka-player/issues/6022)) ([ebd2043](https://github.com/shaka-project/shaka-player/commit/ebd2043dec97b7da69c3fb89a12e7a2444ecf7a8))\n* **DASH:** Check if periodCombiner_ exists before configuring ([#5998](https://github.com/shaka-project/shaka-player/issues/5998)) ([2fa803e](https://github.com/shaka-project/shaka-player/commit/2fa803e30bb1981b3ca95fc60a8c8fcdfb8c4f5e))\n* ENCRYPTED CONTENT WITHOUT DRM INFO on comcast X1 due to safari blocklist ([#6034](https://github.com/shaka-project/shaka-player/issues/6034)) ([47ae494](https://github.com/shaka-project/shaka-player/commit/47ae4940e77186b10a57c7df594505a3d0f266a8))\n* Fix untrusted types in MediaTailorAdManager ([#5996](https://github.com/shaka-project/shaka-player/issues/5996)) ([13416b7](https://github.com/shaka-project/shaka-player/commit/13416b79e02dd2a26c03b85c806b9985d2f348be))\n* **HLS:** Fix clear init segment mapping ([#6000](https://github.com/shaka-project/shaka-player/issues/6000)) ([b24a421](https://github.com/shaka-project/shaka-player/commit/b24a4215b1b65168cb406847a9889c6b5cb5cb6e))\n* log prefetch miss for missing segments ([#6012](https://github.com/shaka-project/shaka-player/issues/6012)) ([ec59d3b](https://github.com/shaka-project/shaka-player/commit/ec59d3b8553cb0206100a0bf3e6e94a3c427e36d))\n* **UI:** Fix disable PiP when using documentPictureInPicture ([#5992](https://github.com/shaka-project/shaka-player/issues/5992)) ([74b0ad4](https://github.com/shaka-project/shaka-player/commit/74b0ad481e460e3ff07f6d3bc5103b7fa68660e0))\n\n\n### Performance Improvements\n\n* **mp4generator:** stop nesting concat in methods ([#6041](https://github.com/shaka-project/shaka-player/issues/6041)) ([f007f8f](https://github.com/shaka-project/shaka-player/commit/f007f8feada2520dfe9b01c4bfda51246602474e))\n* **transmuxer:** various performance improvements ([#6003](https://github.com/shaka-project/shaka-player/issues/6003)) ([7573f64](https://github.com/shaka-project/shaka-player/commit/7573f64fd262793eb33690d6f524ca9dc3198bf0))\n* ts parser O(n^2) performance bug. ([#6035](https://github.com/shaka-project/shaka-player/issues/6035)) ([ad56b60](https://github.com/shaka-project/shaka-player/commit/ad56b6083f715cc5e4bcaecb63c5f1fb302f4a99))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.2 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.2 (#6042)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dcfd6ca63ac8d88f066",
    "number": 6041,
    "body": "This change removes `concat` util function from mp4 generator iterations and runs it later, as well as stops creating new Uint8 arrays, as `concat` does this within itself.",
    "head_branch": "refactor/stop-nesting-concat-in-mp4-generator",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "perf(mp4generator): stop nesting concat in methods (#6041)\n\nThis change removes `concat` util function from mp4 generator iterations\r\nand runs it later, as well as stops creating new Uint8 arrays, as\r\n`concat` does this within itself."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd0d6ca63ac8d88f067",
    "number": 6035,
    "body": "This caused high cpu usage when the ts file segments are large.",
    "head_branch": "ts",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "perf: ts parser O(n^2) performance bug. (#6035)\n\nThis caused high cpu usage when the ts file segments are large."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd1d6ca63ac8d88f068",
    "number": 6034,
    "body": null,
    "head_branch": "bugfix/6029",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/6034/checks?check_run_id=20086834238) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request."
    ],
    "commit_messages": [
      "fix: ENCRYPTED CONTENT WITHOUT DRM INFO on comcast X1 due to safari blocklist (#6034)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd2d6ca63ac8d88f069",
    "number": 6026,
    "body": "A simillar to this PR raised last year - https://github.com/shaka-project/shaka-player/pull/4310. \r\nThe APL devices also belong to Liberty Global and are Webkit-based. We noticed that these devices are being detected incorrectly as Apple - `Platform.isApple()`, and as such, the source equals `shouldUseSrcEquals_` is selected instead of MSE. The native playback is not working as expected, and MSE is preferred on these devices ",
    "head_branch": "add-ziggo-apl-device",
    "is_a_fork": true,
    "comments": [
      "@vvasylkovskyi Please fix the lint errors. Thanks!"
    ],
    "commit_messages": [
      "fix: APL set-top box wrongly identifies as an Apple device. (#6026)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd3d6ca63ac8d88f06a",
    "number": 6022,
    "body": "Currently an instance of `uiTextDisplayer` is not idempotent, crashing if `uiTextDisplayer.destroy()` is called more than once:\r\n\r\n```javascript\r\nconst uiTextDisplayer = new shaka.text.UITextDisplayer(\r\n  videoElement,\r\n  subtitlesElement\r\n);\r\n\r\nuiTextDisplayer.destroy();\r\nuiTextDisplayer.destroy();\r\n```\r\n\r\nThis is due to `videoContainer.removeChild` being called with `null` parameter on the second interation, as `textContainer` was already deleted on the first one.\r\nSource: https://github.com/shaka-project/shaka-player/blob/9f5e46190ca00b1df36d5210852962bb52aac0c4/lib/text/ui_text_displayer.js#L158\r\n\r\nAn early return will prevent this crash, maintaining consistency with other methods.\r\n\r\nAlready created an issue for this bug at: https://github.com/shaka-project/shaka-player/issues/6023",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: avoid uiTextDisplayer.destroy crashing if called more than once (#6022)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd4d6ca63ac8d88f06b",
    "number": 6018,
    "body": "https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST states\r\n> `application/x-www-form-urlencoded`: the keys and values are encoded in key-value tuples separated by '&', with a '=' between the key and the value. Non-alphanumeric characters in both keys and values are [URL encoded](https://en.wikipedia.org/wiki/URL_encoding): [...]\r\n\r\nhowever, the current documentation also encodes `=`, like so:\r\n\r\n`encodeURIComponent('spc=foobar') === 'spc%3Dfoobar'`\r\n\r\ninstead, the values (and strictly also keys, but they don't contain anything special, so no need) should be encoded separately.\r\n\r\nthis pr fixes this.\r\n\r\nmaybe there is some drm quirks why it was like that, otherwise this should be a bug.\r\nlet me know if I'm missing something!",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/6018/checks?check_run_id=19756025096) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request."
    ],
    "commit_messages": [
      "docs: fix use of encodeURIComponent() in fairplay tutorial (#6018)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd5d6ca63ac8d88f06c",
    "number": 6014,
    "body": null,
    "head_branch": "wt-init-segment",
    "is_a_fork": true,
    "comments": [
      "I'm going to let @joeyparrish review this, because I think there are a lot of implications to this."
    ],
    "commit_messages": [
      "perf: Optimize init segment reference comparison for common case (#6014)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd5d6ca63ac8d88f06d",
    "number": 6012,
    "body": "A recent change made it always log that segments were re-used, but in reality there were times when they were missed. Uses the language from the original PR",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 50.00%"
    ],
    "commit_messages": [
      "fix: log prefetch miss for missing segments (#6012)\n\nA recent change made it always log that segments were re-used, but in\r\nreality there were times when they were missed. Uses the language from\r\nthe original PR"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd6d6ca63ac8d88f06e",
    "number": 6005,
    "body": "Summary of changes:\r\n- create dummy streams during preparing arrays of input streams\r\n- use hash map to quickly find perfect stream matches across periods\r\n- hash map also automatically removes duplicates, so remove previous logic for finding them\r\n- check earlier are we trying to create output stream from dummy stream\r\n- 2 changes from above also gives us a possibility to simplify `areCompatible()` & `isBetterMatch()` methods\r\n- reduce creation of spare collections when concatenating streams\r\n- reduce conditional logic when possible\r\n\r\nI was testing `PeriodCombiner.combinePeriods()` performance of mentioned changes on Tizen 2021 on 2 streams and I've got following results:\r\n\r\n| content | upstream | proposed changes |\r\n| - | -: | -: |\r\n| stream 1 | 23 ms | 17 ms |\r\n| stream 2 | 484 ms | 191 ms |\r\n\r\nBoth streams are VOD.\r\nStream 1 has 18 periods with 6 video & audio tracks in each.\r\nStream 2 has 18 periods with 6 video tracks & 36 audio tracks in each. \r\n",
    "head_branch": "wt-period-combiner-upstream",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 96.20%"
    ],
    "commit_messages": [
      "perf: PeriodCombiner improvements (#6005)\n\nSummary of changes:\r\n- create dummy streams during preparing arrays of input streams\r\n- use hash map to quickly find perfect stream matches across periods\r\n- hash map also automatically removes duplicates, so remove previous\r\nlogic for finding them\r\n- check earlier are we trying to create output stream from dummy stream\r\n- 2 changes from above also gives us a possibility to simplify\r\n`areCompatible()` & `isBetterMatch()` methods\r\n- reduce creation of spare collections when concatenating streams\r\n- reduce conditional logic when possible\r\n\r\nI was testing `PeriodCombiner.combinePeriods()` performance of mentioned\r\nchanges on Tizen 2021 on 2 streams and I've got following results:\r\n\r\n| content | upstream | proposed changes |\r\n| - | -: | -: |\r\n| stream 1 | 23 ms | 17 ms |\r\n| stream 2 | 484 ms | 191 ms |\r\n\r\nBoth streams are VOD.\r\nStream 1 has 18 periods with 6 video & audio tracks in each.\r\nStream 2 has 18 periods with 6 video tracks & 36 audio tracks in each."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd7d6ca63ac8d88f06f",
    "number": 6004,
    "body": "Fixes https://github.com/shaka-project/shaka-player/commit/628bb63c4c082b44f749876cf1cb8b3f06887d0b",
    "head_branch": "ui-resolution",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(UI): Hide resolution overflow menu button if there's only one choice (#6004)\n\nFixes https://github.com/shaka-project/shaka-player/commit/628bb63c4c082b44f749876cf1cb8b3f06887d0b"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd8d6ca63ac8d88f070",
    "number": 6003,
    "body": "This change improves loop performance - creating new arrays is not performant in large loops, and a traditional for loop is more performant than for .. of for large concatenations",
    "head_branch": "perf/improve-performance-transmuxer",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 81.25%"
    ],
    "commit_messages": [
      "perf(transmuxer): various performance improvements (#6003)\n\nThis change improves loop performance - creating new arrays is not\r\nperformant in large loops, and a traditional for loop is more performant\r\nthan for .. of for large concatenations\r\n\r\n---------\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dd9d6ca63ac8d88f071",
    "number": 6002,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/6001",
    "head_branch": "aes-256-support",
    "is_a_fork": true,
    "comments": [
      "@theodab we have the same problem as https://github.com/shaka-project/shaka-player/issues/5834 :(",
      "Incremental code coverage: 62.86%",
      "> @theodab we have the same problem as #5834 :(\r\n\r\nCould you add a check to this, like how we added a check in `test/transmuxer/transmuxer_integration.js`? If you can, I'd be okay with you adding a comment about this to #5834, since they seem to be similar issues."
    ],
    "commit_messages": [
      "feat(HLS): Add AES-256 and AES-256-CTR support (#6002)\n\nCloses https://github.com/shaka-project/shaka-player/issues/6001"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ddad6ca63ac8d88f072",
    "number": 6000,
    "body": null,
    "head_branch": "clear-bug",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix clear init segment mapping (#6000)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ddbd6ca63ac8d88f073",
    "number": 5998,
    "body": null,
    "head_branch": "periodCombinerErrorBranch",
    "is_a_fork": true,
    "comments": [
      "I've received a report of the DashParser.periodCombiner_ being undefined at configure time and causing an error when loading an asset. I'm really not sure what situations causes it, though, since we never set that value to undefined; I'll have to investigate. Perhaps the method is being called on the class rather than on an instance?\r\nI'm putting out this change for now while I figure out the root cause, in case there's a better solution.",
      "Okay it sounds like the problem wasn't on our part.\r\nMight as well still make this PR, though, since it does account for configuring a destroyed DashParser.",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(DASH): Check if periodCombiner_ exists before configuring (#5998)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ddcd6ca63ac8d88f074",
    "number": 5996,
    "body": null,
    "head_branch": "mediaTailorBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%"
    ],
    "commit_messages": [
      "fix: Fix untrusted types in MediaTailorAdManager (#5996)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dddd6ca63ac8d88f075",
    "number": 5995,
    "body": null,
    "head_branch": "mssBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%"
    ],
    "commit_messages": [
      "chore: Fix isoboxer externs (#5995)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dded6ca63ac8d88f076",
    "number": 5994,
    "body": null,
    "head_branch": "externsBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Add missing @externs header to codec extern (#5994)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ddfd6ca63ac8d88f077",
    "number": 5992,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5991",
    "head_branch": "disable-pip",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(UI): Fix disable PiP when using documentPictureInPicture (#5992)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5991"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de0d6ca63ac8d88f078",
    "number": 5990,
    "body": "See: https://mailarchive.ietf.org/arch/msg/hls-interest/RZBgatOvI4W0M0J5cShuXWzdigg/",
    "head_branch": "aes-key",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 92.21%"
    ],
    "commit_messages": [
      "feat: Rename aes128Key to aesKey to allow aes256 in the future (#5990)\n\nSee:\r\nhttps://mailarchive.ietf.org/arch/msg/hls-interest/RZBgatOvI4W0M0J5cShuXWzdigg/"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de1d6ca63ac8d88f079",
    "number": 5989,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.1](https://github.com/shaka-project/shaka-player/compare/v4.7.0...v4.7.1) (2023-12-05)\n\n\n### Bug Fixes\n\n* Fix liveLatency in stats ([#5982](https://github.com/shaka-project/shaka-player/issues/5982)) ([ffe1277](https://github.com/shaka-project/shaka-player/commit/ffe12774095251261636fa6eb73736836066e8cd))\n* Fix transmuxer when some PES has the same pts and dts value ([#5985](https://github.com/shaka-project/shaka-player/issues/5985)) ([aaa0688](https://github.com/shaka-project/shaka-player/commit/aaa0688524bb6ba5cce84a39329cc77bdcc08b86))\n* **HLS:** Fix variant synchronization in HLS after selectVariantTrack ([#5984](https://github.com/shaka-project/shaka-player/issues/5984)) ([2e30668](https://github.com/shaka-project/shaka-player/commit/2e30668dd4cdf960199d662ae5e681a8e6743975))\n* Provide a fallback to GET request when HEAD request fails ([#5986](https://github.com/shaka-project/shaka-player/issues/5986)) ([84a5398](https://github.com/shaka-project/shaka-player/commit/84a53985d6128b584251decd1a3e8b3778d4b89e))\n* **UI:** Fix keyboard navigation of volume bar on Firefox ([#5981](https://github.com/shaka-project/shaka-player/issues/5981)) ([4989803](https://github.com/shaka-project/shaka-player/commit/4989803d02b8f7053f6b86fe39c88385b6073083))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.7.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.1 :sunflower:",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore(v4.7.x): release 4.7.1 (#5989)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de2d6ca63ac8d88f07a",
    "number": 5988,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.5](https://github.com/shaka-project/shaka-player/compare/v4.6.4...v4.6.5) (2023-12-05)\n\n\n### Bug Fixes\n\n* Fix liveLatency in stats ([#5982](https://github.com/shaka-project/shaka-player/issues/5982)) ([b9b6f82](https://github.com/shaka-project/shaka-player/commit/b9b6f8275901e6c0b238fed4e95dea8d7da0f24e))\n* Fix transmuxer when some PES has the same pts and dts value ([#5985](https://github.com/shaka-project/shaka-player/issues/5985)) ([b81ca1a](https://github.com/shaka-project/shaka-player/commit/b81ca1abb8ddd362a0b7070062c071b4336d2d87))\n* **HLS:** Fix variant synchronization in HLS after selectVariantTrack ([#5984](https://github.com/shaka-project/shaka-player/issues/5984)) ([4068b4e](https://github.com/shaka-project/shaka-player/commit/4068b4e72bb5e4b8c77f072cec854deea0607fcd))\n* Provide a fallback to GET request when HEAD request fails ([#5986](https://github.com/shaka-project/shaka-player/issues/5986)) ([bbb7433](https://github.com/shaka-project/shaka-player/commit/bbb74335959ad686c48d7fcee2195852676cc249))\n* **UI:** Fix keyboard navigation of volume bar on Firefox ([#5981](https://github.com/shaka-project/shaka-player/issues/5981)) ([bf939bf](https://github.com/shaka-project/shaka-player/commit/bf939bfc1c498ba012de40dfc0a8655a66f46702))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.5 :sunflower:",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.5 (#5988)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de3d6ca63ac8d88f07b",
    "number": 5987,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.8.0](https://github.com/shaka-project/shaka-player/compare/v4.7.0...v4.8.0) (2024-04-18)\n\n\n### Features\n\n* **ABR:** Additional request information for ABR Managers ([#6313](https://github.com/shaka-project/shaka-player/issues/6313)) ([6c4333c](https://github.com/shaka-project/shaka-player/commit/6c4333c56506a67384672bc0cb7ac05e26025f14))\n* add `mediaSource.addExtraFeaturesToSourceBuffer` ([#6362](https://github.com/shaka-project/shaka-player/issues/6362)) ([d0aa697](https://github.com/shaka-project/shaka-player/commit/d0aa69724bbdb257b1f3d7825e3ab3e6acce4b3f)), closes [#6358](https://github.com/shaka-project/shaka-player/issues/6358)\n* add a live sync panic mode ([#6149](https://github.com/shaka-project/shaka-player/issues/6149)) ([65981e2](https://github.com/shaka-project/shaka-player/commit/65981e2aaea659f87e1133365239369ccb501764))\n* add an option specifying when source buffer removals happen ([#6242](https://github.com/shaka-project/shaka-player/issues/6242)) ([93d616e](https://github.com/shaka-project/shaka-player/commit/93d616e9543b0c54f8b65695e713b9f710d1623b))\n* Add config to set live stream duration to Infinity ([#6207](https://github.com/shaka-project/shaka-player/issues/6207)) ([de2957e](https://github.com/shaka-project/shaka-player/commit/de2957e8fa417f1bf741b2cb4da5f68adf3cc221))\n* Add disableTextPrefetch config ([#6197](https://github.com/shaka-project/shaka-player/issues/6197)) ([202f308](https://github.com/shaka-project/shaka-player/commit/202f3082fd792f0d3346d4691fc8b64b44db46e0))\n* add includeKeys to CMCD config to allow filtering of CMCD data ([#6248](https://github.com/shaka-project/shaka-player/issues/6248)) ([5a025fb](https://github.com/shaka-project/shaka-player/commit/5a025fbccd538d3e95a3fe6a878a398c93d4ae9e))\n* Add Opus TS transmuxer ([#6387](https://github.com/shaka-project/shaka-player/issues/6387)) ([3b5a71c](https://github.com/shaka-project/shaka-player/commit/3b5a71c5bf34c88b3b020e558fbecdbeb69d1e64))\n* Add preload system to player ([#5897](https://github.com/shaka-project/shaka-player/issues/5897)) ([489b11a](https://github.com/shaka-project/shaka-player/commit/489b11a959cfb1ec50a430baabf61821869b1b04)), closes [#880](https://github.com/shaka-project/shaka-player/issues/880)\n* Add segmentData info to SegmentReference ([#6370](https://github.com/shaka-project/shaka-player/issues/6370)) ([2bb6dbc](https://github.com/shaka-project/shaka-player/commit/2bb6dbc56d1ed58071052487632c1f217f70471a))\n* Add support for Dolby Vision based on AVC and AV1 ([#6154](https://github.com/shaka-project/shaka-player/issues/6154)) ([c100053](https://github.com/shaka-project/shaka-player/commit/c100053532d6ca40f07f4492b3deb34aeda68281))\n* Add unloadAndSavePreload ([#6214](https://github.com/shaka-project/shaka-player/issues/6214)) ([0d929ca](https://github.com/shaka-project/shaka-player/commit/0d929caedb47c000c0e6f2cfa637d3698bcaf55f))\n* **Ads:** Add ability to set tracking URL for Media Tailor ([#6365](https://github.com/shaka-project/shaka-player/issues/6365)) ([b51e661](https://github.com/shaka-project/shaka-player/commit/b51e6615ed43ed875928296fe97a13ba8ba2b561))\n* **Ads:** Skip play detection in some devices ([#6443](https://github.com/shaka-project/shaka-player/issues/6443)) ([91f74e7](https://github.com/shaka-project/shaka-player/commit/91f74e793e411986363c410e6c3a929a82baa09c))\n* **CMCD:** Add support to dl, nrr and nor parameters ([#6171](https://github.com/shaka-project/shaka-player/issues/6171)) ([8a9f17d](https://github.com/shaka-project/shaka-player/commit/8a9f17d48bef85a184d63648d47b86cc5c175375))\n* **CMCD:** Add support to rtp parameter ([#6184](https://github.com/shaka-project/shaka-player/issues/6184)) ([038e894](https://github.com/shaka-project/shaka-player/commit/038e894e82a5636dd7ca6661b34770201a894edf))\n* **DASH:** Add signalling the last segment number in Period ([#6416](https://github.com/shaka-project/shaka-player/issues/6416)) ([07a3241](https://github.com/shaka-project/shaka-player/commit/07a32419d3069dbf65fda8d9c56244175f934a4a))\n* **DASH:** Allow PeriodCombiner for using streams once ([#6097](https://github.com/shaka-project/shaka-player/issues/6097)) ([5e3db78](https://github.com/shaka-project/shaka-player/commit/5e3db78a5e545960cf135200ca415f877ff84457))\n* **DASH:** update period as part of configuration ([#6419](https://github.com/shaka-project/shaka-player/issues/6419)) ([bdabddc](https://github.com/shaka-project/shaka-player/commit/bdabddcc6b597e35b0c6aea9dedf837298efbce3))\n* **demo:** Add new demo asset for multi-mimeType/codec feature ([#6349](https://github.com/shaka-project/shaka-player/issues/6349)) ([067d9ce](https://github.com/shaka-project/shaka-player/commit/067d9ce80f71b899be28c41b49b4bad17cb20427)), closes [#6010](https://github.com/shaka-project/shaka-player/issues/6010)\n* **Demo:** Show APIC(ID3) as poster for audio only streams ([#6122](https://github.com/shaka-project/shaka-player/issues/6122)) ([291b497](https://github.com/shaka-project/shaka-player/commit/291b4971f92634970e26bd6b50a331e3abe2bfad))\n* Detect maximum HW resolution automatically on some platforms ([#6180](https://github.com/shaka-project/shaka-player/issues/6180)) ([278c7bc](https://github.com/shaka-project/shaka-player/commit/278c7bc8cf8d4c8bfc12d4252300b9fc6095c4a0))\n* Escape html codes when getting node contents ([#6198](https://github.com/shaka-project/shaka-player/issues/6198)) ([a1c1620](https://github.com/shaka-project/shaka-player/commit/a1c1620f09a35b53ce93feb098b5fd6388c5c3f8))\n* Evict instead delete on prefetch ([#6404](https://github.com/shaka-project/shaka-player/issues/6404)) ([0fc5814](https://github.com/shaka-project/shaka-player/commit/0fc5814c6af20a861e4be22bd25dc09990821592))\n* Expose PresentationTimeline segment availability duration through Player ([#6075](https://github.com/shaka-project/shaka-player/issues/6075)) ([8ff5b59](https://github.com/shaka-project/shaka-player/commit/8ff5b5916c474836e201dbec5fecede0bb4c40b2))\n* **HLS:** Add AES-256 and AES-256-CTR support ([#6002](https://github.com/shaka-project/shaka-player/issues/6002)) ([c3380ce](https://github.com/shaka-project/shaka-player/commit/c3380ced14df146d8a7c5164bcdeb54136f33e48))\n* **HLS:** Add automatically keyId-key for identity format ([#6308](https://github.com/shaka-project/shaka-player/issues/6308)) ([d251649](https://github.com/shaka-project/shaka-player/commit/d2516498d2add42cf3157b9a6b0a3fa475ade653))\n* **HLS:** Add ignoreManifestProgramDateTimeForTypes ([#6372](https://github.com/shaka-project/shaka-player/issues/6372)) ([03bb463](https://github.com/shaka-project/shaka-player/commit/03bb463a724483c88df818b11c807a0fdc11cccb))\n* **HLS:** Add support for SUPPLEMENTAL-CODECS ([#6155](https://github.com/shaka-project/shaka-player/issues/6155)) ([8d6ad7e](https://github.com/shaka-project/shaka-player/commit/8d6ad7ed64b27d5fb5f481dcc41cb068875999dc))\n* **HLS:** Create segmentIndex when there is only one variant ([#6383](https://github.com/shaka-project/shaka-player/issues/6383)) ([3ba7492](https://github.com/shaka-project/shaka-player/commit/3ba7492584d1db3742720248ed897a47cbb6bb5d))\n* Make getPlayheadTimeAsDate and getPresentationStartTimeAsDate available for VOD ([#6417](https://github.com/shaka-project/shaka-player/issues/6417)) ([986071b](https://github.com/shaka-project/shaka-player/commit/986071b7688536a1906cb3abdc17489d9cdd0eb9))\n* Parse avcC, hvcC and dvcC boxes ([#6146](https://github.com/shaka-project/shaka-player/issues/6146)) ([b8520ed](https://github.com/shaka-project/shaka-player/commit/b8520ed9778b52c898a9d572b4892a8634b07376))\n* Parse colr box ([#6438](https://github.com/shaka-project/shaka-player/issues/6438)) ([b8b1aa6](https://github.com/shaka-project/shaka-player/commit/b8b1aa648bfcf5b7a530d4ef6cb2f0a48c3e6337))\n* Parse vpcC and av1C boxes ([#6157](https://github.com/shaka-project/shaka-player/issues/6157)) ([151b29c](https://github.com/shaka-project/shaka-player/commit/151b29c3c70381f4db761502b56377d43b5feff8))\n* Prefer MSE HLS over native HLS in Apple platform when not encrypted ([#6188](https://github.com/shaka-project/shaka-player/issues/6188)) ([fc38aee](https://github.com/shaka-project/shaka-player/commit/fc38aeebe364a28efc710917745dcfa4b1fd3c14))\n* prefetch audio languages. ([#6139](https://github.com/shaka-project/shaka-player/issues/6139)) ([a8ab0c8](https://github.com/shaka-project/shaka-player/commit/a8ab0c824b7e777e429401c294b7629d23cc0f78)), closes [#6128](https://github.com/shaka-project/shaka-player/issues/6128)\n* Remove com.adobe.primetime keysystem ([#6189](https://github.com/shaka-project/shaka-player/issues/6189)) ([47602c6](https://github.com/shaka-project/shaka-player/commit/47602c6f5eda7ad5c5768f418c3825c40bf4ddcf))\n* Rename aes128Key to aesKey to allow aes256 in the future ([#5990](https://github.com/shaka-project/shaka-player/issues/5990)) ([31c06ca](https://github.com/shaka-project/shaka-player/commit/31c06ca1891512ed4280a34c6a1f17df76bbfe1e))\n* Replace native DOM Parser with a more performant one ([#6063](https://github.com/shaka-project/shaka-player/issues/6063)) ([7116a34](https://github.com/shaka-project/shaka-player/commit/7116a34ec207a42921fe1c6404d5e3af404dc294))\n* SegmentIndex minimal interface ([#6095](https://github.com/shaka-project/shaka-player/issues/6095)) ([f064811](https://github.com/shaka-project/shaka-player/commit/f064811e21a678fbd0c73e6a2d1704d8b39b5165))\n* Set updateIntervalSeconds to 0.1 by default for low latency streaming ([#6403](https://github.com/shaka-project/shaka-player/issues/6403)) ([9838622](https://github.com/shaka-project/shaka-player/commit/98386222599380b0034c17f336f7eb677ecd5a3c))\n* **text:** Add MediaSource.modifyCueCallback ([#6167](https://github.com/shaka-project/shaka-player/issues/6167)) ([bd944d1](https://github.com/shaka-project/shaka-player/commit/bd944d15dbfb7a8ee2db92e605bdf978d79b014a))\n* **text:** Add time context to modifyCueCallback ([#6252](https://github.com/shaka-project/shaka-player/issues/6252)) ([03633e4](https://github.com/shaka-project/shaka-player/commit/03633e47bb3036c2b5fbd60461c7171c1e4ea0ee))\n* Trigger an event with spatial video info ([#6437](https://github.com/shaka-project/shaka-player/issues/6437)) ([d8d96c8](https://github.com/shaka-project/shaka-player/commit/d8d96c8546cd21e9f74ed1f3ee820963c2800cdb))\n* **UI:** Add config for refreshTickInSeconds ([#6386](https://github.com/shaka-project/shaka-player/issues/6386)) ([dbdef5d](https://github.com/shaka-project/shaka-player/commit/dbdef5df3a405637c4109fd6d07b952ddc94b863))\n* **UI:** Allow show/hide ui programmatically ([#6117](https://github.com/shaka-project/shaka-player/issues/6117)) ([4e599cb](https://github.com/shaka-project/shaka-player/commit/4e599cb4a46ca7851b74a9ddf2d722884d3d4db8))\n* **UI:** Disable forward and rewind with arrows while seekbar not active ([#6049](https://github.com/shaka-project/shaka-player/issues/6049)) ([c189922](https://github.com/shaka-project/shaka-player/commit/c189922f8d921bf91b88ca5af3bedd71cb3b77e9))\n* **UI:** Hide resolution overflow menu button if there's only one choice ([#6004](https://github.com/shaka-project/shaka-player/issues/6004)) ([8649e7e](https://github.com/shaka-project/shaka-player/commit/8649e7ebbdb173d70741ec5e7400bbcbf2019710))\n* **UI:** Separate trackLabelFormat settings for text tracks and audio tracks ([#6052](https://github.com/shaka-project/shaka-player/issues/6052)) ([a94a602](https://github.com/shaka-project/shaka-player/commit/a94a60213dd7e84473c3f3c8bcfef861a6c939b8))\n* **UI:** Use the same logic to group variants into audio and quality selectors ([#6069](https://github.com/shaka-project/shaka-player/issues/6069)) ([eabfc47](https://github.com/shaka-project/shaka-player/commit/eabfc472aefd7419e9d6c7189524ca920d83ec33))\n* **UI:** Use the same logic to group variants into audio and quality selectors ([#6096](https://github.com/shaka-project/shaka-player/issues/6096)) ([c596677](https://github.com/shaka-project/shaka-player/commit/c596677e4a3e59390225324e95968d0555c352d0))\n* Update for LCEVC Integration with new features added. ([#6263](https://github.com/shaka-project/shaka-player/issues/6263)) ([7b717e5](https://github.com/shaka-project/shaka-player/commit/7b717e513d46d9b27982db0e432beda8f9b09cd2))\n* vod dynamic playback rate buffer control ([#6172](https://github.com/shaka-project/shaka-player/issues/6172)) ([8fc292b](https://github.com/shaka-project/shaka-player/commit/8fc292bc28a99e715e4fa453b17865eecdb2e4b5))\n* **WebVTT:** Handle badly formed VTT ([#6147](https://github.com/shaka-project/shaka-player/issues/6147)) ([335eab0](https://github.com/shaka-project/shaka-player/commit/335eab08ba5eb4970e1ff51f1f211dce25321fe6))\n* **WebVTT:** Remove un-needed VTT payload normalisation ([#6145](https://github.com/shaka-project/shaka-player/issues/6145)) ([ee600c4](https://github.com/shaka-project/shaka-player/commit/ee600c4fd555850ffdc98a958627401a1c04b03d))\n\n\n### Bug Fixes\n\n* AC-3 audio codec support on Tizen ([#6166](https://github.com/shaka-project/shaka-player/issues/6166)) ([08cc34a](https://github.com/shaka-project/shaka-player/commit/08cc34a5322a4fdbabe4d80cf6b1c2a1d473f794))\n* Add LOAS-AAC detection in TS ([#6390](https://github.com/shaka-project/shaka-player/issues/6390)) ([535d386](https://github.com/shaka-project/shaka-player/commit/535d386ec80576fbb9882fabde3ff0c912253942))\n* Add ManagedMediaSource support in MediaSource polyfill ([#6361](https://github.com/shaka-project/shaka-player/issues/6361)) ([12bf642](https://github.com/shaka-project/shaka-player/commit/12bf6428e00b93cc2cf9cefcf4db39fe9c749ee3))\n* add missing properties to PlayButton type ([#6130](https://github.com/shaka-project/shaka-player/issues/6130)) ([8f0db8e](https://github.com/shaka-project/shaka-player/commit/8f0db8e89d1964f1f576a9f87b4added61c8136f))\n* Add Opus and AV1 detection in TS ([#6385](https://github.com/shaka-project/shaka-player/issues/6385)) ([bc23fff](https://github.com/shaka-project/shaka-player/commit/bc23fffd8adc6c71eacab5f81fea73df2ca790c4))\n* **Ads:** Fix ad pausing when using customPlayheadTracker ([#6444](https://github.com/shaka-project/shaka-player/issues/6444)) ([2d42933](https://github.com/shaka-project/shaka-player/commit/2d42933ea1a468eff207ed7f8b8aa73abe34618d))\n* **Ads:** Fix initial ads configuration ([#6176](https://github.com/shaka-project/shaka-player/issues/6176)) ([5b141eb](https://github.com/shaka-project/shaka-player/commit/5b141eb76ac5bfb8300cdf42489ca68f7cb5bfe9))\n* **Ads:** Fix muting/unmuting ads won't affect video and vice versa ([#6073](https://github.com/shaka-project/shaka-player/issues/6073)) ([01a217f](https://github.com/shaka-project/shaka-player/commit/01a217f0fd9a375647d78e2f41faab912a1c7ab7))\n* **Ads:** Fix VMAP won't play in muted autoplay ([#6046](https://github.com/shaka-project/shaka-player/issues/6046)) ([a8bbbce](https://github.com/shaka-project/shaka-player/commit/a8bbbcef7b4c03b6b841a72ac564cb8e58ae804b))\n* Allow by default variants without pssh in the manifest ([#6144](https://github.com/shaka-project/shaka-player/issues/6144)) ([e1cd031](https://github.com/shaka-project/shaka-player/commit/e1cd031625c5a73cc964a8d1b039f9f10f8d52ab))\n* APL set-top box wrongly identifies as an Apple device. ([#6026](https://github.com/shaka-project/shaka-player/issues/6026)) ([7f5005d](https://github.com/shaka-project/shaka-player/commit/7f5005db23e2f280cee9b695d5d6432e0d402024))\n* auto cancel trickPlay on live as specified ([#6100](https://github.com/shaka-project/shaka-player/issues/6100)) ([45505b0](https://github.com/shaka-project/shaka-player/commit/45505b074389c4716b6fab50cde07e176c701aca))\n* avoid uiTextDisplayer.destroy crashing if called more than once ([#6022](https://github.com/shaka-project/shaka-player/issues/6022)) ([42c235d](https://github.com/shaka-project/shaka-player/commit/42c235d12318706494194fb6024f00ce161473f1))\n* **Cast:** Don't pause local video until the cast connection is established ([#6359](https://github.com/shaka-project/shaka-player/issues/6359)) ([ac833da](https://github.com/shaka-project/shaka-player/commit/ac833da3dc7669ba66d074f8e09129389d7bb045))\n* **Cast:** Force TS content to be transmuxed on Chromecast ([#6262](https://github.com/shaka-project/shaka-player/issues/6262)) ([b8905bd](https://github.com/shaka-project/shaka-player/commit/b8905bd8d44217b80dee8bb93ad306f55c145764)), closes [#5278](https://github.com/shaka-project/shaka-player/issues/5278)\n* Change quality only when adding the last partial segment and it is fast switching ([#6114](https://github.com/shaka-project/shaka-player/issues/6114)) ([48626f2](https://github.com/shaka-project/shaka-player/commit/48626f2ae0187ed12e1edbd7d8ec0be6a1cf699a))\n* clear listeners when resetting media source ([#6449](https://github.com/shaka-project/shaka-player/issues/6449)) ([ab36ce7](https://github.com/shaka-project/shaka-player/commit/ab36ce73431cc801035b547f2c7f5fbd3fa2e921))\n* **CMCD:** Allow reconfigure session ID ([#6177](https://github.com/shaka-project/shaka-player/issues/6177)) ([3537dc0](https://github.com/shaka-project/shaka-player/commit/3537dc0a68eeb22890ffc7e658e5eb940eb1fd43))\n* **CMCD:** allow session id to be configured ([#6192](https://github.com/shaka-project/shaka-player/issues/6192)) ([78c12a6](https://github.com/shaka-project/shaka-player/commit/78c12a6265430c80568ac28193b762edce193d1f))\n* **CMCD:** Fix CMCD for some mimetypes in src= ([#6178](https://github.com/shaka-project/shaka-player/issues/6178)) ([33b40cf](https://github.com/shaka-project/shaka-player/commit/33b40cfcce6909f8d05c53753fdb22d7c6606b8d))\n* Correct playhead when seek beyond seekRange ([#6304](https://github.com/shaka-project/shaka-player/issues/6304)) ([a6d27a9](https://github.com/shaka-project/shaka-player/commit/a6d27a915c61d3a248927ae5676d39d1c47678f3))\n* **DASH:** Check if periodCombiner_ exists before configuring ([#5998](https://github.com/shaka-project/shaka-player/issues/5998)) ([bb64cb1](https://github.com/shaka-project/shaka-player/commit/bb64cb1f0cf94624e8c4d1243c5c327b15792e1e))\n* **DASH:** Fix bad error on DASH DAI ([#6047](https://github.com/shaka-project/shaka-player/issues/6047)) ([a371f43](https://github.com/shaka-project/shaka-player/commit/a371f434acca086e7e38959ef7067277c6e4a014))\n* **DASH:** Fix PERIOD_FLATTENING_FAILED on fastswitching streams ([#6113](https://github.com/shaka-project/shaka-player/issues/6113)) ([af12b0b](https://github.com/shaka-project/shaka-player/commit/af12b0b3f0375241fcbd38761a7408e0a0f10ec0))\n* **DASH:** Fix precision issue on some platforms ([#6258](https://github.com/shaka-project/shaka-player/issues/6258)) ([4a0d1ca](https://github.com/shaka-project/shaka-player/commit/4a0d1ca06fe54975a344c9bb745d908b2588f566))\n* **DASH:** Fix support for multi-mimeType variants ([#6348](https://github.com/shaka-project/shaka-player/issues/6348)) ([1da5da9](https://github.com/shaka-project/shaka-player/commit/1da5da9790b8ba2e3e7b3d548b2e47f08e474379))\n* **DASH:** Set delay to 0 for LL streams ([#6406](https://github.com/shaka-project/shaka-player/issues/6406)) ([b7b2fc9](https://github.com/shaka-project/shaka-player/commit/b7b2fc999406692716df55adae4fcca501d2a031))\n* **DASH:** Update dash manifest when minimumUpdatePeriod = 0 ([#6187](https://github.com/shaka-project/shaka-player/issues/6187)) ([a332070](https://github.com/shaka-project/shaka-player/commit/a3320707b9344a84242bcdc413f1bbf23bfa49e9))\n* **DASH:** Use labels to stitch streams across periods ([#6121](https://github.com/shaka-project/shaka-player/issues/6121)) ([0de7af9](https://github.com/shaka-project/shaka-player/commit/0de7af94cd995b29496705523e10cfd004c9e554))\n* **Demo:** Allow play MP4 and TS in legacy iOS devices ([#6051](https://github.com/shaka-project/shaka-player/issues/6051)) ([f0751cd](https://github.com/shaka-project/shaka-player/commit/f0751cdae606f1423c56e99574a603848a0f9b2a))\n* **Demo:** Fix MSS assets ([#6194](https://github.com/shaka-project/shaka-player/issues/6194)) ([844c208](https://github.com/shaka-project/shaka-player/commit/844c208d14fdfdbbba8fd1889134be80d6e89ddb))\n* **demo:** Remove max height of demo config tabs ([#6324](https://github.com/shaka-project/shaka-player/issues/6324)) ([4655271](https://github.com/shaka-project/shaka-player/commit/465527186fbe94802752cdf41b6a000b479b0b01))\n* Disable smooth codec switching in Edge Windows ([#6384](https://github.com/shaka-project/shaka-player/issues/6384)) ([fdc7c6c](https://github.com/shaka-project/shaka-player/commit/fdc7c6c2eb02603e0778d1d8fe84aeaae788d531))\n* do not append blank codec strings ([#6093](https://github.com/shaka-project/shaka-player/issues/6093)) ([ed0aa22](https://github.com/shaka-project/shaka-player/commit/ed0aa22c48a3d90da990e86665e43468782bf66b)), closes [#6092](https://github.com/shaka-project/shaka-player/issues/6092)\n* don't double wrap URIs for HLS key requests ([#6246](https://github.com/shaka-project/shaka-player/issues/6246)) ([948660b](https://github.com/shaka-project/shaka-player/commit/948660b3590bbfacc53bdfb339f36c17dfaf338c))\n* Don't retry MSE errors on startup ([#6112](https://github.com/shaka-project/shaka-player/issues/6112)) ([de7d8d3](https://github.com/shaka-project/shaka-player/commit/de7d8d3c4b38867f4547862a13d4beb10f0eff3d))\n* ENCRYPTED CONTENT WITHOUT DRM INFO on comcast X1 due to safari blocklist ([#6034](https://github.com/shaka-project/shaka-player/issues/6034)) ([3bf0664](https://github.com/shaka-project/shaka-player/commit/3bf0664457708d0b43de8512ce5eeee8260e9f8a))\n* Fix cea608 whitespace rendering ([#6329](https://github.com/shaka-project/shaka-player/issues/6329)) ([8cf9d59](https://github.com/shaka-project/shaka-player/commit/8cf9d59eac6f4ceafb66f7dc59317e372dbbc059)), closes [#6328](https://github.com/shaka-project/shaka-player/issues/6328)\n* Fix compiler issue in Mp4BoxParsers ([#6312](https://github.com/shaka-project/shaka-player/issues/6312)) ([5badb6a](https://github.com/shaka-project/shaka-player/commit/5badb6aa2b8968224ce18c944cf98f39d5442270))\n* Fix detection of flac support on Safari ([#6250](https://github.com/shaka-project/shaka-player/issues/6250)) ([bb712c0](https://github.com/shaka-project/shaka-player/commit/bb712c02835f1214be5f23c7f37891eb206ee8e1)), closes [#6249](https://github.com/shaka-project/shaka-player/issues/6249)\n* Fix detection of spatial rendering support in Cast ([#6138](https://github.com/shaka-project/shaka-player/issues/6138)) ([4e47acd](https://github.com/shaka-project/shaka-player/commit/4e47acda0cfc704a7efba8962f3c2e8bea333f5a))\n* Fix DRM workaround for Xbox with Dolby Vision boxes ([#6201](https://github.com/shaka-project/shaka-player/issues/6201)) ([d938837](https://github.com/shaka-project/shaka-player/commit/d9388378e7b6a3ef940f72b3bea5dfc3ba17cf11))\n* Fix ENCA box parsing ([#6298](https://github.com/shaka-project/shaka-player/issues/6298)) ([bca9f25](https://github.com/shaka-project/shaka-player/commit/bca9f2514bc2f3ccd2a43d19907721d06d7379c7))\n* Fix gitpkg.now.sh dependencies ([#6211](https://github.com/shaka-project/shaka-player/issues/6211)) ([62ab048](https://github.com/shaka-project/shaka-player/commit/62ab04895ae0e83872dc8f5143eec6ed76f29d5e))\n* fix handling of multiple CC tracks ([#6076](https://github.com/shaka-project/shaka-player/issues/6076)) ([44cb8a2](https://github.com/shaka-project/shaka-player/commit/44cb8a2ed8bd5d24d90e8c2213351eef2f22841e))\n* Fix HLS segment index errors and x-program-date-time errors since v4.7.4 ([fd6b3d0](https://github.com/shaka-project/shaka-player/commit/fd6b3d0d6673c552e7e6ef995fc1e379918c702d))\n* Fix liveLatency in stats ([#5982](https://github.com/shaka-project/shaka-player/issues/5982)) ([00c918f](https://github.com/shaka-project/shaka-player/commit/00c918f2cce8bef5646487465adce47a4be2fb9a))\n* Fix nalu parsing in TS ([#6137](https://github.com/shaka-project/shaka-player/issues/6137)) ([df8dbb9](https://github.com/shaka-project/shaka-player/commit/df8dbb9caaa2391c14288782884546c5c7b4ac69))\n* Fix PES rollover in TS ([#6363](https://github.com/shaka-project/shaka-player/issues/6363)) ([e8f37f0](https://github.com/shaka-project/shaka-player/commit/e8f37f0d6c9bbcc800d17302069b2bc4e62b0f33))\n* Fix playback stuck on initial gap ([#6340](https://github.com/shaka-project/shaka-player/issues/6340)) ([292ef20](https://github.com/shaka-project/shaka-player/commit/292ef20d80019191a98f64a5f6106f92277991a4)), closes [#6339](https://github.com/shaka-project/shaka-player/issues/6339)\n* Fix SAR when transmuxing ([#6309](https://github.com/shaka-project/shaka-player/issues/6309)) ([b5d69f0](https://github.com/shaka-project/shaka-player/commit/b5d69f067a80fee2857cea7aabe31757b5a1f112))\n* Fix SegmentPrefetch in some cases ([#6199](https://github.com/shaka-project/shaka-player/issues/6199)) ([b508d48](https://github.com/shaka-project/shaka-player/commit/b508d482c64542c4708734274fe47a3142ada028))\n* Fix transmuxer when some PES has the same pts and dts value ([#5985](https://github.com/shaka-project/shaka-player/issues/5985)) ([165feac](https://github.com/shaka-project/shaka-player/commit/165feacb00b960aa3929b8980554155e86784af1))\n* Fix untrusted types in MediaTailorAdManager ([#5996](https://github.com/shaka-project/shaka-player/issues/5996)) ([2f06039](https://github.com/shaka-project/shaka-player/commit/2f06039193b28b3d59ace8ad938ee657ddccdaee))\n* Fix waiting for empty init datas ([#6292](https://github.com/shaka-project/shaka-player/issues/6292)) ([118f47f](https://github.com/shaka-project/shaka-player/commit/118f47f1ea6f83e11c5304ce5ae3b36ccb2be8f3)), closes [#6228](https://github.com/shaka-project/shaka-player/issues/6228)\n* Fix wrong aspect ratio in transmuxed videos ([#6170](https://github.com/shaka-project/shaka-player/issues/6170)) ([eb1fef8](https://github.com/shaka-project/shaka-player/commit/eb1fef888b771588e05ff443d78f630a28f29bf0))\n* **HLS:** Avoid duplicate AES request when using the same info ([#6118](https://github.com/shaka-project/shaka-player/issues/6118)) ([1671a3e](https://github.com/shaka-project/shaka-player/commit/1671a3e98c1218c3a23f0baa430e04c8a899b468))\n* **HLS:** Avoid duplicate AES requests ([#6399](https://github.com/shaka-project/shaka-player/issues/6399)) ([ea740ba](https://github.com/shaka-project/shaka-player/commit/ea740ba2468f3b035d463ea9933aa7eeccf5c748))\n* **HLS:** Ban unsupported combinations of SAMPLE-AES encryption ([#6295](https://github.com/shaka-project/shaka-player/issues/6295)) ([edbac36](https://github.com/shaka-project/shaka-player/commit/edbac3622933c041164a42e494c3895c67b6b2dc))\n* **HLS:** Fix bad init segment request with byterange when using media playlist ([#6297](https://github.com/shaka-project/shaka-player/issues/6297)) ([6a8f972](https://github.com/shaka-project/shaka-player/commit/6a8f972b5d14a24086349b71ccf7f86a83fc1ab4))\n* **HLS:** Fix bad warning when playing HLS-AES128 ([#6434](https://github.com/shaka-project/shaka-player/issues/6434)) ([17df192](https://github.com/shaka-project/shaka-player/commit/17df192289a74d80ec87e13a6cc1bd3bf588ba84))\n* **HLS:** Fix clear init segment mapping ([#6000](https://github.com/shaka-project/shaka-player/issues/6000)) ([8a44111](https://github.com/shaka-project/shaka-player/commit/8a44111ec8e59139ceb5b5c267f2eb39f9477fab))\n* **HLS:** Fix IAMF codec selection in HLS ([#6389](https://github.com/shaka-project/shaka-player/issues/6389)) ([c59a3b8](https://github.com/shaka-project/shaka-player/commit/c59a3b83a33c7ae58b5ab25c7572584e813cf48d))\n* **HLS:** Fix labelling of captions in Safari ([#6426](https://github.com/shaka-project/shaka-player/issues/6426)) ([35dd543](https://github.com/shaka-project/shaka-player/commit/35dd5433eddcb1fddba45ec1f6152de1cc20e81b))\n* **HLS:** Fix playback of muxed TS content in Safari ([#6045](https://github.com/shaka-project/shaka-player/issues/6045)) ([1b675cb](https://github.com/shaka-project/shaka-player/commit/1b675cb58efe90657291e47edd3ffeab493da733))\n* **HLS:** Fix SAMPLE-AES playback ([#6402](https://github.com/shaka-project/shaka-player/issues/6402)) ([af88a32](https://github.com/shaka-project/shaka-player/commit/af88a32d0842be6164f1162733129255af00df79))\n* **HLS:** Fix variant synchronization in HLS after selectVariantTrack ([#5984](https://github.com/shaka-project/shaka-player/issues/5984)) ([8da033f](https://github.com/shaka-project/shaka-player/commit/8da033f7c90cc38bdc06500c8f22c5b5f3823584))\n* **HLS:** Fix VVC codec selection in HLS ([#6156](https://github.com/shaka-project/shaka-player/issues/6156)) ([701ec9b](https://github.com/shaka-project/shaka-player/commit/701ec9bece38d202c08db7910130616ee4be11f8))\n* **HLS:** getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME ([#6059](https://github.com/shaka-project/shaka-player/issues/6059)) ([776b69d](https://github.com/shaka-project/shaka-player/commit/776b69dcb99e1f5dbd22181e40c22898f0b8e47a))\n* **HLS:** getPlayheadTimeAsDate() differs from X-EXT-PROGRAM-DATE-TIME ([#6371](https://github.com/shaka-project/shaka-player/issues/6371)) ([c615cf4](https://github.com/shaka-project/shaka-player/commit/c615cf459a13703244595fa34198814cf330e162))\n* **HLS:** Live recovery after disconnects ([#6048](https://github.com/shaka-project/shaka-player/issues/6048)) ([8476631](https://github.com/shaka-project/shaka-player/commit/847663145390f5fc0a9378c3a663ae0dbf7b506b))\n* **HLS:** Only offset segment ref times when needed w/ EXT-X-MEDIA-SEQUENCE ([#6378](https://github.com/shaka-project/shaka-player/issues/6378)) ([bca6252](https://github.com/shaka-project/shaka-player/commit/bca62521bf7f8ce08b66bd31681d07a724e4dbfc))\n* **HLS:** Reset textSequenceModeOffset on discontinuity ([#6388](https://github.com/shaka-project/shaka-player/issues/6388)) ([966302d](https://github.com/shaka-project/shaka-player/commit/966302d447e896f8b67ef9ea865b62775589b7b1))\n* **HLS:** Set the bandwidth correctly for audio/video-only variants ([#6165](https://github.com/shaka-project/shaka-player/issues/6165)) ([658386b](https://github.com/shaka-project/shaka-player/commit/658386bf936341230c3c3015293b5f89801d0d54))\n* Improved HEAD request fail test when fallback-ing to GET request ([#6044](https://github.com/shaka-project/shaka-player/issues/6044)) ([b45877d](https://github.com/shaka-project/shaka-player/commit/b45877d17bb52b7d8455ce06f010408414822979))\n* Include text bandwidth in stats ([#6109](https://github.com/shaka-project/shaka-player/issues/6109)) ([4823dfe](https://github.com/shaka-project/shaka-player/commit/4823dfefea0c497adca145e50fe4500d16fc4b19))\n* Install by default shaka.polyfill.PatchedMediaKeysApple when there is no unprefixed EME support ([#6053](https://github.com/shaka-project/shaka-player/issues/6053)) ([5b5b2ce](https://github.com/shaka-project/shaka-player/commit/5b5b2ce1746ea888e163dddb3d36125f03100102))\n* log prefetch miss for missing segments ([#6012](https://github.com/shaka-project/shaka-player/issues/6012)) ([a70136d](https://github.com/shaka-project/shaka-player/commit/a70136d31de062367a462c6b9934616e2a029a6e))\n* Looser tolerance for ending trick play at edge of seek range. ([#6422](https://github.com/shaka-project/shaka-player/issues/6422)) ([9f603ad](https://github.com/shaka-project/shaka-player/commit/9f603adefb36be001aef0c2fbea632aae4e61277)), closes [#6421](https://github.com/shaka-project/shaka-player/issues/6421)\n* **offline:** Fix server certificate error when trying to delete stored content ([#6080](https://github.com/shaka-project/shaka-player/issues/6080)) ([e1eb003](https://github.com/shaka-project/shaka-player/commit/e1eb0032566547b45f3d0ae288f7186618bf7e7f))\n* **offline:** Fix store persistent licenses with drm info in the pssh ([#6143](https://github.com/shaka-project/shaka-player/issues/6143)) ([5acc773](https://github.com/shaka-project/shaka-player/commit/5acc7733647009d395a0ad8d399b4d18d045b2b3))\n* player Dropping Variant (better codec available) when it should not ([#6163](https://github.com/shaka-project/shaka-player/issues/6163)) ([07ebdb1](https://github.com/shaka-project/shaka-player/commit/07ebdb1d2cebe20bbaa32a3d37ebf5efd1a287e7))\n* **preload:** Fix load interruption ([#6271](https://github.com/shaka-project/shaka-player/issues/6271)) ([d795a00](https://github.com/shaka-project/shaka-player/commit/d795a00d6caf133020b8a0a35fac6d5daa65c733)), closes [#6225](https://github.com/shaka-project/shaka-player/issues/6225)\n* **preload:** Fix timing of call to stopQueuingLatePhaseQueuedOperations ([#6238](https://github.com/shaka-project/shaka-player/issues/6238)) ([fd57e7f](https://github.com/shaka-project/shaka-player/commit/fd57e7f48a01ffbdf296d48b80089078b410eac7)), closes [#6225](https://github.com/shaka-project/shaka-player/issues/6225)\n* **preload:** Only start preload if manager exists ([#6222](https://github.com/shaka-project/shaka-player/issues/6222)) ([36b7367](https://github.com/shaka-project/shaka-player/commit/36b7367ebd3efafd6e46d8ef74758cd834aff224))\n* Prevent license requests for unplayable variants ([#6204](https://github.com/shaka-project/shaka-player/issues/6204)) ([cac1fd0](https://github.com/shaka-project/shaka-player/commit/cac1fd0f7f8569161d8118c724333ef91b14bfef))\n* Provide a fallback to GET request when HEAD request fails ([#5986](https://github.com/shaka-project/shaka-player/issues/5986)) ([1af93e6](https://github.com/shaka-project/shaka-player/commit/1af93e63ffa6d1e585524e66d05072579a3cd299))\n* Reject Opus encrypted on Firefox Android ([#6115](https://github.com/shaka-project/shaka-player/issues/6115)) ([e692d68](https://github.com/shaka-project/shaka-player/commit/e692d68ecf2eb3697711b3ce60d1774b99748cd2))\n* Reject TS content on all platforms and transmux always ([#6382](https://github.com/shaka-project/shaka-player/issues/6382)) ([7e32636](https://github.com/shaka-project/shaka-player/commit/7e32636096b493b5665175bbe704d35751ada852))\n* Reset to default playback rate on release playback rate controller ([#6089](https://github.com/shaka-project/shaka-player/issues/6089)) ([23fb2f5](https://github.com/shaka-project/shaka-player/commit/23fb2f5c057beb1b69368231f408f44407d57e94))\n* stay paused after codec switch ([#6108](https://github.com/shaka-project/shaka-player/issues/6108)) ([e48438f](https://github.com/shaka-project/shaka-player/commit/e48438f3f143ce6b9f2b2044d28f1c73b23b8a4d))\n* text roles being combined incorrectly in some multiperiod cases ([#6055](https://github.com/shaka-project/shaka-player/issues/6055)) ([b463e39](https://github.com/shaka-project/shaka-player/commit/b463e391c3795ece7619fda617530ef7f39bf198)), closes [#6054](https://github.com/shaka-project/shaka-player/issues/6054)\n* **transmuxer:** Support raw AAC with TS extension ([#6360](https://github.com/shaka-project/shaka-player/issues/6360)) ([7c6e846](https://github.com/shaka-project/shaka-player/commit/7c6e84609440d4c107d97207345c095291bcd4d5))\n* **TTML:** Clip to video when extent is not present ([#6086](https://github.com/shaka-project/shaka-player/issues/6086)) ([2862228](https://github.com/shaka-project/shaka-player/commit/28622287161b50b664cbfe9b5b8b7b1d5f894e27))\n* **TTML:** Fix trim surrounding spaces with xml:space=\"default\" ([#6395](https://github.com/shaka-project/shaka-player/issues/6395)) ([bcedec3](https://github.com/shaka-project/shaka-player/commit/bcedec3a0a242a26e683b9e3c83de4b20546045e))\n* **tXml:** html unescape node attributes with urls ([#6267](https://github.com/shaka-project/shaka-player/issues/6267)) ([67cd2dd](https://github.com/shaka-project/shaka-player/commit/67cd2dd29d1f281f1f4011ec2cd2a88298dfb350))\n* **UI:** Disable PiP on casting ([#6110](https://github.com/shaka-project/shaka-player/issues/6110)) ([6312fa3](https://github.com/shaka-project/shaka-player/commit/6312fa31b79a9fb284cfaebacf7e70a19755dff4))\n* **UI:** Fix disable PiP when using documentPictureInPicture ([#5992](https://github.com/shaka-project/shaka-player/issues/5992)) ([6229284](https://github.com/shaka-project/shaka-player/commit/622928470f5ccf3ada5e61611fd9b54a712585f0))\n* **UI:** Fix keyboard navigation of volume bar on Firefox ([#5981](https://github.com/shaka-project/shaka-player/issues/5981)) ([90f1d61](https://github.com/shaka-project/shaka-player/commit/90f1d61fe0a980a2592706162de97556f25f5e17))\n* **UI:** Fix replay button when the post-roll is running using CS ([#6072](https://github.com/shaka-project/shaka-player/issues/6072)) ([6b7a02a](https://github.com/shaka-project/shaka-player/commit/6b7a02ae917485b00e5c9bab407df1824d19b1a7))\n* **UI:** Fix the scrolling when scrolling from the laterals when seekOnTaps is enabled ([#6050](https://github.com/shaka-project/shaka-player/issues/6050)) ([df05692](https://github.com/shaka-project/shaka-player/commit/df056925ed414e06d6a6512eeeda62e25887fe51))\n* **UI:** Update the playbackrate on loaded event ([#6090](https://github.com/shaka-project/shaka-player/issues/6090)) ([9b9ff16](https://github.com/shaka-project/shaka-player/commit/9b9ff16ba73d469b5419b047db18d36c0e28b4e7))\n* **VTT:** fix setting textShadow when multiple CSS classes provided ([#6287](https://github.com/shaka-project/shaka-player/issues/6287)) ([d0e64d7](https://github.com/shaka-project/shaka-player/commit/d0e64d7379d44542562ee6fad0619c0ff533813b))\n* **WebVTT:** Fix multiline colored VTT subtitles ([#6394](https://github.com/shaka-project/shaka-player/issues/6394)) ([25427c7](https://github.com/shaka-project/shaka-player/commit/25427c764ed597c148263446e5706b45e28e47dd))\n* **WebVTT:** Remove rollover logic because we always transmux TS ([#6397](https://github.com/shaka-project/shaka-player/issues/6397)) ([286126e](https://github.com/shaka-project/shaka-player/commit/286126edf1d3ee603f4c2994b7b886e2dcc4ebda))\n* When disconnecting from chromecast, subtitles are turned off ([#6103](https://github.com/shaka-project/shaka-player/issues/6103)) ([d4cd66d](https://github.com/shaka-project/shaka-player/commit/d4cd66dd59bb6ff4c763c2cdec604d22e1592c0b))\n\n\n### Performance Improvements\n\n* **Cast:** memoize/cache canDisplayType results to reduce startup latency ([#6367](https://github.com/shaka-project/shaka-player/issues/6367)) ([30285b2](https://github.com/shaka-project/shaka-player/commit/30285b2439b7702c7e0ace737b6875f6abb13c81))\n* **HLS:** do not filter all tags to get the first tag ([#6088](https://github.com/shaka-project/shaka-player/issues/6088)) ([9802f65](https://github.com/shaka-project/shaka-player/commit/9802f65dd9fa8056d969bc228e5cfdeac2458843))\n* Improve performance of addThumbnailsTrack ([#6067](https://github.com/shaka-project/shaka-player/issues/6067)) ([3a14047](https://github.com/shaka-project/shaka-player/commit/3a14047a1208a6e03431aa088030dc0cbc96952c))\n* **mp4generator:** stop nesting concat in methods ([#6041](https://github.com/shaka-project/shaka-player/issues/6041)) ([f52dd2b](https://github.com/shaka-project/shaka-player/commit/f52dd2b462b1ec88650c093be8bc89cb2bc5e260))\n* Optimize init segment reference comparison for common case ([#6014](https://github.com/shaka-project/shaka-player/issues/6014)) ([58d946e](https://github.com/shaka-project/shaka-player/commit/58d946e35aa611cc107b4dc77b4729cc34a5caa2))\n* PeriodCombiner improvements ([#6005](https://github.com/shaka-project/shaka-player/issues/6005)) ([4022788](https://github.com/shaka-project/shaka-player/commit/4022788a1822e0df06fb70d03ed2c798c774d746))\n* **transmuxer:** Improve performance on video transmuxing ([#6364](https://github.com/shaka-project/shaka-player/issues/6364)) ([d0c3d9a](https://github.com/shaka-project/shaka-player/commit/d0c3d9a05e7b8b76394abce8ab8f3df31d1243d0))\n* **transmuxer:** various performance improvements ([#6003](https://github.com/shaka-project/shaka-player/issues/6003)) ([cd326e2](https://github.com/shaka-project/shaka-player/commit/cd326e269148a1c58b1f156bbe3f67ad546f22b2))\n* ts parser O(n^2) performance bug. ([#6035](https://github.com/shaka-project/shaka-player/issues/6035)) ([dd50028](https://github.com/shaka-project/shaka-player/commit/dd500285c2bcb605b54f70ed27c3ea8f204c5a6d))\n* **WebVTT:** Improve parsing time for unstyled payloads ([#6066](https://github.com/shaka-project/shaka-player/issues/6066)) ([9462e12](https://github.com/shaka-project/shaka-player/commit/9462e1252d49f5badddc7ec74c5950cbd46175e6))\n\n\n### Reverts\n\n* Add chapter titles and dividers on the seek bar ([#6208](https://github.com/shaka-project/shaka-player/issues/6208)) ([32f8dc5](https://github.com/shaka-project/shaka-player/commit/32f8dc5cf41d5a20858cee1c3c2c6eef29c9b524))\n* Fix potential AV sync issues after seek or adaptation ([#6435](https://github.com/shaka-project/shaka-player/issues/6435)) ([73117f0](https://github.com/shaka-project/shaka-player/commit/73117f005cffdc1d2ac85b30d2cda90e751a7ba4)), closes [#5785](https://github.com/shaka-project/shaka-player/issues/5785) [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* Install by default shaka.polyfill.PatchedMediaKeysApple when there is no unprefixed EME support ([#6068](https://github.com/shaka-project/shaka-player/issues/6068)) ([3ce4399](https://github.com/shaka-project/shaka-player/commit/3ce439978d18787f7901a54b737b3c93a7164642))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.8.0 :sunflower:"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de4d6ca63ac8d88f07c",
    "number": 5986,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5959",
    "head_branch": "mimetype-fallback-get",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 75.00%",
      "Thanks for the quick fix & merge.\r\n\r\nNow, the `HEAD` request (don't know why there're 2 of them) is followed be a `GET` request.\r\nBut in my specific case, the response status is `302 Found`, meaning that the resource has temporarily moved.\r\nAnd it looks like the redirection is not followed:\r\n![image](https://github.com/shaka-project/shaka-player/assets/10497009/6871fc1d-1c73-4c42-b993-0693ebc00543)\r\n\r\n![image](https://github.com/shaka-project/shaka-player/assets/10497009/3256da4a-68bf-41f9-bc20-4caf0387f54f)\r\n\r\nIf I manually enter the URL https://ntg-zeop-content.netgemplatform.net/api/channels?id=coeurocean&deviceId=1d46bbfc-ffa4-55e0-cc80-b4c9a8c92478209062a1&ip=52.166.120.253%3A4352 in my browser, the redirection is followed and the `.m3u8` manifest is correctly downloaded.\r\n\r\nWhat do you think? Is it really a redirection issue?",
      "@avelad Do you have any idea about my issue? Is it a problem on my side or in Shaka Player?",
      "OK, my bad. We forgot to set `Access-Control-Allow-Origin` on our server.\r\nIt's now done but the `GET` request is not mage any longer...\r\nI still see the two `404` errors for the `HEAD` request, though.",
      "OK, once again it's on our side. `HEAD` request is not allowed on our server.\r\nI asked someone to allow it.\r\nWhen it's done, I'll check again and let you know...",
      "OK, with the following 3 things, everything now works correctly:\r\n* your fix,\r\n* the setting of `Access-Control-Allow-Origin`,\r\n* allowing `HEAD` method.\r\n\r\nThanks a lot!"
    ],
    "commit_messages": [
      "fix: Provide a fallback to GET request when HEAD request fails (#5986)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5959"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de5d6ca63ac8d88f07d",
    "number": 5985,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5913",
    "head_branch": "ts-pes-same-pts-dts",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 83.33%"
    ],
    "commit_messages": [
      "fix: Fix transmuxer when some PES has the same pts and dts value (#5985)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5913"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de6d6ca63ac8d88f07e",
    "number": 5984,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5849",
    "head_branch": "hls-variant-sync",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "Hi. This magic number has been touched upon in changes quite recently. Will returning a smaller value cause problems?\r\n\r\nFrom what I understand in the code, the adaptation variable needs to be true until segment from new variant not appended with appendBuffer. Currently this variable can be reset after appendBuffer for the currently selected variant",
      "Yes, I had other streams who have the same problem. This change is safe."
    ],
    "commit_messages": [
      "fix(HLS): Fix variant synchronization in HLS after selectVariantTrack (#5984)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5849"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de7d6ca63ac8d88f07f",
    "number": 5983,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2533",
    "head_branch": "framerate-test-restriction",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Add test for frameRate restriction (#5983)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2533"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de8d6ca63ac8d88f080",
    "number": 5982,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4474",
    "head_branch": "stats-live-latency",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%"
    ],
    "commit_messages": [
      "fix: Fix liveLatency in stats (#5982)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4474"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de8d6ca63ac8d88f081",
    "number": 5981,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/3987",
    "head_branch": "volume-keyboard-firefox",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 57.14%"
    ],
    "commit_messages": [
      "fix(UI): Fix keyboard navigation of volume bar on Firefox (#5981)\n\nFixes https://github.com/shaka-project/shaka-player/issues/3987"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219de9d6ca63ac8d88f082",
    "number": 5980,
    "body": "Closes #5974",
    "head_branch": "testDisplayerRegressionBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Fix code in UI tutorial (#5980)\n\nCloses #5974"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dead6ca63ac8d88f083",
    "number": 5979,
    "body": "Also adds new test to DRM engine unit tests.\r\n\r\nCloses #3697",
    "head_branch": "robustnessComparisonBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Remove unnecessary comment (#5979)\n\nAlso adds new test to DRM engine unit tests.\r\n\r\nCloses #3697"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219debd6ca63ac8d88f084",
    "number": 5978,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.4](https://github.com/shaka-project/shaka-player/compare/v4.6.3...v4.6.4) (2023-12-04)\n\n\n### Bug Fixes\n\n* Fix color detection in text utils ([#5970](https://github.com/shaka-project/shaka-player/issues/5970)) ([decea81](https://github.com/shaka-project/shaka-player/commit/decea818095f079d73aed8b7998654697b7f0ec1))\n* Fix trackschanged event not fired after a license request is denied for some tracks ([#5962](https://github.com/shaka-project/shaka-player/issues/5962)) ([63c836c](https://github.com/shaka-project/shaka-player/commit/63c836c18823221e97b77dc8746c0bd0f13f7a4f))\n* **HLS:** Provide a fallback to GET request when HEAD request fails ([#5964](https://github.com/shaka-project/shaka-player/issues/5964)) ([04188c7](https://github.com/shaka-project/shaka-player/commit/04188c76a51aa4ce790193350c80e77ec5251a93))\n* **WebVTT:** Fix support for line vertical alignment ([#5945](https://github.com/shaka-project/shaka-player/issues/5945)) ([ce3a2f7](https://github.com/shaka-project/shaka-player/commit/ce3a2f78dc44d4c5cd7918b4d564dc7ab6daef71))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.4 :sunflower:",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.4 (#5978)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219decd6ca63ac8d88f085",
    "number": 5976,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5834",
    "head_branch": "edge-tests",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Fix Edge versions to skip (#5976)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5834"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dedd6ca63ac8d88f086",
    "number": 5975,
    "body": null,
    "head_branch": "update-images",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Update screenshots (#5975)\n\n\r\n\r\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219deed6ca63ac8d88f087",
    "number": 5970,
    "body": null,
    "head_branch": "text-utils-colors",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix color detection in text utils (#5970)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219defd6ca63ac8d88f088",
    "number": 5969,
    "body": null,
    "head_branch": "compiler-errors",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore: Remove unnecessary hints for the compiler and add missing requires (#5969)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219df0d6ca63ac8d88f089",
    "number": 5967,
    "body": "Closes #1358",
    "head_branch": "legacyEdgeCommentBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Update old TODO in video_wrapper.js (#5967)\n\nCloses #1358"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219df1d6ca63ac8d88f08a",
    "number": 5966,
    "body": "Related to https://github.com/shaka-project/shaka-player/pull/5938",
    "head_branch": "media-source-reset",
    "is_a_fork": true,
    "comments": [
      "@theodab  it is feat instead of fix because the change it refers to is feat and has not been released yet",
      "Incremental code coverage: 52.94%"
    ],
    "commit_messages": [
      "feat: Fix Media Source recoveries in some cases (#5966)\n\nRelated to https://github.com/shaka-project/shaka-player/pull/5938"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219df2d6ca63ac8d88f08b",
    "number": 5964,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5959",
    "head_branch": "hls-fallback-get",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 56.25%"
    ],
    "commit_messages": [
      "fix(HLS): Provide a fallback to GET request when HEAD request fails (#5964)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5959"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219df3d6ca63ac8d88f08c",
    "number": 5963,
    "body": null,
    "head_branch": "prefer-spatial-audio",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 94.12%"
    ],
    "commit_messages": [
      "feat: Add config to prefer spatial audio (#5963)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219df4d6ca63ac8d88f08d",
    "number": 5962,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4874",
    "head_branch": "trackschanged-event",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix trackschanged event not fired after a license request is denied for some tracks (#5962)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4874"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219df5d6ca63ac8d88f08e",
    "number": 5960,
    "body": null,
    "head_branch": "release-docs",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Update docs for v4.7 release (#5960)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219df6d6ca63ac8d88f08f",
    "number": 5958,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.3](https://github.com/shaka-project/shaka-player/compare/v4.6.2...v4.6.3) (2023-11-30)\n\n\n### Bug Fixes\n\n* **DASH:** Fix bad url when specify using a full WebVTT with BaseURL ([#5954](https://github.com/shaka-project/shaka-player/issues/5954)) ([b77d73a](https://github.com/shaka-project/shaka-player/commit/b77d73aaf46f44bded11505c1bafbc01708afd12))\n* **Demo:** Pressing \"Edit\" button unstores custom asset, but does not update \"stored\" button ([#5936](https://github.com/shaka-project/shaka-player/issues/5936)) ([7e2e543](https://github.com/shaka-project/shaka-player/commit/7e2e5439658220e221645f4089b472cf7bc5cdce))\n* Fix ESDS box parser ([#5952](https://github.com/shaka-project/shaka-player/issues/5952)) ([ceff4e7](https://github.com/shaka-project/shaka-player/commit/ceff4e79442aba858d332df6ae894e4b5f4284d4))\n* Fix reset Media Source when using mixed codecs in different containers ([#5949](https://github.com/shaka-project/shaka-player/issues/5949)) ([2a2df18](https://github.com/shaka-project/shaka-player/commit/2a2df182fd98aaee9afe6ad456c740745e67b0b9))\n* **HLS:** Fix m4s extension detection ([#5951](https://github.com/shaka-project/shaka-player/issues/5951)) ([aa1c361](https://github.com/shaka-project/shaka-player/commit/aa1c361a8ac50688893d96be6981d90859c2b526))\n* Properly size region anchor from LINE units ([#5941](https://github.com/shaka-project/shaka-player/issues/5941)) ([35ecd06](https://github.com/shaka-project/shaka-player/commit/35ecd060650a2db5a4d494440510d4f605998e8e))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.3 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.3 (#5958)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219df7d6ca63ac8d88f090",
    "number": 5957,
    "body": null,
    "head_branch": "headerBranch",
    "is_a_fork": true,
    "comments": [
      "Actually I'm not sure if \"docs\" is the right tag for this...",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Added missing license headers. (#5957)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219df8d6ca63ac8d88f091",
    "number": 5955,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2172",
    "head_branch": "npm-package-size",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat: Improve npm package size (#5955)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2172"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219df9d6ca63ac8d88f092",
    "number": 5954,
    "body": null,
    "head_branch": "dash-subtitle-sintel-error",
    "is_a_fork": true,
    "comments": [
      "Test stream: https://storage.googleapis.com/shaka-demo-assets/sintel/dash.mpd",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(DASH): Fix bad url when specify using a full WebVTT with BaseURL (#5954)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dfad6ca63ac8d88f093",
    "number": 5953,
    "body": null,
    "head_branch": "demo-text-url",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(Demo): Add field for text URL when adding custom content (#5953)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dfbd6ca63ac8d88f094",
    "number": 5952,
    "body": null,
    "head_branch": "esds-box-parsing",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 91.89%"
    ],
    "commit_messages": [
      "fix: Fix ESDS box parser (#5952)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dfcd6ca63ac8d88f095",
    "number": 5951,
    "body": null,
    "head_branch": "m4s-detection",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix m4s extension detection (#5951)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dfdd6ca63ac8d88f096",
    "number": 5950,
    "body": "With the addition of the changeType API for MediaSource, it is theoretically possible for a variant to change between multiple codecs for a given buffer, over the course of playback.\r\nThis adds support for the DASH player to stitch together periods which have such multi-codec variants, but only as a last resort. For example, if one period only has audio in aac, and another period only has opus audio, the player will now stitch those periods together as one, but if there is a throughline that does not involve changing codecs it will go for that instead.\r\n\r\nCloses #5961",
    "head_branch": "audioIssueBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 92.57%",
      "Ok, I did a manual test run with this latest version, and the only test failures were UI tests having too low of a similarity value (0.949 instead of 0.95, etc). This change hasn't touched the UI at all, and I've found those tests to be flakey on local test runs anyway, so I think that means this is working.\r\n\r\nI did discover that this system is incompatible with muxed content. I wonder if there are enough caveats, at this point, that `multiTypeVariantsAllowed` should be `false` by default."
    ],
    "commit_messages": [
      "feat(DASH): Handle mixed-codec variants. (#5950)\n\nWith the addition of the changeType API for MediaSource, it is theoretically possible for a variant to change between multiple codecs for a given buffer, over the course of playback.\r\nThis adds support for the DASH player to stitch together periods which have such multi-codec variants, but only as a last resort. For example, if one period only has audio in aac, and another period only has opus audio, the player will now stitch those periods together as one, but if there is a throughline that does not involve changing codecs it will go for that instead.\r\n\r\nCloses #5961"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dfed6ca63ac8d88f097",
    "number": 5949,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5946",
    "head_branch": "mixed-codecs-transmuxer",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 80.00%"
    ],
    "commit_messages": [
      "fix: Fix reset Media Source when using mixed codecs in different containers (#5949)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5946"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219dffd6ca63ac8d88f098",
    "number": 5948,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5947",
    "head_branch": "feat/add-preferred-video-label",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 91.67%"
    ],
    "commit_messages": [
      "feat: add preferred video label (#5948)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5947"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e00d6ca63ac8d88f099",
    "number": 5945,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4446",
    "head_branch": "webvtt-line-number",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 75.00%",
      "@theodab I'll update the screenshots after merge https://github.com/shaka-project/shaka-player/pull/5975"
    ],
    "commit_messages": [
      "fix(WebVTT): Fix support for line vertical alignment (#5945)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4446"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e01d6ca63ac8d88f09a",
    "number": 5943,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3357\r\nCloses https://github.com/shaka-project/shaka-player/issues/3303\r\n\r\nThanks to @surajkumar-sk, his https://github.com/shaka-project/shaka-player/pull/3373 has been the inspiration for this.",
    "head_branch": "seek-on-taps",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 72.73%",
      "`singleClickForPlayAndPause` is ignored on rewind and fast-forward container click. Is it possible to play or pause on single click?  "
    ],
    "commit_messages": [
      "feat(UI): Add double tap to forward/rewind in the video (#5943)\n\nCloses https://github.com/shaka-project/shaka-player/issues/3357\r\nCloses https://github.com/shaka-project/shaka-player/issues/3303\r\n\r\nThanks to @surajkumar-sk, his\r\nhttps://github.com/shaka-project/shaka-player/pull/3373 has been the\r\ninspiration for this."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e02d6ca63ac8d88f09b",
    "number": 5942,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3223",
    "head_branch": "more-keyboard-shortcuts",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%"
    ],
    "commit_messages": [
      "feat(UI): Add more keyboard shortcuts (#5942)\n\nCloses https://github.com/shaka-project/shaka-player/issues/3223"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e03d6ca63ac8d88f09c",
    "number": 5941,
    "body": "CEA708 captions may set windows in LINE units, this needs to be converted to percentages to be properly displayed. In addition, adjust by the region anchor.",
    "head_branch": "region-anchor-display",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 54.05%",
      "Provides more improvements to https://github.com/shaka-project/shaka-player/issues/2583",
      "> Provides more improvements to #2583\r\n\r\nWhat would be missing to have https://github.com/shaka-project/shaka-player/issues/2583 complete?",
      "This does implement region anchors, but the issue talks about WebVTT and IMSC/TTML, and I was mostly focused on 708. It's possible that this also solves the WebVTT portion fully, but I'm not sure about the IMSC/TTML portion."
    ],
    "commit_messages": [
      "fix: Properly size region anchor from LINE units (#5941)\n\nCEA708 captions may set windows in LINE units, this needs to be\r\nconverted to percentages to be properly displayed. In addition, adjust\r\nby the region anchor.\r\n\r\n---------\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e04d6ca63ac8d88f09d",
    "number": 5940,
    "body": "With #5924, 708 windows were exposed as Cue regions. Since the region ID was getting set now, the UITextDisplayer was trying to position the regions but it doesn't properly support LINES units.\r\n\r\nThis PR skips positioning the region if the values are in LINES units until that can be properly implemented.",
    "head_branch": "region-only-percentage",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "I'm going to review https://github.com/shaka-project/shaka-player/pull/5941 since it is more complete, do you think we can close this PR?",
      "Yeah, we can close this now. I just wasn't sure how easy, or quickly I'll get to the other part."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e05d6ca63ac8d88f09e",
    "number": 5938,
    "body": null,
    "head_branch": "media-source-reset",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 26.32%"
    ],
    "commit_messages": [
      "feat: Add config to allow Media Source recoveries (#5938)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e06d6ca63ac8d88f09f",
    "number": 5937,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/1384",
    "head_branch": "disable-variants-quota-error",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 88.89%"
    ],
    "commit_messages": [
      "feat: Avoid streams which cannot fit into the browser's MediaSource quota (#5937)\n\nCloses https://github.com/shaka-project/shaka-player/issues/1384"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e06d6ca63ac8d88f0a0",
    "number": 5936,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/2200",
    "head_branch": "demo-store-error",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(Demo): Pressing \"Edit\" button unstores custom asset, but does not update \"stored\" button (#5936)\n\nFixes https://github.com/shaka-project/shaka-player/issues/2200"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e07d6ca63ac8d88f0a1",
    "number": 5935,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.2](https://github.com/shaka-project/shaka-player/compare/v4.6.1...v4.6.2) (2023-11-27)\n\n\n### Bug Fixes\n\n* **CEA:** Fix positioning in CEA-608 ([#5925](https://github.com/shaka-project/shaka-player/issues/5925)) ([bc2f542](https://github.com/shaka-project/shaka-player/commit/bc2f542e3adf36f0e828c95e20fec9043fe50cc2))\n* **Demo:** Allow configure some missing configs ([#5918](https://github.com/shaka-project/shaka-player/issues/5918)) ([8144dd3](https://github.com/shaka-project/shaka-player/commit/8144dd390928013fe3081732ff4638414e4eafc2))\n* Fix init segment comparison ([#5920](https://github.com/shaka-project/shaka-player/issues/5920)) ([ebd20b6](https://github.com/shaka-project/shaka-player/commit/ebd20b6b3529bd672040f42e3ce8957342faf02e))\n* Fix transmuxer when sample has no video data ([#5933](https://github.com/shaka-project/shaka-player/issues/5933)) ([8070f0f](https://github.com/shaka-project/shaka-player/commit/8070f0fe1d4eb8d893e2f1a52ccbfe6306f0118f))\n* Only append to the buffer init segments when the segment is independent ([#5921](https://github.com/shaka-project/shaka-player/issues/5921)) ([3db2b2d](https://github.com/shaka-project/shaka-player/commit/3db2b2d68331432533119517892198d6927376e0))\n* **UI:** Correctly display video time and duration for VOD ([#5929](https://github.com/shaka-project/shaka-player/issues/5929)) ([d51f18a](https://github.com/shaka-project/shaka-player/commit/d51f18ad9e097b43939c61b979a3399dd2a1bf1f))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.2 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.2 (#5935)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e08d6ca63ac8d88f0a2",
    "number": 5934,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5932",
    "head_branch": "demo-chapters",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(Demo): Add field for chapters URL when adding custom content (#5934)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5932"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e09d6ca63ac8d88f0a3",
    "number": 5933,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5931",
    "head_branch": "transmuxer-error",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 38.10%"
    ],
    "commit_messages": [
      "fix: Fix transmuxer when sample has no video data (#5933)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5931"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e0ad6ca63ac8d88f0a4",
    "number": 5929,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5765",
    "head_branch": "ui-display-time",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(UI): Correctly display video time and duration for VOD (#5929)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5765"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e0bd6ca63ac8d88f0a5",
    "number": 5928,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4720",
    "head_branch": "ui-hide-overflow-one-item",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(UI): Hide language and resolution overflow menu button if there's only one choice (#5928)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4720"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e0cd6ca63ac8d88f0a6",
    "number": 5927,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2812",
    "head_branch": "media-session-action-demo",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(Demo): Use MediaSession action handler in the demo (#5927)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2812"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e0dd6ca63ac8d88f0a7",
    "number": 5926,
    "body": null,
    "head_branch": "ll-base-delay",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat: Set baseDelay to 100 by default for low latency streaming (#5926)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e0ed6ca63ac8d88f0a8",
    "number": 5925,
    "body": "See: https://dvcs.w3.org/hg/text-tracks/raw-file/default/608toVTT/608toVTT.html#positioning-in-cea-608\r\n\r\nRelated to https://github.com/shaka-project/shaka-player/issues/2940",
    "head_branch": "cea-608-position",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(CEA): Fix positioning in CEA-608 (#5925)\n\nSee:\r\nhttps://dvcs.w3.org/hg/text-tracks/raw-file/default/608toVTT/608toVTT.html#positioning-in-cea-608\r\n\r\nRelated to https://github.com/shaka-project/shaka-player/issues/2940"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e0fd6ca63ac8d88f0a9",
    "number": 5924,
    "body": "CEA708 captions have positioning data available in their windows. However, this isn't currently translated and exposed by shaka though it is parsed from the bitstream.\r\n\r\nTranslates the windows into WebVTT regions and uses the mappings outlined https://dvcs.w3.org/hg/text-tracks/raw-file/default/608toVTT/608toVTT.html#positioning-in-cea-708\r\n\r\nThis is also partially implements #2583.",
    "head_branch": "708-regions",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5924/checks?check_run_id=18947359787) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "Incremental code coverage: 79.45%"
    ],
    "commit_messages": [
      "feat: expose CEA708 window position in the cue's region (#5924)\n\nCEA708 captions have positioning data available in their windows.\r\nHowever, this isn't currently translated and exposed by shaka though it\r\nis parsed from the bitstream.\r\n\r\nTranslates the windows into WebVTT regions and uses the mappings\r\noutlined\r\nhttps://dvcs.w3.org/hg/text-tracks/raw-file/default/608toVTT/608toVTT.html#positioning-in-cea-708\r\n\r\nThis is also partially implements #2583."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e10d6ca63ac8d88f0aa",
    "number": 5922,
    "body": "This update adds support for Managed Media Source in LCEVC",
    "head_branch": "lcevc_dec_update",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(LCEVC): Update lcevc_dec.js dependency (#5922)\n\nThis update adds support for Managed Media Source in LCEVC"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e11d6ca63ac8d88f0ab",
    "number": 5921,
    "body": "Note: this happens with LL only.",
    "head_branch": "init-segment-from-independent",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Only append to the buffer init segments when the segment is independent (#5921)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e12d6ca63ac8d88f0ac",
    "number": 5920,
    "body": "With the introduction of Content Steering the URLs may change order, but the segment is the same",
    "head_branch": "initsegment-equal",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix init segment comparison (#5920)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e13d6ca63ac8d88f0ad",
    "number": 5918,
    "body": null,
    "head_branch": "demo-config",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(Demo): Allow configure some missing configs (#5918)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e14d6ca63ac8d88f0ae",
    "number": 5917,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.1](https://github.com/shaka-project/shaka-player/compare/v4.6.0...v4.6.1) (2023-11-22)\n\n\n### Bug Fixes\n\n* **DASH:** Fix false redirect detection ([#5910](https://github.com/shaka-project/shaka-player/issues/5910)) ([eca7bfb](https://github.com/shaka-project/shaka-player/commit/eca7bfb4bf2d89fbcabc4ba9b9325896db584237))\n* **DASH:** SegmentTemplate@media not updated after change in manifest ([#5899](https://github.com/shaka-project/shaka-player/issues/5899)) ([a61538a](https://github.com/shaka-project/shaka-player/commit/a61538aef0409822c424cf843c5c1a337b936902))\n* Fix language comparison in addTextTrackAsync ([#5904](https://github.com/shaka-project/shaka-player/issues/5904)) ([686a083](https://github.com/shaka-project/shaka-player/commit/686a083ec358323c9e7eca1b30fec8f88bd076ff))\n* **HLS:** Recognize CEA subtitles when CLOSED-CAPTIONS attribute is missing ([#5916](https://github.com/shaka-project/shaka-player/issues/5916)) ([8560842](https://github.com/shaka-project/shaka-player/commit/85608424c25a0825eddcc41d86d4b6b8660bd251))\n* Unmask errors on LL ([#5908](https://github.com/shaka-project/shaka-player/issues/5908)) ([7a7e83b](https://github.com/shaka-project/shaka-player/commit/7a7e83b206dbe81adcc2c0e19e342c8690f2917f))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.6.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.1 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.6.x): release 4.6.1 (#5917)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e15d6ca63ac8d88f0af",
    "number": 5916,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5915",
    "head_branch": "hls-cea",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Recognize CEA subtitles when CLOSED-CAPTIONS attribute is missing (#5916)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5915"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e16d6ca63ac8d88f0b0",
    "number": 5914,
    "body": "According to https://github.com/Dash-Industry-Forum/Dash-Industry-Forum.github.io/files/11722876/DASH-IF-CTS-001-1.0.0.pdf, Location elements can have serviceLocation, so we need support it.",
    "head_branch": "dash-location-content-steering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 98.08%"
    ],
    "commit_messages": [
      "feat(DASH): Add support for location in Content Steering (#5914)\n\nAccording to\r\nhttps://github.com/Dash-Industry-Forum/Dash-Industry-Forum.github.io/files/11722876/DASH-IF-CTS-001-1.0.0.pdf,\r\nLocation elements can have serviceLocation, so we need support it."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e17d6ca63ac8d88f0b1",
    "number": 5911,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5834",
    "head_branch": "broken-edge-windows",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e18d6ca63ac8d88f0b2",
    "number": 5910,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/2216",
    "head_branch": "false-redirect-dash",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(DASH): Fix false redirect detection (#5910)\n\nFixes https://github.com/shaka-project/shaka-player/issues/2216"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e18d6ca63ac8d88f0b3",
    "number": 5909,
    "body": null,
    "head_branch": "chore-dash-content-steering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 80.00%"
    ],
    "commit_messages": [
      "chore(DASH): Simplify content steering management in DASH (#5909)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e19d6ca63ac8d88f0b4",
    "number": 5908,
    "body": null,
    "head_branch": "unmask-errors-on-ll",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 87.88%"
    ],
    "commit_messages": [
      "fix: Unmask errors on LL (#5908)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e1ad6ca63ac8d88f0b5",
    "number": 5905,
    "body": null,
    "head_branch": "media-source-reset",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 22.22%"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e1bd6ca63ac8d88f0b6",
    "number": 5904,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5901",
    "head_branch": "addTextTrackAsync-src-error",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix language comparison in addTextTrackAsync (#5904)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5901"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e1cd6ca63ac8d88f0b7",
    "number": 5903,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.7.0](https://github.com/shaka-project/shaka-player/compare/v4.6.0...v4.7.0) (2023-12-04)\n\n\n### Features\n\n* Add config to allow Media Source recoveries ([#5938](https://github.com/shaka-project/shaka-player/issues/5938)) ([0deb25b](https://github.com/shaka-project/shaka-player/commit/0deb25b57f0612a802ad8fbc8e3e379dff54a57c))\n* Add config to prefer spatial audio ([#5963](https://github.com/shaka-project/shaka-player/issues/5963)) ([90bc6a7](https://github.com/shaka-project/shaka-player/commit/90bc6a7c783103aaa4fca1a6284be338f9ec7301))\n* add preferred video label ([#5948](https://github.com/shaka-project/shaka-player/issues/5948)) ([503327a](https://github.com/shaka-project/shaka-player/commit/503327a0e3570372d85e5cf4af62230ede35b1bf))\n* Add support for Common Media Server Data (CMSD) ([#5900](https://github.com/shaka-project/shaka-player/issues/5900)) ([966b910](https://github.com/shaka-project/shaka-player/commit/966b910edcd3fea03e0276bee1f36ad859a453f6))\n* Avoid streams which cannot fit into the browser's MediaSource quota ([#5937](https://github.com/shaka-project/shaka-player/issues/5937)) ([c496aaf](https://github.com/shaka-project/shaka-player/commit/c496aafaeb505851b6606f6a9567fcaae1930ac7))\n* **DASH:** Add support for location in Content Steering ([#5914](https://github.com/shaka-project/shaka-player/issues/5914)) ([8f453c2](https://github.com/shaka-project/shaka-player/commit/8f453c245fd21c907109f2982c25514869ffb2e3))\n* **DASH:** Handle mixed-codec variants. ([#5950](https://github.com/shaka-project/shaka-player/issues/5950)) ([24e3255](https://github.com/shaka-project/shaka-player/commit/24e32559bff6457aa8a1b356f26d83b6a320b9b2)), closes [#5961](https://github.com/shaka-project/shaka-player/issues/5961)\n* **Demo:** Add field for chapters URL when adding custom content ([#5934](https://github.com/shaka-project/shaka-player/issues/5934)) ([d1bc83d](https://github.com/shaka-project/shaka-player/commit/d1bc83dd53fb596a8ff22a111c26d2331860e303))\n* **Demo:** Add field for text URL when adding custom content ([#5953](https://github.com/shaka-project/shaka-player/issues/5953)) ([5c4a3a2](https://github.com/shaka-project/shaka-player/commit/5c4a3a24558c5b443f78fb4cf234a4f3a60674f1))\n* **Demo:** Use MediaSession action handler in the demo ([#5927](https://github.com/shaka-project/shaka-player/issues/5927)) ([078ab36](https://github.com/shaka-project/shaka-player/commit/078ab36201946ce3f854197e7985dbdc56c6e9dc))\n* expose CEA708 window position in the cue's region ([#5924](https://github.com/shaka-project/shaka-player/issues/5924)) ([2a524bf](https://github.com/shaka-project/shaka-player/commit/2a524bf51fc613b8ebddb5794524cbb3f6366d4b))\n* Fix Media Source recoveries in some cases ([#5966](https://github.com/shaka-project/shaka-player/issues/5966)) ([b2a880b](https://github.com/shaka-project/shaka-player/commit/b2a880b402dd1eeef418383f7bed1a709369d8b4))\n* Improve npm package size ([#5955](https://github.com/shaka-project/shaka-player/issues/5955)) ([ca28063](https://github.com/shaka-project/shaka-player/commit/ca28063427167933fc2ef198a5622610332eefbd))\n* Set baseDelay to 100 by default for low latency streaming ([#5926](https://github.com/shaka-project/shaka-player/issues/5926)) ([515a4ab](https://github.com/shaka-project/shaka-player/commit/515a4ab02b15b11ee5e6873d6eaa80cfaa472482))\n* **UI:** Add double tap to forward/rewind in the video ([#5943](https://github.com/shaka-project/shaka-player/issues/5943)) ([918c30b](https://github.com/shaka-project/shaka-player/commit/918c30b25ae7d193bef82de95d6e0e807426cea9))\n* **UI:** Add more keyboard shortcuts ([#5942](https://github.com/shaka-project/shaka-player/issues/5942)) ([2fcc2f8](https://github.com/shaka-project/shaka-player/commit/2fcc2f8f123a5fe4c43bdebdef7c97edd7b83cb1))\n* **UI:** Hide language and resolution overflow menu button if there's only one choice ([#5928](https://github.com/shaka-project/shaka-player/issues/5928)) ([628bb63](https://github.com/shaka-project/shaka-player/commit/628bb63c4c082b44f749876cf1cb8b3f06887d0b))\n\n\n### Bug Fixes\n\n* **CEA:** Fix positioning in CEA-608 ([#5925](https://github.com/shaka-project/shaka-player/issues/5925)) ([83f6f53](https://github.com/shaka-project/shaka-player/commit/83f6f5379bfaffac0166c08c0a5e038b6b5d439f))\n* **DASH:** Fix bad url when specify using a full WebVTT with BaseURL ([#5954](https://github.com/shaka-project/shaka-player/issues/5954)) ([ba85ece](https://github.com/shaka-project/shaka-player/commit/ba85ece3ac4dd8d2df788f29b8a0530ba110d234))\n* **DASH:** Fix false redirect detection ([#5910](https://github.com/shaka-project/shaka-player/issues/5910)) ([3a68623](https://github.com/shaka-project/shaka-player/commit/3a686239461cd2389ebb11615cd01886421a6fdd))\n* **DASH:** SegmentTemplate@media not updated after change in manifest ([#5899](https://github.com/shaka-project/shaka-player/issues/5899)) ([30de177](https://github.com/shaka-project/shaka-player/commit/30de1771cf598068f5e0b446b36f07eb12676f4d))\n* **Demo:** Allow configure some missing configs ([#5918](https://github.com/shaka-project/shaka-player/issues/5918)) ([c62e38c](https://github.com/shaka-project/shaka-player/commit/c62e38c6e35bdeb2b5c6ecc68c85e9b28d13e39d))\n* **Demo:** Pressing \"Edit\" button unstores custom asset, but does not update \"stored\" button ([#5936](https://github.com/shaka-project/shaka-player/issues/5936)) ([82b958f](https://github.com/shaka-project/shaka-player/commit/82b958f3e4e34d2d6952f7f425d9f47a944a1e3b))\n* Fix color detection in text utils ([#5970](https://github.com/shaka-project/shaka-player/issues/5970)) ([68903e1](https://github.com/shaka-project/shaka-player/commit/68903e130ec85585211d5b89ee92d6610aa6e4b3))\n* Fix ESDS box parser ([#5952](https://github.com/shaka-project/shaka-player/issues/5952)) ([7683892](https://github.com/shaka-project/shaka-player/commit/76838921065d71bf31183f5a4b7ac775f24e800b))\n* Fix init segment comparison ([#5920](https://github.com/shaka-project/shaka-player/issues/5920)) ([82ab893](https://github.com/shaka-project/shaka-player/commit/82ab8937e68e2a46002794d86fea1527cbba213e))\n* Fix language comparison in addTextTrackAsync ([#5904](https://github.com/shaka-project/shaka-player/issues/5904)) ([f708318](https://github.com/shaka-project/shaka-player/commit/f7083183c30339e7074d7501a94fabb4ea3166df))\n* Fix reset Media Source when using mixed codecs in different containers ([#5949](https://github.com/shaka-project/shaka-player/issues/5949)) ([419b1c3](https://github.com/shaka-project/shaka-player/commit/419b1c35d8c72c77fe17cb65d43d8f1c0f24f298))\n* Fix trackschanged event not fired after a license request is denied for some tracks ([#5962](https://github.com/shaka-project/shaka-player/issues/5962)) ([4eba182](https://github.com/shaka-project/shaka-player/commit/4eba182826e71040dd2ed55072ecc1a4704ce536))\n* Fix transmuxer when sample has no video data ([#5933](https://github.com/shaka-project/shaka-player/issues/5933)) ([6102060](https://github.com/shaka-project/shaka-player/commit/610206002838157658bdadb608588c4430cf075d))\n* **HLS:** Fix m4s extension detection ([#5951](https://github.com/shaka-project/shaka-player/issues/5951)) ([d89945f](https://github.com/shaka-project/shaka-player/commit/d89945fc78ed671caabb6d8a5a8134630d5f89b4))\n* **HLS:** Provide a fallback to GET request when HEAD request fails ([#5964](https://github.com/shaka-project/shaka-player/issues/5964)) ([fb5a833](https://github.com/shaka-project/shaka-player/commit/fb5a833df86a03d9f282f37fb2a3a61e61fa9c84))\n* **HLS:** Recognize CEA subtitles when CLOSED-CAPTIONS attribute is missing ([#5916](https://github.com/shaka-project/shaka-player/issues/5916)) ([58d4597](https://github.com/shaka-project/shaka-player/commit/58d45976d83d5a2b63bf1c1a2defa018fc5c5d8c))\n* Only append to the buffer init segments when the segment is independent ([#5921](https://github.com/shaka-project/shaka-player/issues/5921)) ([09f2a2e](https://github.com/shaka-project/shaka-player/commit/09f2a2e887459a534d13a7b0a9c3d65c77c4a403))\n* Properly size region anchor from LINE units ([#5941](https://github.com/shaka-project/shaka-player/issues/5941)) ([8b6602e](https://github.com/shaka-project/shaka-player/commit/8b6602ec7c82717a56b672e5c2697856eab44ad2))\n* **UI:** Correctly display video time and duration for VOD ([#5929](https://github.com/shaka-project/shaka-player/issues/5929)) ([00ff864](https://github.com/shaka-project/shaka-player/commit/00ff864c2c948de611ab8959e35194e5d356a751))\n* Unmask errors on LL ([#5908](https://github.com/shaka-project/shaka-player/issues/5908)) ([c898364](https://github.com/shaka-project/shaka-player/commit/c8983646c1d3d1721ed86a5d8376dea84835ad63))\n* **WebVTT:** Fix support for line vertical alignment ([#5945](https://github.com/shaka-project/shaka-player/issues/5945)) ([9f5e461](https://github.com/shaka-project/shaka-player/commit/9f5e46190ca00b1df36d5210852962bb52aac0c4))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.7.0 :sunflower:"
    ],
    "commit_messages": [
      "chore(main): release 4.7.0 (#5903)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e1dd6ca63ac8d88f0b8",
    "number": 5900,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5890",
    "head_branch": "cmsd",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 93.43%"
    ],
    "commit_messages": [
      "feat: Add support for Common Media Server Data (CMSD) (#5900)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5890"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e1ed6ca63ac8d88f0b9",
    "number": 5899,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5898",
    "head_branch": "dash-media-update",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(DASH): SegmentTemplate@media not updated after change in manifest (#5899)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5898"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e1fd6ca63ac8d88f0ba",
    "number": 5897,
    "body": "Adds a new player method, preload. This asynchronous method creates a PreloadManager object, which\r\nwill preload data for the given manifest, and which can be passed to the load method (in place of an asset URI)\r\nin order to apply that preloaded data. This will allow for lower load latency; if you can predict what asset will\r\nbe loaded ahead of time (say, by preloading things the user is hovering their mouse over in a menu),\r\nyou can load the manifest before the user presses the load button.\r\nNote that PreloadManagers are only meant to be used by the player instance that created them.\r\n\r\nCloses #880",
    "head_branch": "preloadBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "I think I successfully merged with master, but the merge with #6204 was messy and I'm worried that I might have re-broken the issue.",
      "After another merge with master, I think this is fully complete and ready to go."
    ],
    "commit_messages": [
      "feat: Add preload system to player (#5897)\n\nAdds a new player method, preload. This asynchronous method creates a PreloadManager object, which\r\nwill preload data for the given manifest, and which can be passed to the load method (in place of an asset URI)\r\nin order to apply that preloaded data. This will allow for lower load latency; if you can predict what asset will\r\nbe loaded ahead of time (say, by preloading things the user is hovering their mouse over in a menu),\r\nyou can load the manifest before the user presses the load button.\r\nNote that PreloadManagers are only meant to be used by the player instance that created them.\r\n\r\nCloses #880\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e20d6ca63ac8d88f0bb",
    "number": 5895,
    "body": "In testing Shaka on Orange S.A devices, we discovered these devices require encryption info in all init segments when content includes unencrypted and encrypted periods. \r\n\r\nThis PR adds the Orange platform to `requiresEncryptionInfoInAllInitSegments`, so the the fake encryption workaround can be applied. Resolves: https://github.com/shaka-project/shaka-player/issues/5894.",
    "head_branch": "fix/orange-encrypt-init",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Add Orange platform to requiresEncryptionInfoInAllInitSegments (#5895)\n\nFixes: https://github.com/shaka-project/shaka-player/issues/5894."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e21d6ca63ac8d88f0bc",
    "number": 5893,
    "body": "Fixes #5891 \r\n\r\nIn production, we are seeing the occasional SEI packet [`0x5b`], which is causing the parser to error. Using Mux.JS, this packet is ignored because it's not long enough to be a valid captions packet, so for feature parity it would make sense for the built in Shaka parser to also ignore. ",
    "head_branch": "patch/caption-parser-size-safety",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: CEA decoder should return early if packet is not large enough (#5893)\n\nFixes #5891 \r\n\r\nIn production, we are seeing the occasional SEI packet [`0x5b`], which\r\nis causing the parser to error. Using Mux.JS, this packet is ignored\r\nbecause it's not long enough to be a valid captions packet, so for\r\nfeature parity it would make sense for the built in Shaka parser to also\r\nignore."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e22d6ca63ac8d88f0bd",
    "number": 5892,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5115",
    "head_branch": "manifestparsed-seek-range",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 90.00%",
      "Thanks."
    ],
    "commit_messages": [
      "fix: Allow get seekRange on manifestparsed event in some cases (#5892)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5115"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e23d6ca63ac8d88f0be",
    "number": 5889,
    "body": "fixes: https://github.com/shaka-project/shaka-player/issues/3952\r\n\r\nThere was an issue that would occur that caused segments to be fetched that are out of the range of the manifest.",
    "head_branch": "absolute-segment-position",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "I've tested a few streams and do not see any issues with this PR. I did notice that we lost captions on some of our streams, but this issue occurs in main as well. Unfortunately I don't have a lot of time to investigate right now.",
      "@avelad @littlespex For some more info on this fix (I'm on a team with @dave-nicholas :) )\r\n\r\nUsing `numEvicted` is not ideal for the `segmentReplacement` calculation, as that value is not reset or consistent when you close and reopen segment indexes. If you let the stream play on one variant with ABR disabled, it will work fine. It's when variant switches come into the picture that `numEvicted` becomes problematic. You can reproduce fairly easily by turning ABR off, playing a linear stream for a couple minutes, and then switching to a different variant and immediately switching back. \r\n\r\nFurthermore, architecturally numEvicted has one single purpose, and that's to keep consistent positioning while you're playing a stream. It's not there to be used for absolute URI calculations or to be consistent between closing and re-opening of a Segment Index. This dual purpose of using `numEvicted` to calculate the Segment Replacement is both architecturally confusing and causes an actual behavioral bug. \r\n\r\nI think, architecturally, it makes sense that all info required to build the Segment URI should be contained within the TemplateInfo structure. Mixing in a variable internal to the Segment Index just makes it all the more confusing. "
    ],
    "commit_messages": [
      "fix(DASH): Segments being fetched out of the range of the timeline (#5889)\n\nFixes: https://github.com/shaka-project/shaka-player/issues/3952"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e24d6ca63ac8d88f0bf",
    "number": 5888,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5704",
    "head_branch": "demo-content-steering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(Demo): Add Content Steering assets (#5888)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5704"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e25d6ca63ac8d88f0c0",
    "number": 5887,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5704",
    "head_branch": "ttl-content-steering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix mangled property in compiled mode in Content Steering (#5887)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5704"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e26d6ca63ac8d88f0c1",
    "number": 5886,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5447",
    "head_branch": "ext-x-media-without-uri",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(HLS): Improve the stream info when EXT-X-MEDIA has not uri (#5886)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5447"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e27d6ca63ac8d88f0c2",
    "number": 5885,
    "body": null,
    "head_branch": "release-docs",
    "is_a_fork": true,
    "comments": [
      "@theodab It is a draft in case you want to add comments about things that need to be added.",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Update docs for v4.6 release (#5885)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e28d6ca63ac8d88f0c3",
    "number": 5884,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5704",
    "head_branch": "fix-dash-content-steering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 96.88%"
    ],
    "commit_messages": [
      "feat(DASH): Add support for Content Steering in AdaptationSet BaseURL (#5884)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5704"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e29d6ca63ac8d88f0c4",
    "number": 5883,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5882",
    "head_branch": "dash-regresion",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(DASH): Fix bad url when specify MPD BaseURL and AdaptationSet BaseURL (#5883)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5882"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e2ad6ca63ac8d88f0c5",
    "number": 5881,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5704",
    "head_branch": "hls-content-steering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 94.59%"
    ],
    "commit_messages": [
      "feat(HLS): Add support for Content Steering (#5881)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5704"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e2ad6ca63ac8d88f0c6",
    "number": 5879,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5873",
    "head_branch": "abr-offline-online",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%"
    ],
    "commit_messages": [
      "fix(ABR): Fix HLS playback after internet connection is restored (#5879)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5873"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e2bd6ca63ac8d88f0c7",
    "number": 5878,
    "body": null,
    "head_branch": "hls-info-detection",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix bad detection in some MediaPlaylist (#5878)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e2cd6ca63ac8d88f0c8",
    "number": 5877,
    "body": null,
    "head_branch": "hls-byterange-optimization-config",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(HLS): Add new config for allow LL-HLS byterange optimization (#5877)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e2dd6ca63ac8d88f0c9",
    "number": 5876,
    "body": null,
    "head_branch": "hls-byterangeoptimization-segments-mode",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix LL-HLS with byterange optimization using segments mode (#5876)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e2ed6ca63ac8d88f0ca",
    "number": 5875,
    "body": null,
    "head_branch": "fix-number-channel-selection",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix selectAudioLanguage using channelsCount param (#5875)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e2fd6ca63ac8d88f0cb",
    "number": 5872,
    "body": "It also creates a filter for UHD and corrects the filtering in some assets.",
    "head_branch": "demo-3d-asset",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(Demo): Add new 3D movie stream from Apple (#5872)\n\nIt also creates a filter for UHD and corrects the filtering in some\r\nassets."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e30d6ca63ac8d88f0cc",
    "number": 5871,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5785#issuecomment-1801944841",
    "head_branch": "fix-aes-decrypt",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix decryption of AES-128 (#5871)\n\nRelated to\r\nhttps://github.com/shaka-project/shaka-player/issues/5785#issuecomment-1801944841"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e31d6ca63ac8d88f0cd",
    "number": 5869,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5858",
    "head_branch": "audio-filtering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix missing audio streams (#5869)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5858"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e32d6ca63ac8d88f0ce",
    "number": 5868,
    "body": null,
    "head_branch": "ui-audio-channels",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 75.56%"
    ],
    "commit_messages": [
      "feat(UI): Show the channel count in the audio selector (#5868)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e33d6ca63ac8d88f0cf",
    "number": 5866,
    "body": null,
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(demo): Add icon for new demo asset (#5866)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e34d6ca63ac8d88f0d0",
    "number": 5864,
    "body": "This will allow adding support for Content Steering in HLS\r\n\r\nIt also improves the detection of duplicate playlists, and improves redirect management, leaving the original URL available in case it is needed.",
    "head_branch": "refactor-hls-uris",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 95.64%"
    ],
    "commit_messages": [
      "refactor(HLS): Refactor URLs management in HLS (#5864)\n\nIt also improves the detection of duplicate playlists, and improves\r\nredirect management, leaving the original URL available in case it is\r\nneeded."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e35d6ca63ac8d88f0d1",
    "number": 5863,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3597\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nReverted, please ignore\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "ui-chapters",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 48.21%",
      "It looks like my changes from https://github.com/shaka-project/shaka-player/pull/5771 were copied, modified and then merged with this PR. Please link my commits and add me as a contributor.",
      "@Trail3lazer I'm going to revert the funcionality and you can work on it. https://github.com/shaka-project/shaka-player/pull/6208"
    ],
    "commit_messages": [
      "feat(UI): Add chapter titles and dividers on the seek bar (#5863)\n\nCloses https://github.com/shaka-project/shaka-player/issues/3597"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e36d6ca63ac8d88f0d2",
    "number": 5862,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2457",
    "head_branch": "demo-cbcs",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(Demo): Add CBCS content to demo (#5862)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2457"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e37d6ca63ac8d88f0d3",
    "number": 5861,
    "body": null,
    "head_branch": "store-download",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 93.42%"
    ],
    "commit_messages": [
      "fix(Offline): Fix download of some HLS manifests (#5861)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e38d6ca63ac8d88f0d4",
    "number": 5859,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5858",
    "head_branch": "channels-count-filtering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix variant filtering by preferredAudioChannelCount (#5859)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5858"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e39d6ca63ac8d88f0d5",
    "number": 5857,
    "body": "Since the official ID3 site (https://id3.org) is not available, I used a mirror (https://mutagen-specs.readthedocs.io/en/latest/id3/id3v2.4.0-frames.html#apic) to implement the decoding of APIC frames.",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 88.00%",
      "@pszemus can you provide a sample stream to test the code? Thanks!",
      "Here's a sample live HLS stream: https://stream-cdn-1.open.fm/OFM18/ngrp:standard/playlist.m3u8 with ID3 frames inserted at each song change: TIT2, TLEN, WOAF and APIC\r\n\r\nIn this stream, each APIC frame contains the following informationf:\r\n- MIME Type: `-->` indicating that Picture Data will store an image URL\r\n- Picture Type: `3` indicating that this is the Cover (front) picture according to https://mutagen-specs.readthedocs.io/en/latest/id3/id3v2.4.0-frames.html#apic\r\n- empty Description\r\n- Picture Data: a string with an image URL\r\n\r\nAbove should map to the following metadata object being thrown:\r\n\r\n```\r\n{\r\n    \"key\": \"APIC\",\r\n    \"description\": \"\",\r\n    \"data\": \"https://open-fm.wpcdn.pl/cover/c4a07f00000100000000000000005df37761082777840000\",\r\n    \"pictureType\": 3,\r\n    \"mimeType\": \"-->\"\r\n}\r\n```\r\n\r\nand it does, according to unit tests I wrote.\r\n\r\nWhat bothers me is why Shaka Player replaces the `pictureType` field name set in [id3_utils.js](https://github.com/shaka-project/shaka-player/pull/5857/files#diff-0a837fc93c1240ace860915493ec6630f0c15893002689fc30363e587536caabR188) with `ph` in the metadata object (in my build), leaving `mimeType`, `description` and `data` field names unchanged. The metadata is logged as follows:\r\n\r\n```\r\nplayer.addEventListener('metadata', (e) => {\r\n   console.log(\"[t: \" + player.getMediaElement().currentTime + \"] MetadataEvent event\", e.payload);\r\n});\r\n```\r\n\r\nand the result of the parsed APIC frame:\r\n\r\n```\r\n{\r\n    \"key\": \"APIC\",\r\n    \"description\": \"\",\r\n    \"data\": \"https://open-fm.wpcdn.pl/cover/c4a07f00000100000000000000005df37761082777840000\",\r\n    \"ph\": 3,\r\n    \"mimeType\": \"-->\"\r\n}\r\n```\r\n",
      "@pszemus I fixed the problem. Thanks for your PR!"
    ],
    "commit_messages": [
      "feat(ID3): decode APIC frames (#5857)\n\nSince the official ID3 site (https://id3.org) is not available, I used a\r\nmirror\r\n(https://mutagen-specs.readthedocs.io/en/latest/id3/id3v2.4.0-frames.html#apic)\r\nto implement the decoding of APIC frames.\r\n\r\n---------\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e3ad6ca63ac8d88f0d6",
    "number": 5856,
    "body": "It also adds support for rendering downloaded thumbnails.",
    "head_branch": "i-frame-mjpg",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 49.62%",
      "Test stream: https://devstreaming-cdn.apple.com/videos/streaming/examples/adv_dv_atmos/main.m3u8"
    ],
    "commit_messages": [
      "feat(HLS): Add support for mjpg I-Frames playlist (#5856)\n\nIt also adds support for rendering downloaded thumbnails."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e3bd6ca63ac8d88f0d7",
    "number": 5855,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5854",
    "head_branch": "mediatailor-events",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%"
    ],
    "commit_messages": [
      "fix: AD_STARTED fires before ad started with AWS Media Tailor (#5855)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5854"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e3cd6ca63ac8d88f0d8",
    "number": 5853,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4572",
    "head_branch": "duplicate-init-data",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat: Add config to ignore duplicate init data (#5853)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4572"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e3dd6ca63ac8d88f0d9",
    "number": 5852,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5134",
    "head_branch": "rdk-support",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 38.10%"
    ],
    "commit_messages": [
      "feat: Add support for WPE based browsers in RDK set-top boxes (#5852)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5134"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e3ed6ca63ac8d88f0da",
    "number": 5851,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5049",
    "head_branch": "ttml-smpte-backgroundImage",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(TTML): Fix support of urls in smpte:backgroundImage (#5851)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5049"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e3fd6ca63ac8d88f0db",
    "number": 5850,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2656",
    "head_branch": "video-progress-events",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 96.72%"
    ],
    "commit_messages": [
      "feat: Add video progress events (#5850)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2656"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e40d6ca63ac8d88f0dc",
    "number": 5848,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5132",
    "head_branch": "storage-certificate",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(offline): Fix server certificate error when trying to store content (#5848)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5132"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e40d6ca63ac8d88f0dd",
    "number": 5846,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5666\r\nFixes https://github.com/shaka-project/shaka-player/issues/5797",
    "head_branch": "transmuxer-improvements",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 65.60%"
    ],
    "commit_messages": [
      "fix: Fix nalu parsing and improve performance in the transmuxer (#5846)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5666\r\nFixes https://github.com/shaka-project/shaka-player/issues/5797"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e41d6ca63ac8d88f0de",
    "number": 5845,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5797",
    "head_branch": "hls-bad-codecs",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "> Why is this the player's responsibility? Shouldn't this be fixed in the packaging side??\r\n\r\n@littlespex I agree that it is a error of the packager, and that they should correct it, but it seemed like such a simple error to fix on our end... If you prefer, we discard this change, I would be fine too.",
      "Personally I'd prefer a clear division of responsibilities by limiting hacks/workarounds to playback and platform related issues. Packaging and delivery issues should be handled external to the player. This is just my opinion, and I'm curious to hear what others think.",
      "I also think it's better to keep this logic out of the player. Maybe a workaround for the application can be to replace the codec in the manifest by registering the manifest response interceptor with [NetworkingEngine#registerResponseFilter](https://shaka-player-demo.appspot.com/docs/api/shaka.net.NetworkingEngine.html#registerResponseFilter) ?"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e42d6ca63ac8d88f0df",
    "number": 5844,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5780",
    "head_branch": "min-latency",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 38.89%"
    ],
    "commit_messages": [
      "feat(DASH): Add support for minimum values in service descriptions (#5844)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5780"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e43d6ca63ac8d88f0e0",
    "number": 5842,
    "body": "This was introduced in #5061.\r\n\r\nIf `.release()` is called between the time `createUrisCb()` is created and when it's called, then `this.templateInfo_` is set to null, causing #5614 and #5760. The fix in #5619 may have been enough to fix or silence #5614, but it wasn't enough to fix #5760, which is the issue I'm having (at least I'm getting the same error).\r\n\r\nMaybe @nrcrast can confirm this is the correct `this.templateInfo_.mediaTemplate` to pass to `createUris_()`? I don't fully understand the segment template (I have git bisected my way to find the issue). The initial PR draft for #5061 didn't actually have the race condition. It was introduced when [addressing](https://github.com/shaka-project/shaka-player/pull/5061/commits/e7971c16e258fe1aa96f6d80d57e9ab2bf6f8ef8#diff-c5ae94ade4937cab5320a06ed21898f31cc818f6a5d2a8017fe034650dad445fR868) feedback about using `.bind()` for createUrisCb: https://github.com/shaka-project/shaka-player/pull/5061#discussion_r1171827475. So to me it seems like that change was unintentional.",
    "head_branch": "fix/live-streams-race-conditions-firefox",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(dash): fix race condition in segment template (#5842)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5760"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e44d6ca63ac8d88f0e1",
    "number": 5841,
    "body": "Looks like this was just introduced in #5752",
    "head_branch": "docs/fix-player.attach-keyword-typo",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: fix await keyword for attach method (#5841)\n\nLooks like this was just introduced in #5752"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e45d6ca63ac8d88f0e2",
    "number": 5840,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5810",
    "head_branch": "hls-accessibilityPurpose",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix accessibilityPurpose detection (#5840)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5810"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e46d6ca63ac8d88f0e3",
    "number": 5838,
    "body": "Due to typo, banned call has been executed.\r\nFixes typo and adds support to `Uint16Array` in `BufferUtils`.",
    "head_branch": "wt-uint16",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 96.00%"
    ],
    "commit_messages": [
      "fix: ban new Uint16Array(buffer) (#5838)\n\nDue to typo, banned call has been executed.\r\nFixes typo and adds support to `Uint16Array` in `BufferUtils`."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e47d6ca63ac8d88f0e4",
    "number": 5837,
    "body": "- reduce number of iterations during filtering out stream duplicates\r\n- reduce number of iterations when extending output stream\r\n- for audio or video only content, reuse existing stream array instead of copying it",
    "head_branch": "wt-period-combiner",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "perf(DASH): PeriodCombiner optimisations (#5837)\n\n- reduce number of iterations during filtering out stream duplicates\r\n- reduce number of iterations when extending output stream\r\n- for audio or video only content, reuse existing stream array instead\r\nof copying it"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e48d6ca63ac8d88f0e5",
    "number": 5835,
    "body": "This fixes a bug introduced by the removal of the state graph that caused live content to start out at time=0, instead of at the live edge.",
    "head_branch": "stateEngineErrorBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix bug with live start time (#5835)\n\nThis fixes a bug introduced by the removal of the state graph that\r\ncaused live content to start out at time=0, instead of at the live edge."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e49d6ca63ac8d88f0e6",
    "number": 5833,
    "body": "This change fixes an issue on HiSense devices, where playback is sometimes repeated because current time is updated by skip on devices which don't support precise seeking",
    "head_branch": "fix/disable-stall-skip-for-hisense-devices",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(hisense): set stallSkip to 0 for HiSense devices (#5833)\n\nThis change fixes an issue on HiSense devices, where playback is\r\nsometimes repeated because current time is updated by skip on devices\r\nwhich don't support precise seeking\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e4ad6ca63ac8d88f0e7",
    "number": 5831,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4242",
    "head_branch": "keysystem-filtering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 95.83%"
    ],
    "commit_messages": [
      "fix: Fix incompatible codec is selected in Windows Edge for Widevine (#5831)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4242"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e4bd6ca63ac8d88f0e8",
    "number": 5830,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5824",
    "head_branch": "aes-iter-error",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 80.00%"
    ],
    "commit_messages": [
      "fix: Fix crash while playing HLS AES 128 streams (#5830)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5824"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e4cd6ca63ac8d88f0e9",
    "number": 5829,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5827",
    "head_branch": "font-family",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 75.00%"
    ],
    "commit_messages": [
      "fix: UITextDisplayer font-family is overridden by UI's Roboto font (#5829)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5827"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e4dd6ca63ac8d88f0ea",
    "number": 5828,
    "body": null,
    "head_branch": "ec-3-test",
    "is_a_fork": true,
    "comments": [
      "@shaka-bot test ce\r\n",
      "@avelad: Unrecognized test argument: ce\r\n",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Fix asset of EC3 test (#5828)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e4ed6ca63ac8d88f0eb",
    "number": 5825,
    "body": null,
    "head_branch": "prefetch-init-segments",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 57.14%"
    ],
    "commit_messages": [
      "feat: Allow prefetch init segments (#5825)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e4fd6ca63ac8d88f0ec",
    "number": 5823,
    "body": null,
    "head_branch": "dash-minimumUpdatePeriod-0",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(DASH): Handle minimumUpdatePeriod=0 with urn:mpeg:dash:event:2012 (EMSG) (#5823)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e4fd6ca63ac8d88f0ed",
    "number": 5822,
    "body": null,
    "head_branch": "partial-info-segment-reference",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 95.00%",
      "@theodab can you review it? Thanks!"
    ],
    "commit_messages": [
      "feat: Add partial info to shaka.media.SegmentReference (#5822)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e50d6ca63ac8d88f0ee",
    "number": 5820,
    "body": "This change causes the prefetch to be called much earlier, which improves latency in DASH streams in around 500ms.",
    "head_branch": "prefecth-low-latency",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 75.00%"
    ],
    "commit_messages": [
      "feat: Improve latency in LL DASH streams (#5820)\n\nThis change causes the prefetch to be called much earlier, which\r\nimproves latency in DASH streams in around 500ms."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e51d6ca63ac8d88f0ef",
    "number": 5819,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5810",
    "head_branch": "hls-caption",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 88.89%"
    ],
    "commit_messages": [
      "fix(HLS): Fix kind detection for 'captions' text tracks (#5819)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5810"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e52d6ca63ac8d88f0f0",
    "number": 5817,
    "body": "Fixes https://storage.googleapis.com/shaka-demo-assets/sintel/dash.mpd\r\nmp4 --> 12288/512 --> 24\r\nwebm --> 1000000/42000 --> 23.80952380952381",
    "head_branch": "variants-filtering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix chooseCodecsAndFilterManifest for similar frameRate (#5817)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e53d6ca63ac8d88f0f1",
    "number": 5816,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2090",
    "head_branch": "ui-resolutions",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 87.88%"
    ],
    "commit_messages": [
      "feat(UI): Bucketize resolution names in the UI (#5816)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2090"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e54d6ca63ac8d88f0f2",
    "number": 5813,
    "body": null,
    "head_branch": "ac4-probe-support",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore: Add AC-4 to probeSupport (#5813)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e55d6ca63ac8d88f0f3",
    "number": 5812,
    "body": "`content_workarounds.js` was introduced for Tizen and Xbox platforms. We found that that meant a regression where certain streams were unable to be played.\r\n\r\nThis PR adds ac-4 into the content workarounds in the same was as ec-4 to ensure these streams can be played once more.",
    "head_branch": "ac4-content-workarounds",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix DRM workaround for Tizen and Xbox with ac-4 boxes (#5812)\n\n`content_workarounds.js` was introduced for Tizen and Xbox platforms. We\r\nfound that that meant a regression where certain streams were unable to\r\nbe played.\r\n\r\nThis PR adds ac-4 into the content workarounds in the same was as ec-4\r\nto ensure these streams can be played once more."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e56d6ca63ac8d88f0f4",
    "number": 5811,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/1826",
    "head_branch": "media-playlist-detect-cc",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 97.73%"
    ],
    "commit_messages": [
      "feat(HLS): Build closed captions metadata for media playlist on-the-fly. (#5811)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/1826"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e57d6ca63ac8d88f0f5",
    "number": 5809,
    "body": "Also add preferredVideoLayout config",
    "head_branch": "hls-video-layout",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 89.66%"
    ],
    "commit_messages": [
      "feat(HLS): Add support for REQ-VIDEO-LAYOUT (#5809)\n\nAlso add preferredVideoLayout config"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e58d6ca63ac8d88f0f6",
    "number": 5807,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4765",
    "head_branch": "writing-mode-webvtt",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(WebVTT): Fix wrong writing-mode in nested cues (#5807)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4765"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e59d6ca63ac8d88f0f7",
    "number": 5806,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5804",
    "head_branch": "add_stub_text",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 89.19%"
    ],
    "commit_messages": [
      "feat: Add a stub text display class (#5804) (#5806)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5804"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e5ad6ca63ac8d88f0f8",
    "number": 5805,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5804",
    "head_branch": "createNodeIterator",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 66.67%"
    ],
    "commit_messages": [
      "fix: Allow parseXmlString when createNodeIterator is not available (#5805)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5804"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e5bd6ca63ac8d88f0f9",
    "number": 5803,
    "body": null,
    "head_branch": "media-tailor-tutorial",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs(Ads): Add AWS Elemental MediaTailor tutorial (#5803)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e5cd6ca63ac8d88f0fa",
    "number": 5802,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5778",
    "head_branch": "thumbnails-src",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 92.68%"
    ],
    "commit_messages": [
      "feat: Add thumbnails support in src= (#5802)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5778"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e5dd6ca63ac8d88f0fb",
    "number": 5801,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5333",
    "head_branch": "hls-variable-queryparam",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(HLS): Add support for QUERYPARAM variable type in #EXT-X-DEFINE (#5801)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5333"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e5ed6ca63ac8d88f0fc",
    "number": 5800,
    "body": null,
    "head_branch": "hls-variants-filtering",
    "is_a_fork": true,
    "comments": [
      "Tested with https://devstreaming-cdn.apple.com/videos/streaming/examples/adv_dv_atmos/main.m3u8",
      "Incremental code coverage: 94.64%"
    ],
    "commit_messages": [
      "fix: Fix chooseCodecsAndFilterManifest for some HLS manifest (#5800)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e5fd6ca63ac8d88f0fd",
    "number": 5798,
    "body": null,
    "head_branch": "mediatailor-demo",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(Demo): Allow add custom MediaTailor assets (#5798)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e60d6ca63ac8d88f0fe",
    "number": 5796,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/3597",
    "head_branch": "demo-extra-chapter",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(Demo): Add extra chapter functionality (#5796)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/3597"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e61d6ca63ac8d88f0ff",
    "number": 5794,
    "body": "The removed functionality is no longer necessary since the HLS parser detect the correct codecs if a media playlist is used.",
    "head_branch": "demo-hls-custom-config",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(Demo): Remove HLS tab and add extra tracks tab on custom assets (#5794)\n\nThe removed functionality is no longer necessary since the HLS parser\r\ndetect the correct codecs if a media playlist is used."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e62d6ca63ac8d88f100",
    "number": 5793,
    "body": "Fixes: https://github.com/shaka-project/shaka-player/issues/5766",
    "head_branch": "ui-console-error",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(UI): Console error on remote.cancelwatchavailability() method in remote playback feature (#5793)\n\nFixes: https://github.com/shaka-project/shaka-player/issues/5766"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e63d6ca63ac8d88f101",
    "number": 5791,
    "body": "This change removes `Set` in favour of `WeakSet` to track seen objects while cloning for performance reasons\r\n\r\nFrom MDN:\r\n`\r\nThe number of objects or their traversal order is immaterial, so a WeakSet is more suitable (and performant) than a Set for tracking object references, especially if a very large number of objects is involved.\r\n`",
    "head_branch": "fix/use-a-weak-set-to-track-object-refs-in-clone-object",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "perf(utils): use WeakSet to track object references (#5791)\n\nThis change removes `Set` in favour of `WeakSet` to track seen objects\r\nwhile cloning for performance reasons\r\n\r\nFrom MDN:\r\n`\r\nThe number of objects or their traversal order is immaterial, so a\r\nWeakSet is more suitable (and performant) than a Set for tracking object\r\nreferences, especially if a very large number of objects is involved.\r\n`\r\n\r\n---------\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e64d6ca63ac8d88f102",
    "number": 5790,
    "body": null,
    "head_branch": "legacy-avc1-transmuxer",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 96.43%"
    ],
    "commit_messages": [
      "fix: Fix converts legacy avc1 codec strings on transmuxer (#5790)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e64d6ca63ac8d88f103",
    "number": 5789,
    "body": null,
    "head_branch": "perf-transmuxer",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 58.33%"
    ],
    "commit_messages": [
      "perf: Improve transmuxer performance (#5789)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e65d6ca63ac8d88f104",
    "number": 5788,
    "body": null,
    "head_branch": "realInitDataBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "test: Update test with invalid initData. (#5788)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e66d6ca63ac8d88f105",
    "number": 5786,
    "body": "This change creates a separate method to get context nodes, and breaks from loops early if it finds the desired result",
    "head_branch": "refactor/dry-get-nodes-and-break-early",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore(DASH): move repetitive code to method, avoid full iteration if possible (#5786)\n\nThis change creates a separate method to get context nodes, and breaks from loops early if it finds the desired result\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e67d6ca63ac8d88f106",
    "number": 5783,
    "body": "This method returns every thumbnail for a given image track ID, simplifying the process of determining how many thumbnails a given image track contains.\r\n\r\nCloses #5781",
    "head_branch": "allThumbnailsBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 89.55%",
      "@theodab please, add an integration test. Thanks! (see: https://github.com/shaka-project/shaka-player/blob/main/test/player_integration.js#L1301)",
      "> @theodab please, add an integration test. Thanks! (see: https://github.com/shaka-project/shaka-player/blob/main/test/player_integration.js#L1301)\r\n\r\nDone."
    ],
    "commit_messages": [
      "feat(thumbnails): Add Player.getAllThumbnails (#5783)\n\nThis method returns every thumbnail for a given image track ID, simplifying the process of determining how many thumbnails a given image track contains.\r\n\r\nCloses #5781"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e68d6ca63ac8d88f107",
    "number": 5779,
    "body": "Bumps [@babel/traverse](https://github.com/babel/babel/tree/HEAD/packages/babel-traverse) from 7.17.3 to 7.23.2.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/babel/babel/releases\"><code>@​babel/traverse</code>'s releases</a>.</em></p>\n<blockquote>\n<h2>v7.23.2 (2023-10-11)</h2>\n<p><strong>NOTE</strong>: This release also re-publishes <code>@babel/core</code>, even if it does not appear in the linked release commit.</p>\n<p>Thanks <a href=\"https://github.com/jimmydief\"><code>@​jimmydief</code></a> for your first PR!</p>\n<h4>:bug: Bug Fix</h4>\n<ul>\n<li><code>babel-traverse</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/16033\">#16033</a> Only evaluate own String/Number/Math methods (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-preset-typescript</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/16022\">#16022</a> Rewrite <code>.tsx</code> extension when using <code>rewriteImportExtensions</code> (<a href=\"https://github.com/jimmydief\"><code>@​jimmydief</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-helpers</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/16017\">#16017</a> Fix: fallback to typeof when toString is applied to incompatible object (<a href=\"https://github.com/JLHwung\"><code>@​JLHwung</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-helpers</code>, <code>babel-plugin-transform-modules-commonjs</code>, <code>babel-runtime-corejs2</code>, <code>babel-runtime-corejs3</code>, <code>babel-runtime</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/16025\">#16025</a> Avoid override mistake in namespace imports (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n</ul>\n<h4>Committers: 5</h4>\n<ul>\n<li>Babel Bot (<a href=\"https://github.com/babel-bot\"><code>@​babel-bot</code></a>)</li>\n<li>Huáng Jùnliàng (<a href=\"https://github.com/JLHwung\"><code>@​JLHwung</code></a>)</li>\n<li>James Diefenderfer (<a href=\"https://github.com/jimmydief\"><code>@​jimmydief</code></a>)</li>\n<li>Nicolò Ribaudo (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n<li><a href=\"https://github.com/liuxingbaoyu\"><code>@​liuxingbaoyu</code></a></li>\n</ul>\n<h2>v7.23.1 (2023-09-25)</h2>\n<p>Re-publishing <code>@babel/helpers</code> due to a publishing error in 7.23.0.</p>\n<h2>v7.23.0 (2023-09-25)</h2>\n<p>Thanks <a href=\"https://github.com/lorenzoferre\"><code>@​lorenzoferre</code></a> and <a href=\"https://github.com/RajShukla1\"><code>@​RajShukla1</code></a> for your first PRs!</p>\n<h4>:rocket: New Feature</h4>\n<ul>\n<li><code>babel-plugin-proposal-import-wasm-source</code>, <code>babel-plugin-syntax-import-source</code>, <code>babel-plugin-transform-dynamic-import</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15870\">#15870</a> Support transforming <code>import source</code> for wasm (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-helper-module-transforms</code>, <code>babel-helpers</code>, <code>babel-plugin-proposal-import-defer</code>, <code>babel-plugin-syntax-import-defer</code>, <code>babel-plugin-transform-modules-commonjs</code>, <code>babel-runtime-corejs2</code>, <code>babel-runtime-corejs3</code>, <code>babel-runtime</code>, <code>babel-standalone</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15878\">#15878</a> Implement <code>import defer</code> proposal transform support (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-generator</code>, <code>babel-parser</code>, <code>babel-types</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15845\">#15845</a> Implement <code>import defer</code> parsing support (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15829\">#15829</a> Add parsing support for the &quot;source phase imports&quot; proposal (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-generator</code>, <code>babel-helper-module-transforms</code>, <code>babel-parser</code>, <code>babel-plugin-transform-dynamic-import</code>, <code>babel-plugin-transform-modules-amd</code>, <code>babel-plugin-transform-modules-commonjs</code>, <code>babel-plugin-transform-modules-systemjs</code>, <code>babel-traverse</code>, <code>babel-types</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15682\">#15682</a> Add <code>createImportExpressions</code> parser option (<a href=\"https://github.com/JLHwung\"><code>@​JLHwung</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-standalone</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15671\">#15671</a> Pass through nonce to the transformed script element (<a href=\"https://github.com/JLHwung\"><code>@​JLHwung</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-helper-function-name</code>, <code>babel-helper-member-expression-to-functions</code>, <code>babel-helpers</code>, <code>babel-parser</code>, <code>babel-plugin-proposal-destructuring-private</code>, <code>babel-plugin-proposal-optional-chaining-assign</code>, <code>babel-plugin-syntax-optional-chaining-assign</code>, <code>babel-plugin-transform-destructuring</code>, <code>babel-plugin-transform-optional-chaining</code>, <code>babel-runtime-corejs2</code>, <code>babel-runtime-corejs3</code>, <code>babel-runtime</code>, <code>babel-standalone</code>, <code>babel-types</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15751\">#15751</a> Add support for optional chain in assignments (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-helpers</code>, <code>babel-plugin-proposal-decorators</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15895\">#15895</a> Implement the &quot;decorator metadata&quot; proposal (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-traverse</code>, <code>babel-types</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15893\">#15893</a> Add <code>t.buildUndefinedNode</code> (<a href=\"https://github.com/liuxingbaoyu\"><code>@​liuxingbaoyu</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-preset-typescript</code></li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/babel/babel/blob/main/CHANGELOG.md\"><code>@​babel/traverse</code>'s changelog</a>.</em></p>\n<blockquote>\n<h2>v7.23.2 (2023-10-11)</h2>\n<h4>:bug: Bug Fix</h4>\n<ul>\n<li><code>babel-traverse</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/16033\">#16033</a> Only evaluate own String/Number/Math methods (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-preset-typescript</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/16022\">#16022</a> Rewrite <code>.tsx</code> extension when using <code>rewriteImportExtensions</code> (<a href=\"https://github.com/jimmydief\"><code>@​jimmydief</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-helpers</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/16017\">#16017</a> Fix: fallback to typeof when toString is applied to incompatible object (<a href=\"https://github.com/JLHwung\"><code>@​JLHwung</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-helpers</code>, <code>babel-plugin-transform-modules-commonjs</code>, <code>babel-runtime-corejs2</code>, <code>babel-runtime-corejs3</code>, <code>babel-runtime</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/16025\">#16025</a> Avoid override mistake in namespace imports (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n</ul>\n<h2>v7.23.0 (2023-09-25)</h2>\n<h4>:rocket: New Feature</h4>\n<ul>\n<li><code>babel-plugin-proposal-import-wasm-source</code>, <code>babel-plugin-syntax-import-source</code>, <code>babel-plugin-transform-dynamic-import</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15870\">#15870</a> Support transforming <code>import source</code> for wasm (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-helper-module-transforms</code>, <code>babel-helpers</code>, <code>babel-plugin-proposal-import-defer</code>, <code>babel-plugin-syntax-import-defer</code>, <code>babel-plugin-transform-modules-commonjs</code>, <code>babel-runtime-corejs2</code>, <code>babel-runtime-corejs3</code>, <code>babel-runtime</code>, <code>babel-standalone</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15878\">#15878</a> Implement <code>import defer</code> proposal transform support (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-generator</code>, <code>babel-parser</code>, <code>babel-types</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15845\">#15845</a> Implement <code>import defer</code> parsing support (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15829\">#15829</a> Add parsing support for the &quot;source phase imports&quot; proposal (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-generator</code>, <code>babel-helper-module-transforms</code>, <code>babel-parser</code>, <code>babel-plugin-transform-dynamic-import</code>, <code>babel-plugin-transform-modules-amd</code>, <code>babel-plugin-transform-modules-commonjs</code>, <code>babel-plugin-transform-modules-systemjs</code>, <code>babel-traverse</code>, <code>babel-types</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15682\">#15682</a> Add <code>createImportExpressions</code> parser option (<a href=\"https://github.com/JLHwung\"><code>@​JLHwung</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-standalone</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15671\">#15671</a> Pass through nonce to the transformed script element (<a href=\"https://github.com/JLHwung\"><code>@​JLHwung</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-helper-function-name</code>, <code>babel-helper-member-expression-to-functions</code>, <code>babel-helpers</code>, <code>babel-parser</code>, <code>babel-plugin-proposal-destructuring-private</code>, <code>babel-plugin-proposal-optional-chaining-assign</code>, <code>babel-plugin-syntax-optional-chaining-assign</code>, <code>babel-plugin-transform-destructuring</code>, <code>babel-plugin-transform-optional-chaining</code>, <code>babel-runtime-corejs2</code>, <code>babel-runtime-corejs3</code>, <code>babel-runtime</code>, <code>babel-standalone</code>, <code>babel-types</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15751\">#15751</a> Add support for optional chain in assignments (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-helpers</code>, <code>babel-plugin-proposal-decorators</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15895\">#15895</a> Implement the &quot;decorator metadata&quot; proposal (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-traverse</code>, <code>babel-types</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15893\">#15893</a> Add <code>t.buildUndefinedNode</code> (<a href=\"https://github.com/liuxingbaoyu\"><code>@​liuxingbaoyu</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-preset-typescript</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15913\">#15913</a> Add <code>rewriteImportExtensions</code> option to TS preset (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-parser</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15896\">#15896</a> Allow TS tuples to have both labeled and unlabeled elements (<a href=\"https://github.com/yukukotani\"><code>@​yukukotani</code></a>)</li>\n</ul>\n</li>\n</ul>\n<h4>:bug: Bug Fix</h4>\n<ul>\n<li><code>babel-plugin-transform-block-scoping</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15962\">#15962</a> fix: <code>transform-block-scoping</code> captures the variables of the method in the loop (<a href=\"https://github.com/liuxingbaoyu\"><code>@​liuxingbaoyu</code></a>)</li>\n</ul>\n</li>\n</ul>\n<h4>:nail_care: Polish</h4>\n<ul>\n<li><code>babel-traverse</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15797\">#15797</a> Expand evaluation of global built-ins in <code>@babel/traverse</code> (<a href=\"https://github.com/lorenzoferre\"><code>@​lorenzoferre</code></a>)</li>\n</ul>\n</li>\n<li><code>babel-plugin-proposal-explicit-resource-management</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15985\">#15985</a> Improve source maps for blocks with <code>using</code> declarations (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n</ul>\n<h4>:microscope: Output optimization</h4>\n<ul>\n<li><code>babel-core</code>, <code>babel-helper-module-transforms</code>, <code>babel-plugin-transform-async-to-generator</code>, <code>babel-plugin-transform-classes</code>, <code>babel-plugin-transform-dynamic-import</code>, <code>babel-plugin-transform-function-name</code>, <code>babel-plugin-transform-modules-amd</code>, <code>babel-plugin-transform-modules-commonjs</code>, <code>babel-plugin-transform-modules-umd</code>, <code>babel-plugin-transform-parameters</code>, <code>babel-plugin-transform-react-constant-elements</code>, <code>babel-plugin-transform-react-inline-elements</code>, <code>babel-plugin-transform-runtime</code>, <code>babel-plugin-transform-typescript</code>, <code>babel-preset-env</code>\n<ul>\n<li><a href=\"https://redirect.github.com/babel/babel/pull/15984\">#15984</a> Inline <code>exports.XXX =</code> update in simple variable declarations (<a href=\"https://github.com/nicolo-ribaudo\"><code>@​nicolo-ribaudo</code></a>)</li>\n</ul>\n</li>\n</ul>\n<h2>v7.22.20 (2023-09-16)</h2>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/babel/babel/commit/b4b9942a6cde0685c222eb3412347880aae40ad5\"><code>b4b9942</code></a> v7.23.2</li>\n<li><a href=\"https://github.com/babel/babel/commit/b13376b346946e3f62fc0848c1d2a23223314c82\"><code>b13376b</code></a> Only evaluate own String/Number/Math methods (<a href=\"https://github.com/babel/babel/tree/HEAD/packages/babel-traverse/issues/16033\">#16033</a>)</li>\n<li><a href=\"https://github.com/babel/babel/commit/ca58ec15cb6dde6812c36997477e44880bec0bba\"><code>ca58ec1</code></a> v7.23.0</li>\n<li><a href=\"https://github.com/babel/babel/commit/0f333dafcf470f1970083e4e695ced6aec8bead0\"><code>0f333da</code></a> Add <code>createImportExpressions</code> parser option (<a href=\"https://github.com/babel/babel/tree/HEAD/packages/babel-traverse/issues/15682\">#15682</a>)</li>\n<li><a href=\"https://github.com/babel/babel/commit/3744545649fdc21688a2f3c97e1e39dbebff0d21\"><code>3744545</code></a> Fix linting</li>\n<li><a href=\"https://github.com/babel/babel/commit/c7e6806e2194deb36c330f543409c792592b22d4\"><code>c7e6806</code></a> Add <code>t.buildUndefinedNode</code> (<a href=\"https://github.com/babel/babel/tree/HEAD/packages/babel-traverse/issues/15893\">#15893</a>)</li>\n<li><a href=\"https://github.com/babel/babel/commit/38ee8b4dd693f1e2bd00107bbc1167ce84736ea0\"><code>38ee8b4</code></a> Expand evaluation of global built-ins in <code>@babel/traverse</code> (<a href=\"https://github.com/babel/babel/tree/HEAD/packages/babel-traverse/issues/15797\">#15797</a>)</li>\n<li><a href=\"https://github.com/babel/babel/commit/9f3dfd90211472cf0083a3234dd1a1b857ce3624\"><code>9f3dfd9</code></a> v7.22.20</li>\n<li><a href=\"https://github.com/babel/babel/commit/3ed28b29c1fb15588369bdd55187b69f1248e87d\"><code>3ed28b2</code></a> Fully support <code>||</code> and <code>&amp;&amp;</code> in <code>pluginToggleBooleanFlag</code> (<a href=\"https://github.com/babel/babel/tree/HEAD/packages/babel-traverse/issues/15961\">#15961</a>)</li>\n<li><a href=\"https://github.com/babel/babel/commit/77b0d7359909c94f3797c24006f244847fbc8d6d\"><code>77b0d73</code></a> v7.22.19</li>\n<li>Additional commits viewable in <a href=\"https://github.com/babel/babel/commits/v7.23.2/packages/babel-traverse\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=@babel/traverse&package-manager=npm_and_yarn&previous-version=7.17.3&new-version=7.23.2)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/shaka-project/shaka-player/network/alerts).\n\n</details>",
    "head_branch": "dependabot/npm_and_yarn/babel/traverse-7.23.2",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(deps-dev): bump @babel/traverse from 7.17.3 to 7.23.2 (#5779)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e69d6ca63ac8d88f108",
    "number": 5777,
    "body": "This change:\r\n\r\n- drops incompatible variants for XBOX before parsing codes and checking them against media capabilities API\r\n- avoids redeclaring variables each time in the loop",
    "head_branch": "refactor/drop-xbox-incompatible-variants-early",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 83.33%"
    ],
    "commit_messages": [
      "perf(Xbox): drop incompatible variants for XBOX early (#5777)\n\nThis change:\r\n\r\n- drops incompatible variants for XBOX before parsing codes and checking them against media capabilities API\r\n- avoids redeclaring variables each time in the loop\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e6ad6ca63ac8d88f109",
    "number": 5775,
    "body": "This change simplifies code that parses initData in the `getCommonDrmInfos` method",
    "head_branch": "refactor/avoid-unnecessary-complexity-when-comparing-init-data",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "perf: simplify and improve performance of parsing initData when deduping (#5775)\n\nThis change simplifies code that parses initData in the `getCommonDrmInfos` method\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e6bd6ca63ac8d88f10a",
    "number": 5774,
    "body": "This change removes chaining awaits in period combiner when combining variants and parses streams in one loop instead of 4",
    "head_branch": "perf/promise-all-in-period-combiner",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "perf(DASH): reduce looping and remove chaining awaits in period (#5774)\n\nThis change removes chaining awaits in period combiner when combining variants and parses streams in one loop instead of 4\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e6cd6ca63ac8d88f10b",
    "number": 5773,
    "body": "This removes creating an array of arrays in manifest URI resolver and uses a nested loop to update an empty array instead",
    "head_branch": "refactor/avoid-unnecessary-looping-in-manifest-parser",
    "is_a_fork": true,
    "comments": [
      "Can you fix the errors? Thanks!",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "perf(manifest): avoid unnecessary looping in uri resolver (#5773)\n\nThis removes creating an array of arrays in manifest URI resolver and\r\nuses a nested loop to update an empty array instead\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e6dd6ca63ac8d88f10c",
    "number": 5772,
    "body": "Closes #5769 ",
    "head_branch": "fix/video-only-hls-no-codecs-info",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 97.78%"
    ],
    "commit_messages": [
      "feat(HLS): Add new config to get codecs from media segment for playlists without CODECS attribute (#5772)\n\nCloses #5769"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e6ed6ca63ac8d88f10d",
    "number": 5771,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3597",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [
      "@Trail3lazer I’m on vacation the next week, but I’ll review when back! Thanks!",
      "Incremental code coverage: 35.95%",
      "Looks like you've tied the chapters to the current subtitle/caption language, how will that work if the video doesn't have any subtitles/captions or when they are disabled or if the chapters are only available in a single language but a subtitle track in a different language is active?\n\nProbably better to either hook it up to the UI language which will always be available or create a separate setting for it.",
      "Closing due to inactivity. If the author would like to continue this PR, they can reopen it (preferred) or start a new one (if needed).",
      "@avelad, I removed the changes you recommended and the unnecessary configuration value. Sorry, I was unavailable to update this until now. Did you merge the changes already with a different PR?\r\n\r\nedit: In this PR: https://github.com/shaka-project/shaka-player/pull/5863"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e6fd6ca63ac8d88f10e",
    "number": 5768,
    "body": "This change reduces the amount of loops in dash parser, and improves code readability, as checking config and creating an array of sets is in a separate method now.",
    "head_branch": "refactor/improve-readability-in-dash-period-parser",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "perf(dash): improve readability and reduce number of loops in dash parser (#5768)\n\nThis change reduces the amount of loops in dash parser, and improves\r\ncode readability, as checking config and creating an array of sets is in\r\na separate method now.\r\n\r\n---------\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e70d6ca63ac8d88f10f",
    "number": 5767,
    "body": "This Pull request includes the fix for getting console error on remote.cancelwatchavailability() method in remote playback feature.\r\n\r\nFixes: https://github.com/shaka-project/shaka-player/issues/5766",
    "head_branch": "Console_error_cancelWatchAvailability_RemotePlayback_fix",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5767/checks?check_run_id=17665638088) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "@Ravi-79 can you sign the CLA? Thanks!",
      "Incremental code coverage: 100.00%",
      "> @Ravi-79 can you sign the CLA? Thanks!\r\n\r\nHi @avelad , Submitted CLA by my company. Waiting for Agreement to be completed.",
      "The CLA is not yet valid according to the bot.",
      "> The CLA is not yet valid according to the bot.\r\n\r\nHi @avelad. the CLA was rejected due to some invalid data. Could you please abandon this PR and made the changes by yourself for this time. From next time onwards I'll create a PR after the CLA registration.\r\n\r\nThanks",
      "@Ravi-79 I created: https://github.com/shaka-project/shaka-player/pull/5793\r\n\r\nThanks!"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e71d6ca63ac8d88f110",
    "number": 5764,
    "body": "Regression introduced at https://github.com/shaka-project/shaka-player/pull/5310",
    "head_branch": "SegmentPrefetchOperation-streamDataCallback",
    "is_a_fork": true,
    "comments": [
      "@joeyparrish @theodab This fix must be included in 4.4 and 4.5.",
      "Incremental code coverage: 41.67%"
    ],
    "commit_messages": [
      "fix: Dispatch streamDataCallback correctly in SegmentPrefetchOperation (#5764)\n\nRegression introduced at\r\nhttps://github.com/shaka-project/shaka-player/pull/5310"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e72d6ca63ac8d88f111",
    "number": 5763,
    "body": null,
    "head_branch": "dash-live-update",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(DASH): Fix manifest update time for Live manifests (#5763)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e73d6ca63ac8d88f112",
    "number": 5762,
    "body": null,
    "head_branch": "segment-sequence-representation",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 94.54%"
    ],
    "commit_messages": [
      "feat(DASH): Add initial support for \"urn:mpeg:dash:ssr:2023\" (#5762)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e74d6ca63ac8d88f113",
    "number": 5761,
    "body": "This reduces calls to getUris that use regular expressions which are slow on low-end devices.",
    "head_branch": "partial-segments-optimization",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "perf(HLS): Improve detection of all partial segments (#5761)\n\nThis reduces calls to getUris that use regular expressions which are\r\nslow on low-end devices."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e75d6ca63ac8d88f114",
    "number": 5757,
    "body": null,
    "head_branch": "feat/media-preload",
    "is_a_fork": true,
    "comments": [
      "Sorry @zangue , I need close this PR. We are in the middle of a  big player change (see https://github.com/shaka-project/shaka-player/pull/5752) and we cannot accept this PR right now. FYI @theodab  is working on adding this functionality.",
      "Incremental code coverage: No instrumented code was changed.",
      "@avelad That's ok, thanks for the update. And good to know this feature is coming soon.",
      "@zangue It's in the roadmap for 4.6 https://github.com/shaka-project/shaka-player/blob/main/roadmap.md",
      "> @avelad That's ok, thanks for the update. And good to know this feature is coming soon.\r\n\r\nSorry, that change is something I had been talking about privately with @joeyparrish, but I probably should have also mentioned it publicly before starting work in case someone was working on something similar!",
      "> Sorry, that change is something I had been talking about privately with @joeyparrish, but I probably should have also mentioned it publicly before starting work in case someone was working on something similar!\r\n\r\nNo big deal, I'm glad this feature is actively being worked on eventually. I remain open to contributing in the event that any help is needed."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e76d6ca63ac8d88f115",
    "number": 5756,
    "body": null,
    "head_branch": "networking-utils",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 95.24%"
    ],
    "commit_messages": [
      "feat(net): Add shaka.net.NetworkingUtils (#5756)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e77d6ca63ac8d88f116",
    "number": 5753,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5749",
    "head_branch": "ui-framerate",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 88.89%"
    ],
    "commit_messages": [
      "feat(UI): Display frame rates in the quality selector (#5753)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5749"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e78d6ca63ac8d88f117",
    "number": 5752,
    "body": "The state engine mechanism, designed for the player class, was over-engineered. The structure of the class makes debugging player errors unnecessarily annoying, by obfuscating the code-path the error followed, and in general\r\nhas created a significant amount of technical debt.\r\nThis changes the player to use an async-await setup for the top-level operations, laying things out much more cleanly\r\nand linearly.",
    "head_branch": "noMoStateEngineBranch",
    "is_a_fork": true,
    "comments": [
      "So this is still a work in progress. I'll need to do a lot more manual testing to make sure things aren't broken, I need to re-write the JSDoc of a lot of functions so they no longer mentions the state engine, and I'll definitely need to update a lot of tests.\r\nI'm publishing this in its current state to see if people think this approach looks like it has merit.",
      "Incremental code coverage: 91.12%",
      "It looks like the tests hang forever, probably because of the new mutexes. Just canceling the workflow for now to avoid wasting time, and I'll look into the tests on my local machine."
    ],
    "commit_messages": [
      "chore: Remove state engine (#5752)\n\nThe state engine mechanism, designed for the player class, was\r\nover-engineered. The structure of the class makes debugging player\r\nerrors unnecessarily annoying, by obfuscating the code-path the error\r\nfollowed, and in general\r\nhas created a significant amount of technical debt.\r\nThis changes the player to use an async-await setup for the top-level\r\noperations, laying things out much more cleanly\r\nand linearly.\r\n\r\n---------\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e79d6ca63ac8d88f118",
    "number": 5751,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5747",
    "head_branch": "ui-label-format",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 72.73%"
    ],
    "commit_messages": [
      "fix(UI): Fix text selector when the trackLabelFormat is set to LABEL (#5751)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5747"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e7ad6ca63ac8d88f119",
    "number": 5750,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5741",
    "head_branch": "plugin-tutorial",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Add missing text and manifest parsers (#5750)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5741"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e7bd6ca63ac8d88f11a",
    "number": 5748,
    "body": null,
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e7bd6ca63ac8d88f11b",
    "number": 5745,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.14](https://github.com/shaka-project/shaka-player/compare/v4.3.13...v4.3.14) (2023-10-06)\n\n\n### Bug Fixes\n\n* **HLS:** Fix init segment when EXT-X-MAP is preceded by EXT-X-BYTERANGE ([#5732](https://github.com/shaka-project/shaka-player/issues/5732)) ([931b2f8](https://github.com/shaka-project/shaka-player/commit/931b2f80c4578ea8d2bd32232d8c602f800e81ea))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e7dd6ca63ac8d88f11c",
    "number": 5744,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.4.4](https://github.com/shaka-project/shaka-player/compare/v4.4.3...v4.4.4) (2023-10-06)\n\n\n### Bug Fixes\n\n* **HLS:** Fix init segment when EXT-X-MAP is preceded by EXT-X-BYTERANGE ([#5732](https://github.com/shaka-project/shaka-player/issues/5732)) ([3255f62](https://github.com/shaka-project/shaka-player/commit/3255f62e5ec17e4d9779070094bb989741a6bdd6))\n* **HLS:** Fix url management in HLS ([#5722](https://github.com/shaka-project/shaka-player/issues/5722)) ([a55ebab](https://github.com/shaka-project/shaka-player/commit/a55ebab24846e2b603dad9438642e46cacc92a3c))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.4.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e7ed6ca63ac8d88f11d",
    "number": 5743,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.5.1](https://github.com/shaka-project/shaka-player/compare/v4.5.0...v4.5.1) (2023-10-06)\n\n\n### Bug Fixes\n\n* For text content is not necessary codec switching ([#5731](https://github.com/shaka-project/shaka-player/issues/5731)) ([f243586](https://github.com/shaka-project/shaka-player/commit/f243586ed96b99fb746228d96aa1ef81e1bb06fd))\n* **HLS:** Fix init segment when EXT-X-MAP is preceded by EXT-X-BYTERANGE ([#5732](https://github.com/shaka-project/shaka-player/issues/5732)) ([90507af](https://github.com/shaka-project/shaka-player/commit/90507af6bb38c9b39ef846626c4437e10935201a))\n* **HLS:** Fix url management in HLS ([#5722](https://github.com/shaka-project/shaka-player/issues/5722)) ([d5dc63c](https://github.com/shaka-project/shaka-player/commit/d5dc63c12635635df958a1221ff4fd94796cf162))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.5.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e7fd6ca63ac8d88f11e",
    "number": 5742,
    "body": "These typos were reported by an internal tool at Google.  This fixes typos and updates our public tooling to catch future instances of these.",
    "head_branch": "typos",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore: Fix typos (#5742)\n\nThese typos were reported by an internal tool at Google. This fixes\r\ntypos and updates our public tooling to catch future instances of these."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e80d6ca63ac8d88f11f",
    "number": 5740,
    "body": null,
    "head_branch": "simplify-hls-parser",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 74.91%"
    ],
    "commit_messages": [
      "chore(HLS): Reduce complexity of HLS parser (#5740)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e80d6ca63ac8d88f120",
    "number": 5739,
    "body": null,
    "head_branch": "dash-optimization",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore(DASH): Update DASH URL management to allow Content Steering in the future (#5739)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e82d6ca63ac8d88f121",
    "number": 5736,
    "body": null,
    "head_branch": "ll-dash-manifest-update-time",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 60.53%"
    ],
    "commit_messages": [
      "fix(DASH): Fix manifest update time for LL-DASH (#5736)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e82d6ca63ac8d88f122",
    "number": 5734,
    "body": "The new email (shaka-player-maintainers@googlegroups.com) will direct issue reproduction information to a google group that includes core maintainers who are not part of Google proper, as opposed to the old email (shaka-player-issues@google.com) which was Google employees only.",
    "head_branch": "issueBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Switch to new issues email (#5734)\n\nThe new email (shaka-player-maintainers@googlegroups.com) will direct issue reproduction information to a google group that includes core maintainers who are not part of Google proper, as opposed to the old email (shaka-player-issues@google.com) which was Google employees only."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e83d6ca63ac8d88f123",
    "number": 5732,
    "body": null,
    "head_branch": "hls-map-byterange",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix init segment when EXT-X-MAP is preceded by EXT-X-BYTERANGE (#5732)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e84d6ca63ac8d88f124",
    "number": 5731,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5730",
    "head_branch": "text-codec-change",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 66.67%"
    ],
    "commit_messages": [
      "fix: For text content is not necessary codec switching (#5731)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5730"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e85d6ca63ac8d88f125",
    "number": 5729,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.6.0](https://github.com/shaka-project/shaka-player/compare/v4.5.0...v4.6.0) (2023-11-16)\n\n\n### Features\n\n* Add a stub text display class ([#5804](https://github.com/shaka-project/shaka-player/issues/5804)) ([#5806](https://github.com/shaka-project/shaka-player/issues/5806)) ([700d181](https://github.com/shaka-project/shaka-player/commit/700d181a576982617b211c948d990099306e1df5))\n* Add config to ignore duplicate init data ([#5853](https://github.com/shaka-project/shaka-player/issues/5853)) ([acf23f8](https://github.com/shaka-project/shaka-player/commit/acf23f86af9691932f56e126bc9bf9d25ac19ec3))\n* Add partial info to shaka.media.SegmentReference ([#5822](https://github.com/shaka-project/shaka-player/issues/5822)) ([766b0a1](https://github.com/shaka-project/shaka-player/commit/766b0a139e869a01a0170260e3f87a1378ca4860))\n* Add support for WPE based browsers in RDK set-top boxes ([#5852](https://github.com/shaka-project/shaka-player/issues/5852)) ([2eedb12](https://github.com/shaka-project/shaka-player/commit/2eedb12a1e76044a410e5fd97ff5bda0a5c07db0))\n* Add thumbnails support in src= ([#5802](https://github.com/shaka-project/shaka-player/issues/5802)) ([88e4cd4](https://github.com/shaka-project/shaka-player/commit/88e4cd41164c75dce44745c2fe89615b5d8c50a8))\n* Add video progress events ([#5850](https://github.com/shaka-project/shaka-player/issues/5850)) ([c3beee6](https://github.com/shaka-project/shaka-player/commit/c3beee6f2a5dd929da2549ebeef1ee5018beafad))\n* Allow prefetch init segments ([#5825](https://github.com/shaka-project/shaka-player/issues/5825)) ([3f392c0](https://github.com/shaka-project/shaka-player/commit/3f392c00dce6c8dcd57432c16aa683936bcf16df))\n* **DASH:** Add initial support for \"urn:mpeg:dash:ssr:2023\" ([#5762](https://github.com/shaka-project/shaka-player/issues/5762)) ([508e5cf](https://github.com/shaka-project/shaka-player/commit/508e5cfbbaa36112d1f57841d83b232d2367e5dc))\n* **DASH:** Add support for Content Steering ([#5710](https://github.com/shaka-project/shaka-player/issues/5710)) ([42f491f](https://github.com/shaka-project/shaka-player/commit/42f491f782f5c2c011fd8cd5b468d627529914f2))\n* **DASH:** Add support for Content Steering in AdaptationSet BaseURL ([#5884](https://github.com/shaka-project/shaka-player/issues/5884)) ([1c6f1fa](https://github.com/shaka-project/shaka-player/commit/1c6f1fa7b32d32ab71e2420ec0f57b69cdbfb82a))\n* **DASH:** Add support for minimum values in service descriptions ([#5844](https://github.com/shaka-project/shaka-player/issues/5844)) ([5f94a62](https://github.com/shaka-project/shaka-player/commit/5f94a6253ba3a598fdc086a11cedd1f061c7c291))\n* **Demo:** Add CBCS content to demo ([#5862](https://github.com/shaka-project/shaka-player/issues/5862)) ([9777c52](https://github.com/shaka-project/shaka-player/commit/9777c524b6d7ea8a3cf8779affb01b887b048d09))\n* **Demo:** Add Content Steering assets ([#5888](https://github.com/shaka-project/shaka-player/issues/5888)) ([8e0ee8a](https://github.com/shaka-project/shaka-player/commit/8e0ee8a8a783d1b881928d96f0cb8ab96f6d2621))\n* **demo:** Add icon for new demo asset ([#5866](https://github.com/shaka-project/shaka-player/issues/5866)) ([f7448b7](https://github.com/shaka-project/shaka-player/commit/f7448b7bdb19f575c92854af3f90686890ee2761))\n* **Demo:** Add new 3D movie stream from Apple ([#5872](https://github.com/shaka-project/shaka-player/issues/5872)) ([a5adf31](https://github.com/shaka-project/shaka-player/commit/a5adf3176fa1b74b2d3ccda10e9144ebd6bb627c))\n* **HLS:** Add new config for allow LL-HLS byterange optimization ([#5877](https://github.com/shaka-project/shaka-player/issues/5877)) ([3e91e8e](https://github.com/shaka-project/shaka-player/commit/3e91e8eb0c584b3817421a8846bceba149ffd0dd))\n* **HLS:** Add new config to get codecs from media segment for playlists without CODECS attribute ([#5772](https://github.com/shaka-project/shaka-player/issues/5772)) ([80630bb](https://github.com/shaka-project/shaka-player/commit/80630bb49581b056fb84afded0ac90a53fe54c36)), closes [#5769](https://github.com/shaka-project/shaka-player/issues/5769)\n* **HLS:** Add support for Content Steering ([#5881](https://github.com/shaka-project/shaka-player/issues/5881)) ([b75ca1d](https://github.com/shaka-project/shaka-player/commit/b75ca1df63181976e1a39977360d25fc9a2e43e9))\n* **HLS:** Add support for mjpg I-Frames playlist ([#5856](https://github.com/shaka-project/shaka-player/issues/5856)) ([801131f](https://github.com/shaka-project/shaka-player/commit/801131f84cf0cfadf79c4d069f82e1ff4c463a00))\n* **HLS:** Add support for QUERYPARAM variable type in #EXT-X-DEFINE ([#5801](https://github.com/shaka-project/shaka-player/issues/5801)) ([fda3189](https://github.com/shaka-project/shaka-player/commit/fda3189fd2fb8a89946cdb2d8fd0c57bcbed3ab6))\n* **HLS:** Add support for REQ-VIDEO-LAYOUT ([#5809](https://github.com/shaka-project/shaka-player/issues/5809)) ([81fc82b](https://github.com/shaka-project/shaka-player/commit/81fc82b6b24c2f17e60e6bfe89ee6870972efd72))\n* **HLS:** Build closed captions metadata for media playlist on-the-fly. ([#5811](https://github.com/shaka-project/shaka-player/issues/5811)) ([754bfac](https://github.com/shaka-project/shaka-player/commit/754bfacf077226173eb46c3938696110bcbbfc55))\n* **HLS:** Improve the stream info when EXT-X-MEDIA has not uri ([#5886](https://github.com/shaka-project/shaka-player/issues/5886)) ([b5b6a0f](https://github.com/shaka-project/shaka-player/commit/b5b6a0fd8455efbc635f75dd8c477c6c59474ee3))\n* **ID3:** decode APIC frames ([#5857](https://github.com/shaka-project/shaka-player/issues/5857)) ([6a862d2](https://github.com/shaka-project/shaka-player/commit/6a862d265ac3b8e713e8f86bee3c641a1f0f38e5))\n* Improve latency in LL DASH streams ([#5820](https://github.com/shaka-project/shaka-player/issues/5820)) ([20b4abf](https://github.com/shaka-project/shaka-player/commit/20b4abf81674e17fe5557d2cce58611faff7094c))\n* **net:** Add shaka.net.NetworkingUtils ([#5756](https://github.com/shaka-project/shaka-player/issues/5756)) ([be96fd0](https://github.com/shaka-project/shaka-player/commit/be96fd0a2b0092efaecd1a09699ce78785266f52))\n* Stop setting playbackRate to 0 to control buffering state ([#5696](https://github.com/shaka-project/shaka-player/issues/5696)) ([6156dce](https://github.com/shaka-project/shaka-player/commit/6156dced6bddc5e2cd0cc52071295cff63cadfcd))\n* **thumbnails:** Add Player.getAllThumbnails ([#5783](https://github.com/shaka-project/shaka-player/issues/5783)) ([9f7576b](https://github.com/shaka-project/shaka-player/commit/9f7576be32c1c5292620ca1dc36325adde493626)), closes [#5781](https://github.com/shaka-project/shaka-player/issues/5781)\n* **UI:** Add chapter titles and dividers on the seek bar ([#5863](https://github.com/shaka-project/shaka-player/issues/5863)) ([c1198df](https://github.com/shaka-project/shaka-player/commit/c1198df82f44f2fa402a5ff8d933219820ac9e8e))\n* **UI:** Bucketize resolution names in the UI ([#5816](https://github.com/shaka-project/shaka-player/issues/5816)) ([b56b9df](https://github.com/shaka-project/shaka-player/commit/b56b9df602dfaff5012f95acfeea329f86dde618))\n* **UI:** Display frame rates in the quality selector ([#5753](https://github.com/shaka-project/shaka-player/issues/5753)) ([3096378](https://github.com/shaka-project/shaka-player/commit/30963788be1d1840f9d8671cf8e91cbeaa721f10))\n* **UI:** Show the channel count in the audio selector ([#5868](https://github.com/shaka-project/shaka-player/issues/5868)) ([1681acd](https://github.com/shaka-project/shaka-player/commit/1681acdd2439a542a976abc1aa252e377e4411d6))\n* Use ManagedMediaSource when available ([#5683](https://github.com/shaka-project/shaka-player/issues/5683)) ([01da5fa](https://github.com/shaka-project/shaka-player/commit/01da5fa8a4b32c14582bd3cb865b5d5eca591d7f))\n\n\n### Bug Fixes\n\n* **ABR:** Fix HLS playback after internet connection is restored ([#5879](https://github.com/shaka-project/shaka-player/issues/5879)) ([f5777e5](https://github.com/shaka-project/shaka-player/commit/f5777e5625994a6c5483a33f68d5af9dec1e1335))\n* AD_STARTED fires before ad started with AWS Media Tailor ([#5855](https://github.com/shaka-project/shaka-player/issues/5855)) ([b39f334](https://github.com/shaka-project/shaka-player/commit/b39f33466ebdeb8aba2df2edd1cf16bbccbd46dd))\n* Add Orange platform to requiresEncryptionInfoInAllInitSegments ([#5895](https://github.com/shaka-project/shaka-player/issues/5895)) ([9d23a87](https://github.com/shaka-project/shaka-player/commit/9d23a87f859f1bed1a2e10c2f32f18de8ce0a579))\n* Allow get seekRange on manifestparsed event in some cases ([#5892](https://github.com/shaka-project/shaka-player/issues/5892)) ([606d693](https://github.com/shaka-project/shaka-player/commit/606d693900a653fcc84dac64abeb7dda974101ca))\n* Allow parseXmlString when createNodeIterator is not available ([#5805](https://github.com/shaka-project/shaka-player/issues/5805)) ([ea7764d](https://github.com/shaka-project/shaka-player/commit/ea7764d0a772bca59ad78f1e3bbc9a7e2734f456))\n* ban new Uint16Array(buffer) ([#5838](https://github.com/shaka-project/shaka-player/issues/5838)) ([155befb](https://github.com/shaka-project/shaka-player/commit/155befb0a0e240adc331fe4b8b1967e344e5b0df))\n* CEA decoder should return early if packet is not large enough ([#5893](https://github.com/shaka-project/shaka-player/issues/5893)) ([9a694b5](https://github.com/shaka-project/shaka-player/commit/9a694b59f824f7d3bf9d7ca64364abf6e60b0de4))\n* **DASH:** Fix bad url when specify MPD BaseURL and AdaptationSet BaseURL ([#5883](https://github.com/shaka-project/shaka-player/issues/5883)) ([5f891d9](https://github.com/shaka-project/shaka-player/commit/5f891d98d65805f40c9ecab7fcc60a5b1cd00c3b))\n* **DASH:** Fix manifest update time for Live manifests ([#5763](https://github.com/shaka-project/shaka-player/issues/5763)) ([65449d1](https://github.com/shaka-project/shaka-player/commit/65449d1a1c43c2f0741a3e8eed620fb5a374da84))\n* **DASH:** Fix manifest update time for LL-DASH ([#5736](https://github.com/shaka-project/shaka-player/issues/5736)) ([8b7141f](https://github.com/shaka-project/shaka-player/commit/8b7141f92342044c8515679f6532efe635e205dc))\n* **dash:** fix race condition in segment template ([#5842](https://github.com/shaka-project/shaka-player/issues/5842)) ([8d2b657](https://github.com/shaka-project/shaka-player/commit/8d2b6574de6d0510ae752637c3507df93fbf3591))\n* **DASH:** Handle minimumUpdatePeriod=0 with urn:mpeg:dash:event:2012 (EMSG) ([#5823](https://github.com/shaka-project/shaka-player/issues/5823)) ([f8438df](https://github.com/shaka-project/shaka-player/commit/f8438df7b0f2834e77685eadc6d206f251730510))\n* **DASH:** Segments being fetched out of the range of the timeline ([#5889](https://github.com/shaka-project/shaka-player/issues/5889)) ([d8aa24f](https://github.com/shaka-project/shaka-player/commit/d8aa24f41d79c9efb58014c3069c5183738f26d4))\n* Dispatch streamDataCallback correctly in SegmentPrefetchOperation ([#5764](https://github.com/shaka-project/shaka-player/issues/5764)) ([bab8153](https://github.com/shaka-project/shaka-player/commit/bab81537626a0662ee291e4f5bccf488fd2c1870))\n* Fix bug with live start time ([#5835](https://github.com/shaka-project/shaka-player/issues/5835)) ([577d141](https://github.com/shaka-project/shaka-player/commit/577d141f42b316a6a3708e9455453b49a6386be7))\n* Fix chooseCodecsAndFilterManifest for similar frameRate ([#5817](https://github.com/shaka-project/shaka-player/issues/5817)) ([8ff204d](https://github.com/shaka-project/shaka-player/commit/8ff204d49dbf5f99189cb92f4a8d3ae4dd5494d4))\n* Fix chooseCodecsAndFilterManifest for some HLS manifest ([#5800](https://github.com/shaka-project/shaka-player/issues/5800)) ([51870e9](https://github.com/shaka-project/shaka-player/commit/51870e9d7cced20ee98783184b69584bea90446e))\n* Fix converts legacy avc1 codec strings on transmuxer ([#5790](https://github.com/shaka-project/shaka-player/issues/5790)) ([8944ca9](https://github.com/shaka-project/shaka-player/commit/8944ca9b0ff7731889c35dbd62d6a57bd9f2060c))\n* Fix crash while playing HLS AES 128 streams ([#5830](https://github.com/shaka-project/shaka-player/issues/5830)) ([64b12c1](https://github.com/shaka-project/shaka-player/commit/64b12c15792be2aa8e7f79b57f4231dfcb549fbd))\n* Fix DRM workaround for Tizen and Xbox with ac-4 boxes ([#5812](https://github.com/shaka-project/shaka-player/issues/5812)) ([72a5de3](https://github.com/shaka-project/shaka-player/commit/72a5de337357fa9808509efc0e63a6b1ba4f4077))\n* Fix incompatible codec is selected in Windows Edge for Widevine ([#5831](https://github.com/shaka-project/shaka-player/issues/5831)) ([5aa3597](https://github.com/shaka-project/shaka-player/commit/5aa359707469cca3cac3efdc7e7efcff1a180216))\n* Fix mangled property in compiled mode in Content Steering ([#5887](https://github.com/shaka-project/shaka-player/issues/5887)) ([0e62b8e](https://github.com/shaka-project/shaka-player/commit/0e62b8e00713a0b56a5d81b9758b3b4e1d98dfcf))\n* Fix missing audio streams ([#5869](https://github.com/shaka-project/shaka-player/issues/5869)) ([d6aab6b](https://github.com/shaka-project/shaka-player/commit/d6aab6befaf72eb87e431f5b27cb6c6bc368b56d))\n* Fix nalu parsing and improve performance in the transmuxer ([#5846](https://github.com/shaka-project/shaka-player/issues/5846)) ([ae423b4](https://github.com/shaka-project/shaka-player/commit/ae423b4239141a62cf9d8acea622398048a60936))\n* Fix selectAudioLanguage using channelsCount param ([#5875](https://github.com/shaka-project/shaka-player/issues/5875)) ([c830a99](https://github.com/shaka-project/shaka-player/commit/c830a99041e2d8d2f105ab569485c959fc8c5530))\n* Fix variant filtering by preferredAudioChannelCount ([#5859](https://github.com/shaka-project/shaka-player/issues/5859)) ([51edeae](https://github.com/shaka-project/shaka-player/commit/51edeaefa02a0d01706bf2d18d601ad8d2763202))\n* For text content is not necessary codec switching ([#5731](https://github.com/shaka-project/shaka-player/issues/5731)) ([bdbaae5](https://github.com/shaka-project/shaka-player/commit/bdbaae5182c1f4f650822edb2a95246a918ad5df))\n* **hisense:** set stallSkip to 0 for HiSense devices ([#5833](https://github.com/shaka-project/shaka-player/issues/5833)) ([c457db8](https://github.com/shaka-project/shaka-player/commit/c457db835fee8292b840dc27451424706f238d78))\n* **HLS:** Fix accessibilityPurpose detection ([#5840](https://github.com/shaka-project/shaka-player/issues/5840)) ([ceaa9fa](https://github.com/shaka-project/shaka-player/commit/ceaa9faba92465bf58cd9ea78ddac77158eabac1))\n* **HLS:** Fix bad detection in some MediaPlaylist ([#5878](https://github.com/shaka-project/shaka-player/issues/5878)) ([5e797bd](https://github.com/shaka-project/shaka-player/commit/5e797bd734ca95be0cf68f59022645fad8dc9077))\n* **HLS:** Fix decryption of AES-128 ([#5871](https://github.com/shaka-project/shaka-player/issues/5871)) ([da38b36](https://github.com/shaka-project/shaka-player/commit/da38b362e8146521e509599f4f2cbdef41a077d8))\n* **HLS:** Fix init segment when EXT-X-MAP is preceded by EXT-X-BYTERANGE ([#5732](https://github.com/shaka-project/shaka-player/issues/5732)) ([24e5de3](https://github.com/shaka-project/shaka-player/commit/24e5de34ba2bd8a1e03204a1e8b96436c6aed296))\n* **HLS:** Fix kind detection for 'captions' text tracks ([#5819](https://github.com/shaka-project/shaka-player/issues/5819)) ([8e442b3](https://github.com/shaka-project/shaka-player/commit/8e442b3884cb308df69e5327d06c773c2baeff04))\n* **HLS:** Fix LL-HLS with byterange optimization using segments mode ([#5876](https://github.com/shaka-project/shaka-player/issues/5876)) ([c79e5a5](https://github.com/shaka-project/shaka-player/commit/c79e5a505878084c8691d28eae0813bb1755c927))\n* **HLS:** Fix url management in HLS ([#5722](https://github.com/shaka-project/shaka-player/issues/5722)) ([8deab71](https://github.com/shaka-project/shaka-player/commit/8deab717f358502b9c79a0fbd504531cc3173ddd))\n* **Offline:** Fix download of some HLS manifests ([#5861](https://github.com/shaka-project/shaka-player/issues/5861)) ([c2c8320](https://github.com/shaka-project/shaka-player/commit/c2c8320251526a0e755debf5448913a2fa896371))\n* **offline:** Fix server certificate error when trying to store content ([#5848](https://github.com/shaka-project/shaka-player/issues/5848)) ([f4a35f2](https://github.com/shaka-project/shaka-player/commit/f4a35f2c3fa55449c6a12dd45f207893bc9eabca))\n* **TTML:** Fix support of urls in smpte:backgroundImage ([#5851](https://github.com/shaka-project/shaka-player/issues/5851)) ([fa93d53](https://github.com/shaka-project/shaka-player/commit/fa93d5353acf785e450c8e7e664f7012e0d99bdc))\n* **UI:** Console error on remote.cancelwatchavailability() method in remote playback feature ([#5793](https://github.com/shaka-project/shaka-player/issues/5793)) ([b66a8e8](https://github.com/shaka-project/shaka-player/commit/b66a8e871b3d541890f1fe431eb1c4c294c26a6e))\n* **UI:** Fix text selector when the trackLabelFormat is set to LABEL ([#5751](https://github.com/shaka-project/shaka-player/issues/5751)) ([bba0651](https://github.com/shaka-project/shaka-player/commit/bba0651e23bdebc5ba12dc17f7d6d2a33c0bb51a))\n* UITextDisplayer font-family is overridden by UI's Roboto font ([#5829](https://github.com/shaka-project/shaka-player/issues/5829)) ([cb8a5ed](https://github.com/shaka-project/shaka-player/commit/cb8a5edd7071a504d2d0f654944d86436d2632a8))\n* **WebVTT:** Fix wrong writing-mode in nested cues ([#5807](https://github.com/shaka-project/shaka-player/issues/5807)) ([ea7d83e](https://github.com/shaka-project/shaka-player/commit/ea7d83ed8760d98119e771ea0b48baa1ba4eb4ea))\n\n\n### Performance Improvements\n\n* **dash:** improve readability and reduce number of loops in dash parser ([#5768](https://github.com/shaka-project/shaka-player/issues/5768)) ([17a4363](https://github.com/shaka-project/shaka-player/commit/17a4363e331fab3c4674504e54100b354fa0f0b8))\n* **DASH:** PeriodCombiner optimisations ([#5837](https://github.com/shaka-project/shaka-player/issues/5837)) ([ade93b0](https://github.com/shaka-project/shaka-player/commit/ade93b0d004b379841dfaf0bcf7e2f04b8f14345))\n* **DASH:** reduce looping and remove chaining awaits in period ([#5774](https://github.com/shaka-project/shaka-player/issues/5774)) ([be755e8](https://github.com/shaka-project/shaka-player/commit/be755e899536e169a8ef524e52f384e7a6abd001))\n* **HLS:** Improve detection of all partial segments ([#5761](https://github.com/shaka-project/shaka-player/issues/5761)) ([2a35579](https://github.com/shaka-project/shaka-player/commit/2a3557915f05f72cb44406eb1497a386c8fecbab))\n* Improve transmuxer performance ([#5789](https://github.com/shaka-project/shaka-player/issues/5789)) ([aa41e87](https://github.com/shaka-project/shaka-player/commit/aa41e8733f04948d6370dc066a96a2d7e394bc59))\n* **manifest:** avoid unnecessary looping in uri resolver ([#5773](https://github.com/shaka-project/shaka-player/issues/5773)) ([4d5caee](https://github.com/shaka-project/shaka-player/commit/4d5caee6615c04acf591d0bd04ae6ca4a1ffbdb0))\n* simplify and improve performance of parsing initData when deduping ([#5775](https://github.com/shaka-project/shaka-player/issues/5775)) ([041a08f](https://github.com/shaka-project/shaka-player/commit/041a08f88d2855e9457e7853014ee10b23a7612b))\n* **utils:** use WeakSet to track object references ([#5791](https://github.com/shaka-project/shaka-player/issues/5791)) ([daa9d1f](https://github.com/shaka-project/shaka-player/commit/daa9d1f206652b775c406ecb4887e0f2bc7c533f))\n* **Xbox:** drop incompatible variants for XBOX early ([#5777](https://github.com/shaka-project/shaka-player/issues/5777)) ([170a40c](https://github.com/shaka-project/shaka-player/commit/170a40c3083a8e4a0c6fabcf96439c2008ffcb63))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.6.0 :sunflower:"
    ],
    "commit_messages": [
      "chore(main): release 4.6.0 (#5729)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e86d6ca63ac8d88f126",
    "number": 5728,
    "body": "The player version format changed to split the JS string into parts in PR #5724, but the version check for release workflows did not get a corresponding update, causing the npm release workflow to fail.  This fixes that.",
    "head_branch": "fix-version-check",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Fix player version check on release (#5728)\n\nThe player version format changed to split the JS string into parts in\r\nPR #5724, but the version check for release workflows did not get a\r\ncorresponding update, causing the npm release workflow to fail. This\r\nfixes that."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e87d6ca63ac8d88f127",
    "number": 5727,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.5.0](https://github.com/shaka-project/shaka-player/compare/v4.4.0...v4.5.0) (2023-10-04)\n\n\n### Features\n\n* **ABR:** Allow some downscale when use restrictToElementSize or restrictToScreenSize ([#5631](https://github.com/shaka-project/shaka-player/issues/5631)) ([cad1ac8](https://github.com/shaka-project/shaka-player/commit/cad1ac82837123282248a0766147390d5c21bcb9))\n* Add getBandwidthEstimate to the player interface for custom manifest parser ([#5714](https://github.com/shaka-project/shaka-player/issues/5714)) ([1271a18](https://github.com/shaka-project/shaka-player/commit/1271a18fec65551508a734615c9c1619ebd87e04))\n* Add H.265 TS transmuxer ([#5611](https://github.com/shaka-project/shaka-player/issues/5611)) ([3c2c095](https://github.com/shaka-project/shaka-player/commit/3c2c0955cbd230f2360e2fb9d82e59cb19dab591))\n* Add KeyStatusChanged and UpdateState events ([#5695](https://github.com/shaka-project/shaka-player/issues/5695)) ([2f97fa7](https://github.com/shaka-project/shaka-player/commit/2f97fa7ee3497261af038046f1de14095c6d4481))\n* Add manifestupdated event ([#5602](https://github.com/shaka-project/shaka-player/issues/5602)) ([b16d2f0](https://github.com/shaka-project/shaka-player/commit/b16d2f0bf3691ef7cc2de4eea095df21814a2027))\n* Add TS transmuxer for muxed content ([#5571](https://github.com/shaka-project/shaka-player/issues/5571)) ([7df3321](https://github.com/shaka-project/shaka-player/commit/7df33212726d0040ba5d5a4cc0c049f174a06c83))\n* **Ads:** Add support for AWS Elemental MediaTailor ([#5679](https://github.com/shaka-project/shaka-player/issues/5679)) ([cf5a72b](https://github.com/shaka-project/shaka-player/commit/cf5a72bb513ff74e5b0f8ca7fd334313cd78370d))\n* **CEA:** Parse CEA from TS with H.265 ([#5610](https://github.com/shaka-project/shaka-player/issues/5610)) ([54eaf63](https://github.com/shaka-project/shaka-player/commit/54eaf6371aeb2fb8b860d52b75a0c27555aaaaca))\n* **DASH:** Add new config to prevent mixing of audio representations from different adaptation sets ([#5620](https://github.com/shaka-project/shaka-player/issues/5620)) ([0bbb470](https://github.com/shaka-project/shaka-player/commit/0bbb47025e347d321a9d764666a355b2d2a485a5))\n* **DASH:** Add support for AES-128 ([#5656](https://github.com/shaka-project/shaka-player/issues/5656)) ([96ae7f2](https://github.com/shaka-project/shaka-player/commit/96ae7f2fe614402d1ee410591eb86a2868796c38))\n* **DASH:** Allow the playback of DASH with $time$ and large timescale value ([#5621](https://github.com/shaka-project/shaka-player/issues/5621)) ([4a1c96e](https://github.com/shaka-project/shaka-player/commit/4a1c96e630de1ee259ed3a5ee582dddd0f844e04))\n* **demo:** Added icons for new demo assets ([#5691](https://github.com/shaka-project/shaka-player/issues/5691)) ([12400b1](https://github.com/shaka-project/shaka-player/commit/12400b160b51c7ea87ecb9e8bb77ae481bb707d7))\n* Enable codec switching ([#5470](https://github.com/shaka-project/shaka-player/issues/5470)) ([0078137](https://github.com/shaka-project/shaka-player/commit/0078137d1bd6bd471b5e1405e27d7fc76b5668ac))\n* **HLS:** Get the correct video info for TS segments with H.265 ([#5616](https://github.com/shaka-project/shaka-player/issues/5616)) ([e191c75](https://github.com/shaka-project/shaka-player/commit/e191c755167abd8658e9e3aae35cd99d07d15ee6))\n* **HLS:** Take into account the parsing time for manifest schedule update ([#5678](https://github.com/shaka-project/shaka-player/issues/5678)) ([f7e33a3](https://github.com/shaka-project/shaka-player/commit/f7e33a3ba529e13052bfaa8762b78379bb8c8e03))\n* Migration of LCEVC DIL (Decoder Integration Layer) to LCEVC Dec (Decoder) ([#5459](https://github.com/shaka-project/shaka-player/issues/5459)) ([c1e18d3](https://github.com/shaka-project/shaka-player/commit/c1e18d358361392332372760b90c724047cf1310))\n* **TTML:** Add support to tts:ruby ([#5645](https://github.com/shaka-project/shaka-player/issues/5645)) ([9fd220e](https://github.com/shaka-project/shaka-player/commit/9fd220e73f7ef0e9b5774717347b2d3fa7590e99))\n* **TTML:** Add support to tts:textCombine ([#5644](https://github.com/shaka-project/shaka-player/issues/5644)) ([73a3bd9](https://github.com/shaka-project/shaka-player/commit/73a3bd931ebc7c9690f3d0aefb0639f2230fa594))\n* **UI:** Add config to preferDocumentPictureInPicture ([#5690](https://github.com/shaka-project/shaka-player/issues/5690)) ([025502a](https://github.com/shaka-project/shaka-player/commit/025502a70c885216b9bbc063025ae80a72780fe6))\n* **UI:** Add PiP function to controls ([#5629](https://github.com/shaka-project/shaka-player/issues/5629)) ([b422847](https://github.com/shaka-project/shaka-player/commit/b4228479dae3469e5a3a1e8190bef9c4e3e1a843))\n* **UI:** Add remote button with RemotePlayback API ([#5650](https://github.com/shaka-project/shaka-player/issues/5650)) ([1ef5ae0](https://github.com/shaka-project/shaka-player/commit/1ef5ae0615a14baa26ff9ffa9fa5e083bfa19c7e))\n* **WebVTT:** Add support to ruby, rt, rp html tags ([#5642](https://github.com/shaka-project/shaka-player/issues/5642)) ([76ffd38](https://github.com/shaka-project/shaka-player/commit/76ffd38c1d78042acac220df202a9abdd77489e9))\n* **WebVTT:** Add support to text-combine-upright ([#5633](https://github.com/shaka-project/shaka-player/issues/5633)) ([a2f253f](https://github.com/shaka-project/shaka-player/commit/a2f253f8d619d2959c0195a8e1260657b5d34a3a))\n\n\n### Bug Fixes\n\n* Allow PID change in TsParser ([#5681](https://github.com/shaka-project/shaka-player/issues/5681)) ([d9b49d9](https://github.com/shaka-project/shaka-player/commit/d9b49d992f533bf7664932d547253b860064ea03))\n* **CMCD:** Fix CMCD for some mimetypes in src= ([#5699](https://github.com/shaka-project/shaka-player/issues/5699)) ([e2c32c5](https://github.com/shaka-project/shaka-player/commit/e2c32c52f0ae347083bcc6b4b7dceca903b5546b))\n* com.apple.fps should work with the default initDataTransform when using legacy Apple Media Keys ([#5603](https://github.com/shaka-project/shaka-player/issues/5603)) ([76fdda6](https://github.com/shaka-project/shaka-player/commit/76fdda65231905c945db6a5eedeece65f8d7711e))\n* Compute correctly the positionAlign in UITextDisplayer ([#5630](https://github.com/shaka-project/shaka-player/issues/5630)) ([3a2dbc3](https://github.com/shaka-project/shaka-player/commit/3a2dbc3deaf1e1ee5384eed41c6c9e79817a8a09))\n* **DASH:** Fix bigint implementation ([#5707](https://github.com/shaka-project/shaka-player/issues/5707)) ([45009d2](https://github.com/shaka-project/shaka-player/commit/45009d2c0cbbb203ecb864bc4b742ed4ad9a0d9a))\n* **DASH:** Fix race condition error while switching audio tracks ([#5619](https://github.com/shaka-project/shaka-player/issues/5619)) ([29d9a10](https://github.com/shaka-project/shaka-player/commit/29d9a107054fff16ec2abe2cbdbb8fa0c0cfd882))\n* **Demo:** Allow com.apple.fps.1_0 in the custom DRM System field ([#5600](https://github.com/shaka-project/shaka-player/issues/5600)) ([ab86000](https://github.com/shaka-project/shaka-player/commit/ab86000dc75a352505875fe6dbc37fe0bdd2857a))\n* **Demo:** Fix url of \"Low Latency HLS Live\" asset ([#5708](https://github.com/shaka-project/shaka-player/issues/5708)) ([146d3ec](https://github.com/shaka-project/shaka-player/commit/146d3ecd280b8b985e1fae6fc9262fa04dcf6126))\n* Fix compiled-mode error formatting ([#5623](https://github.com/shaka-project/shaka-player/issues/5623)) ([a19912e](https://github.com/shaka-project/shaka-player/commit/a19912e5bf9ec5425a366b07745d5bac631a9dd2))\n* Fix creation of new Stream object for each manifest request in DASH Live when using CEA ([#5674](https://github.com/shaka-project/shaka-player/issues/5674)) ([0a8b519](https://github.com/shaka-project/shaka-player/commit/0a8b5193f2de0b83ddd24aacda09523926b1cdb9))\n* Fix MediaSourceEngine reset operation ([#5576](https://github.com/shaka-project/shaka-player/issues/5576)) ([9f5e91f](https://github.com/shaka-project/shaka-player/commit/9f5e91f4a37a8e504adcf1dd756fac9c777c2051))\n* Fix Mp4Generator ([#5566](https://github.com/shaka-project/shaka-player/issues/5566)) ([effafbc](https://github.com/shaka-project/shaka-player/commit/effafbc849cc83c732fe113f5da479513b884f9f))\n* Fix NALU parsing in some HLS muxed live streams ([#5688](https://github.com/shaka-project/shaka-player/issues/5688)) ([756a576](https://github.com/shaka-project/shaka-player/commit/756a57658608b3d8e674ae810afc692a25dc85cf))\n* Fix PES parsing ([#5559](https://github.com/shaka-project/shaka-player/issues/5559)) ([5c6ab9e](https://github.com/shaka-project/shaka-player/commit/5c6ab9e0c8ba1236710209b36ea08d7a44fb1bf3))\n* fix preferred track selection on Safari ([#5601](https://github.com/shaka-project/shaka-player/issues/5601)) ([d021d6f](https://github.com/shaka-project/shaka-player/commit/d021d6f932b3a64d826b919b5a7b252599e2ecd5))\n* Fix some properties on the shaka.text.Cue that are mangled ([#5673](https://github.com/shaka-project/shaka-player/issues/5673)) ([d2b7cb2](https://github.com/shaka-project/shaka-player/commit/d2b7cb28212d5fc82b70169c77826333e0fc081f))\n* Fix transmuxed audio timestamps ([#5595](https://github.com/shaka-project/shaka-player/issues/5595)) ([0260aef](https://github.com/shaka-project/shaka-player/commit/0260aefcdbdda2184ea32d3d8678a04491cc6fd3))\n* Fix transmuxing of muxed content ([#5686](https://github.com/shaka-project/shaka-player/issues/5686)) ([f20d50a](https://github.com/shaka-project/shaka-player/commit/f20d50a37b8629d5429b22e2fa0ced4729335af3))\n* Fix TS transmuxer when the main content is muxed ([#5575](https://github.com/shaka-project/shaka-player/issues/5575)) ([65b3037](https://github.com/shaka-project/shaka-player/commit/65b3037181b30274b1cedf52283f5726cf7df0b9))\n* Fix unreleased stack overflow on statechanged ([#5712](https://github.com/shaka-project/shaka-player/issues/5712)) ([ebacf32](https://github.com/shaka-project/shaka-player/commit/ebacf32127dfc7b8b5227d66f7d53d3eee54fdd3))\n* **HLS:** Allow audio groups on audio-only content ([#5578](https://github.com/shaka-project/shaka-player/issues/5578)) ([3cbc444](https://github.com/shaka-project/shaka-player/commit/3cbc444c95ab2e8c124d2caaaac6ce7bc5fdf02f))\n* **HLS:** Fix audio and video out of sync ([#5658](https://github.com/shaka-project/shaka-player/issues/5658)) ([4cc4143](https://github.com/shaka-project/shaka-player/commit/4cc4143d5f3d78fc5839d6e61d7464ac62479253))\n* **HLS:** Fix display CEA-708 in HLS ([#5694](https://github.com/shaka-project/shaka-player/issues/5694)) ([2097193](https://github.com/shaka-project/shaka-player/commit/2097193c1d16b2fc7478959257e45dd0d8233ffa))\n* **HLS:** Fix presentation delay for small live playlists (eg: 3-4 segments) ([#5687](https://github.com/shaka-project/shaka-player/issues/5687)) ([caef5a4](https://github.com/shaka-project/shaka-player/commit/caef5a41edb3b7ac09d58249990bc2fa14ac5adb))\n* **HLS:** Get the correct video codec for TS segments ([#5598](https://github.com/shaka-project/shaka-player/issues/5598)) ([1135115](https://github.com/shaka-project/shaka-player/commit/11351150694814813cb1cfeab4dc78fdefcce6fa))\n* **HLS:** Show WebVTT subtitles with X-TIMESTAMP-MAP in segments mode ([#5643](https://github.com/shaka-project/shaka-player/issues/5643)) ([bd636d4](https://github.com/shaka-project/shaka-player/commit/bd636d4edffed3e845c79666547dc5af91af4055))\n* **HLS:** Skip segments without duration and without partial segments ([#5705](https://github.com/shaka-project/shaka-player/issues/5705)) ([f53d50d](https://github.com/shaka-project/shaka-player/commit/f53d50dc3620736add47f4db2f4e71b4d8eea526))\n* **HLS:** Support AES-128 in init segment according the RFC ([#5677](https://github.com/shaka-project/shaka-player/issues/5677)) ([806d91a](https://github.com/shaka-project/shaka-player/commit/806d91af4da9e71f9e11af406ffebf14232c5e9f))\n* Improve TsParse to avoid parsing errors ([#5615](https://github.com/shaka-project/shaka-player/issues/5615)) ([5fa8b42](https://github.com/shaka-project/shaka-player/commit/5fa8b42118103ee8bb32394feb3aeb57b6d47553))\n* Prevent codecs override in the transmuxer ([#5568](https://github.com/shaka-project/shaka-player/issues/5568)) ([66c625f](https://github.com/shaka-project/shaka-player/commit/66c625f55ab00989ff74419e8f85ca7619446dd0))\n* Remove debugging code on Simple Text ([#5582](https://github.com/shaka-project/shaka-player/issues/5582)) ([991130a](https://github.com/shaka-project/shaka-player/commit/991130a6d875fd41ff585254563c5a879057603a))\n* seeking in segment timeline returns incorrect index ([#5716](https://github.com/shaka-project/shaka-player/issues/5716)) ([c02ccee](https://github.com/shaka-project/shaka-player/commit/c02cceeeca0590a9b9b3161783142d89ba4948d4)), closes [#5664](https://github.com/shaka-project/shaka-player/issues/5664)\n* **TTML:** Fix wrong writing-mode in nested cues ([#5646](https://github.com/shaka-project/shaka-player/issues/5646)) ([3a4f108](https://github.com/shaka-project/shaka-player/commit/3a4f10878a91c7d30f71862f2cec780b0f5e1bac))\n* **UI:** Fix broken language names on Google TV ([#5613](https://github.com/shaka-project/shaka-player/issues/5613)) ([fc93292](https://github.com/shaka-project/shaka-player/commit/fc93292d9e4f8d38561dea8320cbcd5fd25f2c75))\n* **WebVTT:** Fix support for line:0 vertical alignment ([#5632](https://github.com/shaka-project/shaka-player/issues/5632)) ([eed393f](https://github.com/shaka-project/shaka-player/commit/eed393f1bf777f00f1e7242c96bf9124ad3dec30))\n* **WebVTT:** Fix text displayed out of picture and with overlapping lines ([#5662](https://github.com/shaka-project/shaka-player/issues/5662)) ([6975be9](https://github.com/shaka-project/shaka-player/commit/6975be92d47fd5368492e861a6ea63e627a4846c)), closes [#5661](https://github.com/shaka-project/shaka-player/issues/5661)\n* **WebVTT:** Fix wrong writing-mode in nested cues ([#5641](https://github.com/shaka-project/shaka-player/issues/5641)) ([56a4cea](https://github.com/shaka-project/shaka-player/commit/56a4cea5789f15b5e78c9a5d8d0cb97eb542bafc))\n\n\n### Performance Improvements\n\n* Optimization to resolve uris ([#5657](https://github.com/shaka-project/shaka-player/issues/5657)) ([bd17c2b](https://github.com/shaka-project/shaka-player/commit/bd17c2bfd077c596d77a2a3fdd865041ed08012c))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.5.0 :sunflower:",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore(main): release 4.5.0 (#5727)\n\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e88d6ca63ac8d88f128",
    "number": 5726,
    "body": "Bumps [postcss](https://github.com/postcss/postcss) from 8.4.6 to 8.4.31.\r\n<details>\r\n<summary>Release notes</summary>\r\n<p><em>Sourced from <a href=\"https://github.com/postcss/postcss/releases\">postcss's releases</a>.</em></p>\r\n<blockquote>\r\n<h2>8.4.31</h2>\r\n<ul>\r\n<li>Fixed <code>\\r</code> parsing to fix CVE-2023-44270.</li>\r\n</ul>\r\n<h2>8.4.30</h2>\r\n<ul>\r\n<li>Improved source map performance (by <a href=\"https://github.com/romainmenke\"><code>@​romainmenke</code></a>).</li>\r\n</ul>\r\n<h2>8.4.29</h2>\r\n<ul>\r\n<li>Fixed <code>Node#source.offset</code> (by <a href=\"https://github.com/idoros\"><code>@​idoros</code></a>).</li>\r\n<li>Fixed docs (by <a href=\"https://github.com/coliff\"><code>@​coliff</code></a>).</li>\r\n</ul>\r\n<h2>8.4.28</h2>\r\n<ul>\r\n<li>Fixed <code>Root.source.end</code> for better source map (by <a href=\"https://github.com/romainmenke\"><code>@​romainmenke</code></a>).</li>\r\n<li>Fixed <code>Result.root</code> types when <code>process()</code> has no parser.</li>\r\n</ul>\r\n<h2>8.4.27</h2>\r\n<ul>\r\n<li>Fixed <code>Container</code> clone methods types.</li>\r\n</ul>\r\n<h2>8.4.26</h2>\r\n<ul>\r\n<li>Fixed clone methods types.</li>\r\n</ul>\r\n<h2>8.4.25</h2>\r\n<ul>\r\n<li>Improve stringify performance (by <a href=\"https://github.com/romainmenke\"><code>@​romainmenke</code></a>).</li>\r\n<li>Fixed docs (by <a href=\"https://github.com/vikaskaliramna07\"><code>@​vikaskaliramna07</code></a>).</li>\r\n</ul>\r\n<h2>8.4.24</h2>\r\n<ul>\r\n<li>Fixed <code>Plugin</code> types.</li>\r\n</ul>\r\n<h2>8.4.23</h2>\r\n<ul>\r\n<li>Fixed warnings in TypeDoc.</li>\r\n</ul>\r\n<h2>8.4.22</h2>\r\n<ul>\r\n<li>Fixed TypeScript support with <code>node16</code> (by <a href=\"https://github.com/remcohaszing\"><code>@​remcohaszing</code></a>).</li>\r\n</ul>\r\n<h2>8.4.21</h2>\r\n<ul>\r\n<li>Fixed <code>Input#error</code> types (by <a href=\"https://github.com/hudochenkov\"><code>@​hudochenkov</code></a>).</li>\r\n</ul>\r\n<h2>8.4.20</h2>\r\n<ul>\r\n<li>Fixed source map generation for childless at-rules like <code>@layer</code>.</li>\r\n</ul>\r\n<h2>8.4.19</h2>\r\n<ul>\r\n<li>Fixed whitespace preserving after AST transformations (by <a href=\"https://github.com/romainmenke\"><code>@​romainmenke</code></a>).</li>\r\n</ul>\r\n<h2>8.4.18</h2>\r\n<ul>\r\n<li>Fixed an error on <code>absolute: true</code> with empty <code>sourceContent</code> (by <a href=\"https://github.com/KingSora\"><code>@​KingSora</code></a>).</li>\r\n</ul>\r\n<h2>8.4.17</h2>\r\n<ul>\r\n<li>Fixed <code>Node.before()</code> unexpected behavior (by <a href=\"https://github.com/romainmenke\"><code>@​romainmenke</code></a>).</li>\r\n<li>Added TOC to docs (by <a href=\"https://github.com/muddv\"><code>@​muddv</code></a>).</li>\r\n</ul>\r\n<h2>8.4.16</h2>\r\n<!-- raw HTML omitted -->\r\n</blockquote>\r\n<p>... (truncated)</p>\r\n</details>\r\n<details>\r\n<summary>Changelog</summary>\r\n<p><em>Sourced from <a href=\"https://github.com/postcss/postcss/blob/main/CHANGELOG.md\">postcss's changelog</a>.</em></p>\r\n<blockquote>\r\n<h2>8.4.31</h2>\r\n<ul>\r\n<li>Fixed <code>\\r</code> parsing to fix CVE-2023-44270.</li>\r\n</ul>\r\n<h2>8.4.30</h2>\r\n<ul>\r\n<li>Improved source map performance (by Romain Menke).</li>\r\n</ul>\r\n<h2>8.4.29</h2>\r\n<ul>\r\n<li>Fixed <code>Node#source.offset</code> (by Ido Rosenthal).</li>\r\n<li>Fixed docs (by Christian Oliff).</li>\r\n</ul>\r\n<h2>8.4.28</h2>\r\n<ul>\r\n<li>Fixed <code>Root.source.end</code> for better source map (by Romain Menke).</li>\r\n<li>Fixed <code>Result.root</code> types when <code>process()</code> has no parser.</li>\r\n</ul>\r\n<h2>8.4.27</h2>\r\n<ul>\r\n<li>Fixed <code>Container</code> clone methods types.</li>\r\n</ul>\r\n<h2>8.4.26</h2>\r\n<ul>\r\n<li>Fixed clone methods types.</li>\r\n</ul>\r\n<h2>8.4.25</h2>\r\n<ul>\r\n<li>Improve stringify performance (by Romain Menke).</li>\r\n<li>Fixed docs (by <a href=\"https://github.com/vikaskaliramna07\"><code>@​vikaskaliramna07</code></a>).</li>\r\n</ul>\r\n<h2>8.4.24</h2>\r\n<ul>\r\n<li>Fixed <code>Plugin</code> types.</li>\r\n</ul>\r\n<h2>8.4.23</h2>\r\n<ul>\r\n<li>Fixed warnings in TypeDoc.</li>\r\n</ul>\r\n<h2>8.4.22</h2>\r\n<ul>\r\n<li>Fixed TypeScript support with <code>node16</code> (by Remco Haszing).</li>\r\n</ul>\r\n<h2>8.4.21</h2>\r\n<ul>\r\n<li>Fixed <code>Input#error</code> types (by Aleks Hudochenkov).</li>\r\n</ul>\r\n<h2>8.4.20</h2>\r\n<ul>\r\n<li>Fixed source map generation for childless at-rules like <code>@layer</code>.</li>\r\n</ul>\r\n<h2>8.4.19</h2>\r\n<ul>\r\n<li>Fixed whitespace preserving after AST transformations (by Romain Menke).</li>\r\n</ul>\r\n<h2>8.4.18</h2>\r\n<ul>\r\n<li>Fixed an error on <code>absolute: true</code> with empty <code>sourceContent</code> (by Rene Haas).</li>\r\n</ul>\r\n<h2>8.4.17</h2>\r\n<ul>\r\n<li>Fixed <code>Node.before()</code> unexpected behavior (by Romain Menke).</li>\r\n<li>Added TOC to docs (by Mikhail Dedov).</li>\r\n</ul>\r\n<h2>8.4.16</h2>\r\n<!-- raw HTML omitted -->\r\n</blockquote>\r\n<p>... (truncated)</p>\r\n</details>\r\n<details>\r\n<summary>Commits</summary>\r\n<ul>\r\n<li><a href=\"https://github.com/postcss/postcss/commit/90208de8805dd762596c0028b8637ffbed23e371\"><code>90208de</code></a> Release 8.4.31 version</li>\r\n<li><a href=\"https://github.com/postcss/postcss/commit/58cc860b4c1707510c9cd1bc1fa30b423a9ad6c5\"><code>58cc860</code></a> Fix carrier return parsing</li>\r\n<li><a href=\"https://github.com/postcss/postcss/commit/4fff8e4cdc237619df1d73a444c0a8329701c1e2\"><code>4fff8e4</code></a> Improve pnpm test output</li>\r\n<li><a href=\"https://github.com/postcss/postcss/commit/cd43ed123274a92ebc13a1e8cccf1d65b8198f84\"><code>cd43ed1</code></a> Update dependencies</li>\r\n<li><a href=\"https://github.com/postcss/postcss/commit/caa916bdcbf66c51321574e2dde112ab13e8b306\"><code>caa916b</code></a> Update dependencies</li>\r\n<li><a href=\"https://github.com/postcss/postcss/commit/8972f76923e921a3c9655822382039b31b1c8e1a\"><code>8972f76</code></a> Typo</li>\r\n<li><a href=\"https://github.com/postcss/postcss/commit/11a5286f781d2a637f2c545c5e9cd661055acaab\"><code>11a5286</code></a> Typo</li>\r\n<li><a href=\"https://github.com/postcss/postcss/commit/45c55017776fc61f7815d1ea8e92d5291ca5d6c8\"><code>45c5501</code></a> Release 8.4.30 version</li>\r\n<li><a href=\"https://github.com/postcss/postcss/commit/bc3c341f589f9c15f1b56838a33d908374e537e0\"><code>bc3c341</code></a> Update linter</li>\r\n<li><a href=\"https://github.com/postcss/postcss/commit/b2be58a2eb788d12474ee1335f8ecdb9fa6225aa\"><code>b2be58a</code></a> Merge pull request <a href=\"https://redirect.github.com/postcss/postcss/issues/1881\">#1881</a> from romainmenke/improve-sourcemap-performance--phil...</li>\r\n<li>Additional commits viewable in <a href=\"https://github.com/postcss/postcss/compare/8.4.6...8.4.31\">compare view</a></li>\r\n</ul>\r\n</details>\r\n<br />\r\n\r\n\r\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=postcss&package-manager=npm_and_yarn&previous-version=8.4.6&new-version=8.4.31)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\r\n\r\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\r\n\r\n[//]: # (dependabot-automerge-start)\r\n[//]: # (dependabot-automerge-end)\r\n\r\n---\r\n\r\n<details>\r\n<summary>Dependabot commands and options</summary>\r\n<br />\r\n\r\nYou can trigger Dependabot actions by commenting on this PR:\r\n- `@dependabot rebase` will rebase this PR\r\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\r\n- `@dependabot merge` will merge this PR after your CI passes on it\r\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\r\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\r\n- `@dependabot reopen` will reopen this PR if it is closed\r\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\r\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\r\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\r\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\r\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\r\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/shaka-project/shaka-player/network/alerts).\r\n\r\n</details>",
    "head_branch": "dependabot/npm_and_yarn/postcss-8.4.31",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(deps-dev): bump postcss from 8.4.6 to 8.4.31 (#5726)\n\nSigned-off-by: dependabot[bot] <support@github.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e89d6ca63ac8d88f129",
    "number": 5725,
    "body": null,
    "head_branch": "update-faq",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Update FAQ for v4.5 release (#5725)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e8ad6ca63ac8d88f12a",
    "number": 5724,
    "body": "lib/player.js was being updated separately because:\r\n\r\n1. Originally, we didn't have support for updating arbitrary files with release-please.\r\n2. When we did get that support in release-please, it would trash the \"-uncompiled\" tag we have in uncompiled mode.\r\n\r\nBy separating the uncompiled version string into two parts and using the extra-files feature of release-please, we can get the updater to preserve the \"-uncompiled\" tag and simplify the release workflow to only update the PR once per change instead of twice.",
    "head_branch": "simplify-version-updates",
    "is_a_fork": true,
    "comments": [
      "I tested this workflow change on my fork, and it was able to update the version correctly."
    ],
    "commit_messages": [
      "ci: Simplify release version updates (#5724)\n\nlib/player.js was being updated separately because:\r\n\r\n1. Originally, we didn't have support for updating arbitrary files with\r\nrelease-please.\r\n2. When we did get that support in release-please, it would trash the\r\n\"-uncompiled\" tag we have in uncompiled mode.\r\n\r\nBy separating the uncompiled version string into two parts and using the\r\nextra-files feature of release-please, we can get the updater to\r\npreserve the \"-uncompiled\" tag and simplify the release workflow to only\r\nupdate the PR once per change instead of twice."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e8bd6ca63ac8d88f12b",
    "number": 5722,
    "body": "Fix variable substitution in: AES-128 key and EXT-X-SESSION-DATA urls.\r\nFix to keep previous query params when using blocking playlist reload\r\nSimplifies and unifies URL management to allow Content Steering in the future",
    "head_branch": "hls-url-improvements",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 93.75%"
    ],
    "commit_messages": [
      "fix(HLS): Fix url management in HLS (#5722)\n\nFix variable substitution in: AES-128 key and EXT-X-SESSION-DATA urls.\r\nFix to keep previous query params when using blocking playlist reload\r\nSimplifies and unifies URL management to allow Content Steering in the\r\nfuture"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e8cd6ca63ac8d88f12c",
    "number": 5718,
    "body": null,
    "head_branch": "release-docs",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Update docs for v4.5 release (#5718)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e8dd6ca63ac8d88f12d",
    "number": 5717,
    "body": null,
    "head_branch": "readme",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Update README (#5717)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e8ed6ca63ac8d88f12e",
    "number": 5716,
    "body": "Resolves #5664 ",
    "head_branch": "issue/5664-segment-timeline-fix",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "A regression test has been added.",
      "Thanks!"
    ],
    "commit_messages": [
      "fix: seeking in segment timeline returns incorrect index (#5716)\n\nResolves #5664"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e8fd6ca63ac8d88f12f",
    "number": 5715,
    "body": null,
    "head_branch": "dash-tests",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Stop correctly DASH parser (#5715)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e90d6ca63ac8d88f130",
    "number": 5714,
    "body": null,
    "head_branch": "estimate-bandwidth-player-interface",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%"
    ],
    "commit_messages": [
      "feat: Add getBandwidthEstimate to the player interface for custom manifest parser (#5714)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e91d6ca63ac8d88f131",
    "number": 5712,
    "body": "Do not dispatch statechanged events unless there is an actual change. This fixes a stack overflow in the Cast proxy code triggered by statechanged events.",
    "head_branch": "fix-cast-stack-overflow",
    "is_a_fork": true,
    "comments": [
      "Fixing the bug was fast.  Figuring out how to write a regression test that fails without the fix... that took significantly longer.  😁 ",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix unreleased stack overflow on statechanged (#5712)\n\nDo not dispatch statechanged events unless there is an actual change.\r\nThis fixes a stack overflow in the Cast proxy code triggered by\r\nstatechanged events."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e92d6ca63ac8d88f132",
    "number": 5711,
    "body": null,
    "head_branch": "debug-workflows",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e93d6ca63ac8d88f133",
    "number": 5710,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5704",
    "head_branch": "content-steering",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 94.05%",
      "@theodab can you review it? Thanks!"
    ],
    "commit_messages": [
      "feat(DASH): Add support for Content Steering (#5710)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5704"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e94d6ca63ac8d88f134",
    "number": 5709,
    "body": null,
    "head_branch": "demo-ll",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(Demo): Simplify low latency filter (#5709)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e95d6ca63ac8d88f135",
    "number": 5708,
    "body": null,
    "head_branch": "apple-ll-stream",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(Demo): Fix url of \"Low Latency HLS Live\" asset (#5708)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e96d6ca63ac8d88f136",
    "number": 5707,
    "body": null,
    "head_branch": "bigint-fix",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(DASH): Fix bigint implementation (#5707)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e97d6ca63ac8d88f137",
    "number": 5706,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5703",
    "head_branch": "offline-tutorial",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Fix offline tutorial (#5706)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5703"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e97d6ca63ac8d88f138",
    "number": 5705,
    "body": null,
    "head_branch": "preload-without-uri",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 75.00%"
    ],
    "commit_messages": [
      "fix(HLS): Skip segments without duration and without partial segments (#5705)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e98d6ca63ac8d88f139",
    "number": 5699,
    "body": null,
    "head_branch": "cmcd-src",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(CMCD): Fix CMCD for some mimetypes in src= (#5699)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e99d6ca63ac8d88f13a",
    "number": 5696,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2093",
    "head_branch": "playback-rate-0",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 90.00%"
    ],
    "commit_messages": [
      "feat: Stop setting playbackRate to 0 to control buffering state (#5696)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2093"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e9ad6ca63ac8d88f13b",
    "number": 5695,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/1365",
    "head_branch": "player-events",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "Some tests fail but I think it is not because of this PR. @joeyparrish can you review it? (see: https://github.com/shaka-project/shaka-player/actions/runs/6350193501/attempts/6)",
      "It is suspicious that Chrome & Edge both failed to start on every platform.  It's certainly not caused by your changes.  Probably something happened on GitHub's VM images or in Chrome's releases to trigger this."
    ],
    "commit_messages": [
      "feat: Add KeyStatusChanged and UpdateState events (#5695)\n\nCloses https://github.com/shaka-project/shaka-player/issues/1365"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e9bd6ca63ac8d88f13c",
    "number": 5694,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5627",
    "head_branch": "cea-708-hls",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 60.00%",
      "@avelad is there any possibility of merging this to 3.3.x branch?"
    ],
    "commit_messages": [
      "fix(HLS): Fix display CEA-708 in HLS (#5694)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5627"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e9cd6ca63ac8d88f13d",
    "number": 5691,
    "body": null,
    "head_branch": "iconBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(demo): Added icons for new demo assets (#5691)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e9dd6ca63ac8d88f13e",
    "number": 5690,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5689",
    "head_branch": "ui-prefer-document-pip",
    "is_a_fork": true,
    "comments": [
      "LGTM",
      "@beaufortfrancois can you review the focus issues reported on https://github.com/shaka-project/shaka-player/issues/5689#issuecomment-1737748455 ? Thanks!",
      "Incremental code coverage: 71.43%"
    ],
    "commit_messages": [
      "feat(UI): Add config to preferDocumentPictureInPicture (#5690)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5689"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e9ed6ca63ac8d88f13f",
    "number": 5688,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5666",
    "head_branch": "ts-nalu-parsing",
    "is_a_fork": true,
    "comments": [
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=5688`\n",
      "Incremental code coverage: 85.29%"
    ],
    "commit_messages": [
      "fix: Fix NALU parsing in some HLS muxed live streams (#5688)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5666"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219e9fd6ca63ac8d88f140",
    "number": 5687,
    "body": null,
    "head_branch": "hls-presentation-delay",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix presentation delay for small live playlists (eg: 3-4 segments) (#5687)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea0d6ca63ac8d88f141",
    "number": 5686,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5684\r\n\r\nThis PR fixes two issues:\r\n- Fixes the duration of a video sample when there is only one pes packet.\r\n- When there is muxed content, in some TS segments there is not audio but the audio is declared in the PMT, so we have to add silence frames",
    "head_branch": "silence-frames",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 18.46%"
    ],
    "commit_messages": [
      "fix: Fix transmuxing of muxed content (#5686)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5684\r\n\r\nThis PR fixes two issues:\r\n- Fixes the duration of a video sample when there is only one pes\r\npacket.\r\n- When there is muxed content, in some TS segments there is not audio\r\nbut the audio is declared in the PMT, so we have to add silence frames"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea1d6ca63ac8d88f142",
    "number": 5683,
    "body": "The spec can be seen at https://github.com/w3c/media-source/issues/320\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/5271",
    "head_branch": "managed-media-source",
    "is_a_fork": true,
    "comments": [
      "@joeyparrish , should we polyfill ManagedMediaSource at https://github.com/shaka-project/shaka-player/blob/main/lib/polyfill/mediasource.js?",
      "Incremental code coverage: 72.46%",
      "> @joeyparrish , should we polyfill ManagedMediaSource at https://github.com/shaka-project/shaka-player/blob/main/lib/polyfill/mediasource.js?\r\n\r\nI don't believe so.  It should be a fallback.  If ManagedMediaSource exists, use that, otherwise, use MediaSource.  The polyfill is only needed at that lowest level IMO.",
      "@theodab @joeyparrish I have implemented all the specification, so it is ready to be reviewed. You can test it now with Safari 17 on macOS Sonoma or iPadOS.",
      "@joeyparrish friendly ping!"
    ],
    "commit_messages": [
      "feat: Use ManagedMediaSource when available (#5683)\n\nThe spec can be seen at https://github.com/w3c/media-source/issues/320\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/5271"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea2d6ca63ac8d88f143",
    "number": 5681,
    "body": "This is necessary because some Live streams change audio or video PID when there are ads.",
    "head_branch": "ts-pid-change",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Allow PID change in TsParser (#5681)\n\nThis is necessary because some Live streams change audio or video PID\r\nwhen there are ads."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea3d6ca63ac8d88f144",
    "number": 5679,
    "body": null,
    "head_branch": "mediatailor",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 40.43%",
      "Thanks @theodab !",
      "Any documentation for this?",
      "@cristian-atehortua I created https://github.com/shaka-project/shaka-player/pull/5803 to add a new tutorial for this.",
      "Thanks!"
    ],
    "commit_messages": [
      "feat(Ads): Add support for AWS Elemental MediaTailor (#5679)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea4d6ca63ac8d88f145",
    "number": 5678,
    "body": null,
    "head_branch": "hls-parsing-time",
    "is_a_fork": true,
    "comments": [
      "Note: We currently already have the same functionality in DASH, so we are only migrating the functionality to HLS.",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(HLS): Take into account the parsing time for manifest schedule update (#5678)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea5d6ca63ac8d88f146",
    "number": 5677,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5667",
    "head_branch": "hls-aes-128",
    "is_a_fork": true,
    "comments": [
      "This change depends on https://github.com/shaka-project/shaka-player/commit/96ae7f2fe614402d1ee410591eb86a2868796c38 so it's not possible cherry pick it to previous branches",
      "Incremental code coverage: 83.87%",
      "> This change depends on [96ae7f2](https://github.com/shaka-project/shaka-player/commit/96ae7f2fe614402d1ee410591eb86a2868796c38) so it's not possible cherry pick it to previous branches\r\n\r\nIt seems worth reimplementing in maintained branches if possible.  This bug would affect all those branches.",
      "@joeyparrish Then you have to migrate the changes of two files from https://github.com/shaka-project/shaka-player/commit/96ae7f2fe614402d1ee410591eb86a2868796c38 \r\n- lib/media/segment_reference.js\r\n- lib/media/streaming_engine.js"
    ],
    "commit_messages": [
      "fix(HLS): Support AES-128 in init segment according the RFC (#5677)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5667"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea6d6ca63ac8d88f147",
    "number": 5676,
    "body": null,
    "head_branch": "ts-h265-test",
    "is_a_fork": true,
    "comments": [
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=5676`\n",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Add H.265 in TS test (#5676)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea7d6ca63ac8d88f148",
    "number": 5675,
    "body": null,
    "head_branch": "dolby-edge",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Fix Dolby tests in Edge (#5675)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea8d6ca63ac8d88f149",
    "number": 5674,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5672",
    "head_branch": "cea-dash",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 75.00%"
    ],
    "commit_messages": [
      "fix: Fix creation of new Stream object for each manifest request in DASH Live when using CEA (#5674)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5672"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea9d6ca63ac8d88f14a",
    "number": 5673,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5669",
    "head_branch": "cue-mangled",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix: Fix some properties on the shaka.text.Cue that are mangled (#5673)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5669"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ea9d6ca63ac8d88f14b",
    "number": 5665,
    "body": "A localization system was added to the demo, in preparation for future localizations of the demo page.\r\nHowever, such further localizations were never added, and it seems likely that they will never be added.\r\nGiven that it will almost definitely never be used, the localization system has just become an annoyance that makes adding new features to the demo more difficult, so this removes the system entirely.",
    "head_branch": "removeDemoLocalizationBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(demo): Removed demo localization system (#5665)\n\nA localization system was added to the demo, in preparation for future localizations of the demo page.\r\nHowever, such further localizations were never added, and it seems likely that they will never be added.\r\nGiven that it will almost definitely never be used, the localization system has just become an annoyance that makes adding new features to the demo more difficult, so this removes the system entirely."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eaad6ca63ac8d88f14c",
    "number": 5663,
    "body": "This change makes WebVTT more similar to how nestedcues are managed in TTML.",
    "head_branch": "nestedcues-webvtt",
    "is_a_fork": true,
    "comments": [
      "I'll wait to pass all test to merge it. Thanks @theodab !",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "refactor(WebVTT): Refactor how nestedCues are handled in WebVTT (#5663)\n\nThis change makes WebVTT more similar to how nestedcues are managed in\r\nTTML."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eabd6ca63ac8d88f14d",
    "number": 5662,
    "body": "This reverts commit 56a4cea5789f15b5e78c9a5d8d0cb97eb542bafc.\r\n\r\nFixes https://github.com/shaka-project/shaka-player/issues/5661\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfix(WebVTT): Fix text displayed out of picture and with overlapping lines (#5662)\r\n\r\nThis reverts commit 56a4cea5, PR #5641\r\n\r\nFixes #5661\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "revert-webvtt",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "revert: \"fix(WebVTT): Fix wrong writing-mode in nested cues (#5641)\" (#5662)\n\nThis reverts commit 56a4cea5789f15b5e78c9a5d8d0cb97eb542bafc.\r\n\r\nFixes https://github.com/shaka-project/shaka-player/issues/5661"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eacd6ca63ac8d88f14e",
    "number": 5660,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.13](https://github.com/shaka-project/shaka-player/compare/v4.3.12...v4.3.13) (2023-10-04)\n\n\n### Bug Fixes\n\n* Allow PID change in TsParser ([#5681](https://github.com/shaka-project/shaka-player/issues/5681)) ([2fcc812](https://github.com/shaka-project/shaka-player/commit/2fcc8129db517ac41745785c70af3406a725c0b4))\n* **CMCD:** Fix CMCD for some mimetypes in src= ([#5699](https://github.com/shaka-project/shaka-player/issues/5699)) ([28bb5d1](https://github.com/shaka-project/shaka-player/commit/28bb5d139d2bbcfe5bb58b7691d9543868cce0be))\n* **Demo:** Fix url of \"Low Latency HLS Live\" asset ([#5708](https://github.com/shaka-project/shaka-player/issues/5708)) ([728cbfc](https://github.com/shaka-project/shaka-player/commit/728cbfc7b3b028cd5f9ba958e959c9a40234091b))\n* Fix creation of new Stream object for each manifest request in DASH Live when using CEA ([#5674](https://github.com/shaka-project/shaka-player/issues/5674)) ([d9223ee](https://github.com/shaka-project/shaka-player/commit/d9223eef8255e8ac698f23cd7115ef6a388e613c))\n* **HLS:** Fix audio and video out of sync ([#5658](https://github.com/shaka-project/shaka-player/issues/5658)) ([cb9789e](https://github.com/shaka-project/shaka-player/commit/cb9789e6ab084dd7ba77a232bb90f0fdb1c9bc53))\n* **HLS:** Fix display CEA-708 in HLS ([#5694](https://github.com/shaka-project/shaka-player/issues/5694)) ([b639b55](https://github.com/shaka-project/shaka-player/commit/b639b550b692e466c8513f2801d5a7c36b125643))\n* **HLS:** Fix presentation delay for small live playlists (eg: 3-4 segments) ([#5687](https://github.com/shaka-project/shaka-player/issues/5687)) ([ef827a0](https://github.com/shaka-project/shaka-player/commit/ef827a07abe5c0b6514a89d121294fc562d8c17f))\n* **HLS:** Skip segments without duration and without partial segments ([#5705](https://github.com/shaka-project/shaka-player/issues/5705)) ([96dfcc6](https://github.com/shaka-project/shaka-player/commit/96dfcc609ae40b64d79c27a4f75b34c212fc714d))\n* **HLS:** Support AES-128 in init segment according the RFC ([#5677](https://github.com/shaka-project/shaka-player/issues/5677)) ([d30c571](https://github.com/shaka-project/shaka-player/commit/d30c5719ba3e8ee5d53e02100178fdb8ab34df10))\n* **WebVTT:** Fix text displayed out of picture and with overlapping lines ([#5662](https://github.com/shaka-project/shaka-player/issues/5662)) ([ee898e9](https://github.com/shaka-project/shaka-player/commit/ee898e9eceb5fe6bbc27e72d11318962f7a574eb)), closes [#5661](https://github.com/shaka-project/shaka-player/issues/5661)\n\n\n### Performance Improvements\n\n* Optimization to resolve uris ([#5657](https://github.com/shaka-project/shaka-player/issues/5657)) ([0ad925b](https://github.com/shaka-project/shaka-player/commit/0ad925b9eadfe844ce65b341cab5403889786309))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.3.13 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.13 (#5660)\n\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eadd6ca63ac8d88f14f",
    "number": 5659,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.4.3](https://github.com/shaka-project/shaka-player/compare/v4.4.2...v4.4.3) (2023-10-04)\n\n\n### Bug Fixes\n\n* Allow PID change in TsParser ([#5681](https://github.com/shaka-project/shaka-player/issues/5681)) ([ac8bb85](https://github.com/shaka-project/shaka-player/commit/ac8bb85bd8b02d0654af9fc7749cae7071c7abc5))\n* **CMCD:** Fix CMCD for some mimetypes in src= ([#5699](https://github.com/shaka-project/shaka-player/issues/5699)) ([8829e1e](https://github.com/shaka-project/shaka-player/commit/8829e1eb21f66479a16bcf85df915be9dc0d8241))\n* **Demo:** Fix url of \"Low Latency HLS Live\" asset ([#5708](https://github.com/shaka-project/shaka-player/issues/5708)) ([d0dbed3](https://github.com/shaka-project/shaka-player/commit/d0dbed330ee00f33bfb0c6b077bddad1a104c0ec))\n* Fix creation of new Stream object for each manifest request in DASH Live when using CEA ([#5674](https://github.com/shaka-project/shaka-player/issues/5674)) ([fdc1e9f](https://github.com/shaka-project/shaka-player/commit/fdc1e9fe99cdf336fb3dc411b7174eba48acf5bb))\n* Fix some properties on the shaka.text.Cue that are mangled ([#5673](https://github.com/shaka-project/shaka-player/issues/5673)) ([c69e50f](https://github.com/shaka-project/shaka-player/commit/c69e50f508ffeb5108133e39acd60c36b45c788d))\n* **HLS:** Fix audio and video out of sync ([#5658](https://github.com/shaka-project/shaka-player/issues/5658)) ([7df352d](https://github.com/shaka-project/shaka-player/commit/7df352db25c3dc2c14315bb65fd0159b3c195528))\n* **HLS:** Fix display CEA-708 in HLS ([#5694](https://github.com/shaka-project/shaka-player/issues/5694)) ([ed1d954](https://github.com/shaka-project/shaka-player/commit/ed1d95433b21049c6daf0b24d6ded13f46130e94))\n* **HLS:** Fix presentation delay for small live playlists (eg: 3-4 segments) ([#5687](https://github.com/shaka-project/shaka-player/issues/5687)) ([10b03e7](https://github.com/shaka-project/shaka-player/commit/10b03e7b2c026fc2393a7244946feca5b7bebd1b))\n* **HLS:** Skip segments without duration and without partial segments ([#5705](https://github.com/shaka-project/shaka-player/issues/5705)) ([eedad19](https://github.com/shaka-project/shaka-player/commit/eedad19b3e121d117e6748cbf965d58f30db49ca))\n* **HLS:** Support AES-128 in init segment according the RFC ([#5677](https://github.com/shaka-project/shaka-player/issues/5677)) ([9d50f01](https://github.com/shaka-project/shaka-player/commit/9d50f01fbb4d958e347f623450438d526a338c2f))\n* seeking in segment timeline returns incorrect index ([#5716](https://github.com/shaka-project/shaka-player/issues/5716)) ([15b8da0](https://github.com/shaka-project/shaka-player/commit/15b8da05aa70ae73957c68d00c78528a0ec7deb9)), closes [#5664](https://github.com/shaka-project/shaka-player/issues/5664)\n* **WebVTT:** Fix text displayed out of picture and with overlapping lines ([#5662](https://github.com/shaka-project/shaka-player/issues/5662)) ([580b3f7](https://github.com/shaka-project/shaka-player/commit/580b3f7229cb033437d2f4285dfb108358f13afb)), closes [#5661](https://github.com/shaka-project/shaka-player/issues/5661)\n\n\n### Performance Improvements\n\n* Optimization to resolve uris ([#5657](https://github.com/shaka-project/shaka-player/issues/5657)) ([971b2a0](https://github.com/shaka-project/shaka-player/commit/971b2a0074ada35f1891d956d6ec9601ad1ece39))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.4.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.4.3 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.4.x): release 4.4.3 (#5659)\n\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eaed6ca63ac8d88f150",
    "number": 5658,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5584\r\nFixes https://github.com/shaka-project/shaka-player/issues/5013\r\nFixes https://github.com/shaka-project/shaka-player/issues/5397\r\n\r\ntimestampOffset calculation is no longer necessary in the HLS parser because we introduce recently some change in MediaSourceEngine to calculate the timestampOffset",
    "head_branch": "hls-video-audio-sync",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "> timestampOffset calculation is no longer necessary in the HLS parser because we introduce recently some change in MediaSourceEngine to calculate the timestampOffset\r\n\r\nWhich branches have that change?  Only those branches should get this fix cherry-picked.  This fix may break other branches.",
      "> > timestampOffset calculation is no longer necessary in the HLS parser because we introduce recently some change in MediaSourceEngine to calculate the timestampOffset\r\n> \r\n> Which branches have that change? Only those branches should get this fix cherry-picked. This fix may break other branches.\r\n\r\nOnly 4.3 and 4.4",
      "> > Which branches have that change? Only those branches should get this fix cherry-picked. This fix may break other branches.\r\n> \r\n> Only 4.3 and 4.4\r\n\r\nThis did not cherry-pick cleanly to v4.3.x, and I am not familiar with the change you're referencing.  Can you please reimplement this in a PR against v4.3.x if it's necessary?"
    ],
    "commit_messages": [
      "fix(HLS): Fix audio and video out of sync (#5658)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5584\r\nFixes https://github.com/shaka-project/shaka-player/issues/5013\r\nFixes https://github.com/shaka-project/shaka-player/issues/5397\r\n\r\ntimestampOffset calculation is no longer necessary in the HLS parser\r\nbecause we introduce recently some change in MediaSourceEngine to\r\ncalculate the timestampOffset"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eafd6ca63ac8d88f151",
    "number": 5657,
    "body": "Chained use of maps and reduce on legacy devices reduces performance. So if there is only one url to generate we can optimize performance.",
    "head_branch": "perf-optimization",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "perf: Optimization to resolve uris (#5657)\n\nChained use of maps and reduce on legacy devices reduces performance. So\r\nif there is only one url to generate we can optimize performance."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eb0d6ca63ac8d88f152",
    "number": 5656,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5622",
    "head_branch": "dash-aes-128",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 83.25%"
    ],
    "commit_messages": [
      "feat(DASH): Add support for AES-128 (#5656)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5622"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eb1d6ca63ac8d88f153",
    "number": 5655,
    "body": "This change is required in preparation for https://github.com/shaka-project/shaka-player/issues/5622",
    "head_branch": "dash-make-request",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore(DASH): Create makeNetworkRequest_ method (#5655)\n\nThis change is required in preparation for\r\nhttps://github.com/shaka-project/shaka-player/issues/5622"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eb2d6ca63ac8d88f154",
    "number": 5654,
    "body": "This change is required in preparation for https://github.com/shaka-project/shaka-player/issues/5622",
    "head_branch": "chore-aes-128",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 85.71%"
    ],
    "commit_messages": [
      "chore: Rename HLS_AES_128_* to AES_128_* (#5654)\n\nThis change is required in preparation for\r\nhttps://github.com/shaka-project/shaka-player/issues/5622"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eb3d6ca63ac8d88f155",
    "number": 5653,
    "body": "This change is required in preparation for https://github.com/shaka-project/shaka-player/issues/5622",
    "head_branch": "chore-hls-aes-128",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "chore: Rename hlsAes128Key to aes128Key (#5653)\n\nThis change is required in preparation for\r\nhttps://github.com/shaka-project/shaka-player/issues/5622"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eb4d6ca63ac8d88f156",
    "number": 5650,
    "body": "API: https://developer.mozilla.org/en-US/docs/Web/API/RemotePlayback\r\n\r\nChrome Status: https://chromestatus.com/feature/5778318691401728\r\n\r\nExamples: https://avayvod.github.io/remote-playback/test.html and https://beaufortfrancois.github.io/sandbox/media/remote-playback.html\r\n\r\nTested in Safari (iOS and macOS) and Chrome in Android\r\n\r\nAbout desktop support: https://bugs.chromium.org/p/chromium/issues/detail?id=728609",
    "head_branch": "remote-playback-api",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 85.71%",
      "How does this interact with the Cast button?  If a Cast receiver app ID is configured, and the Cast API is available, should we prefer that to remote, since it is more specific?\r\n\r\nI'll play around with the demo from Francois and see if I can figure out how it might fit best.",
      "> How does this interact with the Cast button? If a Cast receiver app ID is configured, and the Cast API is available, should we prefer that to remote, since it is more specific?\r\n\r\nI think we should prefer our cast integration, because this only works with src=\r\n\r\n",
      "I think it could work if the remote button is only shown when: (the playback is src= && the cast button is hidden).  The cast button is hidden IIRC when (there is no receiver ID || there are no receiver devices nearby).",
      "> I think it could work if the remote button is only shown when: (the playback is src= && the cast button is hidden). The cast button is hidden IIRC when (there is no receiver ID || there are no receiver devices nearby).\r\n\r\nAnd how do you want implement it? When there is no receiver ID it’s easy, but the second condition …",
      "@joeyparrish I implemented the logic to disable the button when we have a cast receiver.",
      "> You should list new UI buttons in `docs/tutorials/ui-customization.md`.\r\n\r\nDone!"
    ],
    "commit_messages": [
      "feat(UI): Add remote button with RemotePlayback API (#5650)\n\nAPI: https://developer.mozilla.org/en-US/docs/Web/API/RemotePlayback\r\n\r\nChrome Status: https://chromestatus.com/feature/5778318691401728\r\n\r\nExamples: https://avayvod.github.io/remote-playback/test.html and\r\nhttps://beaufortfrancois.github.io/sandbox/media/remote-playback.html\r\n\r\nTested in Safari (iOS and macOS) and Chrome in Android\r\n\r\nAbout desktop support:\r\nhttps://bugs.chromium.org/p/chromium/issues/detail?id=728609"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eb5d6ca63ac8d88f157",
    "number": 5647,
    "body": null,
    "head_branch": "docs-fairplay-nagra",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Add Nagra to FairPlay tutorial (#5647)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eb6d6ca63ac8d88f158",
    "number": 5646,
    "body": null,
    "head_branch": "vertical-rendering",
    "is_a_fork": true,
    "comments": [
      "TTML\r\n```\r\n<tt xmlns=\"http://www.w3.org/ns/ttml\"\r\n    xmlns:ttp=\"http://www.w3.org/ns/ttml#parameter\"\r\n    xmlns:tts=\"http://www.w3.org/ns/ttml#styling\"\r\n    xmlns:ttm=\"http://www.w3.org/ns/ttml#metadata\"\r\n    xmlns:xml=\"http://www.w3.org/XML/1998/namespace\">\r\n<head>\r\n  <layout>\r\n    <region\r\n      xml:id=\"vert_right\" \r\n      tts:extent=\"100% 100%\" tts:origin=\"2% 5%\"\r\n      tts:writingMode=\"tbrl\"/>\r\n    <region \r\n      xml:id=\"bottom\"\r\n      tts:extent=\"100% 100%\" tts:origin=\"0% 40%\"\r\n      tts:displayAlign=\"center\"/>\r\n  </layout>\r\n</head>\r\n<body>\r\n  <div>\r\n    <p begin=\"00:00:01.000\" end=\"00:00:04.000\" region=\"vert_right\">グーグルは<span tts:textCombine=\"all\">1998</span>年に<span tts:ruby=\"container\"><span tts:ruby=\"base\">創業</span><span tts:ruby=\"text\">そうぎょう</span></span>しました</p>\r\n    <p begin=\"00:00:05.000\" end=\"00:00:09.000\" region=\"bottom\">グーグルは1998年に<span tts:ruby=\"container\"><span tts:ruby=\"base\">創業</span><span tts:ruby=\"text\">そうぎょう</span></span>しました</p>\r\n  </div>\r\n</body>\r\n</tt>\r\n```\r\n\r\nBefore:\r\n\r\n![Captura de pantalla 2023-09-12 a las 16 52 52](https://github.com/shaka-project/shaka-player/assets/8983024/61c8fe50-b4e0-4045-82da-88236ffc56c8)\r\n\r\nAfter:\r\n\r\n![Captura de pantalla 2023-09-12 a las 16 52 31](https://github.com/shaka-project/shaka-player/assets/8983024/9bc60e86-389b-46c8-8247-4c35ead59004)\r\n",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(TTML): Fix wrong writing-mode in nested cues (#5646)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eb7d6ca63ac8d88f159",
    "number": 5645,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/2853",
    "head_branch": "ttml-tts-ruby",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(TTML): Add support to tts:ruby (#5645)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/2853"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eb8d6ca63ac8d88f15a",
    "number": 5644,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/2853",
    "head_branch": "ttml-tts-textCombine",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(TTML): Add support to tts:textCombine (#5644)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/2853"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eb9d6ca63ac8d88f15b",
    "number": 5643,
    "body": null,
    "head_branch": "hls-subtitles",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 98.21%"
    ],
    "commit_messages": [
      "fix(HLS): Show WebVTT subtitles with X-TIMESTAMP-MAP in segments mode (#5643)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ebad6ca63ac8d88f15c",
    "number": 5642,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/2853",
    "head_branch": "webvtt-ruby-tags",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 90.00%"
    ],
    "commit_messages": [
      "feat(WebVTT): Add support to ruby, rt, rp html tags (#5642)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/2853"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ebbd6ca63ac8d88f15d",
    "number": 5641,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4765",
    "head_branch": "writing-mode-webvtt",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(WebVTT): Fix wrong writing-mode in nested cues (#5641)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4765"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ebcd6ca63ac8d88f15e",
    "number": 5638,
    "body": "closes [issues/5636](https://github.com/shaka-project/shaka-player/issues/5636)",
    "head_branch": "feat/streamtype-event",
    "is_a_fork": true,
    "comments": [
      "It seems that it is the same as https://github.com/shaka-project/shaka-player/commit/b16d2f0bf3691ef7cc2de4eea095df21814a2027",
      "Incremental code coverage: 100.00%",
      "> It seems that it is the same as [b16d2f0](https://github.com/shaka-project/shaka-player/commit/b16d2f0bf3691ef7cc2de4eea095df21814a2027)\r\n\r\nYes I agree it is. ManifestUpdated also has isLive flag, which is what I needed. Since it is duplicate, we can close mine."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ebdd6ca63ac8d88f15f",
    "number": 5637,
    "body": null,
    "head_branch": "feat/streamtype-event",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ebed6ca63ac8d88f160",
    "number": 5635,
    "body": "Fixes #5634 ",
    "head_branch": "fix-unsupported-scheme-faq-entry",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5635/checks?check_run_id=16686466211) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request."
    ],
    "commit_messages": [
      "docs: Fix registerScheme snippet (#5635)\n\nFixes #5634\r\n\r\nCo-authored-by: Loïc Raux <loicraux@gmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ebfd6ca63ac8d88f161",
    "number": 5633,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/2853",
    "head_branch": "text-combine-upright",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(WebVTT): Add support to text-combine-upright (#5633)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/2853"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec0d6ca63ac8d88f162",
    "number": 5632,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/4446",
    "head_branch": "subtitle-line-0",
    "is_a_fork": true,
    "comments": [
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=5632`\n",
      "Incremental code coverage: 100.00%",
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=5632`\n"
    ],
    "commit_messages": [
      "fix(WebVTT): Fix support for line:0 vertical alignment (#5632)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/4446"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec1d6ca63ac8d88f163",
    "number": 5631,
    "body": "Closes: https://github.com/shaka-project/shaka-player/issues/5335\r\nCloses: https://github.com/shaka-project/shaka-player/issues/5101",
    "head_branch": "abr-restrictTo-improvements",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 28.21%",
      "@avelad hi, in the `4.5.0` version only low track selected for this manifest (there is no any changes when I changed my ethernet throttling):\r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<MPD xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"urn:mpeg:dash:schema:mpd:2011\" xmlns:cenc=\"urn:mpeg:cenc:2013\" xsi:schemaLocation=\"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd\" type=\"static\" minBufferTime=\"PT30S\" profiles=\"urn:mpeg:dash:profile:isoff-main:2011\" mediaPresentationDuration=\"PT5M13.792S\">\r\n  <Period start=\"PT0S\" duration=\"PT5M13.792S\" id=\"1\">\r\n    <AdaptationSet mimeType=\"video/mp4\" frameRate=\"60000/1001\" segmentAlignment=\"true\" subsegmentAlignment=\"true\" startWithSAP=\"1\" subsegmentStartsWithSAP=\"1\" bitstreamSwitching=\"false\">\r\n      <Representation id=\"1\" width=\"1920\" height=\"1080\" bandwidth=\"8000000\" codecs=\"avc1.64002a\">\r\n        <BaseURL>ducks_8000kbps.mp4</BaseURL>\r\n        <SegmentBase indexRange=\"761-2684\">\r\n          <Initialization range=\"0-760\"/>\r\n        </SegmentBase>\r\n      </Representation>\r\n      <Representation id=\"2\" width=\"1920\" height=\"1080\" bandwidth=\"4000000\" codecs=\"avc1.64002a\">\r\n        <BaseURL>ducks_4000kbps.mp4</BaseURL>\r\n        <SegmentBase indexRange=\"761-2684\">\r\n          <Initialization range=\"0-760\"/>\r\n        </SegmentBase>\r\n      </Representation>\r\n      <Representation id=\"3\" width=\"1920\" height=\"1080\" bandwidth=\"1200000\" codecs=\"avc1.64002a\">\r\n        <BaseURL>ducks_1200kbps.mp4</BaseURL>\r\n        <SegmentBase indexRange=\"761-2684\">\r\n          <Initialization range=\"0-760\"/>\r\n        </SegmentBase>\r\n      </Representation>\r\n      <Representation id=\"4\" width=\"1920\" height=\"1080\" bandwidth=\"400000\" codecs=\"avc1.64002a\">\r\n        <BaseURL>ducks_400kbps.mp4</BaseURL>\r\n        <SegmentBase indexRange=\"760-2683\">\r\n          <Initialization range=\"0-759\"/>\r\n        </SegmentBase>\r\n      </Representation>\r\n    </AdaptationSet>\r\n    <AdaptationSet mimeType=\"audio/mp4\" lang=\"und\" segmentAlignment=\"0\">\r\n      <Representation id=\"5\" bandwidth=\"96000\" audioSamplingRate=\"48000\" codecs=\"mp4a.40.2\">\r\n        <BaseURL>ducks_sd_2.mp4</BaseURL>\r\n        <SegmentBase indexRange=\"658-2581\">\r\n          <Initialization range=\"0-657\"/>\r\n        </SegmentBase>\r\n        <AudioChannelConfiguration schemeIdUri=\"urn:mpeg:dash:23003:3:audio_channel_configuration:2011\" value=\"2\"/>\r\n      </Representation>\r\n    </AdaptationSet>\r\n  </Period>\r\n</MPD>\r\n```\r\n\r\nBut when I switched back to the `4.4.3` version the ABR working correctly for this manifest. What am I doing wrong?\r\n\r\nFYI @theodab @joeyparrish \r\n"
    ],
    "commit_messages": [
      "feat(ABR): Allow some downscale when use restrictToElementSize or restrictToScreenSize (#5631)\n\nCloses: https://github.com/shaka-project/shaka-player/issues/5335\r\nCloses: https://github.com/shaka-project/shaka-player/issues/5101"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec2d6ca63ac8d88f164",
    "number": 5630,
    "body": null,
    "head_branch": "display-align",
    "is_a_fork": true,
    "comments": [
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=5630`\n",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Compute correctly the positionAlign in UITextDisplayer (#5630)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec2d6ca63ac8d88f165",
    "number": 5629,
    "body": "Close https://github.com/shaka-project/shaka-player/issues/5617",
    "head_branch": "ui-pip",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 33.33%",
      "> Does this PR work properly if we re-configure the UI mid-playback to change the value of `preferDocumentPictureInPicture`? It seems like in that case, it could potentially allow users to have both types of PiP active at the same time, since we stop detecting normal PiP if document PiP is enabled.\r\n\r\nYou're right, I'm going to delete the config and rethink it in the future."
    ],
    "commit_messages": [
      "feat(UI): Add PiP function to controls (#5629)\n\nClose https://github.com/shaka-project/shaka-player/issues/5617"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec3d6ca63ac8d88f166",
    "number": 5625,
    "body": "Before we only tried to deflake nightly lab test runs, not manual lab test runs or PR tests.  This expands the use to all lab and PR tests.",
    "head_branch": "expand-deflake-rules",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Expand deflaking to all lab test and PR test runs (#5625)\n\nBefore we only tried to deflake nightly lab test runs, not manual lab\r\ntest runs or PR tests. This expands the use to all lab and PR tests."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec4d6ca63ac8d88f167",
    "number": 5623,
    "body": "We declare shaka.util.Error to extend the native Error, but only supplied a message field in uncompiled and debug modes.  This broke the Jasmine test framework when it tried to extract error message information from a compiled-mode shaka.util.Error object.\r\n\r\nNow we always supply a message object, and merely skip the fancy enum formatting in compiled mode.",
    "head_branch": "fix-error-formatting",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix compiled-mode error formatting (#5623)\n\nWe declare shaka.util.Error to extend the native Error, but only supplied a message field in uncompiled and debug modes.  This broke the Jasmine test framework when it tried to extract error message information from a compiled-mode shaka.util.Error object.\r\n\r\nNow we always supply a message object, and merely skip the fancy enum formatting in compiled mode."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec5d6ca63ac8d88f168",
    "number": 5621,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4337\r\n\r\nOnly supported on browsers with support to BigInt",
    "head_branch": "dash-$time$-large-timescale",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 82.35%"
    ],
    "commit_messages": [
      "feat(DASH): Allow the playback of DASH with $time$ and large timescale value (#5621)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4337\r\n\r\nOnly supported on browsers with support to BigInt"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec6d6ca63ac8d88f169",
    "number": 5620,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5461",
    "head_branch": "dash-audio-groups",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(DASH): Add new config to prevent mixing of audio representations from different adaptation sets (#5620)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5461"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec7d6ca63ac8d88f16a",
    "number": 5619,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5614",
    "head_branch": "bug-switching-audio-tracks",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 66.67%"
    ],
    "commit_messages": [
      "fix(DASH): Fix race condition error while switching audio tracks (#5619)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5614"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec8d6ca63ac8d88f16b",
    "number": 5618,
    "body": "Specify the explicit path to microsoft-edge on Linux if found, to work around https://github.com/MicrosoftEdge/EdgeWebDriver/issues/102#issuecomment-1710724173\r\n\r\nThis also incorporates\r\nhttps://github.com/shaka-project/webdriver-installer/pull/35, https://github.com/shaka-project/karma-local-wd-launcher/pull/60, and https://github.com/shaka-project/karma-local-wd-launcher/pull/62 to revert earlier workarounds and apply new ones for local test runs.",
    "head_branch": "workaround-edgedriver-bug",
    "is_a_fork": true,
    "comments": [
      "Oops, this isn't working yet.  I seem to have a platform-specific exception in karma-local-wd-launcher.",
      "Fix in https://github.com/shaka-project/karma-local-wd-launcher/pull/62",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Work around msedgedriver 115+ bug (#5618)\n\nSpecify the explicit path to microsoft-edge on Linux if found, to work around https://github.com/MicrosoftEdge/EdgeWebDriver/issues/102#issuecomment-1710724173\r\n\r\nThis also incorporates\r\nhttps://github.com/shaka-project/webdriver-installer/pull/35, https://github.com/shaka-project/karma-local-wd-launcher/pull/60, and https://github.com/shaka-project/karma-local-wd-launcher/pull/62 to revert earlier workarounds and apply new ones for local test runs."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ec9d6ca63ac8d88f16c",
    "number": 5616,
    "body": null,
    "head_branch": "ts-video-info-for-hvc",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 17.47%"
    ],
    "commit_messages": [
      "feat(HLS): Get the correct video info for TS segments with H.265 (#5616)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ecad6ca63ac8d88f16d",
    "number": 5615,
    "body": null,
    "head_branch": "improve-ts-parser",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 57.69%"
    ],
    "commit_messages": [
      "fix: Improve TsParse to avoid parsing errors (#5615)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ecbd6ca63ac8d88f16e",
    "number": 5613,
    "body": "Reverts shaka-project/shaka-player#5365:  \"feat(UI): Use Intl.DisplayNames to show the language name\"\r\n\r\nOn the Google TV Chromecast just added to the lab, Intl.DisplayNames is returning the input as output again for some languages.  For example, instead of `en` => `English`, we get `en` => `en`.  Same for `fr`.  Oddly, it works for some others, such as `zh`.\r\n\r\nWe can follow up with a change that either avoids Google TV or that falls back to the internal map when Intl.DisplayNames returns its input as output.",
    "head_branch": "revert-5365-international-languages",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(UI): Fix broken language names on Google TV (#5613)\n\nReverts shaka-project/shaka-player#5365:  \"feat(UI): Use Intl.DisplayNames to show the language name\"\r\n\r\nOn the Google TV Chromecast just added to the lab, Intl.DisplayNames is returning the input as output again for some languages.  For example, instead of `en` => `English`, we get `en` => `en`.  Same for `fr`.  Oddly, it works for some others, such as `zh`.\r\n\r\nWe can follow up with a change that either avoids Google TV or that falls back to the internal map when Intl.DisplayNames returns its input as output."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eccd6ca63ac8d88f16f",
    "number": 5612,
    "body": null,
    "head_branch": "new-lab-chromecast",
    "is_a_fork": true,
    "comments": [
      "@shaka-bot test ce",
      "@avelad: Lab tests started with arguments:\n - `pr=5612`\n - `browser_filter=Tizen ChromecastUltra ChromecastGTV ChromeAndroid`\n",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Add Chromecast GTV device to the lab (#5612)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ecdd6ca63ac8d88f170",
    "number": 5611,
    "body": null,
    "head_branch": "transmuxer-ts-h265",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 11.95%",
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=5611`\n",
      "@avelad, are you happy with this one now?  I'll start review now.",
      "> @avelad, are you happy with this one now? I'll start review now.\r\n\r\nYes I’m happy with it now "
    ],
    "commit_messages": [
      "feat: Add H.265 TS transmuxer (#5611)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eced6ca63ac8d88f171",
    "number": 5610,
    "body": null,
    "head_branch": "cea-ts-h265",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 79.59%"
    ],
    "commit_messages": [
      "feat(CEA): Parse CEA from TS with H.265 (#5610)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ecfd6ca63ac8d88f172",
    "number": 5608,
    "body": "This avoids the implied \"latest\" tag being added to each and every release by adding explicit, branch-derived tags to each release, then setting \"latest\" explicitly based on the highest release number so far.\r\n\r\nSee https://github.com/shaka-project/shaka-player/issues/5599#issuecomment-1707047101",
    "head_branch": "npm-publish-tags",
    "is_a_fork": true,
    "comments": [
      "Tested by doing a dry run of the npm commands on my fork.  (Prefixed each \"npm\" with \"echo\" and ran the workflows.)",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Publish NPM tags explicitly (#5608)\n\nThis avoids the implied \"latest\" tag being added to each and every\r\nrelease by adding explicit, branch-derived tags to each release, then\r\nsetting \"latest\" explicitly based on the highest release number so far.\r\n\r\nSee\r\nhttps://github.com/shaka-project/shaka-player/issues/5599#issuecomment-1707047101"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed0d6ca63ac8d88f173",
    "number": 5607,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.12](https://github.com/shaka-project/shaka-player/compare/v4.3.11...v4.3.12) (2023-09-13)\n\n\n### Bug Fixes\n\n* com.apple.fps should work with the default initDataTransform when using legacy Apple Media Keys ([#5603](https://github.com/shaka-project/shaka-player/issues/5603)) ([8017636](https://github.com/shaka-project/shaka-player/commit/8017636821c030822cf426bb8d494246c372cb93))\n* Compute correctly the positionAlign in UITextDisplayer ([#5630](https://github.com/shaka-project/shaka-player/issues/5630)) ([154131a](https://github.com/shaka-project/shaka-player/commit/154131a81c57d8866499676c7c68683f807dfac5))\n* **Demo:** Allow com.apple.fps.1_0 in the custom DRM System field ([#5600](https://github.com/shaka-project/shaka-player/issues/5600)) ([4853af8](https://github.com/shaka-project/shaka-player/commit/4853af8f39a92a57c3e2f5f899a01e76e130c4df))\n* fix preferred track selection on Safari ([#5601](https://github.com/shaka-project/shaka-player/issues/5601)) ([a85174a](https://github.com/shaka-project/shaka-player/commit/a85174a667ee20451742e1acd8d9e89262a4c51e))\n* **TTML:** Fix wrong writing-mode in nested cues ([#5646](https://github.com/shaka-project/shaka-player/issues/5646)) ([e125e53](https://github.com/shaka-project/shaka-player/commit/e125e539cda726cd9c2674211246673008d3fda0))\n* **WebVTT:** Fix support for line:0 vertical alignment ([#5632](https://github.com/shaka-project/shaka-player/issues/5632)) ([5074de7](https://github.com/shaka-project/shaka-player/commit/5074de721f2669c70054a970526cffea295567c5))\n* **WebVTT:** Fix wrong writing-mode in nested cues ([#5641](https://github.com/shaka-project/shaka-player/issues/5641)) ([ba9a852](https://github.com/shaka-project/shaka-player/commit/ba9a852fc68adf0081e5c9d921bd374404113e34))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.3.12 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.12 (#5607)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed1d6ca63ac8d88f174",
    "number": 5606,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.4.2](https://github.com/shaka-project/shaka-player/compare/v4.4.1...v4.4.2) (2023-09-13)\n\n\n### Bug Fixes\n\n* com.apple.fps should work with the default initDataTransform when using legacy Apple Media Keys ([#5603](https://github.com/shaka-project/shaka-player/issues/5603)) ([1a6fcf7](https://github.com/shaka-project/shaka-player/commit/1a6fcf71bc27b37ca44dc2dabdf5e4608a12dea4))\n* Compute correctly the positionAlign in UITextDisplayer ([#5630](https://github.com/shaka-project/shaka-player/issues/5630)) ([b19c5e7](https://github.com/shaka-project/shaka-player/commit/b19c5e720882dd9211f9455f12dff0485b121175))\n* **DASH:** Fix race condition error while switching audio tracks ([#5619](https://github.com/shaka-project/shaka-player/issues/5619)) ([c140ea3](https://github.com/shaka-project/shaka-player/commit/c140ea3d3e5550e1e89e7e0ad8fc50d637c0ed57))\n* **Demo:** Allow com.apple.fps.1_0 in the custom DRM System field ([#5600](https://github.com/shaka-project/shaka-player/issues/5600)) ([30597ed](https://github.com/shaka-project/shaka-player/commit/30597ed5d9f64c5ea56fc70043b46a8f8fdd774d))\n* Fix compiled-mode error formatting ([#5623](https://github.com/shaka-project/shaka-player/issues/5623)) ([838cb16](https://github.com/shaka-project/shaka-player/commit/838cb160653692c378afda9ec77b8fbc996cfd56))\n* fix preferred track selection on Safari ([#5601](https://github.com/shaka-project/shaka-player/issues/5601)) ([0e4a021](https://github.com/shaka-project/shaka-player/commit/0e4a02154ee4588c88e7526eac841aca46902c4f))\n* Fix transmuxed audio timestamps ([#5595](https://github.com/shaka-project/shaka-player/issues/5595)) ([258a91f](https://github.com/shaka-project/shaka-player/commit/258a91f2b70da7267067800e5e571a48f5c17be2))\n* **HLS:** Get the correct video codec for TS segments ([#5598](https://github.com/shaka-project/shaka-player/issues/5598)) ([0020afe](https://github.com/shaka-project/shaka-player/commit/0020afe02ef961581cfdcefbc412d7ae454a8128))\n* **HLS:** Show WebVTT subtitles with X-TIMESTAMP-MAP in segments mode ([#5643](https://github.com/shaka-project/shaka-player/issues/5643)) ([58298e2](https://github.com/shaka-project/shaka-player/commit/58298e24758c27a1fa409246098e3c186a0ab1e4))\n* Improve TsParse to avoid parsing errors ([#5615](https://github.com/shaka-project/shaka-player/issues/5615)) ([c57bb6f](https://github.com/shaka-project/shaka-player/commit/c57bb6f89081c0492dbc75a9b7c1ae7580caf0a7))\n* **TTML:** Fix wrong writing-mode in nested cues ([#5646](https://github.com/shaka-project/shaka-player/issues/5646)) ([521c239](https://github.com/shaka-project/shaka-player/commit/521c2398f2503b04be9f79ed62fb17ecb8d000d1))\n* **UI:** Fix broken language names on Google TV ([#5613](https://github.com/shaka-project/shaka-player/issues/5613)) ([4a84d8e](https://github.com/shaka-project/shaka-player/commit/4a84d8e25250871c3e4cda967b13ee80fe371913))\n* **WebVTT:** Fix support for line:0 vertical alignment ([#5632](https://github.com/shaka-project/shaka-player/issues/5632)) ([14cdc11](https://github.com/shaka-project/shaka-player/commit/14cdc11968e0e7782a9924a9a9be84882a031806))\n* **WebVTT:** Fix wrong writing-mode in nested cues ([#5641](https://github.com/shaka-project/shaka-player/issues/5641)) ([8a7e32e](https://github.com/shaka-project/shaka-player/commit/8a7e32e111fbab76e5989a7df8ea8efc00955eb3))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.4.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.4.2 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.4.x): release 4.4.2 (#5606)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed2d6ca63ac8d88f175",
    "number": 5605,
    "body": "In #5588 we switched off one part of using a fork for release PRs, but not every part.  That caused player.js not to be updated in release PRs, which broke NPM releases.\r\n\r\nThis fixes the issue by removing other references to the shaka-bot fork.\r\n\r\nCloses #5599",
    "head_branch": "fix-release-workflow",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Fix version update in release workflow (#5605)\n\nIn #5588 we switched off one part of using a fork for release PRs, but\r\nnot every part. That caused player.js not to be updated in release PRs,\r\nwhich broke NPM releases.\r\n\r\nThis fixes the issue by removing other references to the shaka-bot fork.\r\n\r\nCloses #5599"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed3d6ca63ac8d88f176",
    "number": 5603,
    "body": null,
    "head_branch": "fairplay-default",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: com.apple.fps should work with the default initDataTransform when using legacy Apple Media Keys (#5603)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed4d6ca63ac8d88f177",
    "number": 5602,
    "body": null,
    "head_branch": "manifest-updated-event",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 88.89%"
    ],
    "commit_messages": [
      "feat: Add manifestupdated event (#5602)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed5d6ca63ac8d88f178",
    "number": 5601,
    "body": "Preferred track selection was implemented differently for MSE and native playback. In fact, native playback even had different implementations for audio and text. It leads to inconsistencies during track selection, i.e. if track language contains locale, but language preference not, on MSE we're looking for closest locale and on src= we're making direct string comparison which leads to different results.\r\nTo unify that, both MSE and native will now use `StreamUtils.filterStreamsByLanguageAndRole()` to find matching track. This method is designed to use on `shaka.extern.Stream` but luckily it uses the very same fields as defined in `shaka.extern.Track` so we can use it without major changes.\r\nMoreover, using this more robust method also allows us to get rid of double-selection workaround used so far. Observe that we were first selecting track without preferred role and then with preferred role.",
    "head_branch": "wt-safari-pref-track-fix",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 58.82%",
      "Well done, and thank you!"
    ],
    "commit_messages": [
      "fix: fix preferred track selection on Safari (#5601)\n\nPreferred track selection was implemented differently for MSE and native\r\nplayback. In fact, native playback even had different implementations\r\nfor audio and text. It leads to inconsistencies during track selection,\r\ni.e. if track language contains locale, but language preference not, on\r\nMSE we're looking for closest locale and on src= we're making direct\r\nstring comparison which leads to different results.\r\nTo unify that, both MSE and native will now use\r\n`StreamUtils.filterStreamsByLanguageAndRole()` to find matching track.\r\nThis method is designed to use on `shaka.extern.Stream` but luckily it\r\nuses the very same fields as defined in `shaka.extern.Track` so we can\r\nuse it without major changes.\r\nMoreover, using this more robust method also allows us to get rid of\r\ndouble-selection workaround used so far. Observe that we were first\r\nselecting track without preferred role and then with preferred role."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed5d6ca63ac8d88f179",
    "number": 5600,
    "body": null,
    "head_branch": "legacy-fairplay-demo",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(Demo): Allow com.apple.fps.1_0 in the custom DRM System field (#5600)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed6d6ca63ac8d88f17a",
    "number": 5598,
    "body": null,
    "head_branch": "hls-ts-video-codec",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 76.74%"
    ],
    "commit_messages": [
      "fix(HLS): Get the correct video codec for TS segments (#5598)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed7d6ca63ac8d88f17b",
    "number": 5596,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.5.0](https://github.com/shaka-project/shaka-player/compare/v4.4.0...v4.5.0) (2023-10-04)\n\n\n### Features\n\n* **ABR:** Allow some downscale when use restrictToElementSize or restrictToScreenSize ([#5631](https://github.com/shaka-project/shaka-player/issues/5631)) ([cad1ac8](https://github.com/shaka-project/shaka-player/commit/cad1ac82837123282248a0766147390d5c21bcb9))\n* Add getBandwidthEstimate to the player interface for custom manifest parser ([#5714](https://github.com/shaka-project/shaka-player/issues/5714)) ([1271a18](https://github.com/shaka-project/shaka-player/commit/1271a18fec65551508a734615c9c1619ebd87e04))\n* Add H.265 TS transmuxer ([#5611](https://github.com/shaka-project/shaka-player/issues/5611)) ([3c2c095](https://github.com/shaka-project/shaka-player/commit/3c2c0955cbd230f2360e2fb9d82e59cb19dab591))\n* Add KeyStatusChanged and UpdateState events ([#5695](https://github.com/shaka-project/shaka-player/issues/5695)) ([2f97fa7](https://github.com/shaka-project/shaka-player/commit/2f97fa7ee3497261af038046f1de14095c6d4481))\n* Add manifestupdated event ([#5602](https://github.com/shaka-project/shaka-player/issues/5602)) ([b16d2f0](https://github.com/shaka-project/shaka-player/commit/b16d2f0bf3691ef7cc2de4eea095df21814a2027))\n* Add TS transmuxer for muxed content ([#5571](https://github.com/shaka-project/shaka-player/issues/5571)) ([7df3321](https://github.com/shaka-project/shaka-player/commit/7df33212726d0040ba5d5a4cc0c049f174a06c83))\n* **Ads:** Add support for AWS Elemental MediaTailor ([#5679](https://github.com/shaka-project/shaka-player/issues/5679)) ([cf5a72b](https://github.com/shaka-project/shaka-player/commit/cf5a72bb513ff74e5b0f8ca7fd334313cd78370d))\n* **CEA:** Parse CEA from TS with H.265 ([#5610](https://github.com/shaka-project/shaka-player/issues/5610)) ([54eaf63](https://github.com/shaka-project/shaka-player/commit/54eaf6371aeb2fb8b860d52b75a0c27555aaaaca))\n* **DASH:** Add new config to prevent mixing of audio representations from different adaptation sets ([#5620](https://github.com/shaka-project/shaka-player/issues/5620)) ([0bbb470](https://github.com/shaka-project/shaka-player/commit/0bbb47025e347d321a9d764666a355b2d2a485a5))\n* **DASH:** Add support for AES-128 ([#5656](https://github.com/shaka-project/shaka-player/issues/5656)) ([96ae7f2](https://github.com/shaka-project/shaka-player/commit/96ae7f2fe614402d1ee410591eb86a2868796c38))\n* **DASH:** Allow the playback of DASH with $time$ and large timescale value ([#5621](https://github.com/shaka-project/shaka-player/issues/5621)) ([4a1c96e](https://github.com/shaka-project/shaka-player/commit/4a1c96e630de1ee259ed3a5ee582dddd0f844e04))\n* **demo:** Added icons for new demo assets ([#5691](https://github.com/shaka-project/shaka-player/issues/5691)) ([12400b1](https://github.com/shaka-project/shaka-player/commit/12400b160b51c7ea87ecb9e8bb77ae481bb707d7))\n* Enable codec switching ([#5470](https://github.com/shaka-project/shaka-player/issues/5470)) ([0078137](https://github.com/shaka-project/shaka-player/commit/0078137d1bd6bd471b5e1405e27d7fc76b5668ac))\n* **HLS:** Get the correct video info for TS segments with H.265 ([#5616](https://github.com/shaka-project/shaka-player/issues/5616)) ([e191c75](https://github.com/shaka-project/shaka-player/commit/e191c755167abd8658e9e3aae35cd99d07d15ee6))\n* **HLS:** Take into account the parsing time for manifest schedule update ([#5678](https://github.com/shaka-project/shaka-player/issues/5678)) ([f7e33a3](https://github.com/shaka-project/shaka-player/commit/f7e33a3ba529e13052bfaa8762b78379bb8c8e03))\n* Migration of LCEVC DIL (Decoder Integration Layer) to LCEVC Dec (Decoder) ([#5459](https://github.com/shaka-project/shaka-player/issues/5459)) ([c1e18d3](https://github.com/shaka-project/shaka-player/commit/c1e18d358361392332372760b90c724047cf1310))\n* **TTML:** Add support to tts:ruby ([#5645](https://github.com/shaka-project/shaka-player/issues/5645)) ([9fd220e](https://github.com/shaka-project/shaka-player/commit/9fd220e73f7ef0e9b5774717347b2d3fa7590e99))\n* **TTML:** Add support to tts:textCombine ([#5644](https://github.com/shaka-project/shaka-player/issues/5644)) ([73a3bd9](https://github.com/shaka-project/shaka-player/commit/73a3bd931ebc7c9690f3d0aefb0639f2230fa594))\n* **UI:** Add config to preferDocumentPictureInPicture ([#5690](https://github.com/shaka-project/shaka-player/issues/5690)) ([025502a](https://github.com/shaka-project/shaka-player/commit/025502a70c885216b9bbc063025ae80a72780fe6))\n* **UI:** Add PiP function to controls ([#5629](https://github.com/shaka-project/shaka-player/issues/5629)) ([b422847](https://github.com/shaka-project/shaka-player/commit/b4228479dae3469e5a3a1e8190bef9c4e3e1a843))\n* **UI:** Add remote button with RemotePlayback API ([#5650](https://github.com/shaka-project/shaka-player/issues/5650)) ([1ef5ae0](https://github.com/shaka-project/shaka-player/commit/1ef5ae0615a14baa26ff9ffa9fa5e083bfa19c7e))\n* **WebVTT:** Add support to ruby, rt, rp html tags ([#5642](https://github.com/shaka-project/shaka-player/issues/5642)) ([76ffd38](https://github.com/shaka-project/shaka-player/commit/76ffd38c1d78042acac220df202a9abdd77489e9))\n* **WebVTT:** Add support to text-combine-upright ([#5633](https://github.com/shaka-project/shaka-player/issues/5633)) ([a2f253f](https://github.com/shaka-project/shaka-player/commit/a2f253f8d619d2959c0195a8e1260657b5d34a3a))\n\n\n### Bug Fixes\n\n* Allow PID change in TsParser ([#5681](https://github.com/shaka-project/shaka-player/issues/5681)) ([d9b49d9](https://github.com/shaka-project/shaka-player/commit/d9b49d992f533bf7664932d547253b860064ea03))\n* **CMCD:** Fix CMCD for some mimetypes in src= ([#5699](https://github.com/shaka-project/shaka-player/issues/5699)) ([e2c32c5](https://github.com/shaka-project/shaka-player/commit/e2c32c52f0ae347083bcc6b4b7dceca903b5546b))\n* com.apple.fps should work with the default initDataTransform when using legacy Apple Media Keys ([#5603](https://github.com/shaka-project/shaka-player/issues/5603)) ([76fdda6](https://github.com/shaka-project/shaka-player/commit/76fdda65231905c945db6a5eedeece65f8d7711e))\n* Compute correctly the positionAlign in UITextDisplayer ([#5630](https://github.com/shaka-project/shaka-player/issues/5630)) ([3a2dbc3](https://github.com/shaka-project/shaka-player/commit/3a2dbc3deaf1e1ee5384eed41c6c9e79817a8a09))\n* **DASH:** Fix bigint implementation ([#5707](https://github.com/shaka-project/shaka-player/issues/5707)) ([45009d2](https://github.com/shaka-project/shaka-player/commit/45009d2c0cbbb203ecb864bc4b742ed4ad9a0d9a))\n* **DASH:** Fix race condition error while switching audio tracks ([#5619](https://github.com/shaka-project/shaka-player/issues/5619)) ([29d9a10](https://github.com/shaka-project/shaka-player/commit/29d9a107054fff16ec2abe2cbdbb8fa0c0cfd882))\n* **Demo:** Allow com.apple.fps.1_0 in the custom DRM System field ([#5600](https://github.com/shaka-project/shaka-player/issues/5600)) ([ab86000](https://github.com/shaka-project/shaka-player/commit/ab86000dc75a352505875fe6dbc37fe0bdd2857a))\n* **Demo:** Fix url of \"Low Latency HLS Live\" asset ([#5708](https://github.com/shaka-project/shaka-player/issues/5708)) ([146d3ec](https://github.com/shaka-project/shaka-player/commit/146d3ecd280b8b985e1fae6fc9262fa04dcf6126))\n* Fix compiled-mode error formatting ([#5623](https://github.com/shaka-project/shaka-player/issues/5623)) ([a19912e](https://github.com/shaka-project/shaka-player/commit/a19912e5bf9ec5425a366b07745d5bac631a9dd2))\n* Fix creation of new Stream object for each manifest request in DASH Live when using CEA ([#5674](https://github.com/shaka-project/shaka-player/issues/5674)) ([0a8b519](https://github.com/shaka-project/shaka-player/commit/0a8b5193f2de0b83ddd24aacda09523926b1cdb9))\n* Fix MediaSourceEngine reset operation ([#5576](https://github.com/shaka-project/shaka-player/issues/5576)) ([9f5e91f](https://github.com/shaka-project/shaka-player/commit/9f5e91f4a37a8e504adcf1dd756fac9c777c2051))\n* Fix Mp4Generator ([#5566](https://github.com/shaka-project/shaka-player/issues/5566)) ([effafbc](https://github.com/shaka-project/shaka-player/commit/effafbc849cc83c732fe113f5da479513b884f9f))\n* Fix NALU parsing in some HLS muxed live streams ([#5688](https://github.com/shaka-project/shaka-player/issues/5688)) ([756a576](https://github.com/shaka-project/shaka-player/commit/756a57658608b3d8e674ae810afc692a25dc85cf))\n* Fix PES parsing ([#5559](https://github.com/shaka-project/shaka-player/issues/5559)) ([5c6ab9e](https://github.com/shaka-project/shaka-player/commit/5c6ab9e0c8ba1236710209b36ea08d7a44fb1bf3))\n* fix preferred track selection on Safari ([#5601](https://github.com/shaka-project/shaka-player/issues/5601)) ([d021d6f](https://github.com/shaka-project/shaka-player/commit/d021d6f932b3a64d826b919b5a7b252599e2ecd5))\n* Fix some properties on the shaka.text.Cue that are mangled ([#5673](https://github.com/shaka-project/shaka-player/issues/5673)) ([d2b7cb2](https://github.com/shaka-project/shaka-player/commit/d2b7cb28212d5fc82b70169c77826333e0fc081f))\n* Fix transmuxed audio timestamps ([#5595](https://github.com/shaka-project/shaka-player/issues/5595)) ([0260aef](https://github.com/shaka-project/shaka-player/commit/0260aefcdbdda2184ea32d3d8678a04491cc6fd3))\n* Fix transmuxing of muxed content ([#5686](https://github.com/shaka-project/shaka-player/issues/5686)) ([f20d50a](https://github.com/shaka-project/shaka-player/commit/f20d50a37b8629d5429b22e2fa0ced4729335af3))\n* Fix TS transmuxer when the main content is muxed ([#5575](https://github.com/shaka-project/shaka-player/issues/5575)) ([65b3037](https://github.com/shaka-project/shaka-player/commit/65b3037181b30274b1cedf52283f5726cf7df0b9))\n* Fix unreleased stack overflow on statechanged ([#5712](https://github.com/shaka-project/shaka-player/issues/5712)) ([ebacf32](https://github.com/shaka-project/shaka-player/commit/ebacf32127dfc7b8b5227d66f7d53d3eee54fdd3))\n* **HLS:** Allow audio groups on audio-only content ([#5578](https://github.com/shaka-project/shaka-player/issues/5578)) ([3cbc444](https://github.com/shaka-project/shaka-player/commit/3cbc444c95ab2e8c124d2caaaac6ce7bc5fdf02f))\n* **HLS:** Fix audio and video out of sync ([#5658](https://github.com/shaka-project/shaka-player/issues/5658)) ([4cc4143](https://github.com/shaka-project/shaka-player/commit/4cc4143d5f3d78fc5839d6e61d7464ac62479253))\n* **HLS:** Fix display CEA-708 in HLS ([#5694](https://github.com/shaka-project/shaka-player/issues/5694)) ([2097193](https://github.com/shaka-project/shaka-player/commit/2097193c1d16b2fc7478959257e45dd0d8233ffa))\n* **HLS:** Fix presentation delay for small live playlists (eg: 3-4 segments) ([#5687](https://github.com/shaka-project/shaka-player/issues/5687)) ([caef5a4](https://github.com/shaka-project/shaka-player/commit/caef5a41edb3b7ac09d58249990bc2fa14ac5adb))\n* **HLS:** Get the correct video codec for TS segments ([#5598](https://github.com/shaka-project/shaka-player/issues/5598)) ([1135115](https://github.com/shaka-project/shaka-player/commit/11351150694814813cb1cfeab4dc78fdefcce6fa))\n* **HLS:** Show WebVTT subtitles with X-TIMESTAMP-MAP in segments mode ([#5643](https://github.com/shaka-project/shaka-player/issues/5643)) ([bd636d4](https://github.com/shaka-project/shaka-player/commit/bd636d4edffed3e845c79666547dc5af91af4055))\n* **HLS:** Skip segments without duration and without partial segments ([#5705](https://github.com/shaka-project/shaka-player/issues/5705)) ([f53d50d](https://github.com/shaka-project/shaka-player/commit/f53d50dc3620736add47f4db2f4e71b4d8eea526))\n* **HLS:** Support AES-128 in init segment according the RFC ([#5677](https://github.com/shaka-project/shaka-player/issues/5677)) ([806d91a](https://github.com/shaka-project/shaka-player/commit/806d91af4da9e71f9e11af406ffebf14232c5e9f))\n* Improve TsParse to avoid parsing errors ([#5615](https://github.com/shaka-project/shaka-player/issues/5615)) ([5fa8b42](https://github.com/shaka-project/shaka-player/commit/5fa8b42118103ee8bb32394feb3aeb57b6d47553))\n* Prevent codecs override in the transmuxer ([#5568](https://github.com/shaka-project/shaka-player/issues/5568)) ([66c625f](https://github.com/shaka-project/shaka-player/commit/66c625f55ab00989ff74419e8f85ca7619446dd0))\n* Remove debugging code on Simple Text ([#5582](https://github.com/shaka-project/shaka-player/issues/5582)) ([991130a](https://github.com/shaka-project/shaka-player/commit/991130a6d875fd41ff585254563c5a879057603a))\n* seeking in segment timeline returns incorrect index ([#5716](https://github.com/shaka-project/shaka-player/issues/5716)) ([c02ccee](https://github.com/shaka-project/shaka-player/commit/c02cceeeca0590a9b9b3161783142d89ba4948d4)), closes [#5664](https://github.com/shaka-project/shaka-player/issues/5664)\n* **TTML:** Fix wrong writing-mode in nested cues ([#5646](https://github.com/shaka-project/shaka-player/issues/5646)) ([3a4f108](https://github.com/shaka-project/shaka-player/commit/3a4f10878a91c7d30f71862f2cec780b0f5e1bac))\n* **UI:** Fix broken language names on Google TV ([#5613](https://github.com/shaka-project/shaka-player/issues/5613)) ([fc93292](https://github.com/shaka-project/shaka-player/commit/fc93292d9e4f8d38561dea8320cbcd5fd25f2c75))\n* **WebVTT:** Fix support for line:0 vertical alignment ([#5632](https://github.com/shaka-project/shaka-player/issues/5632)) ([eed393f](https://github.com/shaka-project/shaka-player/commit/eed393f1bf777f00f1e7242c96bf9124ad3dec30))\n* **WebVTT:** Fix text displayed out of picture and with overlapping lines ([#5662](https://github.com/shaka-project/shaka-player/issues/5662)) ([6975be9](https://github.com/shaka-project/shaka-player/commit/6975be92d47fd5368492e861a6ea63e627a4846c)), closes [#5661](https://github.com/shaka-project/shaka-player/issues/5661)\n* **WebVTT:** Fix wrong writing-mode in nested cues ([#5641](https://github.com/shaka-project/shaka-player/issues/5641)) ([56a4cea](https://github.com/shaka-project/shaka-player/commit/56a4cea5789f15b5e78c9a5d8d0cb97eb542bafc))\n\n\n### Performance Improvements\n\n* Optimization to resolve uris ([#5657](https://github.com/shaka-project/shaka-player/issues/5657)) ([bd17c2b](https://github.com/shaka-project/shaka-player/commit/bd17c2bfd077c596d77a2a3fdd865041ed08012c))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed8d6ca63ac8d88f17c",
    "number": 5595,
    "body": null,
    "head_branch": "base-media-decode-time",
    "is_a_fork": true,
    "comments": [
      "@shaka-bot test ce",
      "@avelad: Lab tests started with arguments:\n - `pr=5595`\n - `browser_filter=Tizen Chromecast ChromeAndroid`\n",
      "Incremental code coverage: 27.27%"
    ],
    "commit_messages": [
      "fix: Fix transmuxed audio timestamps (#5595)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ed9d6ca63ac8d88f17d",
    "number": 5592,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.11](https://github.com/shaka-project/shaka-player/compare/v4.3.10...v4.3.11) (2023-09-02)\n\n\n### Bug Fixes\n\n* **HLS:** Allow audio groups on audio-only content ([#5578](https://github.com/shaka-project/shaka-player/issues/5578)) ([9028495](https://github.com/shaka-project/shaka-player/commit/90284959bda3c0cadcacbd7acbe0425d3028d9d5))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "@shaka-bot test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=5592`\n",
      "Incremental code coverage: No instrumented code was changed.",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.3.11 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.11 (#5592)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219edad6ca63ac8d88f17e",
    "number": 5591,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.4.1](https://github.com/shaka-project/shaka-player/compare/v4.4.0...v4.4.1) (2023-09-02)\n\n\n### Bug Fixes\n\n* Fix MediaSourceEngine reset operation ([#5576](https://github.com/shaka-project/shaka-player/issues/5576)) ([8c66b7a](https://github.com/shaka-project/shaka-player/commit/8c66b7a061b044b1e1569fbcf18c094465b94466))\n* Fix Mp4Generator ([#5566](https://github.com/shaka-project/shaka-player/issues/5566)) ([a20f1db](https://github.com/shaka-project/shaka-player/commit/a20f1db194539d43e6851f54f28378c33f98d1d5))\n* Fix PES parsing ([#5559](https://github.com/shaka-project/shaka-player/issues/5559)) ([58e6627](https://github.com/shaka-project/shaka-player/commit/58e6627c5c56057d186823f07f364805d3c26b20))\n* Fix TS transmuxer when the main content is muxed ([#5575](https://github.com/shaka-project/shaka-player/issues/5575)) ([0831b97](https://github.com/shaka-project/shaka-player/commit/0831b979f076b773f8eecb42e72c45bdabbf878b))\n* **HLS:** Allow audio groups on audio-only content ([#5578](https://github.com/shaka-project/shaka-player/issues/5578)) ([17e4ef2](https://github.com/shaka-project/shaka-player/commit/17e4ef25c0f069002c6777e77569cbf90d538449))\n* Prevent codecs override in the transmuxer ([#5568](https://github.com/shaka-project/shaka-player/issues/5568)) ([1286fec](https://github.com/shaka-project/shaka-player/commit/1286fec03da968d71b8f0590421c0d0a39e98d06))\n* Remove debugging code on Simple Text ([#5582](https://github.com/shaka-project/shaka-player/issues/5582)) ([19be642](https://github.com/shaka-project/shaka-player/commit/19be6423ea5366b887d0cf89900d92bfbd573ce5))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.4.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "@shaka-bot test",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=5591`\n",
      "Incremental code coverage: No instrumented code was changed.",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.4.1 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.4.x): release 4.4.1 (#5591)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219edbd6ca63ac8d88f17f",
    "number": 5589,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.4.1](https://github.com/shaka-project/shaka-player/compare/v4.4.0...v4.4.1) (2023-09-02)\n\n\n### Bug Fixes\n\n* Fix MediaSourceEngine reset operation ([#5576](https://github.com/shaka-project/shaka-player/issues/5576)) ([9f5e91f](https://github.com/shaka-project/shaka-player/commit/9f5e91f4a37a8e504adcf1dd756fac9c777c2051))\n* Fix Mp4Generator ([#5566](https://github.com/shaka-project/shaka-player/issues/5566)) ([effafbc](https://github.com/shaka-project/shaka-player/commit/effafbc849cc83c732fe113f5da479513b884f9f))\n* Fix PES parsing ([#5559](https://github.com/shaka-project/shaka-player/issues/5559)) ([5c6ab9e](https://github.com/shaka-project/shaka-player/commit/5c6ab9e0c8ba1236710209b36ea08d7a44fb1bf3))\n* Fix TS transmuxer when the main content is muxed ([#5575](https://github.com/shaka-project/shaka-player/issues/5575)) ([65b3037](https://github.com/shaka-project/shaka-player/commit/65b3037181b30274b1cedf52283f5726cf7df0b9))\n* **HLS:** Allow audio groups on audio-only content ([#5578](https://github.com/shaka-project/shaka-player/issues/5578)) ([3cbc444](https://github.com/shaka-project/shaka-player/commit/3cbc444c95ab2e8c124d2caaaac6ce7bc5fdf02f))\n* Prevent codecs override in the transmuxer ([#5568](https://github.com/shaka-project/shaka-player/issues/5568)) ([66c625f](https://github.com/shaka-project/shaka-player/commit/66c625f55ab00989ff74419e8f85ca7619446dd0))\n* Remove debugging code on Simple Text ([#5582](https://github.com/shaka-project/shaka-player/issues/5582)) ([991130a](https://github.com/shaka-project/shaka-player/commit/991130a6d875fd41ff585254563c5a879057603a))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219edcd6ca63ac8d88f180",
    "number": 5588,
    "body": "Stop using a fork to run release actions.  Either it is missing a feature or I misunderstood what that flag is for.  See https://github.com/google-github-actions/release-please-action/issues/819",
    "head_branch": "release-please-no-fork",
    "is_a_fork": true,
    "comments": [
      "After this is merged to main and cherry-picked to both v4.4.x and v4.3.x, we should get working release PRs for both branches.  Then we can run tests and merge to release from both branches.\r\n\r\nWe should **not** release v4.4.1 from `main`, but there will be a release PR for that, too.  I'm still looking into how to prevent release-please from doing patch-level releases from `main`.  There doesn't seem to be an option for that yet, but I may be able to add one or create a plugin for it.",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Do not use a fork for release actions (#5588)\n\nStop using a fork to run release actions. Either it is missing a feature\r\nor I misunderstood what that flag is for. See\r\nhttps://github.com/google-github-actions/release-please-action/issues/819"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eddd6ca63ac8d88f181",
    "number": 5587,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.11](https://github.com/shaka-project/shaka-player/compare/v4.3.10...v4.3.11) (2023-09-02)\n\n\n### Bug Fixes\n\n* **HLS:** Allow audio groups on audio-only content ([#5578](https://github.com/shaka-project/shaka-player/issues/5578)) ([9028495](https://github.com/shaka-project/shaka-player/commit/90284959bda3c0cadcacbd7acbe0425d3028d9d5))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eded6ca63ac8d88f182",
    "number": 5586,
    "body": "This is an automated sync of common workflows for this organization.\nThe upstream source is:\nhttps://github.com/shaka-project/shaka-github-tools/commit/4245160a0b8577baae0ffb75b6b365d850d52fde\n",
    "head_branch": "sync-common-workflows",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Sync common workflows (#5586)\n\nThis is an automated sync of common workflows for this organization.\r\nThe upstream source is:\r\n\r\nhttps://github.com/shaka-project/shaka-github-tools/commit/4245160a0b8577baae0ffb75b6b365d850d52fde\r\n\r\nCo-authored-by: Shaka Bot <shaka-bot@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219edfd6ca63ac8d88f183",
    "number": 5585,
    "body": "This enables workflows to be triggered automatically on release PRs, instead of requiring maintainers to edit the PR description on every release to trigger required PR workflows.\r\n\r\nThis uses a separate token from the other shaka-bot token, because it requires additional permissions to make releases.",
    "head_branch": "release-please-token",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Use shaka-bot for releases (#5585)\n\nThis enables workflows to be triggered automatically on release PRs,\r\ninstead of requiring maintainers to edit the PR description on every\r\nrelease to trigger required PR workflows.\r\n\r\nThis uses a separate token from the other shaka-bot token, because it\r\nrequires additional permissions to make releases."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ee0d6ca63ac8d88f184",
    "number": 5582,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5581",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5582/checks?check_run_id=16426953770) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix: Remove debugging code on Simple Text (#5582)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5581"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ee1d6ca63ac8d88f185",
    "number": 5580,
    "body": null,
    "head_branch": "shaka-bot-token",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Use shaka-bot for coverage reports (#5580)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ee2d6ca63ac8d88f186",
    "number": 5579,
    "body": "This gets around some compilation issues I had with a large codebase.",
    "head_branch": "constantProperty",
    "is_a_fork": true,
    "comments": [
      "Labeled this `chore` because I don't believe this should be promoted to the level of a changelog-mentioned bug fix.  It will still be cherry-picked to release branches.  I also fixed the linter error about line length.\r\n\r\nThanks @clayw for sending this upstream to GitHub!",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Added constantProperty to the @suppress statement namespace.js (#5579)\n\nThis gets around some compilation issues I had with a large codebase."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ee3d6ca63ac8d88f187",
    "number": 5578,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5577",
    "head_branch": "hls-audio-groups-audio-only",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "@shaka-bot test ce",
      "@avelad: Lab tests started with arguments:\n - `pr=5578`\n - `browser_filter=Tizen Chromecast ChromeAndroid`\n"
    ],
    "commit_messages": [
      "fix(HLS): Allow audio groups on audio-only content (#5578)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5577"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ee4d6ca63ac8d88f188",
    "number": 5576,
    "body": null,
    "head_branch": "fix-mediasource-reset-op",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 0.00%"
    ],
    "commit_messages": [
      "fix: Fix MediaSourceEngine reset operation (#5576)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ee5d6ca63ac8d88f189",
    "number": 5575,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5572\r\n\r\nThe main problem is that the content has audio and video muxed and then has the alternative audio tracks.\r\n\r\nWe need to detect that the main content is muxed and only extract the video.\r\n\r\nTest stream: https://ztnr.rtve.es/ztnr/1694255.m3u8",
    "head_branch": "fix-ts-transmuxer",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 66.67%"
    ],
    "commit_messages": [
      "fix: Fix TS transmuxer when the main content is muxed (#5575)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5572\r\n\r\nThe main problem is that the content has audio and video muxed and then\r\nhas the alternative audio tracks.\r\n\r\nWe need to detect that the main content is muxed and only extract the\r\nvideo.\r\n\r\nTest stream: https://ztnr.rtve.es/ztnr/1694255.m3u8"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ee6d6ca63ac8d88f18a",
    "number": 5571,
    "body": null,
    "head_branch": "ts-muxed",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 68.37%",
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=5571`\n",
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=5571`\n",
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=5571`\n",
      "Thanks @joeyparrish !"
    ],
    "commit_messages": [
      "feat: Add TS transmuxer for muxed content (#5571)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ee7d6ca63ac8d88f18b",
    "number": 5570,
    "body": null,
    "head_branch": "media-source-integration",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Fix \"extracts ID3 metadata from AAC\" tests (#5570)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ee8d6ca63ac8d88f18c",
    "number": 5569,
    "body": null,
    "head_branch": "mss-test",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Fix MSS PlayReady test (#5569)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ee9d6ca63ac8d88f18d",
    "number": 5568,
    "body": "This prevent errors when the codec specified is not the same that in the stream, and also fixes the override when there are multiples codecs (eg: muxed content)",
    "head_branch": "codec-override",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 50.00%"
    ],
    "commit_messages": [
      "fix: Prevent codecs override in the transmuxer (#5568)\n\nThis prevent errors when the codec specified is not the same that in the\r\nstream, and also fixes the override when there are multiples codecs (eg:\r\nmuxed content)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eead6ca63ac8d88f18e",
    "number": 5567,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.4.1](https://github.com/shaka-project/shaka-player/compare/v4.4.0...v4.4.1) (2023-09-02)\n\n\n### Bug Fixes\n\n* Fix MediaSourceEngine reset operation ([#5576](https://github.com/shaka-project/shaka-player/issues/5576)) ([9f5e91f](https://github.com/shaka-project/shaka-player/commit/9f5e91f4a37a8e504adcf1dd756fac9c777c2051))\n* Fix Mp4Generator ([#5566](https://github.com/shaka-project/shaka-player/issues/5566)) ([effafbc](https://github.com/shaka-project/shaka-player/commit/effafbc849cc83c732fe113f5da479513b884f9f))\n* Fix PES parsing ([#5559](https://github.com/shaka-project/shaka-player/issues/5559)) ([5c6ab9e](https://github.com/shaka-project/shaka-player/commit/5c6ab9e0c8ba1236710209b36ea08d7a44fb1bf3))\n* Fix TS transmuxer when the main content is muxed ([#5575](https://github.com/shaka-project/shaka-player/issues/5575)) ([65b3037](https://github.com/shaka-project/shaka-player/commit/65b3037181b30274b1cedf52283f5726cf7df0b9))\n* **HLS:** Allow audio groups on audio-only content ([#5578](https://github.com/shaka-project/shaka-player/issues/5578)) ([3cbc444](https://github.com/shaka-project/shaka-player/commit/3cbc444c95ab2e8c124d2caaaac6ce7bc5fdf02f))\n* Prevent codecs override in the transmuxer ([#5568](https://github.com/shaka-project/shaka-player/issues/5568)) ([66c625f](https://github.com/shaka-project/shaka-player/commit/66c625f55ab00989ff74419e8f85ca7619446dd0))\n* Remove debugging code on Simple Text ([#5582](https://github.com/shaka-project/shaka-player/issues/5582)) ([991130a](https://github.com/shaka-project/shaka-player/commit/991130a6d875fd41ff585254563c5a879057603a))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5567/checks?check_run_id=16373790202) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "@shaka-bot test",
      "@avelad: Lab tests started with arguments:\n - `pr=5567`\n"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eebd6ca63ac8d88f18f",
    "number": 5566,
    "body": "Fixes the mvex generation\r\nRemoves width and height from tkhd box for audio tracks",
    "head_branch": "fix-mp4-generator",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix Mp4Generator (#5566)\n\nFixes the mvex generation\r\nRemoves width and height from tkhd box for audio tracks"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eecd6ca63ac8d88f190",
    "number": 5565,
    "body": "Now maintainers can send commands to Shaka Bot via PR comments.\r\n\r\nInitially, Shaka Bot understands the following commands from anyone:\r\n - `@shaka-bot help`: Show this help message\r\n\r\nAnd the following commands from maintainers only:\r\n - `@shaka-bot test`: Start lab tests on all devices\r\n - `@shaka-bot test ce`: Start lab tests on CE devices only (no desktop browsers)",
    "head_branch": "comment-to-run-tests",
    "is_a_fork": true,
    "comments": [
      "With this, instead of copying the PR number, clicking \"Actions\", finding \"Selenium lab tests\", clicking that, then clicking the \"Run workflow\" button, then pasting in the PR number, then clicking yet another \"Run workflow button\"...\r\n\r\nI could just comment on the PR with `@shaka-bot test`.",
      "Incremental code coverage: No instrumented code was changed.",
      "> Now maintainers can send commands to Shaka Bot via PR comments.\r\n> \r\n> Shaka Bot understands the following commands to start:\r\n> \r\n> * `@shaka-bot help`: Show this help message\r\n> * `@shaka-bot test`: Start lab tests (maintainers only)\r\n\r\nGreat feature. Will it be documented somewhere? How could I discover this ability of the Shaka bot?",
      "> > Now maintainers can send commands to Shaka Bot via PR comments.\r\n> > Shaka Bot understands the following commands to start:\r\n> > \r\n> > * `@shaka-bot help`: Show this help message\r\n> > * `@shaka-bot test`: Start lab tests (maintainers only)\r\n> \r\n> Great feature. Will it be documented somewhere? How could I discover this ability of the Shaka bot?\r\n\r\nGood question.  I'm not sure.  We can add it to the maintenance documentation for the project: https://github.com/shaka-project/shaka-project.github.io/blob/main/maintenance/shaka-player.md\r\n\r\nBut I was wondering if I should add a feature to have the bot comment on each new PR to remind maintainers of common tasks it can do.\r\n\r\nMaybe I should document it first, then try out some kind of reminder feature later.\r\n\r\nThoughts?",
      "I'm about to do a test run of the refactored bash script against this PR.  I'm supplying all the values manually and running it locally with shaka-bot's token.  When shaka-bot starts commenting on this PR, that's the result of my manual testing.",
      "@joeyparrish: I understand the following commands:\n - `@shaka-bot help`: Show this help message\n - `@shaka-bot test`: Start lab tests (maintainers only)\n",
      "@joeyparrish: Only maintainers may start lab tests.\n",
      "@joeyparrish: Only maintainers may start lab tests.\n",
      "@joeyparrish: Lab tests started.\n",
      "@alekzz, I think you'll find the refactored version much improved.  Let me know what you think!",
      "@joeyparrish: I honor the following commands from anyone:\n - `@shaka-bot help`: Show this help message\n\nI honor the following commands from maintainers only:\n - `@shaka-bot test`: Start lab tests on all devices\n - `@shaka-bot test ce`: Start lab tests on CE devices only (no desktop browsers)\n",
      "@joeyparrish: Lab tests started with arguments: pr=5565 browser_filter=Tizen Chromecast ChromeAndroid\n",
      "@joeyparrish: Lab tests started with arguments:\n - `pr=5565`\n - `browser_filter=Tizen Chromecast ChromeAndroid`\n",
      "> I would suggest an extra parameter in `@shaka-bot test` that allows us to indicate \"only test on devices that are not in github actions\" (ex: chromecast and tizen).\r\n> \r\n> Do you think you could add it?\r\n\r\nDone!\r\n\r\n`@shaka-bot test ce` will run tests only on CE (consumer electronics) devices (no desktop browsers).",
      "> > > Now maintainers can send commands to Shaka Bot via PR comments.\r\n> > > Shaka Bot understands the following commands to start:\r\n> > > \r\n> > > * `@shaka-bot help`: Show this help message\r\n> > > * `@shaka-bot test`: Start lab tests (maintainers only)\r\n> > \r\n> > \r\n> > Great feature. Will it be documented somewhere? How could I discover this ability of the Shaka bot?\r\n> \r\n> Good question. I'm not sure. We can add it to the maintenance documentation for the project: https://github.com/shaka-project/shaka-project.github.io/blob/main/maintenance/shaka-player.md\r\n> \r\n> But I was wondering if I should add a feature to have the bot comment on each new PR to remind maintainers of common tasks it can do.\r\n> \r\n> Maybe I should document it first, then try out some kind of reminder feature later.\r\n> \r\n> Thoughts?\r\n\r\nAdding to the maintenance documentation sounds reasonable and sufficient IMHO.",
      "> @alekzz, I think you'll find the refactored version much improved. Let me know what you think!\r\n\r\nYes, looks very good! Thanks!"
    ],
    "commit_messages": [
      "ci: Talk to Shaka Bot (#5565)\n\nNow maintainers can send commands to Shaka Bot via PR comments.\r\n\r\nInitially, Shaka Bot understands the following commands from anyone:\r\n - `@shaka-bot help`: Show this help message\r\n\r\nAnd the following commands from maintainers only:\r\n - `@shaka-bot test`: Start lab tests on all devices\r\n- `@shaka-bot test ce`: Start lab tests on CE devices only (no desktop\r\nbrowsers)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eedd6ca63ac8d88f191",
    "number": 5564,
    "body": "This reverts commit 18ffa2cbbc5da6f47295cfc7c6987d8eda68bbfa.\r\n\r\nSo long as we make feature releases with a reasonable (< 100 PRs) granularity, we won't need to keep doing this.  Let's try to keep v4.4 an anomaly.",
    "head_branch": "revert-release-please-config",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Revert \"main branch only - fix bad release PR\" (#5564)\n\nThis reverts commit 18ffa2cbbc5da6f47295cfc7c6987d8eda68bbfa.\r\n\r\nSo long as we make feature releases with a reasonable (< 100 PRs)\r\ngranularity, we won't need to keep doing this. Let's try to keep v4.4 an\r\nanomaly."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eeed6ca63ac8d88f192",
    "number": 5563,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.10](https://github.com/shaka-project/shaka-player/compare/v4.3.9...v4.3.10) (2023-08-30)\n\n\n### Bug Fixes\n\n* **Ads:** Initialize correctly the IMA ads manager ([#5541](https://github.com/shaka-project/shaka-player/issues/5541)) ([f15ba16](https://github.com/shaka-project/shaka-player/commit/f15ba16f7742790fad7ed5212c0605b418f37db5))\n* **Demo:** Show correctly external text in the Demo ([#5521](https://github.com/shaka-project/shaka-player/issues/5521)) ([01403c4](https://github.com/shaka-project/shaka-player/commit/01403c43441fe8a2dd305f63fa1394127dfdd89b))\n* Orange set top box is incorrectly categorized as Apple ([#5545](https://github.com/shaka-project/shaka-player/issues/5545)) ([f0f1281](https://github.com/shaka-project/shaka-player/commit/f0f12813772560a0063ad4de521b31391c52d932))\n* **UI:** Fix playback restarts in safari when click on seekbar end ([#5527](https://github.com/shaka-project/shaka-player/issues/5527)) ([8263c73](https://github.com/shaka-project/shaka-player/commit/8263c736b6309afda3add0174a9508b74b3ed379))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5563/checks?check_run_id=16361486240) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.3.10 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.10 (#5563)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219eefd6ca63ac8d88f193",
    "number": 5562,
    "body": null,
    "head_branch": "release-docs",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "docs: Update docs for v4.4 release (#5562)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ef0d6ca63ac8d88f194",
    "number": 5561,
    "body": "When controlling the content we're playing from one end to another, we don't need to do the extra check for working around broken platforms (parsing mp4 boxes to find encryption, insert one if there isn't if the content is encrypted).\r\n\r\nOn a Tizen 5.0, the check without having to append the fake encryption takes between 5 to 10ms to complete. Time that is added to the launch time, or the time needed to seek if there is a downgrade for seeking.\r\n\r\nThat's not much, but when having a start time of 1000ms, that's still at best 1% we can shave off 😅 \r\n\r\n<details>\r\n<summary>Tests</summary>\r\n\r\nI did the tests by adding a bit of code, taking care to remove any logs in MP4Parser that are taking a huge time (with logs, we're more on a 100~200ms scale).\r\n\r\n![test-sample](https://github.com/shaka-project/shaka-player/assets/6253320/f6ae1398-70c0-47b1-96f0-38e34c058122)\r\n\r\n<img width=\"601\" alt=\"Screenshot 2023-08-30 at 18 01 03\" src=\"https://github.com/shaka-project/shaka-player/assets/6253320/35b8aa5a-3a9f-4b8e-97dc-7833f55b8b25\">\r\n</details>",
    "head_branch": "feat-fake-encryption-ff",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "Thanks @avelad @joeyparrish :)"
    ],
    "commit_messages": [
      "feat: add feature-flag to insert fake encryption in init segments on broken platforms (#5561)\n\nWhen controlling the content we're playing from one end to another, we\r\ndon't need to do the extra check for working around broken platforms\r\n(parsing mp4 boxes to find encryption, insert one if there isn't if the\r\ncontent is encrypted).\r\n\r\nOn a Tizen 5.0, the check without having to append the fake encryption\r\ntakes between 5 to 10ms to complete. Time that is added to the launch\r\ntime, or the time needed to seek if there is a downgrade for seeking.\r\n\r\nThat's not much, but when having a start time of 1000ms, that's still at\r\nbest 1% we can shave off 😅\r\n\r\n---------\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ef1d6ca63ac8d88f195",
    "number": 5559,
    "body": "This changes the way pes are processed to gain efficiency and avoid parsing incorrect pes.",
    "head_branch": "pes-parsing",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 90.28%",
      "@shaka-bot test ce"
    ],
    "commit_messages": [
      "fix: Fix PES parsing (#5559)\n\nThis changes the way pes are processed to gain efficiency and avoid\r\nparsing incorrect pes."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ef2d6ca63ac8d88f196",
    "number": 5558,
    "body": null,
    "head_branch": "pes-parsing",
    "is_a_fork": true,
    "comments": [
      "@joeyparrish Wait to merge this until all the tests pass.",
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ef3d6ca63ac8d88f197",
    "number": 5557,
    "body": "This is necessary for enable the muxed TS transmuxer in the future.",
    "head_branch": "aac-silent-frame",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 7.89%",
      "> This is super cool. How will you use it?\r\n\r\nIn TS sometimes not all the audio samples are included to optimize, so we are going to include it ourselves :)"
    ],
    "commit_messages": [
      "feat: Add AAC silent frame getter (#5557)\n\nThis is necessary for enable the muxed TS transmuxer in the future."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ef4d6ca63ac8d88f198",
    "number": 5555,
    "body": "This PR prepares the Mp4Generator to generate muxed content and also add support for generate HEVC content.",
    "head_branch": "mp4-generator-muxed",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 62.86%"
    ],
    "commit_messages": [
      "feat: Allow generate muxed content with Mp4Generator (#5555)\n\nThis PR prepares the Mp4Generator to generate muxed content and also add\r\nsupport for generate HEVC content."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ef5d6ca63ac8d88f199",
    "number": 5553,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5546",
    "head_branch": "transmuxer-tests",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Improve transmuxer tests (#5553)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5546"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ef6d6ca63ac8d88f19a",
    "number": 5552,
    "body": null,
    "head_branch": "fix-incremental-coverage-reports",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Fix incremental coverage reports (#5552)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ef7d6ca63ac8d88f19b",
    "number": 5550,
    "body": null,
    "head_branch": "hls-ext-x-bitrate",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(HLS): Parse #EXT-X-BITRATE (#5550)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ef8d6ca63ac8d88f19c",
    "number": 5549,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5546",
    "head_branch": "transmuxer-local-assets",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat: Use local assets for transmuxer tests (#5549)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5546"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ef9d6ca63ac8d88f19d",
    "number": 5548,
    "body": "GitHub started installing \"Chrome for Testing\" builds on Windows and Mac.  Unfortunately, these builds don't have support for H264 and AAC codecs, which we need in our tests.\r\n\r\nThis fixes the issue by explicitly installing an official build of Chrome on Windows, to overwrite the \"Chrome for Testing\" build.",
    "head_branch": "fix-gha-windows-chrome",
    "is_a_fork": true,
    "comments": [
      "I filed https://bugs.chromium.org/p/chromium/issues/detail?id=1476634 to let Chrome know they are missing codecs in these builds.",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Fix Chrome tests on Windows in GitHub Actions (#5548)\n\nGitHub started installing \"Chrome for Testing\" builds on Windows and\r\nMac. Unfortunately, these builds don't have support for H264 and AAC\r\ncodecs, which we need in our tests.\r\n\r\nThis fixes the issue by explicitly installing an official build of\r\nChrome on Windows, to overwrite the \"Chrome for Testing\" build."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219efad6ca63ac8d88f19e",
    "number": 5545,
    "body": "This PR adds an Orange platform check and excludes Orange from the isApple() check.\r\n\r\nResolves: https://github.com/shaka-project/shaka-player/issues/5544\r\n\r\n",
    "head_branch": "fix/orange-platform",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Orange set top box is incorrectly categorized as Apple (#5545)\n\nThis PR adds an Orange platform check and excludes Orange from the\r\nisApple() check.\r\n\r\nResolves: https://github.com/shaka-project/shaka-player/issues/5544\r\n\r\n---------\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>\r\nCo-authored-by: Casey Occhialini <1508707+littlespex@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219efbd6ca63ac8d88f19f",
    "number": 5543,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/2792\r\n\r\nThis is useful because it allows you to implement the use of IMA on platforms that do not support multiple video elements. See https://github.com/shaka-project/shaka-player/pull/5543#issuecomment-1696887145",
    "head_branch": "custom-playhead-tracker",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "Looks fine otherwise.",
      "With the following code implemented on the application side it is possible to support https://github.com/shaka-project/shaka-player/issues/2792\r\n\r\nUsing `ads.customPlayheadTracker = true`\r\n\r\n```\r\nthis.eventManager_.listen(this.adManager_, shaka.ads.AdManager.AD_STARTED, (e) => {\r\n  if (e?.originalEvent?.type !== google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED) {\r\n    return;\r\n  }\r\n  if (loadTimeout) {\r\n    clearTimeout(loadTimeout);\r\n  }\r\n  if (prevUrl === undefined && prevTime === undefined) {\r\n    prevUrl = this.player_.getAssetUri();\r\n    if (!this.player_.isLive()) {\r\n      prevTime = this.video_.currentTime;\r\n    }\r\n    this.player_.detach();\r\n    while (this.video_.lastChild) {\r\n      this.video_.removeChild(this.video_.firstChild);\r\n    }\r\n  }\r\n});\r\n\r\nthis.eventManager_.listen(this.adManager_, shaka.ads.AdManager.AD_STOPPED, (e) => {\r\n  if (e?.originalEvent?.type !== google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED) {\r\n    return;\r\n  }\r\n  if (loadTimeout) {\r\n    clearTimeout(loadTimeout);\r\n  }\r\n  loadTimeout = setTimeout(async () => {\r\n    await this.player_.attach(this.video_, true);\r\n    this.player_.load(prevUrl, prevTime).then(() => {\r\n      externalConfigAfterLoad();\r\n    });\r\n    prevUrl = undefined;\r\n    prevTime = undefined;\r\n  }, 100);\r\n});\r\n```\r\nThe idea is to implement this within ShakaPlayer itself in a future release."
    ],
    "commit_messages": [
      "feat(Ads): Allow use a custom playhead tracker in CS (#5543)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/2792\r\n\r\nThis is useful because it allows you to implement the use of IMA on\r\nplatforms that do not support multiple video elements. See\r\nhttps://github.com/shaka-project/shaka-player/pull/5543#issuecomment-1696887145"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219efcd6ca63ac8d88f1a0",
    "number": 5542,
    "body": null,
    "head_branch": "multiple-requestAds",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(Ads): Allow multiple calls to requestAds in CS (#5542)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219efcd6ca63ac8d88f1a1",
    "number": 5541,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4800",
    "head_branch": "cc-vmap-load",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(Ads): Initialize correctly the IMA ads manager (#5541)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4800"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219efdd6ca63ac8d88f1a2",
    "number": 5539,
    "body": "This caches Babel's transpiler output for reuse, and should speed up all test runs in theory, but the effect is most noticeable on local test runs.\r\n\r\nThis uses a fork of karma-babel-preprocessor, which contains https://github.com/babel/karma-babel-preprocessor/pull/77.  If/when that PR is merged, we can move back to the upstream module.\r\n\r\nLocal runs will start faster because only modified source files will be re-processed through Babel when the tests start up.\r\n\r\nIn the Selenium workflow, Babel output and node_modules will both be computed by the singular build-shaka job, stored, and then reused by all the Selenium lab matrix jobs.\r\n\r\nOn my workstation (3.3 GHz cores, 32GB RAM, spinning platter disk), I see tests start about ~60 seconds faster.  In the lab (2.1-4.7 GHz cores, 64GB RAM, solid-state disk), I see tests start about ~10 seconds faster.",
    "head_branch": "babel-caching",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Cache Babel output (#5539)\n\nThis caches Babel's transpiler output for reuse, and should speed up all\r\ntest runs in theory, but the effect is most noticeable on local test\r\nruns.\r\n\r\nThis uses a fork of karma-babel-preprocessor, which contains\r\nhttps://github.com/babel/karma-babel-preprocessor/pull/77. If/when that\r\nPR is merged, we can move back to the upstream module.\r\n\r\nLocal runs will start faster because only modified source files will be\r\nre-processed through Babel when the tests start up.\r\n\r\nIn the Selenium workflow, Babel output and node_modules will both be\r\ncomputed by the singular build-shaka job, stored, and then reused by all\r\nthe Selenium lab matrix jobs.\r\n\r\nOn my workstation (3.3 GHz cores, 32GB RAM, spinning platter disk), I\r\nsee tests start about ~60 seconds faster. In the lab (2.1-4.7 GHz cores,\r\n64GB RAM, solid-state disk), I see tests start about ~10 seconds faster."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219efed6ca63ac8d88f1a3",
    "number": 5538,
    "body": "This reduces test failures on Tizen from 7/10 to 1/30 test runs.",
    "head_branch": "deflake-tizen",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Deflake tests on Tizen (#5538)\n\nThis reduces test failures on Tizen from 7/10 to 1/30 test runs."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219effd6ca63ac8d88f1a4",
    "number": 5537,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5534",
    "head_branch": "livesim2",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(Demo): Move livesim URLs to livesim2 (#5537)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5534"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f00d6ca63ac8d88f1a5",
    "number": 5536,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5011",
    "head_branch": "ads-rendering-settings",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(Ads): Add control AdsRenderingSettings (#5536)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5011"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f01d6ca63ac8d88f1a6",
    "number": 5533,
    "body": null,
    "head_branch": "mediasource-reload",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix: Remove sourcebuffer before create a new media source instance (#5533)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f02d6ca63ac8d88f1a7",
    "number": 5532,
    "body": null,
    "head_branch": "webvtt-position-auto",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(WebVTT): Add support to auto position (#5532)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f03d6ca63ac8d88f1a8",
    "number": 5531,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/2940",
    "head_branch": "cea-608-vertical-position",
    "is_a_fork": true,
    "comments": [
      "Video with the change: \r\n\r\nhttps://github.com/shaka-project/shaka-player/assets/8983024/4508a77f-b0a5-476f-a064-962813124817\r\n\r\nTest stream: https://livesim.dashif.org/dash/vod/testpic_2s/cea608.mpd",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(CEA): Add support to vertical position in CEA-608 (#5531)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/2940"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f04d6ca63ac8d88f1a9",
    "number": 5530,
    "body": "More info: https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/reference/js/google.ima.ImaSdkSettings#setDisableCustomPlaybackForIOS10Plus\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfeat(Ads): Disable custom playback on iOS 10+ browsers for client-side ads\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "ios-ima",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "To me, CC means Closed Captioning.  What does it mean here?",
      "oh, sorry CS. client side",
      "No worries.  I'll override the commit message for the changelog",
      "I just used this thing: https://shaka-project.github.io/maintenance/#fixing-release-notes"
    ],
    "commit_messages": [
      "feat(Ads): Disable custom playback on iOS 10+ browsers for CC (#5530)\n\nMore info:\r\nhttps://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/reference/js/google.ima.ImaSdkSettings#setDisableCustomPlaybackForIOS10Plus"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f05d6ca63ac8d88f1aa",
    "number": 5529,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/2818",
    "head_branch": "migrate-shaka-text-cue",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat: Use shaka.text.Cue everywhere instead of shaka.extern.Cue (#5529)\n\nCloses https://github.com/shaka-project/shaka-player/issues/2818"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f06d6ca63ac8d88f1ab",
    "number": 5527,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5080",
    "head_branch": "ui-seek-end",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(UI): Fix playback restarts in safari when click on seekbar end (#5527)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5080"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f07d6ca63ac8d88f1ac",
    "number": 5525,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3008",
    "head_branch": "gap-config",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat: Make gap jump timer time configurable (#5525)\n\nCloses https://github.com/shaka-project/shaka-player/issues/3008"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f08d6ca63ac8d88f1ad",
    "number": 5524,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5431",
    "head_branch": "pod-index",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(ads): Add getPodIndex to CS and SS ads (#5524)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5431"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f09d6ca63ac8d88f1ae",
    "number": 5523,
    "body": "As I was building packages for shaka-lab services in the shaka-project/shaka-lab repo, it occurred to me that this KARMA_PORT variable was too specific to the shaka-player project.  Instead, the new shaka-lab package for self-hosted runners will have a more generic ALLOCATED_PORT variable.  This updates the CI workflow to use that new name.",
    "head_branch": "update-ci-env-var",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Update environment variable name for runner port (#5523)\n\nAs I was building packages for shaka-lab services in the shaka-project/shaka-lab repo, it occurred to me that this KARMA_PORT variable was too specific to the shaka-player project.  Instead, the new shaka-lab package for self-hosted runners will have a more generic ALLOCATED_PORT variable.  This updates the CI workflow to use that new name."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f0ad6ca63ac8d88f1af",
    "number": 5522,
    "body": null,
    "head_branch": "lcevc-assets",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore(Demo): Update LCEVC assets (#5522)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f0bd6ca63ac8d88f1b0",
    "number": 5521,
    "body": null,
    "head_branch": "extra-text",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix(Demo): Show correctly external text in the Demo (#5521)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f0cd6ca63ac8d88f1b1",
    "number": 5519,
    "body": null,
    "head_branch": "pageUpDownBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(UI): Add PageUp and PageDown to UI seek bar (#5519)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f0dd6ca63ac8d88f1b2",
    "number": 5518,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5019",
    "head_branch": "label-doc",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Update Label documentation (#5518)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5019"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f0ed6ca63ac8d88f1b3",
    "number": 5517,
    "body": null,
    "head_branch": "edge-coverage",
    "is_a_fork": true,
    "comments": [
      "Can you please do the same for the nightly lab tests?",
      "https://github.com/shaka-project/shaka-player/blob/f3fa4f87927f8adbb21673d2e619a11ab31e66fe/.github/workflows/selenium-lab-tests.yaml#L237",
      "Incremental code coverage: No instrumented code was changed.",
      "Selenium coverage change looks good: https://github.com/shaka-project/shaka-player/actions/runs/5930986858"
    ],
    "commit_messages": [
      "chore: Use Edge Windows for coverage report (#5517)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f0fd6ca63ac8d88f1b4",
    "number": 5516,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.14](https://github.com/shaka-project/shaka-player/compare/v4.2.13...v4.2.14) (2023-08-30)\n\n\n### Bug Fixes\n\n* **Ads:** Initialize correctly the IMA ads manager ([#5541](https://github.com/shaka-project/shaka-player/issues/5541)) ([fa82928](https://github.com/shaka-project/shaka-player/commit/fa82928a6d15ef0327ea561a2f7c4dbb9e4de0dc))\n* **Demo:** Show correctly external text in the Demo ([#5521](https://github.com/shaka-project/shaka-player/issues/5521)) ([7408151](https://github.com/shaka-project/shaka-player/commit/7408151f40440d87894453b2e5f745e4888a7495))\n* **HLS:** Fix external subtitles out of sync in HLS ([#5491](https://github.com/shaka-project/shaka-player/issues/5491)) ([ff2edc1](https://github.com/shaka-project/shaka-player/commit/ff2edc18cd6401f1058ea176e52c5da4104a8e5f))\n* Orange set top box is incorrectly categorized as Apple ([#5545](https://github.com/shaka-project/shaka-player/issues/5545)) ([31f7a18](https://github.com/shaka-project/shaka-player/commit/31f7a18bacb51d176f1d7def5e1965b9e3a0e5fa))\n* **UI:** Fix playback restarts in safari when click on seekbar end ([#5527](https://github.com/shaka-project/shaka-player/issues/5527)) ([7824cc9](https://github.com/shaka-project/shaka-player/commit/7824cc9ce8549d3127ffdd97a020587bd75a7995))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5516/checks?check_run_id=16076324071) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.2.14 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.14 (#5516)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f10d6ca63ac8d88f1b5",
    "number": 5515,
    "body": null,
    "head_branch": "codec-hls",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 63.83%"
    ],
    "commit_messages": [
      "fix(HLS): Parse the correct codec for AVC and MP4A in HLS parser (#5515)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f11d6ca63ac8d88f1b6",
    "number": 5514,
    "body": "Related to https://github.com/shaka-project/shaka-player/pull/5504\r\n\r\nThis PR reduce the number of errors in transmuxer integration tests.",
    "head_branch": "tests-safari",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "This PR produces timeouts in other tests :("
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f12d6ca63ac8d88f1b7",
    "number": 5513,
    "body": ":robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n## [4.2.13](https://github.com/shaka-project/shaka-player/compare/v4.2.12...v4.2.13) (2023-08-20)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* add MIME type for HTML5 tracks ([#5452](https://github.com/shaka-project/shaka-player/issues/5452)) ([e540ac1](https://github.com/shaka-project/shaka-player/commit/e540ac17caf1b2200edd31b3d13a0e9934db6a69))\r\n* Default language to 'und' for native tracks ([#5464](https://github.com/shaka-project/shaka-player/issues/5464)) ([aeda19d](https://github.com/shaka-project/shaka-player/commit/aeda19df0b7431f5823ca8b88960ec3b0bf4cbc7))\r\n* Fix exiting fullscreen on Safari ([#5439](https://github.com/shaka-project/shaka-player/issues/5439)) ([9121a52](https://github.com/shaka-project/shaka-player/commit/9121a5231949caf9010d582825581c30ae77d649)), closes [#5437](https://github.com/shaka-project/shaka-player/issues/5437)\r\n* Fix memory leak on SimpleAbrManager ([#5478](https://github.com/shaka-project/shaka-player/issues/5478)) ([5c352c8](https://github.com/shaka-project/shaka-player/commit/5c352c86c830f121d55e47f705cd1dd384e6d4a8))\r\n* gettting maxWidth and maxHeight for restrictToElementSize option ([#5481](https://github.com/shaka-project/shaka-player/issues/5481)) ([eca8436](https://github.com/shaka-project/shaka-player/commit/eca8436f436a758dbca89b4b96c80b369aba713f))\r\n* Remove duplicate adaptation event before init ([#5492](https://github.com/shaka-project/shaka-player/issues/5492)) ([08708f0](https://github.com/shaka-project/shaka-player/commit/08708f004213ad370e323c2b09bd4553293ffef4))\r\n* Support fLaC and Opus codec strings in HLS ([#5454](https://github.com/shaka-project/shaka-player/issues/5454)) ([18d5971](https://github.com/shaka-project/shaka-player/commit/18d597195bdc1b28aae83d16c10322fde3d8c140)), closes [#5453](https://github.com/shaka-project/shaka-player/issues/5453)\r\n* **UI:** Disable right click on range elements ([#5497](https://github.com/shaka-project/shaka-player/issues/5497)) ([c508446](https://github.com/shaka-project/shaka-player/commit/c508446ab2e61278aa1855e3fd96cce59b995afb))\r\n* Update karma-local-wd-launcher to fix Chromedriver &gt;= 115, fix M1 mac ([#5489](https://github.com/shaka-project/shaka-player/issues/5489)) ([1789977](https://github.com/shaka-project/shaka-player/commit/17899774c0eecd38a46febbe848d978e71aa43e7))\r\n* Update karma-local-wd-launcher to fix Edge &gt;= 115 ([#5506](https://github.com/shaka-project/shaka-player/issues/5506)) ([d7d9efe](https://github.com/shaka-project/shaka-player/commit/d7d9efebbc154bf7635870d694d9ab0321cd26b3))\r\n* **WebVTT:** Fix text-shadow in WebVTT not working ([#5499](https://github.com/shaka-project/shaka-player/issues/5499)) ([853ccd8](https://github.com/shaka-project/shaka-player/commit/853ccd83a66972ca316a1c6223e743fde4bfb5e9))\r\n\r\n---\r\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5513/checks?check_run_id=16050185491) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.2.13 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.13 (#5513)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f12d6ca63ac8d88f1b8",
    "number": 5512,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.9](https://github.com/shaka-project/shaka-player/compare/v4.3.8...v4.3.9) (2023-08-21)\n\n\n### Bug Fixes\n\n* add MIME type for HTML5 tracks ([#5452](https://github.com/shaka-project/shaka-player/issues/5452)) ([5fb44db](https://github.com/shaka-project/shaka-player/commit/5fb44dba6d7670e24e8df90fe96588ce2a48c92b))\n* Default language to 'und' for native tracks ([#5464](https://github.com/shaka-project/shaka-player/issues/5464)) ([c31f3db](https://github.com/shaka-project/shaka-player/commit/c31f3db9c3efe44dfd28e03db64628827fdf9b5f))\n* Fix exiting fullscreen on Safari ([#5439](https://github.com/shaka-project/shaka-player/issues/5439)) ([81626b2](https://github.com/shaka-project/shaka-player/commit/81626b20ada137305cbaae808315244eaa84906d)), closes [#5437](https://github.com/shaka-project/shaka-player/issues/5437)\n* Fix memory leak on SimpleAbrManager ([#5478](https://github.com/shaka-project/shaka-player/issues/5478)) ([f8cb6ef](https://github.com/shaka-project/shaka-player/commit/f8cb6ef50a5501a92a94e13099a80690fb7b046d))\n* Fix playRangeEnd does not work with HLS streams ([#5494](https://github.com/shaka-project/shaka-player/issues/5494)) ([899eb07](https://github.com/shaka-project/shaka-player/commit/899eb0725f842df21f927a8c63a02e40986bd7fc))\n* gettting maxWidth and maxHeight for restrictToElementSize option ([#5481](https://github.com/shaka-project/shaka-player/issues/5481)) ([053da3b](https://github.com/shaka-project/shaka-player/commit/053da3b7ad60abb2848ad8848cd017d83a4316c6))\n* **HLS:** Fix external subtitles out of sync in HLS ([#5491](https://github.com/shaka-project/shaka-player/issues/5491)) ([38c8a88](https://github.com/shaka-project/shaka-player/commit/38c8a88a9c04e25b02784c00117f6a3ff11e007d))\n* Remove duplicate adaptation event before init ([#5492](https://github.com/shaka-project/shaka-player/issues/5492)) ([75a55b5](https://github.com/shaka-project/shaka-player/commit/75a55b580baebf35a1e26e8cd7920025bc3e1b8a))\n* Support fLaC and Opus codec strings in HLS ([#5454](https://github.com/shaka-project/shaka-player/issues/5454)) ([09bdd61](https://github.com/shaka-project/shaka-player/commit/09bdd61f6e47f4239bf5fbc3d60754f61ec5be94)), closes [#5453](https://github.com/shaka-project/shaka-player/issues/5453)\n* **UI:** Disable right click on range elements ([#5497](https://github.com/shaka-project/shaka-player/issues/5497)) ([1c55e89](https://github.com/shaka-project/shaka-player/commit/1c55e89586e1eb6be620af86061d981349643a28))\n* Update karma-local-wd-launcher to fix Chromedriver &gt;= 115, fix M1 mac ([#5489](https://github.com/shaka-project/shaka-player/issues/5489)) ([1ce673b](https://github.com/shaka-project/shaka-player/commit/1ce673b0442ea401037fc084342a3cd3ff801f21))\n* Update karma-local-wd-launcher to fix Edge &gt;= 115 ([#5506](https://github.com/shaka-project/shaka-player/issues/5506)) ([4a9bc9b](https://github.com/shaka-project/shaka-player/commit/4a9bc9b2cef1f5c352eeebf6998162260a2973db))\n* **WebVTT:** Fix text-shadow in WebVTT not working ([#5499](https://github.com/shaka-project/shaka-player/issues/5499)) ([d78547a](https://github.com/shaka-project/shaka-player/commit/d78547a79b8356b6040dbc73d922b1b87822b541))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5512/checks?check_run_id=16036442513) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.3.9 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.9 (#5512)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f13d6ca63ac8d88f1b9",
    "number": 5511,
    "body": null,
    "head_branch": "deflake",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f14d6ca63ac8d88f1ba",
    "number": 5510,
    "body": "This updates the bug template for the bug report button in the demo, to be closer to the current bug template.\r\nIt also adds the bug label, and makes it fill out the URIs of the asset playing in a more readable way.\r\n\r\nFixes #5056",
    "head_branch": "demoBugBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(demo): Improve bug report button in demo (#5510)\n\nThis updates the bug template for the bug report button in the demo, to be closer to the current bug template.\r\nIt also adds the bug label, and makes it fill out the URIs of the asset playing in a more readable way.\r\n\r\nFixes #5056"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f15d6ca63ac8d88f1bb",
    "number": 5509,
    "body": null,
    "head_branch": "fix-chrome-mac-on-github",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Fix Chrome failures on Mac VMs (#5509)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f16d6ca63ac8d88f1bc",
    "number": 5508,
    "body": "Power-saving features on Chrome and Edge were subtly interfering with playback tests.  Timers could be throttled, and both video-only media and media in occluded windows could be paused by the browser.\r\n\r\nThis was discovered only after awaiting play() Promises in all tests. These Promises were being rejected with useful error messages that led to these discoveries.\r\n\r\nAwaiting play() requires us to disable stall detection during playback tests.  This is because on some platforms, stalls get resolved by calling pause() and then play(), which would cause the original awaited play() Promise to be rejected.\r\n\r\nFinally, some Player tests created additional Player instances that were unnecessary.  Removing those allowed me to centralize most of the configuration to disable stall detection.",
    "head_branch": "deflake",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "The change LGTM. However I see that `macos-latest` tests are failing.",
      "Yes, and this doesn't fix it, but it does make the failures more clear: `NotSupportedError: The element has no supported sources.`  This is a clue we didn't have before the `await` was added."
    ],
    "commit_messages": [
      "test: Disable power-saving features on both Chrome and Edge (#5508)\n\nPower-saving features on Chrome and Edge were subtly interfering with\r\nplayback tests. Timers could be throttled, and both video-only media and\r\nmedia in occluded windows could be paused by the browser.\r\n\r\nThis was discovered only after awaiting play() Promises in all tests.\r\nThese Promises were being rejected with useful error messages that led\r\nto these discoveries.\r\n\r\nAwaiting play() requires us to disable stall detection during playback\r\ntests. This is because on some platforms, stalls get resolved by calling\r\npause() and then play(), which would cause the original awaited play()\r\nPromise to be rejected.\r\n\r\nFinally, some Player tests created additional Player instances that were\r\nunnecessary. Removing those allowed me to centralize most of the\r\nconfiguration to disable stall detection."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f17d6ca63ac8d88f1bd",
    "number": 5507,
    "body": " - Migrate waitUntilBuffered() into Waiter, which has better infrastructure for delayed events and debugging\r\n - Expand delays before expectations are measured",
    "head_branch": "deflake-player-integration",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Deflake player integration tests (#5507)\n\n- Migrate waitUntilBuffered() into Waiter, which has better\r\ninfrastructure for delayed events and debugging\r\n - Expand delays before expectations are measured"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f18d6ca63ac8d88f1be",
    "number": 5506,
    "body": null,
    "head_branch": "update-webdriver-installer",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix: Update karma-local-wd-launcher to fix Edge >= 115 (#5506)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f19d6ca63ac8d88f1bf",
    "number": 5505,
    "body": "This clones the most useful Chrome options for Edge, and adds --disable-gpu for both.  This should make rendering and layout tests more stable across devices.",
    "head_branch": "disable-gpu",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "This doesn't have the effect I had hoped."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f1ad6ca63ac8d88f1c0",
    "number": 5504,
    "body": null,
    "head_branch": "mac-playback-timeout",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 90.00%"
    ],
    "commit_messages": [
      "test: Fix playback test timeouts on Mac (#5504)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f1bd6ca63ac8d88f1c1",
    "number": 5503,
    "body": "The prefetch tests overwrite SegmentPrefetch with a fake version, but never restored it.  This left the API polluted with a fake.  This fixes that by backing up the original and restoring it after testing.\r\n\r\nThey also used createSpy in a way that caused runtime failures when babel was disabled (test.py --disable-babel), since the constructor spy can't be invoked with \"new\".  Babel translation masked this by rewriting ES6 classes.  Since no expectations were ever set on the spy, we can do away with it and simply replace the constructor with a function that can be invoked with \"new\" in all cases.",
    "head_branch": "fix-prefetch-tests",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Fix prefetch test pollution (#5503)\n\nThe prefetch tests overwrite SegmentPrefetch with a fake version, but\r\nnever restored it. This left the API polluted with a fake. This fixes\r\nthat by backing up the original and restoring it after testing.\r\n\r\nThey also used createSpy in a way that caused runtime failures when\r\nbabel was disabled (test.py --disable-babel), since the constructor spy\r\ncan't be invoked with \"new\". Babel translation masked this by rewriting\r\nES6 classes. Since no expectations were ever set on the spy, we can do\r\naway with it and simply replace the constructor with a function that can\r\nbe invoked with \"new\" in all cases."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f1cd6ca63ac8d88f1c2",
    "number": 5502,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3371\r\n\r\nStored content thumbnails are not supported.",
    "head_branch": "thumbnails-ui",
    "is_a_fork": true,
    "comments": [
      "@avelad Do you have a screenshot? And how does it work? :)",
      "\r\n\r\nhttps://github.com/shaka-project/shaka-player/assets/8983024/54d815c9-acd0-41be-a18d-19ec1716fe80\r\n\r\n",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(UI): Add thumbnails to the UI (#5502)\n\nCloses https://github.com/shaka-project/shaka-player/issues/3371\r\n\r\nStored content thumbnails are not supported."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f1dd6ca63ac8d88f1c3",
    "number": 5501,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/3784",
    "head_branch": "tfdt-loss-precision",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat: Parses a TFDT Box, with a loss of precision beyond 53 bits (#5501)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/3784"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f1ed6ca63ac8d88f1c4",
    "number": 5500,
    "body": "Info about the format in https://docs.fileformat.com/video/srt/",
    "head_branch": "srt-stylized",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat(SRT): Support stylized payload in SRT format (#5500)\n\nInfo about the format in https://docs.fileformat.com/video/srt/"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f1fd6ca63ac8d88f1c5",
    "number": 5499,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5020",
    "head_branch": "vtt-text-shadow",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(WebVTT): Fix text-shadow in WebVTT not working (#5499)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5020"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f20d6ca63ac8d88f1c6",
    "number": 5498,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5438",
    "head_branch": "readme-thumbnails",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Add thumbnails support to README (#5498)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5438"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f21d6ca63ac8d88f1c7",
    "number": 5497,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5450",
    "head_branch": "ui-right-click-range-elements",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 50.00%"
    ],
    "commit_messages": [
      "fix(UI): Disable right click on range elements (#5497)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5450"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f22d6ca63ac8d88f1c8",
    "number": 5496,
    "body": null,
    "head_branch": "bug-template-fairplay",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Update bug template (#5496)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f23d6ca63ac8d88f1c9",
    "number": 5495,
    "body": null,
    "head_branch": "ll-hls-byterange-optimization",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 81.82%"
    ],
    "commit_messages": [
      "feat(HLS): Fix update time when using LL-HLS and byterange optimization (#5495)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f24d6ca63ac8d88f1ca",
    "number": 5494,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5471",
    "head_branch": "playrangeend-hls",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix playRangeEnd does not work with HLS streams (#5494)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5471"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f25d6ca63ac8d88f1cb",
    "number": 5493,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5420",
    "head_branch": "duplicate-init-segment",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 71.43%"
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f26d6ca63ac8d88f1cc",
    "number": 5492,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5480",
    "head_branch": "duplicate-adaptation-event",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix: Remove duplicate adaptation event before init (#5492)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5480"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f27d6ca63ac8d88f1cd",
    "number": 5491,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5458\r\nFixes https://github.com/shaka-project/shaka-player/issues/5443",
    "head_branch": "hls-external-subs",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(HLS): Fix external subtitles out of sync in HLS (#5491)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5458\r\nFixes https://github.com/shaka-project/shaka-player/issues/5443"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f27d6ca63ac8d88f1ce",
    "number": 5490,
    "body": "This is consistent with a Google-internal change.",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Rename _F_toggleOrdinals to CLOSURE_TOGGLE_ORDINALS (#5490)\n\nThis is consistent with a Google-internal change."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f28d6ca63ac8d88f1cf",
    "number": 5489,
    "body": null,
    "head_branch": "upgrade-webdriver-installer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Update karma-local-wd-launcher to fix Chromedriver >= 115, fix M1 mac (#5489)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f29d6ca63ac8d88f1d0",
    "number": 5487,
    "body": "This global variable is generated by Google-internal tooling, and should be\r\nallowed.  It will not end up in the compiled code, only at an intermediate\r\nstage of compilation.",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Allow global variable generated by Google-internal tooling (#5487)\n\nThis global variable is generated by Google-internal tooling, and should be\r\nallowed.  It will not end up in the compiled code, only at an intermediate\r\nstage of compilation.\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f2ad6ca63ac8d88f1d1",
    "number": 5486,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5390",
    "head_branch": "mss-playready",
    "is_a_fork": true,
    "comments": [
      "Note: This PR is feat instead of fix because MSS support hasn't been released yet and is only in the main branch",
      "Incremental code coverage: 51.16%"
    ],
    "commit_messages": [
      "feat(MSS): Fix MSS PlayReady support (#5486)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5390"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f2bd6ca63ac8d88f1d2",
    "number": 5485,
    "body": null,
    "head_branch": "mss-assets",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "feat(Demo): Add MSS Playready asset (#5485)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f2cd6ca63ac8d88f1d3",
    "number": 5484,
    "body": null,
    "head_branch": "ac3-ec3-dvb",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 23.33%"
    ],
    "commit_messages": [
      "feat: Add support for AC-3 and EC-3 audio in DVB streams (#5484)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f2dd6ca63ac8d88f1d4",
    "number": 5481,
    "body": null,
    "head_branch": "hcodes-patch-1-1",
    "is_a_fork": true,
    "comments": [
      "/cc @avelad ",
      "Incremental code coverage: 0.00%"
    ],
    "commit_messages": [
      "fix: gettting maxWidth and maxHeight for restrictToElementSize option (#5481)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f2ed6ca63ac8d88f1d5",
    "number": 5478,
    "body": "closes [#5477](https://github.com/shaka-project/shaka-player/issues/5477)\r\n\r\nMoving `this.onNetworkInformationChange_ = null;` before creating the navigator.connection event listener.\r\nCurrently it resets it to null after creating the listener so the release() wont be able to remove the eventlistener\r\n",
    "head_branch": "fix-abrmanager-mem-leak",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix memory leak on SimpleAbrManager (#5478)\n\ncloses\r\n[#5477](https://github.com/shaka-project/shaka-player/issues/5477)\r\n\r\nMoving `this.onNetworkInformationChange_ = null;` before creating the\r\nnavigator.connection event listener.\r\nCurrently it resets it to null after creating the listener so the\r\nrelease() wont be able to remove the eventlistener"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f2fd6ca63ac8d88f1d6",
    "number": 5474,
    "body": "Bumps [word-wrap](https://github.com/jonschlinkert/word-wrap) from 1.2.3 to 1.2.5.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/jonschlinkert/word-wrap/releases\">word-wrap's releases</a>.</em></p>\n<blockquote>\n<h2>1.2.5</h2>\n<p><strong>Changes</strong>:</p>\n<p>Reverts default value for <code>options.indent</code> to two spaces <code>'  '</code>.</p>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/jonschlinkert/word-wrap/compare/1.2.4...1.2.5\">https://github.com/jonschlinkert/word-wrap/compare/1.2.4...1.2.5</a></p>\n<h2>1.2.4</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Remove default indent by <a href=\"https://github.com/mohd-akram\"><code>@​mohd-akram</code></a> in <a href=\"https://redirect.github.com/jonschlinkert/word-wrap/pull/24\">jonschlinkert/word-wrap#24</a></li>\n<li>🔒fix: CVE 2023 26115 (2) by <a href=\"https://github.com/OlafConijn\"><code>@​OlafConijn</code></a> in <a href=\"https://redirect.github.com/jonschlinkert/word-wrap/pull/41\">jonschlinkert/word-wrap#41</a></li>\n<li>:lock: fix: CVE-2023-26115 by <a href=\"https://github.com/aashutoshrathi\"><code>@​aashutoshrathi</code></a> in <a href=\"https://redirect.github.com/jonschlinkert/word-wrap/pull/33\">jonschlinkert/word-wrap#33</a></li>\n<li>chore: publish workflow by <a href=\"https://github.com/OlafConijn\"><code>@​OlafConijn</code></a> in <a href=\"https://redirect.github.com/jonschlinkert/word-wrap/pull/42\">jonschlinkert/word-wrap#42</a></li>\n</ul>\n<h2>New Contributors</h2>\n<ul>\n<li><a href=\"https://github.com/mohd-akram\"><code>@​mohd-akram</code></a> made their first contribution in <a href=\"https://redirect.github.com/jonschlinkert/word-wrap/pull/24\">jonschlinkert/word-wrap#24</a></li>\n<li><a href=\"https://github.com/OlafConijn\"><code>@​OlafConijn</code></a> made their first contribution in <a href=\"https://redirect.github.com/jonschlinkert/word-wrap/pull/41\">jonschlinkert/word-wrap#41</a></li>\n<li><a href=\"https://github.com/aashutoshrathi\"><code>@​aashutoshrathi</code></a> made their first contribution in <a href=\"https://redirect.github.com/jonschlinkert/word-wrap/pull/33\">jonschlinkert/word-wrap#33</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/jonschlinkert/word-wrap/compare/1.2.3...1.2.4\">https://github.com/jonschlinkert/word-wrap/compare/1.2.3...1.2.4</a></p>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/jonschlinkert/word-wrap/commit/207044ebda1dd3809d15b6000a48409266536771\"><code>207044e</code></a> 1.2.5</li>\n<li><a href=\"https://github.com/jonschlinkert/word-wrap/commit/98943154855b0dd79b707462b9202614990c7f61\"><code>9894315</code></a> revert default indent</li>\n<li><a href=\"https://github.com/jonschlinkert/word-wrap/commit/f64b188c7261d26b99e1e2075d6b12f21798e83a\"><code>f64b188</code></a> run verb to generate README</li>\n<li><a href=\"https://github.com/jonschlinkert/word-wrap/commit/03ea08256ba0c8e8b02b1b304f0f5bd2b1863207\"><code>03ea082</code></a> Merge pull request <a href=\"https://redirect.github.com/jonschlinkert/word-wrap/issues/42\">#42</a> from jonschlinkert/chore/publish-workflow</li>\n<li><a href=\"https://github.com/jonschlinkert/word-wrap/commit/420dce9a2412b21881202b73a3c34f0edc53cb2e\"><code>420dce9</code></a> Merge pull request <a href=\"https://redirect.github.com/jonschlinkert/word-wrap/issues/41\">#41</a> from jonschlinkert/fix/CVE-2023-26115-2</li>\n<li><a href=\"https://github.com/jonschlinkert/word-wrap/commit/bfa694edf55bb84ff84512f13da6d68bf7593f06\"><code>bfa694e</code></a> Update .github/workflows/publish.yml</li>\n<li><a href=\"https://github.com/jonschlinkert/word-wrap/commit/ace0b3c78f81aaf43040bab3bc91d3c5546d3fd2\"><code>ace0b3c</code></a> chore: bump version to 1.2.4</li>\n<li><a href=\"https://github.com/jonschlinkert/word-wrap/commit/6fd727594676f3e1b196b08a320908bec2f4ca02\"><code>6fd7275</code></a> chore: add publish workflow</li>\n<li><a href=\"https://github.com/jonschlinkert/word-wrap/commit/30d6daf60fce429f5f559252fa86ee78200652c4\"><code>30d6daf</code></a> chore: fix test</li>\n<li><a href=\"https://github.com/jonschlinkert/word-wrap/commit/655929cabea6299dddf3b4a21fc3713fca701b48\"><code>655929c</code></a> chore: remove package-lock</li>\n<li>Additional commits viewable in <a href=\"https://github.com/jonschlinkert/word-wrap/compare/1.2.3...1.2.5\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=word-wrap&package-manager=npm_and_yarn&previous-version=1.2.3&new-version=1.2.5)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/shaka-project/shaka-player/network/alerts).\n\n</details>",
    "head_branch": "dependabot/npm_and_yarn/word-wrap-1.2.5",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "build(deps-dev): bump word-wrap from 1.2.3 to 1.2.5 (#5474)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f30d6ca63ac8d88f1d7",
    "number": 5473,
    "body": "Bumps [flask](https://github.com/pallets/flask) from 2.0.3 to 2.2.5.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/pallets/flask/releases\">flask's releases</a>.</em></p>\n<blockquote>\n<h2>2.2.5</h2>\n<p>This is a security fix release for the 2.2.x release branch. Note that 2.3.x is the currently supported release branch; please upgrade to the latest version if possible.</p>\n<ul>\n<li>Security advisory: <a href=\"https://github.com/pallets/flask/security/advisories/GHSA-m2qf-hxjv-5gpq\">https://github.com/pallets/flask/security/advisories/GHSA-m2qf-hxjv-5gpq</a>, CVE-2023-30861</li>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-5\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-5</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/30?closed=1\">https://github.com/pallets/flask/milestone/30?closed=1</a></li>\n</ul>\n<h2>2.2.4</h2>\n<p>This is a fix release for the 2.2.x release branch.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-4\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-4</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/27?closed=1\">https://github.com/pallets/flask/milestone/27?closed=1</a></li>\n</ul>\n<h2>2.2.3</h2>\n<p>This is a fix release for the 2.2.x release branch.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-3\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-3</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/26?closed=1\">https://github.com/pallets/flask/milestone/26?closed=1</a></li>\n</ul>\n<h2>2.2.2</h2>\n<p>This is a fix release for the <a href=\"https://github.com/pallets/flask/releases/tag/2.2.0\">2.2.0</a> feature release.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-2\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-2</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/25?closed=1\">https://github.com/pallets/flask/milestone/25?closed=1</a></li>\n</ul>\n<h2>2.2.1</h2>\n<p>This is a fix release for the <a href=\"https://github.com/pallets/flask/releases/tag/2.2.0\">2.2.0</a> feature release.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-1\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-1</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/23?closed=1\">https://github.com/pallets/flask/milestone/23?closed=1</a></li>\n</ul>\n<h2>2.2.0</h2>\n<p>This is a feature release, which includes new features and removes previously deprecated code. The 2.2.x branch is now the supported bug fix branch, the 2.1.x branch will become a tag marking the end of support for that branch. We encourage everyone to upgrade, and to use a tool such as <a href=\"https://pypi.org/project/pip-tools/\">pip-tools</a> to pin all dependencies and control upgrades.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-0\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-0</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/19?closed=1\">https://github.com/pallets/flask/milestone/19?closed=1</a></li>\n</ul>\n<h2>2.1.3</h2>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.1.x/changes/#version-2-1-3\">https://flask.palletsprojects.com/en/2.1.x/changes/#version-2-1-3</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/22?closed=1\">https://github.com/pallets/flask/milestone/22?closed=1</a></li>\n</ul>\n<h2>2.1.2</h2>\n<p>This is a fix release for the <a href=\"https://github.com/pallets/flask/releases/tag/2.1.0\">2.1.0</a> feature release.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.1.x/changes/#version-2-1-2\">https://flask.palletsprojects.com/en/2.1.x/changes/#version-2-1-2</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/21?closed=1\">https://github.com/pallets/flask/milestone/21?closed=1</a></li>\n</ul>\n<h2>2.1.1</h2>\n<p>This is a fix release for the <a href=\"https://github.com/pallets/flask/releases/tag/2.1.0\">2.1.0</a> feature release.</p>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/pallets/flask/blob/main/CHANGES.rst\">flask's changelog</a>.</em></p>\n<blockquote>\n<h2>Version 2.2.5</h2>\n<p>Released 2023-05-02</p>\n<ul>\n<li>Update for compatibility with Werkzeug 2.3.3.</li>\n<li>Set <code>Vary: Cookie</code> header when the session is accessed, modified, or refreshed.</li>\n</ul>\n<h2>Version 2.2.4</h2>\n<p>Released 2023-04-25</p>\n<ul>\n<li>Update for compatibility with Werkzeug 2.3.</li>\n</ul>\n<h2>Version 2.2.3</h2>\n<p>Released 2023-02-15</p>\n<ul>\n<li>Autoescape is enabled by default for <code>.svg</code> template files. :issue:<code>4831</code></li>\n<li>Fix the type of <code>template_folder</code> to accept <code>pathlib.Path</code>. :issue:<code>4892</code></li>\n<li>Add <code>--debug</code> option to the <code>flask run</code> command. :issue:<code>4777</code></li>\n</ul>\n<h2>Version 2.2.2</h2>\n<p>Released 2022-08-08</p>\n<ul>\n<li>Update Werkzeug dependency to &gt;= 2.2.2. This includes fixes related\nto the new faster router, header parsing, and the development\nserver. :pr:<code>4754</code></li>\n<li>Fix the default value for <code>app.env</code> to be <code>&quot;production&quot;</code>. This\nattribute remains deprecated. :issue:<code>4740</code></li>\n</ul>\n<h2>Version 2.2.1</h2>\n<p>Released 2022-08-03</p>\n<ul>\n<li>Setting or accessing <code>json_encoder</code> or <code>json_decoder</code> raises a\ndeprecation warning. :issue:<code>4732</code></li>\n</ul>\n<h2>Version 2.2.0</h2>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/pallets/flask/commit/47af817c8fe01045c641b97f8fb784c7ad864eee\"><code>47af817</code></a> release version 2.2.5</li>\n<li><a href=\"https://github.com/pallets/flask/commit/afd63b16170b7c047f5758eb910c416511e9c965\"><code>afd63b1</code></a> Merge pull request <a href=\"https://redirect.github.com/pallets/flask/issues/5109\">#5109</a> from pallets/backport-vary-cookie</li>\n<li><a href=\"https://github.com/pallets/flask/commit/8646edca6f47e2cd57464081b3911218d4734f8d\"><code>8646edc</code></a> set <code>Vary: Cookie</code> header consistently for session</li>\n<li><a href=\"https://github.com/pallets/flask/commit/a6367dac747c1e149c60767eee7e8aa9c281c58e\"><code>a6367da</code></a> Merge pull request <a href=\"https://redirect.github.com/pallets/flask/issues/5108\">#5108</a> from pallets/werkzeug-compat</li>\n<li><a href=\"https://github.com/pallets/flask/commit/3fbfbad79fe294918459b70eb409d555b20de2c8\"><code>3fbfbad</code></a> werkzeug 2.3.3 compatibility</li>\n<li><a href=\"https://github.com/pallets/flask/commit/726d3f4fa9e8a2960541debc2d2713571da54441\"><code>726d3f4</code></a> start version 2.2.5</li>\n<li><a href=\"https://github.com/pallets/flask/commit/ddc7accaa2e83b328f969c120af2ce0804876b4a\"><code>ddc7acc</code></a> Merge pull request <a href=\"https://redirect.github.com/pallets/flask/issues/5081\">#5081</a> from pallets/release-2.2.4</li>\n<li><a href=\"https://github.com/pallets/flask/commit/74e03298200e33951ca350a35aa3a8c0b4ff8177\"><code>74e0329</code></a> release version 2.2.4</li>\n<li><a href=\"https://github.com/pallets/flask/commit/2d460685b1b3d66c713739ee91183c22fb2e5dc8\"><code>2d46068</code></a> update dev env</li>\n<li><a href=\"https://github.com/pallets/flask/commit/64bc45874daf4b9828830ea0037a19beb8364ee3\"><code>64bc458</code></a> update dev dependencies</li>\n<li>Additional commits viewable in <a href=\"https://github.com/pallets/flask/compare/2.0.3...2.2.5\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=flask&package-manager=pip&previous-version=2.0.3&new-version=2.2.5)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/shaka-project/shaka-player/network/alerts).\n\n</details>",
    "head_branch": "dependabot/pip/app-engine/shaka-player-demo/flask-2.2.5",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: bump flask from 2.0.3 to 2.2.5 in /app-engine/shaka-player-demo (#5473)\n\nSigned-off-by: dependabot[bot] <support@github.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f31d6ca63ac8d88f1d8",
    "number": 5472,
    "body": "Bumps [flask](https://github.com/pallets/flask) from 2.0.3 to 2.2.5.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/pallets/flask/releases\">flask's releases</a>.</em></p>\n<blockquote>\n<h2>2.2.5</h2>\n<p>This is a security fix release for the 2.2.x release branch. Note that 2.3.x is the currently supported release branch; please upgrade to the latest version if possible.</p>\n<ul>\n<li>Security advisory: <a href=\"https://github.com/pallets/flask/security/advisories/GHSA-m2qf-hxjv-5gpq\">https://github.com/pallets/flask/security/advisories/GHSA-m2qf-hxjv-5gpq</a>, CVE-2023-30861</li>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-5\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-5</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/30?closed=1\">https://github.com/pallets/flask/milestone/30?closed=1</a></li>\n</ul>\n<h2>2.2.4</h2>\n<p>This is a fix release for the 2.2.x release branch.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-4\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-4</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/27?closed=1\">https://github.com/pallets/flask/milestone/27?closed=1</a></li>\n</ul>\n<h2>2.2.3</h2>\n<p>This is a fix release for the 2.2.x release branch.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-3\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-3</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/26?closed=1\">https://github.com/pallets/flask/milestone/26?closed=1</a></li>\n</ul>\n<h2>2.2.2</h2>\n<p>This is a fix release for the <a href=\"https://github.com/pallets/flask/releases/tag/2.2.0\">2.2.0</a> feature release.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-2\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-2</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/25?closed=1\">https://github.com/pallets/flask/milestone/25?closed=1</a></li>\n</ul>\n<h2>2.2.1</h2>\n<p>This is a fix release for the <a href=\"https://github.com/pallets/flask/releases/tag/2.2.0\">2.2.0</a> feature release.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-1\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-1</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/23?closed=1\">https://github.com/pallets/flask/milestone/23?closed=1</a></li>\n</ul>\n<h2>2.2.0</h2>\n<p>This is a feature release, which includes new features and removes previously deprecated code. The 2.2.x branch is now the supported bug fix branch, the 2.1.x branch will become a tag marking the end of support for that branch. We encourage everyone to upgrade, and to use a tool such as <a href=\"https://pypi.org/project/pip-tools/\">pip-tools</a> to pin all dependencies and control upgrades.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-0\">https://flask.palletsprojects.com/en/2.2.x/changes/#version-2-2-0</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/19?closed=1\">https://github.com/pallets/flask/milestone/19?closed=1</a></li>\n</ul>\n<h2>2.1.3</h2>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.1.x/changes/#version-2-1-3\">https://flask.palletsprojects.com/en/2.1.x/changes/#version-2-1-3</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/22?closed=1\">https://github.com/pallets/flask/milestone/22?closed=1</a></li>\n</ul>\n<h2>2.1.2</h2>\n<p>This is a fix release for the <a href=\"https://github.com/pallets/flask/releases/tag/2.1.0\">2.1.0</a> feature release.</p>\n<ul>\n<li>Changes: <a href=\"https://flask.palletsprojects.com/en/2.1.x/changes/#version-2-1-2\">https://flask.palletsprojects.com/en/2.1.x/changes/#version-2-1-2</a></li>\n<li>Milestone: <a href=\"https://github.com/pallets/flask/milestone/21?closed=1\">https://github.com/pallets/flask/milestone/21?closed=1</a></li>\n</ul>\n<h2>2.1.1</h2>\n<p>This is a fix release for the <a href=\"https://github.com/pallets/flask/releases/tag/2.1.0\">2.1.0</a> feature release.</p>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/pallets/flask/blob/main/CHANGES.rst\">flask's changelog</a>.</em></p>\n<blockquote>\n<h2>Version 2.2.5</h2>\n<p>Released 2023-05-02</p>\n<ul>\n<li>Update for compatibility with Werkzeug 2.3.3.</li>\n<li>Set <code>Vary: Cookie</code> header when the session is accessed, modified, or refreshed.</li>\n</ul>\n<h2>Version 2.2.4</h2>\n<p>Released 2023-04-25</p>\n<ul>\n<li>Update for compatibility with Werkzeug 2.3.</li>\n</ul>\n<h2>Version 2.2.3</h2>\n<p>Released 2023-02-15</p>\n<ul>\n<li>Autoescape is enabled by default for <code>.svg</code> template files. :issue:<code>4831</code></li>\n<li>Fix the type of <code>template_folder</code> to accept <code>pathlib.Path</code>. :issue:<code>4892</code></li>\n<li>Add <code>--debug</code> option to the <code>flask run</code> command. :issue:<code>4777</code></li>\n</ul>\n<h2>Version 2.2.2</h2>\n<p>Released 2022-08-08</p>\n<ul>\n<li>Update Werkzeug dependency to &gt;= 2.2.2. This includes fixes related\nto the new faster router, header parsing, and the development\nserver. :pr:<code>4754</code></li>\n<li>Fix the default value for <code>app.env</code> to be <code>&quot;production&quot;</code>. This\nattribute remains deprecated. :issue:<code>4740</code></li>\n</ul>\n<h2>Version 2.2.1</h2>\n<p>Released 2022-08-03</p>\n<ul>\n<li>Setting or accessing <code>json_encoder</code> or <code>json_decoder</code> raises a\ndeprecation warning. :issue:<code>4732</code></li>\n</ul>\n<h2>Version 2.2.0</h2>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/pallets/flask/commit/47af817c8fe01045c641b97f8fb784c7ad864eee\"><code>47af817</code></a> release version 2.2.5</li>\n<li><a href=\"https://github.com/pallets/flask/commit/afd63b16170b7c047f5758eb910c416511e9c965\"><code>afd63b1</code></a> Merge pull request <a href=\"https://redirect.github.com/pallets/flask/issues/5109\">#5109</a> from pallets/backport-vary-cookie</li>\n<li><a href=\"https://github.com/pallets/flask/commit/8646edca6f47e2cd57464081b3911218d4734f8d\"><code>8646edc</code></a> set <code>Vary: Cookie</code> header consistently for session</li>\n<li><a href=\"https://github.com/pallets/flask/commit/a6367dac747c1e149c60767eee7e8aa9c281c58e\"><code>a6367da</code></a> Merge pull request <a href=\"https://redirect.github.com/pallets/flask/issues/5108\">#5108</a> from pallets/werkzeug-compat</li>\n<li><a href=\"https://github.com/pallets/flask/commit/3fbfbad79fe294918459b70eb409d555b20de2c8\"><code>3fbfbad</code></a> werkzeug 2.3.3 compatibility</li>\n<li><a href=\"https://github.com/pallets/flask/commit/726d3f4fa9e8a2960541debc2d2713571da54441\"><code>726d3f4</code></a> start version 2.2.5</li>\n<li><a href=\"https://github.com/pallets/flask/commit/ddc7accaa2e83b328f969c120af2ce0804876b4a\"><code>ddc7acc</code></a> Merge pull request <a href=\"https://redirect.github.com/pallets/flask/issues/5081\">#5081</a> from pallets/release-2.2.4</li>\n<li><a href=\"https://github.com/pallets/flask/commit/74e03298200e33951ca350a35aa3a8c0b4ff8177\"><code>74e0329</code></a> release version 2.2.4</li>\n<li><a href=\"https://github.com/pallets/flask/commit/2d460685b1b3d66c713739ee91183c22fb2e5dc8\"><code>2d46068</code></a> update dev env</li>\n<li><a href=\"https://github.com/pallets/flask/commit/64bc45874daf4b9828830ea0037a19beb8364ee3\"><code>64bc458</code></a> update dev dependencies</li>\n<li>Additional commits viewable in <a href=\"https://github.com/pallets/flask/compare/2.0.3...2.2.5\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=flask&package-manager=pip&previous-version=2.0.3&new-version=2.2.5)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/shaka-project/shaka-player/network/alerts).\n\n</details>",
    "head_branch": "dependabot/pip/app-engine/demo-version-index/flask-2.2.5",
    "is_a_fork": false,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: bump flask from 2.0.3 to 2.2.5 in /app-engine/demo-version-index (#5472)\n\nSigned-off-by: dependabot[bot] <support@github.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f32d6ca63ac8d88f1d9",
    "number": 5470,
    "body": "Closes: https://github.com/shaka-project/shaka-player/issues/1528\r\nCloses: https://github.com/shaka-project/shaka-player/issues/1567\r\nCloses: https://github.com/shaka-project/shaka-player/issues/4379\r\nCloses: https://github.com/shaka-project/shaka-player/issues/5306",
    "head_branch": "enable-codec-switching",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 88.32%",
      "I am on paternity leave, but I want to review this when I return (1 week approx)."
    ],
    "commit_messages": [
      "feat: Enable codec switching (#5470)\n\nCloses: https://github.com/shaka-project/shaka-player/issues/1528\r\nCloses: https://github.com/shaka-project/shaka-player/issues/1567\r\nCloses: https://github.com/shaka-project/shaka-player/issues/4379\r\nCloses: https://github.com/shaka-project/shaka-player/issues/5306\r\n\r\n---------\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f33d6ca63ac8d88f1da",
    "number": 5468,
    "body": "For readability, the order of before*/after* functions should be the same as their execution order:\r\n - beforeAll\r\n - beforeEach\r\n - afterEach\r\n - afterAll\r\n\r\nThis fixes the order for ad tests.",
    "head_branch": "readable-test-setup",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Readable order for ad test setup (#5468)\n\nFor readability, the order of before*/after* functions should be the\r\nsame as their execution order:\r\n - beforeAll\r\n - beforeEach\r\n - afterEach\r\n - afterAll\r\n\r\nThis fixes the order for ad tests."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f34d6ca63ac8d88f1db",
    "number": 5467,
    "body": "The demo tests occasionally timeout, in spite of being synchronous test cases.  This is because of an async teardown process between tests, which can sometimes hang.\r\n\r\nThis may indicate some condition in which player.destroy() could hang, though I have been unable to replicate that hypothetical condition in an explicit unit test.\r\n\r\nThe hang goes away if we don't attach to the video element.  Since the tests don't use the video element directly or attempt to load any content, we can just skip the video element attachment.\r\n\r\nAnother thing that appears to resolve the hang is to await attach(), so a comment has been left to warn anyone modifying the code in the future not to use the constructor argument to attach a video element.",
    "head_branch": "deflake-demo-tests",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Deflake demo tests (#5467)\n\nThe demo tests occasionally timeout, in spite of being synchronous test\r\ncases. This is because of an async teardown process between tests, which\r\ncan sometimes hang.\r\n\r\nThis may indicate some condition in which player.destroy() could hang,\r\nthough I have been unable to replicate that hypothetical condition in an\r\nexplicit unit test.\r\n\r\nThe hang goes away if we don't attach to the video element. Since the\r\ntests don't use the video element directly or attempt to load any\r\ncontent, we can just skip the video element attachment.\r\n\r\nAnother thing that appears to resolve the hang is to await attach(), so\r\na comment has been left to warn anyone modifying the code in the future\r\nnot to use the constructor argument to attach a video element."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f35d6ca63ac8d88f1dc",
    "number": 5466,
    "body": "Some UI tests would fail with a timeout during teardown.  This may indicate some condition in which player.destroy() could hang, though I have been unable to replicate that hypothetical condition in an explicit unit test.\r\n\r\nSince that issue has nothing to do with the UI tests, set a 10-second timeout for UI teardown, after which we move on without a failure.\r\n\r\nThis also adds a check for container.parentElement before removing child elements, since at least once I saw an exception during test teardown from an element that was already removed from its parent by that point.",
    "head_branch": "deflake-ui-teardown",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Deflake UI test teardown (#5466)\n\nSome UI tests would fail with a timeout during teardown. This may\r\nindicate some condition in which player.destroy() could hang, though I\r\nhave been unable to replicate that hypothetical condition in an explicit\r\nunit test.\r\n\r\nSince that issue has nothing to do with the UI tests, set a 10-second\r\ntimeout for UI teardown, after which we move on without a failure.\r\n\r\nThis also adds a check for container.parentElement before removing child\r\nelements, since at least once I saw an exception during test teardown\r\nfrom an element that was already removed from its parent by that point."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f36d6ca63ac8d88f1dd",
    "number": 5465,
    "body": "We used to have a timeout of 1s, for a test that could theoretically complete in 0.3s.  However, on heavily-loaded test devices, this was failing on occasion.\r\n\r\nNow, we just wait for completion with no timeout.  The default timeout of 120s per test will trigger if the test truly fails.",
    "head_branch": "deflake-sidx",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Deflake slow SegmentIndex test (#5465)\n\nWe used to have a timeout of 1s, for a test that could theoretically\r\ncomplete in 0.3s. However, on heavily-loaded test devices, this was\r\nfailing on occasion.\r\n\r\nNow, we just wait for completion with no timeout. The default timeout of\r\n120s per test will trigger if the test truly fails."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f37d6ca63ac8d88f1de",
    "number": 5464,
    "body": "Set default language to `und` for native audio/text tracks if missing.",
    "head_branch": "wt-safari-lang",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Default language to 'und' for native tracks (#5464)\n\nSet default language to `und` for native audio/text tracks if missing."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f38d6ca63ac8d88f1df",
    "number": 5460,
    "body": "Close #5461 ",
    "head_branch": "feat/audio-groups",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 97.67%",
      "@nrcrast can you rebase and fix the tests? Thanks!",
      "Closing due to inactivity. If the author would like to continue this PR, they can reopen it (preferred) or start a new one (if needed)."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f39d6ca63ac8d88f1e0",
    "number": 5459,
    "body": "# Migration of LCEVC DIL (Decoder Integration layer) to LCEVC Dec (Decoder)\r\n\r\n# Description\r\nWe are in the process of deprecating LCEVC DIL and migrating Integrations to LCEVC Dec. We also have a new library for the LCEVCDec on  [NPM](https://www.npmjs.com/package/lcevc_dec.js?activeTab=readme)\r\n\r\nThe new LCEVCDec has bug fixes for sync issues with VOD contents, and LCEVC Decode functionality for LIVE contents. There are new features to handle different streaming formats with timestamp offsets being passed to the Decoder.\r\n\r\nThe integration itself is very similar to the existing integration with some added parameters to existing functions and a new extern to handle additional features.\r\n\r\nWe have also added a quick start guide in the documentation and updated more LCEVC contents with different combination of containers and streaming formats.\r\n\r\n# Documentation\r\nAll integration related documentation is available at [docs/design/lcevc-integration.md](https://github.com/v-novaltd/shaka-player/blob/lcevcDecJSMigration/docs/design/lcevc-integration.md)\r\n\r\nQuick Start guide is available at [docs/tutorials/lcevc.md](https://github.com/v-novaltd/shaka-player/blob/lcevcDecJSMigration/docs/tutorials/lcevc.md)\r\n\r\n# Executed Tasks\r\n- [ ]  Signed Google CLA\r\n- [ ]  Builds build/all.py successfully\r\n- [ ]  Runs build/test.py successfully",
    "head_branch": "lcevcDecJSMigration",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed.",
      "Hi @avelad @joeyparrish is this PR ready to be merged, or will you guys be checking and merging the PR on your side?",
      "Hi @v-nova-vinod, for me it's ready to merge, but @joeyparrish 's review is still necessary... sorry!",
      "Thanks @v-nova-vinod !"
    ],
    "commit_messages": [
      "feat: Migration of LCEVC DIL (Decoder Integration Layer) to LCEVC Dec (Decoder) (#5459)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f3ad6ca63ac8d88f1e1",
    "number": 5457,
    "body": "The test util for fetching small files should be based on fetch() instead of XHR.",
    "head_branch": "simplify-fetch-util",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Simplify fetch test util (#5457)\n\nThe test util for fetching small files should be based on fetch() instead of XHR."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f3bd6ca63ac8d88f1e2",
    "number": 5456,
    "body": null,
    "head_branch": "cast-utils-flake",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Disable flaky test suite for deprecated feature (#5456)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f3cd6ca63ac8d88f1e3",
    "number": 5455,
    "body": "When we first deployed certificates from letsencrypt, we did not know about the \"live\" folder, which contains helpful symlinks to the latest certificate.  Instead, we were copying the entire \"archive\" folder, which contains even old certs, then searching that folder for the latest version.  We should be using the \"live\" folder instead, letting certbot maintain the symlinks.  This means there is no need for --lets-encrypt-folder in test.py.",
    "head_branch": "lab-cert-location",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "test: Drop --lets-encrypt-folder from test.py (#5455)\n\nWhen we first deployed certificates from letsencrypt, we did not know\r\nabout the \"live\" folder, which contains helpful symlinks to the latest\r\ncertificate. Instead, we were copying the entire \"archive\" folder, which\r\ncontains even old certs, then searching that folder for the latest\r\nversion. We should be using the \"live\" folder instead, letting certbot\r\nmaintain the symlinks. This means there is no need for\r\n--lets-encrypt-folder in test.py."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f3dd6ca63ac8d88f1e4",
    "number": 5454,
    "body": "These are the correct codec strings according to the specification:\r\n1. https://datatracker.ietf.org/doc/html/rfc8216#section-4.3.4.2\r\n2. https://datatracker.ietf.org/doc/html/rfc6381#section-3.3\r\n3. https://mp4ra.org/#/codecs\r\n\r\nThe first commit just cleans up some code a bit.\r\nThe second commit provides a workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=1422728\r\nThe third commit adds support for fLaC and Opus codec strings in HLS.\r\n\r\nFixes: #5453",
    "head_branch": "HLS-fLaC-Opus-fix",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 98.25%"
    ],
    "commit_messages": [
      "fix: Support fLaC and Opus codec strings in HLS (#5454)\n\nFixes: #5453"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f3ed6ca63ac8d88f1e5",
    "number": 5452,
    "body": null,
    "head_branch": "wt-safari-vtt",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: add MIME type for HTML5 tracks (#5452)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f3fd6ca63ac8d88f1e6",
    "number": 5449,
    "body": " - In karma.conf.js, give ourselves the ability to merge Selenium configs together without clobbering argument lists, for better deduplication in shaka-lab.yaml.  This is based on https://github.com/shaka-project/karma-local-wd-launcher/pull/50\r\n - Refactor shaka-lab.yaml to take advantage of this new ability.  This removes a bunch of duplicate command line arguments for various versions of Chrome.\r\n - Remove a TODO about a bug that Chrome decided they would never fix.\r\n - Sort the list of devices and platforms, with comments to mark out the sections.\r\n - Remove IE11, which we are well past supporting or testing.\r\n\r\nThis should be cherry-picked to all active branches.",
    "head_branch": "refactor-lab",
    "is_a_fork": true,
    "comments": [
      "Fixed linter errors, but not before I remembered the rules change we discussed.  So @theodab's review was dismissed when I pushed.  PTAL!",
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Refactor and update Shaka lab definitions (#5449)\n\n- In karma.conf.js, give ourselves the ability to merge Selenium configs together without clobbering argument lists, for better deduplication in shaka-lab.yaml.  This is based on https://github.com/shaka-project/karma-local-wd-launcher/pull/50\r\n - Refactor shaka-lab.yaml to take advantage of this new ability.  This removes a bunch of duplicate command line arguments for various versions of Chrome.\r\n - Remove a TODO about a bug that Chrome decided they would never fix.\r\n - Sort the list of devices and platforms, with comments to mark out the sections.\r\n - Remove IE11, which we are well past supporting or testing.\r\n\r\nThis should be cherry-picked to all active branches."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f40d6ca63ac8d88f1e7",
    "number": 5448,
    "body": "While working on some lab infrastructure changes, I ended up with screenshot commands timing out.  This ended up triggering a surprising error condition that we didn't handle correctly.  This adds a check for this condition, and some helpful debug logs for it.  The underlying issue is solved now, but should it ever return, this will help.",
    "head_branch": "debug-screenshot",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: Debug unexpected screenshot failures (#5448)\n\nWhile working on some lab infrastructure changes, I ended up with\r\nscreenshot commands timing out. This ended up triggering a surprising\r\nerror condition that we didn't handle correctly. This adds a check for\r\nthis condition, and some helpful debug logs for it. The underlying issue\r\nis solved now, but should it ever return, this will help."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f41d6ca63ac8d88f1e8",
    "number": 5442,
    "body": "When we exported `PeriodCombiner` in https://github.com/shaka-project/shaka-player/pull/5324 we added an `@export` to `PeriodCombiner.Period`, and since then we've been testing in our dogfood builds using shaka-player.compiled.debug, because we like to get logs from dogfood. Everything was working great.\r\n\r\nWhen we went to switch over to the production build, we realized that `@export` on a `typedef` doesn't really work because the type gets minified internally!!\r\n\r\nThis PR moves `Period` over to `extern` so that it does not get minified and can be used externally.",
    "head_branch": "fix_typing_period_combiner",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Typing of PeriodCombiner.Period was incorrect (#5442)\n\nWhen we exported `PeriodCombiner` in\r\nhttps://github.com/shaka-project/shaka-player/pull/5324 we added an\r\n`@export` to `PeriodCombiner.Period`, and since then we've been testing\r\nin our dogfood builds using shaka-player.compiled.debug, because we like\r\nto get logs from dogfood. Everything was working great.\r\n\r\nWhen we went to switch over to the production build, we realized that\r\n`@export` on a `typedef` doesn't really work because the type gets\r\nminified internally!!\r\n\r\nThis moves `Period` over to `extern` so that it does not get minified\r\nand can be used externally."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f41d6ca63ac8d88f1e9",
    "number": 5440,
    "body": "This PR adds Chromium with webdriver to the Docker image, so it's now possible to run at least some subset of tests using Docker env.\r\nAdditionally, Alpine version has been bumped up, so recent version of Chromium can be used.",
    "head_branch": "wt-docker",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "ci: run tests in Docker (#5440)\n\nThis PR adds Chromium with webdriver to the Docker image, so it's now possible to run at least some subset of tests using Docker env.\r\nAdditionally, Alpine version has been bumped up, so recent version of Chromium can be used."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f42d6ca63ac8d88f1ea",
    "number": 5439,
    "body": "`screen.orientation.unlock` is not defined on Safari, even though `screen.orientation` is.\r\nThis changes our orientation polyfill to add that method to `screen.orientation`.\r\n\r\nFixes #5437",
    "head_branch": "screenOrientBranch",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 31.25%",
      "Hey @theodab With this should we even extend and patch the existing [Orientation Polyfill](https://shaka-player-demo.appspot.com/docs/api/shaka.polyfill.Orientation.html) with reference from https://github.com/chmanie/o9n#supported-browsers?",
      "> Hey @theodab With this should we even extend and patch the existing [Orientation Polyfill](https://shaka-player-demo.appspot.com/docs/api/shaka.polyfill.Orientation.html) with reference from https://github.com/chmanie/o9n#supported-browsers?\r\n\r\nI guess updating the polyfill would be nicer, you're right. It looks like that polyfill [just falls through to a no-op](https://github.com/chmanie/o9n/blob/f0da290b13214330c29de28e489baf28f189ca51/index.js#L195-L197) for Safari, so I'm not sure if it will be very relevant here as a reference though.",
      "Yes it's a noop for Safari, Reason for patching the polyfill as on custom apps the developers even noticing that an Orientation Polyfill exists but still it fails to handle it on Safari. "
    ],
    "commit_messages": [
      "fix: Fix exiting fullscreen on Safari (#5439)\n\n`screen.orientation.unlock` is not defined on Safari, even though `screen.orientation` is.\r\nThis changes our orientation polyfill to add that method to `screen.orientation`.\r\n\r\nFixes #5437"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f43d6ca63ac8d88f1eb",
    "number": 5434,
    "body": "This is an automated sync of common workflows for this organization.\nThe upstream source is:\nhttps://github.com/shaka-project/shaka-github-tools/commit/208556c5ea86a1329f7d1f36fdcf6ed6abbb907b\n",
    "head_branch": "sync-common-workflows",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Sync common workflows (#5434)\n\nThis is an automated sync of common workflows for this organization.\r\nThe upstream source is:\r\nhttps://github.com/shaka-project/shaka-github-tools/commit/208556c5ea86a1329f7d1f36fdcf6ed6abbb907b\r\n\r\nCo-authored-by: Shaka Bot <shaka-bot@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f44d6ca63ac8d88f1ec",
    "number": 5432,
    "body": "Closes #5390",
    "head_branch": "bugfix/protected-mss",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5432/checks?check_run_id=15286518316) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "Please, sign the CLA! Also add some test in https://github.com/shaka-project/shaka-player/blob/main/test/mss/mss_player_integration.js for PlayReady and test asset to the Demo. Thanks!",
      "Incremental code coverage: 53.66%",
      "Will figure out how to add an integration test.",
      "@unext-wendong please sign the CLA! Thanks!",
      "I am closing it due to the problems with CLA. The functionality will be added in https://github.com/shaka-project/shaka-player/pull/5486 and https://github.com/shaka-project/shaka-player/pull/5485",
      "@avelad Thanks."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f45d6ca63ac8d88f1ed",
    "number": 5429,
    "body": "Tizen 3 does not support Array.flat().  This fixes a runtime exception on Tizen 3 by replacing flat() with concat() and the spread operator. This also bans the use of flat().\r\n\r\nflat() was originally introduced in PR #5422",
    "head_branch": "fix-tizen-exception",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Fix exception on Tizen due to unsupported Array method (#5429)\n\nTizen 3 does not support Array.flat(). This fixes a runtime exception on\r\nTizen 3 by replacing flat() with concat() and the spread operator. This\r\nalso bans the use of flat().\r\n\r\nflat() was originally introduced in PR #5422"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f46d6ca63ac8d88f1ee",
    "number": 5428,
    "body": "The 'metadata' event was introduced in v4.3, and ID3 metadata from 'emsg' boxes dispatched through that event was no longer dispatched through the more general 'emsg' events.\r\n\r\nNow we will no longer exclude ID3 emsg boxes from the more general 'emsg' event.  This restores compatibility with Shaka v4.2.",
    "head_branch": "emsg-event-for-all-emsg",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "I updated the PR description after researching and determining that we only broke this in v4.3, so no other release branch is affected."
    ],
    "commit_messages": [
      "fix: Dispatch all emsg boxes, even if they are ID3 (#5428)\n\nThe 'metadata' event was introduced in v4.3, and ID3 metadata from\r\n'emsg' boxes dispatched through that event was no longer dispatched\r\nthrough the more general 'emsg' events.\r\n\r\nNow we will no longer exclude ID3 emsg boxes from the more general\r\n'emsg' event. This restores compatibility with Shaka v4.2."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f47d6ca63ac8d88f1ef",
    "number": 5427,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.8](https://github.com/shaka-project/shaka-player/compare/v4.3.7...v4.3.8) (2023-07-21)\n\n\n### Bug Fixes\n\n* **DASH:** Avoid \"Possible encoding problem detected!\" when appending chunked data ([#5376](https://github.com/shaka-project/shaka-player/issues/5376)) ([6ea1b0f](https://github.com/shaka-project/shaka-player/commit/6ea1b0f69fd946ee3011e3f5c60afb7a4bc787f2))\n* **Demo:** Trim custom manifestUri to avoid copy-paste errors ([#5378](https://github.com/shaka-project/shaka-player/issues/5378)) ([8cc4ad9](https://github.com/shaka-project/shaka-player/commit/8cc4ad9bc75ab35906963108677b7e8ddd102408))\n* Dispatch all emsg boxes, even if they are ID3 ([#5428](https://github.com/shaka-project/shaka-player/issues/5428)) ([dd649b9](https://github.com/shaka-project/shaka-player/commit/dd649b94683de06aa7e5c9d47dd90bdc63085c68))\n* **docs:** fix player configuration code in drm config tutorial ([#5359](https://github.com/shaka-project/shaka-player/issues/5359)) ([89e319f](https://github.com/shaka-project/shaka-player/commit/89e319fcd1bca115f909e29206288c5e52eee3f0))\n* **DRM:** broken keySystemsMapping due to multiple references of drmInfo ([#5388](https://github.com/shaka-project/shaka-player/issues/5388)) ([38b36fa](https://github.com/shaka-project/shaka-player/commit/38b36fa107b3f727babc04b161338333c6a10fbb))\n* Fix captions from MP4s with multiple trun boxes ([#5422](https://github.com/shaka-project/shaka-player/issues/5422)) ([64fa19f](https://github.com/shaka-project/shaka-player/commit/64fa19f956e0f5486be253c8c7f5965fe8022d6c)), closes [#5328](https://github.com/shaka-project/shaka-player/issues/5328)\n* Fix DASH rejection of streams with ColourPrimaries and MatrixCoefficients ([#5345](https://github.com/shaka-project/shaka-player/issues/5345)) ([78f6408](https://github.com/shaka-project/shaka-player/commit/78f6408c5b784e210d0add1a399d9c220af503eb))\n* Fix exception on Tizen due to unsupported Array method ([#5429](https://github.com/shaka-project/shaka-player/issues/5429)) ([527af7f](https://github.com/shaka-project/shaka-player/commit/527af7f38c3cf9ecd1355706203c8c075523e0e2))\n* Fix failure when drivers lag behind browser ([#5423](https://github.com/shaka-project/shaka-player/issues/5423)) ([98e2c3e](https://github.com/shaka-project/shaka-player/commit/98e2c3e857ed2da3e0b6139b9da64244b67db788))\n* Gap jump at start when first jump lands in a new gap ([#5408](https://github.com/shaka-project/shaka-player/issues/5408)) ([9cb92eb](https://github.com/shaka-project/shaka-player/commit/9cb92eb96ec38a7eec7604210fcff74d6ec5dff5))\n* gap jumping when gap exists at start position ([#5384](https://github.com/shaka-project/shaka-player/issues/5384)) ([c1a94ba](https://github.com/shaka-project/shaka-player/commit/c1a94baae7505c362be26062923a8fa938e47095))\n* **HLS:** Add subtitle role when there are no roles ([#5357](https://github.com/shaka-project/shaka-player/issues/5357)) ([49e3734](https://github.com/shaka-project/shaka-player/commit/49e3734870122ca633e6089e7ef4fab0e28e1a0a))\n* **HLS:** Fix dvh1 and dvhe detection as video codec ([#5364](https://github.com/shaka-project/shaka-player/issues/5364)) ([1181a35](https://github.com/shaka-project/shaka-player/commit/1181a35c01a02d5a3985a29c987dc6a0573bf91b))\n* **HLS:** Ignore segments with zero duration ([#5371](https://github.com/shaka-project/shaka-player/issues/5371)) ([7b46edd](https://github.com/shaka-project/shaka-player/commit/7b46eddc9df497964fb66fef600d296fc6b80bbd))\n* **media:** Fix region checking in livestreams ([#5361](https://github.com/shaka-project/shaka-player/issues/5361)) ([b77a947](https://github.com/shaka-project/shaka-player/commit/b77a94773dc4675b21e6c9c8ab937d5347d70411)), closes [#5213](https://github.com/shaka-project/shaka-player/issues/5213)\n* Populate HDR correctly ([#5369](https://github.com/shaka-project/shaka-player/issues/5369)) ([be65280](https://github.com/shaka-project/shaka-player/commit/be652801cc3b94345d2676820c178a8716ad04e5))\n* prevent access to null config_ in SimpleAbrManager ([#5362](https://github.com/shaka-project/shaka-player/issues/5362)) ([e6f69fb](https://github.com/shaka-project/shaka-player/commit/e6f69fb61be123ac7306580558000ae8c40ef564))\n* **UI:** Fix resolution selection on src= ([#5367](https://github.com/shaka-project/shaka-player/issues/5367)) ([5118b24](https://github.com/shaka-project/shaka-player/commit/5118b2444cfa061f7ec275fc0cd3ac8cd493bc90))\n* **WebVTT:** Add support to middle position ([#5366](https://github.com/shaka-project/shaka-player/issues/5366)) ([5fc095c](https://github.com/shaka-project/shaka-player/commit/5fc095cd72e7f4a710a6eec9b92723872283afdf))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5427/checks?check_run_id=15210541859) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "Testing of v4.3.x is underway.",
      ":robot: Release is at https://github.com/shaka-project/shaka-player/releases/tag/v4.3.8 :sunflower:"
    ],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.8 (#5427)\n\n:robot: I have created a release *beep* *boop*\r\n\r\n---\r\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).\r\n\r\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f48d6ca63ac8d88f1f0",
    "number": 5424,
    "body": "Update contributors as PR is merged.",
    "head_branch": "patch-3",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "chore: Update CONTRIBUTORS (#5424)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f49d6ca63ac8d88f1f1",
    "number": 5423,
    "body": "Fixed via shaka-project/webdriver-installer#24 in webdriver-installer@1.1.6 and shaka-project/karma-local-wd-launcher#53 in karma-local-wd-launcher@1.6.2",
    "head_branch": "fix-webdriver-installation",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: No instrumented code was changed."
    ],
    "commit_messages": [
      "fix: Fix failure when drivers lag behind browser (#5423)\n\nFixed via shaka-project/webdriver-installer#24 in\r\nwebdriver-installer@1.1.6 and shaka-project/karma-local-wd-launcher#53\r\nin karma-local-wd-launcher@1.6.2"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f4ad6ca63ac8d88f1f2",
    "number": 5422,
    "body": "Closes #5328",
    "head_branch": "multiple-trun-boxes",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 88.24%",
      "I initially omitted two binary files from the PR, but that has been fixed and tests should pass now in CI (as they do here locally).",
      "Failure in Safari-old seems unrelated",
      "Could be this related to #5416?"
    ],
    "commit_messages": [
      "fix: Fix captions from MP4s with multiple trun boxes (#5422)\n\nCloses #5328"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f4bd6ca63ac8d88f1f3",
    "number": 5414,
    "body": "The `_HLS_msn` directive must be the next media sequence number to block playlist reload. The actual logic uses the `EXT-X-MEDIA-SEQUENCE` plus the number of segments. However, a playlist may skip segments, so it should also consider `EXT-X-SKIP:SKIPPED-SEGMENTS`.",
    "head_branch": "fix/ll-hls-compliance",
    "is_a_fork": true,
    "comments": [
      "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/shaka-project/shaka-player/pull/5414/checks?check_run_id=15015446630) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
      "Incremental code coverage: 100.00%",
      "This didn't cherry-pick cleanly into v4.3.x or v4.2.x.  If you believe a similar fix is necessary for those branches, please create a PR that targets v4.3.x and/or v4.2.x.  Thanks!"
    ],
    "commit_messages": [
      "fix(HLS): Consider skipped segments to calculate next media sequence (#5414)\n\nThe `_HLS_msn` directive must be the next media sequence number to block\r\nplaylist reload. The actual logic uses the `EXT-X-MEDIA-SEQUENCE` plus\r\nthe number of segments. However, a playlist may skip segments, so it\r\nshould also consider `EXT-X-SKIP:SKIPPED-SEGMENTS`."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f4cd6ca63ac8d88f1f4",
    "number": 5412,
    "body": null,
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 40.00%"
    ],
    "commit_messages": [
      "chore: Add polyfill for AbortSignal.throwIfAborted() (#5412)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f4dd6ca63ac8d88f1f5",
    "number": 5409,
    "body": "Shaka in most of places normalizes tracks' language code to be compliant with ISO 639-1 when possible. However, it does not do that all the time (i.e. normalization is missing in MSS parser) and there is no way to get value that has been explicitly set in a manifest. Moreover, documentation is misleading, as it claims that value is taken directly from a manifest.\r\nNormalization should take place, specifically to easify PeriodCombiner algorithm and also to not break existing applications.\r\nHowever, original value can be desired for some implementations.\r\nThis PR introduces new field to get original language value from the manifest.",
    "head_branch": "wt-lang-codes-contrib",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "Thanks for the contribution."
    ],
    "commit_messages": [
      "feat: Add originalLanguage to the Track structure (#5409)\n\nShaka in most of places normalizes tracks' language code to be compliant with ISO 639-1 when possible. However, it does not do that all the time (i.e. normalization is missing in MSS parser) and there is no way to get value that has been explicitly set in a manifest. Moreover, documentation is misleading, as it claims that value is taken directly from a manifest.\r\nNormalization should take place, specifically to easify PeriodCombiner algorithm and also to not break existing applications.\r\nHowever, original value can be desired for some implementations.\r\nThis PR introduces new field to get original language value from the manifest."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f4ed6ca63ac8d88f1f6",
    "number": 5408,
    "body": "This change accounts for a gap jump at the start of an asset that lands the user user inside of another gap. The video element is still `paused` at this point, but we've moved past the `startTime` because we jumped a gap. Thus the gap jumper gets stuck, and playback will never start.\r\n\r\nThis seems like it should be a wild edge case, but we have some assets that reproduce it!\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfix: Fix gap jump at start when first jump lands in a new gap\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "fix_double_gap_jump_at_start",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: Gap jump at start when first jump lands in a new gap (#5408)\n\nThis change accounts for a gap jump at the start of an asset that lands\r\nthe user user inside of another gap. The video element is still `paused`\r\nat this point, but we've moved past the `startTime` because we jumped a\r\ngap. Thus the gap jumper gets stuck, and playback will never start."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f4fd6ca63ac8d88f1f7",
    "number": 5407,
    "body": "fixes #5406",
    "head_branch": "feature/5406-compiled-mode-error-stack",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 23.08%"
    ],
    "commit_messages": [
      "feat: Include stack trace in errors dispatched from production builds (#5407)\n\nFixes #5406"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f50d6ca63ac8d88f1f8",
    "number": 5400,
    "body": "I would like to propose an improvement of the AbrConfiguration with this 2 new parameter (as optional) and a new version of the SimpleAbrManager using that parameter for the switch this.switch_(chosenVariant /* , clearbuffer, safe margin*/);\r\n\r\nAlso  providing information about the parameter and updated the demo app with the capabilities to modify it.\r\nCorrected the unit test and added specific unit test for it",
    "head_branch": "abr-improvement-config",
    "is_a_fork": true,
    "comments": [
      "I'm not sure to understand why this test failed. The drm test player and the other one. Could it be link to other issue?",
      "Our integration tests sometimes flake. It probably doesn't have anything to do with your PR.",
      "@theodab thanks for your feedback. Let me know you you have any questions about the pr. ",
      "Incremental code coverage: 50.00%",
      "@theodab any update on this pr ? "
    ],
    "commit_messages": [
      "feat(ABR): Abr improvement config (#5400)\n\nI would like to propose an improvement of the AbrConfiguration with this\r\n2 new parameter (as optional) and a new version of the SimpleAbrManager\r\nusing that parameter for the switch this.switch_(chosenVariant /* ,\r\nclearbuffer, safe margin*/);\r\n\r\nAlso providing information about the parameter and updated the demo app\r\nwith the capabilities to modify it.\r\nCorrected the unit test and added specific unit test for it\r\n\r\n---------\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f51d6ca63ac8d88f1f9",
    "number": 5394,
    "body": "# Changes\r\n\r\n- Parse ServiceDescription from Manifest\r\n- Use ServiceDescription for live syncrhonization\r\n\r\n# Doubts\r\n\r\n- I have added support for just one ServiceDescription. [Low Latency spec](https://dashif.org/docs/CR-Low-Latency-Live-r8.pdf) seems that it supports more than one. If this support is mandatory, how can I know which ServiceDescription should I use?\r\n- I am executing onTimeUpdate when `this.manifest_.serviceDescription` OR `this.config_.streaming.liveSync`, should it be an AND?",
    "head_branch": "service-descriptions",
    "is_a_fork": true,
    "comments": [
      "@adgllorente \r\n> Doubts\r\n> \r\n> I have added support for just one ServiceDescription. [Low Latency spec](https://dashif.org/docs/CR-Low-Latency-Live-r8.pdf) seems that it supports more than one. If this support is mandatory, how can I know which ServiceDescription should I use?\r\n\r\nLet's just take the first one, it's the same as we do with the trickplay track.\r\n\r\n> I am executing onTimeUpdate when this.manifest_.serviceDescription OR this.config_.streaming.liveSync, should it be an AND?\r\n\r\nWe don't want to break the old configuration, so OR is perfect in this case.",
      "@avelad \r\n\r\nI have parsed many values from Latency and PlaybackRate but we are using just 2 of them, do you agree in removing others?",
      "> @avelad\r\n> \r\n> I have parsed many values from Latency and PlaybackRate but we are using just 2 of them, do you agree in removing others?\r\n\r\nIn the context of this PR, yes.",
      "@adgllorente I forgot to comment before, add a parsing test of these new parameters in `dash_parser_manifest_unit.js`",
      "Incremental code coverage: 63.46%"
    ],
    "commit_messages": [
      "feat(DASH): Add support for service descriptions (#5394)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f52d6ca63ac8d88f1fa",
    "number": 5392,
    "body": "* Allow filtering by low latency streams in demo page.\r\n\r\n![image](https://github.com/shaka-project/shaka-player/assets/1067480/c38842f2-88b6-474a-9f7f-e10262835c4a)\r\n",
    "head_branch": "demo-low-latency-filter",
    "is_a_fork": true,
    "comments": [
      "> Also, low latency streams need a setExtraConfig in `assets.js` to enable LL on these assets.\r\n\r\nWith this extraConfig?\r\n\r\n```\r\n        streaming: {\r\n          lowLatencyMode: true,\r\n          autoLowLatencyMode: true,\r\n        },\r\n```",
      "> > Also, low latency streams need a setExtraConfig in `assets.js` to enable LL on these assets.\r\n> \r\n> With this extraConfig?\r\n> \r\n> ```\r\n>         streaming: {\r\n>           lowLatencyMode: true,\r\n>           autoLowLatencyMode: true,\r\n>         },\r\n> ```\r\n\r\nOnly the following is necessary:\r\n\r\n ```\r\n         streaming: {\r\n           lowLatencyMode: true,\r\n         },\r\n ```",
      "Incremental code coverage: No instrumented code was changed.",
      "@adgllorente Deployed in the nightly demo"
    ],
    "commit_messages": [
      "feat(Demo): Add Low Latency filter in demo page (#5392)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f53d6ca63ac8d88f1fb",
    "number": 5391,
    "body": "Propagate `preferredKeySystems` config to `getDecodingInfosForVariants()` method.\r\nBy doing that, shaka can only ask for `MediaKeySystemAccess` objects that will be used during playback.\r\n\r\nIf any preferred key system is available, player will stop requesting for MKSA.\r\nIf none of preferred key systems is available, player will try to get MKSA for any existing configuration, as usual.",
    "head_branch": "wt-preferred-key-systems",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%",
      "Thanks for the contribution!"
    ],
    "commit_messages": [
      "feat(DRM): use preferredKeySystems to reduce requestMediaKeySystemAccess() calls (#5391)\n\nPropagate `preferredKeySystems` config to `getDecodingInfosForVariants()` method.\r\nBy doing that, shaka can only ask for `MediaKeySystemAccess` objects that will be used during playback.\r\n\r\nIf any preferred key system is available, player will stop requesting for MKSA.\r\nIf none of preferred key systems is available, player will try to get MKSA for any existing configuration, as usual."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f54d6ca63ac8d88f1fc",
    "number": 5388,
    "body": "Different streams may share `drmInfo` references, which makes problem when `keySystemsMapping` config is used. Assuming we have config:\r\n```js\r\ndrm: {\r\n  servers: {\r\n    'a.b.c': '...',\r\n  },\r\n  keySystemsMapping: {\r\n    'a.b.c': 'd.e.f',\r\n  },\r\n}\r\n```\r\non the first access to the `drmInfo` object `DrmEngine` will set server for `a.b.c` key system and replace key system to `d.e.f`. On the 2nd access DrmEngine will not find server config for `d.e.f` and thus will remove any server set.\r\nThis issue can be easily mitigated by deduplicating `drmInfo` array.",
    "head_branch": "wt-key-mapping-fix",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix(DRM): broken keySystemsMapping due to multiple references of drmInfo (#5388)\n\nDifferent streams may share `drmInfo` references, which makes problem\r\nwhen `keySystemsMapping` config is used. Assuming we have config:\r\n```js\r\ndrm: {\r\n  servers: {\r\n    'a.b.c': '...',\r\n  },\r\n  keySystemsMapping: {\r\n    'a.b.c': 'd.e.f',\r\n  },\r\n}\r\n```\r\non the first access to the `drmInfo` object `DrmEngine` will set server\r\nfor `a.b.c` key system and replace key system to `d.e.f`. On the 2nd\r\naccess DrmEngine will not find server config for `d.e.f` and thus will\r\nremove any server set.\r\nThis issue can be easily mitigated by deduplicating `drmInfo` array."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f55d6ca63ac8d88f1fd",
    "number": 5386,
    "body": "- Allow to have multiple transmuxers, but choose only the one that is valid depending on whether it supports the codecs or not\r\n- Supported codecs: AAC, AC-3, EC-3, H.264, MPEG/MP3\r\n- It is prepared to allow more codecs in the future (HEVC/H.265) (no muxed)",
    "head_branch": "ts-transmuxer",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 75.92%",
      "I did not find any public streams with MPEG-TS and AC-3 or EC-3. But I tested it in private.",
      "We need to both review this and investigate test failures on Safari.",
      "The Safari and ChromeMac failures look new, but the Tizen ones look like the same flaky tests we have yet to resolve in `main`.",
      "It's interesting that it doesn't happen on GitHub's Mac VMs, though.",
      "@joeyparrish @theodab ready for review!",
      "Awesome!  I'll look at this today if I can find time, tomorrow otherwise.",
      "@joeyparrish I updated the PR to include the test for MP3 in TS",
      "@joeyparrish I updated the PR to include the test for AC-3/EC-3 in TS"
    ],
    "commit_messages": [
      "feat: Add TS transmuxer (#5386)\n\n- Allow to have multiple transmuxers, but choose only the one that is\r\nvalid depending on whether it supports the codecs or not\r\n- Supported codecs: AAC, AC-3, EC-3, H.264, MPEG/MP3\r\n- It is prepared to allow more codecs in the future (HEVC/H.265) (no\r\nmuxed)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f56d6ca63ac8d88f1fe",
    "number": 5384,
    "body": "Before playback starts the video element reports as seeking == true, but because we haven't installed our seek listener yet, the gap controller does not receive the seek event.\r\n\r\nTo work around this, we explicitly tell the gap controller when playback starts so that it knows the startup position, and can synthesize a seek event.",
    "head_branch": "fix_gap_jump_at_start",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "fix: gap jumping when gap exists at start position (#5384)\n\nBefore playback starts the video element reports as seeking == true, but\r\nbecause we haven't installed our seek listener yet, the gap controller\r\ndoes not receive the seek event.\r\n\r\nTo work around this, we explicitly tell the gap controller when playback\r\nstarts so that it knows the startup position, and can synthesize a seek\r\nevent."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f56d6ca63ac8d88f1ff",
    "number": 5382,
    "body": "This particular workaround was also discovered by accident while debugging tests on our lab Mac.  Playback tests were moving visually much slower than they should, I discovered that unmuting the video element caused them to run at a normal pace.  This also correlates with disconnections and other issues while running tests.  I don't have any explanation for why any of this would be so.  It only seems to happen while WebDriver is controlling the page, and only for Chrome and Edge, and only on Mac.",
    "head_branch": "mac-webdriver-stability",
    "is_a_fork": true,
    "comments": [
      "I'm still running tests to verify this workaround more thoroughly before merging, but so far I haven't seen any disconnections or flaky test failures in 3 full test runs on Chrome.  Without it, I was getting disconnects on almost every test run, and the ones that didn't disconnect had flaky test failures.\r\n\r\nBefore merging, I will verify it with many more runs on Chrome, then again on Edge, then again with both in parallel.",
      "Incremental code coverage: 90.00%",
      "This workaround works well on real hardware, but seems to break everything but Safari on GitHub VMs.\r\n\r\nI'll remove reviewers now and move this PR to draft mode until I have a solution for that.",
      "Unfortunately, I think this may be a dead end for now."
    ],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f57d6ca63ac8d88f200",
    "number": 5381,
    "body": "We see a bunch of audio segments that probe as TS, and thus trigger warnings (and unnecessary work) in appendBuffer. There should never be an MP4 mime type that probes successfully as a TS, right?\r\n\r\n[Here's an example](https://prod.cdn-vdms.philo.com/live/EDME-VIACOM-PARAMOUNT-EAST-V2-R1/audio/128000/4946379595054.isma) fmp4 that probes as a TS (ignore the isma file extension).",
    "head_branch": "fix_unnecessary_ts_parse",
    "is_a_fork": true,
    "comments": [
      "Assuming no test failures, I'll merge as soon as the tests are complete.",
      "Incremental code coverage: 100.00%",
      "So it should be \"not mp4 && not webm\"?",
      "> So it should be \"not mp4 && not webm\"?\r\n\r\nI think so "
    ],
    "commit_messages": [
      "fix: Only parse/probe TS if the reference is not an MP4 and not WebM (#5381)\n\nWe see a bunch of audio segments that probe as TS, and thus trigger\r\nwarnings (and unnecessary work) in appendBuffer. There should never be\r\nan MP4 mime type that probes successfully as a TS, right?\r\n\r\n[Here's an\r\nexample](https://prod.cdn-vdms.philo.com/live/EDME-VIACOM-PARAMOUNT-EAST-V2-R1/audio/128000/4946379595054.isma)\r\nfmp4 that probes as a TS (ignore the isma file extension)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f58d6ca63ac8d88f201",
    "number": 5380,
    "body": "By reducing the number of promises in the Promises.all array we gain performance on low-end devices.",
    "head_branch": "improve-mse-engine-part2",
    "is_a_fork": true,
    "comments": [
      "Incremental code coverage: 100.00%"
    ],
    "commit_messages": [
      "feat: Improve performance of setStreamProperties on low-end devices (#5380)\n\nBy reducing the number of promises in the Promises.all array we gain\r\nperformance on low-end devices."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f59d6ca63ac8d88f202",
    "number": 5379,
    "body": null,
    "head_branch": "readme-transmuxer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Add transmuxer support in the README (#5379)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f5ad6ca63ac8d88f203",
    "number": 5378,
    "body": null,
    "head_branch": "demo-trim-custom-uri",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Demo): Trim custom manifestUri to avoid copy-paste errors (#5378)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f5bd6ca63ac8d88f204",
    "number": 5377,
    "body": null,
    "head_branch": "improve-mse-engine",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Optimize appendBuffer operations for init segments (#5377)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f5cd6ca63ac8d88f205",
    "number": 5376,
    "body": null,
    "head_branch": "dash-encoding-problem",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DASH): Avoid \"Possible encoding problem detected!\" when appending chunked data (#5376)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f5dd6ca63ac8d88f206",
    "number": 5375,
    "body": null,
    "head_branch": "hls-sample-rate",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Parse SAMPLE-RATE attribute (#5375)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f5ed6ca63ac8d88f207",
    "number": 5373,
    "body": null,
    "head_branch": "ui-hdr",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Add HDR label to resolution when the track is HDR (#5373)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f5fd6ca63ac8d88f208",
    "number": 5372,
    "body": null,
    "head_branch": "preload-missing-segment",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix avoid prefetch missing segments (#5372)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f60d6ca63ac8d88f209",
    "number": 5371,
    "body": null,
    "head_branch": "hls-extinf-0",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Ignore segments with zero duration (#5371)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f61d6ca63ac8d88f20a",
    "number": 5370,
    "body": "This configuration value allows the manifest variants to be filtered based on the HDR level of their video stream. This is set to an auto-detect setting, which chooses PQ or SDR based on the device's detected capabilities.",
    "head_branch": "hdrBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add preferredVideoHdrLevel config. (#5370)\n\nThis configuration value allows the manifest variants to be filtered based on the HDR level of their video stream.\r\nBy default this is set to an auto-detect setting, which chooses PQ or SDR based on the device's detected capabilities."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f62d6ca63ac8d88f20b",
    "number": 5369,
    "body": null,
    "head_branch": "hdr-track",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Populate HDR correctly (#5369)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f63d6ca63ac8d88f20c",
    "number": 5368,
    "body": null,
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update IMA externs (#5368)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f64d6ca63ac8d88f20d",
    "number": 5367,
    "body": "With this change, when we are in src= mode we only leave the automatic mode in the resolution selector, since we will not be able to change the resolution.\r\n\r\nFixes https://github.com/shaka-project/shaka-player/issues/5330",
    "head_branch": "ui-safari",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(UI): Fix resolution selection on src= (#5367)\n\nWith this change, when we are in src= mode we only leave the automatic\r\nmode in the resolution selector, since we will not be able to change the\r\nresolution.\r\n\r\nFixes https://github.com/shaka-project/shaka-player/issues/5330"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f65d6ca63ac8d88f20e",
    "number": 5366,
    "body": "This setting is used in https://devstreaming-cdn.apple.com/videos/streaming/examples/adv_dv_atmos/main.m3u8 (Apple HLS example)",
    "head_branch": "webvtt-middle-position",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(WebVTT): Add support to middle position (#5366)\n\nThis setting is used in https://devstreaming-cdn.apple.com/videos/streaming/examples/adv_dv_atmos/main.m3u8 (Apple HLS example)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f66d6ca63ac8d88f20f",
    "number": 5365,
    "body": null,
    "head_branch": "international-languages",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Use Intl.DisplayNames to show the language name (#5365)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f67d6ca63ac8d88f210",
    "number": 5364,
    "body": null,
    "head_branch": "dolby-vision-detection",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix dvh1 and dvhe detection as video codec (#5364)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f68d6ca63ac8d88f211",
    "number": 5362,
    "body": "Well sometimes network information change could be triggered even if this.config_ is null, resulting in an exception thrown in the browser. Doesn't affect playback, but affects the number of errors detected by our tools 😅 \r\n\r\nLet's check if abrManager is enabled before checking its config",
    "head_branch": "fix-null-access",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: prevent access to null config_ in SimpleAbrManager (#5362)\n\nWell sometimes network information change could be triggered even if\r\nthis.config_ is null, resulting in an exception thrown in the browser.\r\nDoesn't affect playback, but affects the number of errors detected by\r\nour tools 😅\r\n\r\nLet's check if abrManager is enabled before checking its config"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f69d6ca63ac8d88f212",
    "number": 5361,
    "body": "In some cases, in a livestream situation, the region observer's poll method ends up being called before the media time is set to the live edge. This does not happen every time; it's likely based on the exact time it takes the player to start playing. When this does happen, it leads to the region observer \"skipping\" over every region between time=0 and the live head, as it erroneously believes that it has actually played through all of that time. This could result in confusion for applications that are relying on region data.\r\n\r\nThis change modifiers the region observer so that it does not start examining regions until the time gets past 0 seconds, except in the case of VOD.\r\n\r\nCloses #5213",
    "head_branch": "regionBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(media): Fix region checking in livestreams (#5361)\n\nIn some cases, in a livestream situation, the region observer's poll method ends up being called before the media time is set to the live edge. This does not happen every time; it's likely based on the exact time it takes the player to start playing. When this does happen, it leads to the region observer \"skipping\" over every region between time=0 and the live head, as it erroneously believes that it has actually played through all of that time. This could result in confusion for applications that are relying on region data.\r\n\r\nThis change modifiers the region observer so that it does not start examining regions until the time gets past 0 seconds, except in the case of VOD.\r\n\r\nCloses #5213"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f6ad6ca63ac8d88f213",
    "number": 5359,
    "body": "This PR updates the DRM configuration tutorial.\r\n\r\nThe configuration code example is incorrect,  and also it suggests you can change the mapping, which is not true, you are only able to overwrite parts of it.",
    "head_branch": "fix/error-in-docs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(docs): fix player configuration code in drm config tutorial (#5359)\n\nThis PR updates the DRM configuration tutorial.\r\n\r\nThe configuration code example is incorrect, and also it suggests you\r\ncan change the mapping, which is not true, you are only able to\r\noverwrite parts of it.\r\n\r\nCo-authored-by: Ivan Kohut <ivan.kohut@lamin.ar>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f6bd6ca63ac8d88f214",
    "number": 5358,
    "body": null,
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f6cd6ca63ac8d88f215",
    "number": 5357,
    "body": "Fixes #5355",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Add subtitle role when there are no roles (#5357)\n\nFixes #5355\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f6dd6ca63ac8d88f216",
    "number": 5356,
    "body": null,
    "head_branch": "bidisha15hotstar-patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f6dd6ca63ac8d88f217",
    "number": 5354,
    "body": null,
    "head_branch": "prft-precision",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Parses a PRFT Box, with a loss of precision beyond 53 bits (#5354)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f6fd6ca63ac8d88f218",
    "number": 5353,
    "body": null,
    "head_branch": "remove-useless-methods",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Remove unused functions (#5353)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f6fd6ca63ac8d88f219",
    "number": 5352,
    "body": null,
    "head_branch": "ec3-transmuxer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add EC3 transmuxer (#5352)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f70d6ca63ac8d88f21a",
    "number": 5350,
    "body": "For manifests with many streams, we saw the bulk of the manifest parse time going towards period combiner. Specifically: splitting codecs and comparing DRMs. This change cuts our manifest parse time for large manifests by nearly 30%.\r\n\r\nThere are two changes:\r\n\r\n1. Memoize the normalized codecs inside the period combiner.\r\n2. Short circuit the DRM compatibility check if the DRMInfos arrays are the same object. We run a custom manifest parser and are therefore able to re-use the same drm infos array for functionally equivalent drms, but short circuiting also helps since in the case that the upstream period combiner is comparing a candidate stream with itself.",
    "head_branch": "period_combiner_optimizations",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Improve performance of multi-period DASH parsing (#5350)\n\nFor manifests with many streams, we saw the bulk of the manifest parse\r\ntime going towards period combiner. Specifically: splitting codecs and\r\ncomparing DRMs. This change cuts our manifest parse time for large\r\nmanifests by nearly 30%.\r\n\r\nThere are two changes:\r\n\r\n1. Memoize the normalized codecs inside the period combiner.\r\n2. Short circuit the DRM compatibility check if the DRMInfos arrays are\r\nthe same object. We run a custom manifest parser and are therefore able\r\nto re-use the same drm infos array for functionally equivalent drms, but\r\nshort circuiting also helps since in the case that the upstream period\r\ncombiner is comparing a candidate stream with itself."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f71d6ca63ac8d88f21b",
    "number": 5349,
    "body": null,
    "head_branch": "hls-readme",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore(HLS): Update README regarding blocking playlist reload (#5349)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f72d6ca63ac8d88f21c",
    "number": 5347,
    "body": "Some servers only support blocking playlist reload for a short time (example: 3 partial segment times). If we are using byte range optimization we must change the reload time to be that of a complete segment and avoid these problems.",
    "head_branch": "blocking-reload-byterange",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Support byterange optimization on servers with support to blocking playlist reload (#5347)\n\nSome servers only support blocking playlist reload for a short time\r\n(example: 3 partial segment times). If we are using byte range\r\noptimization we must change the reload time to be that of a complete\r\nsegment and avoid these problems."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f73d6ca63ac8d88f21d",
    "number": 5346,
    "body": "There are two cases:\r\n\r\n1) When the bufferedEnd is less than seekRange.end\r\n```\r\n-------|---------------|-------------|--------------|------\r\nseekRange.start   currentTime   bufferedEnd   seekRange.end\r\n```\r\nIn this case the offset is not necessary because we aren't near to live edge\r\n\r\n\r\n2) When the bufferedEnd is greater than seekRange.end\r\n```\r\n-------|---------------|-------------|--------------|------\r\nseekRange.start   currentTime  seekRange.end   bufferedEnd   \r\n```\r\nAfter the update (tested in Safari), `bufferedEnd - seekRange.end` is constant\r\n\r\nExamples:\r\nValues for the examples\r\n```\r\nliveSync = true\r\nliveSyncPlaybackRate = 1.1\r\nliveSyncMaxLatency = 3\r\n```\r\n\r\n**Example 1:**\r\n```\r\ncurrentTime = 10\r\nseekRange.end = 18\r\nbufferedEnd = 15\r\n```\r\nLatency = 5 , offset 0 --> Need live sync\r\n\r\nAfter some time\r\n```\r\ncurrentTime = 20\r\nseekRange.end = 25\r\nbufferedEnd = 22\r\n```\r\nLatency = 2 , offset 0 --> No need live sync\r\n\r\n**Example 2:**\r\n\r\n```\r\ncurrentTime = 10\r\nseekRange.end = 15\r\nbufferedEnd = 18\r\n```\r\nLatency = 5 , offset 3 --> No need live sync\r\n\r\nAfter some time\r\n```\r\ncurrentTime = 20\r\nseekRange.end = 22\r\nbufferedEnd = 25\r\n```\r\nLatency = 2 , offset 3 --> No need live sync\r\n\r\nAfter some time\r\n```\r\ncurrentTime = 30\r\nseekRange.end = 37\r\nbufferedEnd = 40\r\n```\r\nLatency = 7 , offset 3 --> Need live sync\r\n\r\nThe maximum latency that we have is liveSyncMaxLatency + offset",
    "head_branch": "live-sync-src",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f74d6ca63ac8d88f21e",
    "number": 5345,
    "body": "Add ColourPrimaries and MatrixCoefficients schemes as specified by https://dashif.org/docs/DASH-IF-IOP-v4.3.pdf.\r\n\r\nIn particular, `ColourPrimaries` and `MatrixCoefficients` schemes are currently considered \"unrecognizedEssentialProperty\", causing some streams with valid manifests to discard the video track.\r\n\r\n<img width=\"648\" alt=\"image\" src=\"https://github.com/shaka-project/shaka-player/assets/99928/339d9364-0ca7-4a54-aaf8-95357fbad3d8\">\r\n",
    "head_branch": "dash-parser-missing-video-range-schemes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix DASH rejection of streams with ColourPrimaries and MatrixCoefficients (#5345)\n\nAdd ColourPrimaries and MatrixCoefficients schemes as specified by\r\nhttps://dashif.org/docs/DASH-IF-IOP-v4.3.pdf.\r\n\r\nIn particular, `ColourPrimaries` and `MatrixCoefficients` schemes were\r\nconsidered \"unrecognizedEssentialProperty\", causing some\r\nstreams with valid manifests to discard the video track."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f75d6ca63ac8d88f21f",
    "number": 5343,
    "body": "Adds StreamRequest.omidAccessModeRules, OmidVerificationVendor, and OmidAccessMode.\r\n\r\nCopied from a contribution to the Shaka Player mirror in Google's internal repository.",
    "head_branch": "ima-externs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update IMA externs (#5343)\n\nAdds StreamRequest.omidAccessModeRules, OmidVerificationVendor, and\r\nOmidAccessMode.\r\n\r\nCopied from a contribution to the Shaka Player mirror in Google's\r\ninternal repository."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f76d6ca63ac8d88f220",
    "number": 5342,
    "body": "- Mark the the full segment as preload if it has some partial preload segment\r\n- Request _HLS_part=0 when using LL-HLS byterange optimization",
    "head_branch": "ll-hls-byterange-optimizations",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Optimize LL-HLS with byterange (#5342)\n\n- Mark the the full segment as preload if it has some partial preload\r\nsegment\r\n- Request _HLS_part=0 when using LL-HLS byterange optimization"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f77d6ca63ac8d88f221",
    "number": 5339,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4234",
    "head_branch": "shaka-lab-xbox",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f78d6ca63ac8d88f222",
    "number": 5337,
    "body": "This is a much simplified version of the appspot job from the release workflow, but with control given to the human caller instead of computed from release details.  It can be used to correct deployment issues.",
    "head_branch": "one-off-appspot-deployment",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Add one-off workflow for appspot deployment (#5337)\n\nThis is a much simplified version of the appspot job from the release\r\nworkflow, but with control given to the human caller instead of computed\r\nfrom release details. It can be used to correct deployment issues."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f79d6ca63ac8d88f223",
    "number": 5336,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.12](https://github.com/shaka-project/shaka-player/compare/v4.2.11...v4.2.12) (2023-07-21)\n\n\n### Bug Fixes\n\n* **DASH:** Avoid \"Possible encoding problem detected!\" when appending chunked data ([#5376](https://github.com/shaka-project/shaka-player/issues/5376)) ([ad9de15](https://github.com/shaka-project/shaka-player/commit/ad9de15043491d5969f44d7d864041c19af3b108))\n* **demo:** Fix deployment of v4.2.x on appspot ([d8b2378](https://github.com/shaka-project/shaka-player/commit/d8b2378ff565a6aec2de2689219001a1c2a16308))\n* **Demo:** Trim custom manifestUri to avoid copy-paste errors ([#5378](https://github.com/shaka-project/shaka-player/issues/5378)) ([d7d2bcb](https://github.com/shaka-project/shaka-player/commit/d7d2bcb6aab0cb4b670889e380f4705444b2848e))\n* **docs:** fix player configuration code in drm config tutorial ([#5359](https://github.com/shaka-project/shaka-player/issues/5359)) ([c5e0f8b](https://github.com/shaka-project/shaka-player/commit/c5e0f8b967d0327eb1d9ab50b4db77990d84a1ed))\n* **DRM:** broken keySystemsMapping due to multiple references of drmInfo ([#5388](https://github.com/shaka-project/shaka-player/issues/5388)) ([8906548](https://github.com/shaka-project/shaka-player/commit/8906548b6c40b0ac3023c80f1bad02496aff0014))\n* Fix captions from MP4s with multiple trun boxes ([#5422](https://github.com/shaka-project/shaka-player/issues/5422)) ([b41186e](https://github.com/shaka-project/shaka-player/commit/b41186e3cfe7e3e2f633a24d5c9c88e8eb025fef)), closes [#5328](https://github.com/shaka-project/shaka-player/issues/5328)\n* Fix DASH rejection of streams with ColourPrimaries and MatrixCoefficients ([#5345](https://github.com/shaka-project/shaka-player/issues/5345)) ([e2968ca](https://github.com/shaka-project/shaka-player/commit/e2968ca7ad5ae5a3b3dea56029d2815214564a52))\n* Fix exception on Tizen due to unsupported Array method ([#5429](https://github.com/shaka-project/shaka-player/issues/5429)) ([0fe4d5c](https://github.com/shaka-project/shaka-player/commit/0fe4d5c6f7dbe5e6254b8173cec5ce796c14f5bf))\n* Fix failure when drivers lag behind browser ([#5423](https://github.com/shaka-project/shaka-player/issues/5423)) ([30f464f](https://github.com/shaka-project/shaka-player/commit/30f464f5f06b0f5e7779e7c4a6dedca6ae90277c))\n* Gap jump at start when first jump lands in a new gap ([#5408](https://github.com/shaka-project/shaka-player/issues/5408)) ([1ead685](https://github.com/shaka-project/shaka-player/commit/1ead685075de79591a5909e4e06ac5dd380e3e92))\n* gap jumping when gap exists at start position ([#5384](https://github.com/shaka-project/shaka-player/issues/5384)) ([bd5bade](https://github.com/shaka-project/shaka-player/commit/bd5badef95428ae515262d104770e88b71493469))\n* **HLS:** Add subtitle role when there are no roles ([#5357](https://github.com/shaka-project/shaka-player/issues/5357)) ([c5a5ddb](https://github.com/shaka-project/shaka-player/commit/c5a5ddbfd0bfca21b686f2ec99c5dedb0da71fba))\n* **HLS:** Fix dvh1 and dvhe detection as video codec ([#5364](https://github.com/shaka-project/shaka-player/issues/5364)) ([3373a41](https://github.com/shaka-project/shaka-player/commit/3373a41f483a8807d4de7effe7310fdf488999a5))\n* **HLS:** Ignore segments with zero duration ([#5371](https://github.com/shaka-project/shaka-player/issues/5371)) ([29b81ea](https://github.com/shaka-project/shaka-player/commit/29b81ea3c12638feb210e79a5ee28a9ece34656f))\n* **media:** Fix region checking in livestreams ([#5361](https://github.com/shaka-project/shaka-player/issues/5361)) ([007a259](https://github.com/shaka-project/shaka-player/commit/007a2593096fae079c068a89dcfea338ec6d677e)), closes [#5213](https://github.com/shaka-project/shaka-player/issues/5213)\n* Populate HDR correctly ([#5369](https://github.com/shaka-project/shaka-player/issues/5369)) ([db67d8d](https://github.com/shaka-project/shaka-player/commit/db67d8d4c257a53b43456f63a68b19bd0ae9f08f))\n* prevent access to null config_ in SimpleAbrManager ([#5362](https://github.com/shaka-project/shaka-player/issues/5362)) ([80973d7](https://github.com/shaka-project/shaka-player/commit/80973d7d033d4a876af1a3376877e3c36a55ecc9))\n* **UI:** Fix resolution selection on src= ([#5367](https://github.com/shaka-project/shaka-player/issues/5367)) ([b570e92](https://github.com/shaka-project/shaka-player/commit/b570e92a3d0d49fe47d9051f48fb55196cc8b38e))\n* **WebVTT:** Add support to middle position ([#5366](https://github.com/shaka-project/shaka-player/issues/5366)) ([6481e29](https://github.com/shaka-project/shaka-player/commit/6481e2902de33aa0b5cd7c2373c764bd3143a866))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.12 (#5336)\n\n:robot: I have created a release *beep* *boop*\r\n\r\n---\r\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).\r\n\r\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f7ad6ca63ac8d88f224",
    "number": 5334,
    "body": "This fixes a bad release PR caused by too many commits between main branach releases.  This should not be cherry-picked to any other branch.",
    "head_branch": "fix-main-release-pr",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: main branch only - fix bad release PR (#5334)\n\nThis fixes a bad release PR caused by too many commits between main\r\nbranach releases. This should not be cherry-picked to any other branch."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f7bd6ca63ac8d88f225",
    "number": 5332,
    "body": "Preload segments do not have a defined duration, so this log may be wrong.",
    "head_branch": "encoding-problem-preload",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Avoid \"Possible encoding problem detected!\" when is a preload reference (#5332)\n\nPreload segments do not have a defined duration, so this log may be\r\nwrong."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f7cd6ca63ac8d88f226",
    "number": 5329,
    "body": null,
    "head_branch": "big-int-baseMediaDecodeTime",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Parses a TFDT Box, with a loss of precision beyond 53 bits (#5329)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f7dd6ca63ac8d88f227",
    "number": 5327,
    "body": "Stream used for test it: https://devstreaming-cdn.apple.com/videos/streaming/examples/bipbop_adv_example_hevc/master.m3u8",
    "head_branch": "hls-timescale",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Get the correct timescale when there are two trak boxes (#5327)\n\nStream used for test it:\r\nhttps://devstreaming-cdn.apple.com/videos/streaming/examples/bipbop_adv_example_hevc/master.m3u8"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f7ed6ca63ac8d88f228",
    "number": 5326,
    "body": null,
    "head_branch": "sequence-mode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Improve sequence mode start time (#5326)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f7fd6ca63ac8d88f229",
    "number": 5324,
    "body": "See #5307 ",
    "head_branch": "export_period_combiner",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: export period combiner (#5324)\n\nCloses #5307"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f7fd6ca63ac8d88f22a",
    "number": 5322,
    "body": null,
    "head_branch": "mse-timestamp",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Create getTimestampAndDispatchMetadata_function in MediaSourceEngine (#5322)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f80d6ca63ac8d88f22b",
    "number": 5320,
    "body": null,
    "head_branch": "id3-emsg-apple",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add support to old EMSG schemeId for ID3 (#5320)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f81d6ca63ac8d88f22c",
    "number": 5319,
    "body": "This solution is based on https://www.akamai.com/blog/performance/-using-ll-hls-with-byte-range-addressing-to-achieve-interoperabi",
    "head_branch": "ll-hls-byterange-optimization",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Optimization of LL-HLS with byterange (#5319)\n\nThis solution is based on\r\nhttps://www.akamai.com/blog/performance/-using-ll-hls-with-byte-range-addressing-to-achieve-interoperabi"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f82d6ca63ac8d88f22d",
    "number": 5316,
    "body": "Adding `safeMargin` as a parameter of the player `selectAudioLanguage` method so it is possible to customize the buffer value when changing tracks.",
    "head_branch": "expose-safeMargin-on-selectAudioLanguage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add safeMargin as a parameter of the player selectAudioLanguage method (#5316)\n\nAdding `safeMargin` as a parameter of the player `selectAudioLanguage`\r\nmethod so it is possible to customize the buffer value when changing\r\ntracks."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f83d6ca63ac8d88f22e",
    "number": 5315,
    "body": "Fixes: https://github.com/shaka-project/shaka-player/issues/4975\r\nRelated to https://github.com/shaka-project/shaka-player/pull/5079 and https://github.com/shaka-project/shaka-player/pull/5108",
    "head_branch": "sequencemodefix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Don't do sequence mode workaround unless there's a text stream (#5315)\n\nFixes: https://github.com/shaka-project/shaka-player/issues/4975\r\nRelated to https://github.com/shaka-project/shaka-player/pull/5079 and\r\nhttps://github.com/shaka-project/shaka-player/pull/5108"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f84d6ca63ac8d88f22f",
    "number": 5312,
    "body": null,
    "head_branch": "partial-independent",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Mark first partial segment as independent always (#5312)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f85d6ca63ac8d88f230",
    "number": 5311,
    "body": null,
    "head_branch": "ext-x-part-inf",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Parse EXT-X-PART-INF as media playlist tag (#5311)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f86d6ca63ac8d88f231",
    "number": 5310,
    "body": "This change improve the latency in LL-DASH streams when using prefetch",
    "head_branch": "streamDataCallback-prefetch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add support to streamDataCallback when using prefetch (#5310)\n\nThis change improve the latency in LL-DASH streams when using prefetch"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f87d6ca63ac8d88f232",
    "number": 5309,
    "body": null,
    "head_branch": "demo-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Demo): Fix error link width to avoid overlap with close button (#5309)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f88d6ca63ac8d88f233",
    "number": 5305,
    "body": "This error can happen with `online` window event",
    "head_branch": "src-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix error when network status changes on src= playbacks (#5305)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f89d6ca63ac8d88f234",
    "number": 5304,
    "body": null,
    "head_branch": "live-sync",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add liveSync configuration to catch up on live streams (#5304)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f8ad6ca63ac8d88f235",
    "number": 5303,
    "body": "As noted in https://groups.google.com/a/chromium.org/g/blink-dev/c/JTPl7fM64Lc, we should use \"pagehide\" not \"unload\" JS event to monitor when PiP window gets closed.\r\n\r\n",
    "head_branch": "pagehide",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(UI): Use pagehide instead of unload for PiP (#5303)\n\nAs noted in\r\nhttps://groups.google.com/a/chromium.org/g/blink-dev/c/JTPl7fM64Lc, we\r\nshould use \"pagehide\" not \"unload\" JS event to monitor when PiP window\r\ngets closed."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f8bd6ca63ac8d88f236",
    "number": 5301,
    "body": "Fixes: https://github.com/shaka-project/shaka-player/issues/5300",
    "head_branch": "cast-test",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix \"buffers partial TS video segments in sequence mode\" in Cast (#5301)\n\nFixes: https://github.com/shaka-project/shaka-player/issues/5300"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f8cd6ca63ac8d88f237",
    "number": 5299,
    "body": "These appear to have changed because of a bug fix in Firefox regarding text layout.",
    "head_branch": "update-firefox-screenshots",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Update Firefox screenshots (#5299)\n\nThese appear to have changed because of a bug fix in Firefox regarding\r\ntext layout."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f8dd6ca63ac8d88f238",
    "number": 5298,
    "body": "These tools had gotten out of sync with screenshot tests, leading to too many image updates in the repo.  This updates the tools to ensure the same comparisons and thresholds are used in tests and when updating screenshots.\r\n\r\nThe rename of build/pixelsChanged.js to build/imageSimilarity.js is not detected as such by git/GitHub, so the diff is a little messy.",
    "head_branch": "screenshot-update-tools",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Update screenshot-updating tools (#5298)\n\nThese tools had gotten out of sync with screenshot tests, leading to too\r\nmany image updates in the repo. This updates the tools to ensure the\r\nsame comparisons and thresholds are used in tests and when updating\r\nscreenshots.\r\n\r\nThe rename of build/pixelsChanged.js to build/imageSimilarity.js is not\r\ndetected as such by git/GitHub, so the diff is a little messy."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f8ed6ca63ac8d88f239",
    "number": 5297,
    "body": null,
    "head_branch": "ac3-transmuxer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add AC3 transmuxer (#5297)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f8fd6ca63ac8d88f23a",
    "number": 5296,
    "body": null,
    "head_branch": "mp3-aac-transmuxers",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix implementation of AAC and MP3 transmuxers (#5296)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f90d6ca63ac8d88f23b",
    "number": 5295,
    "body": "This avoid load multiples segments when are far to live edge. \r\n\r\nRelated to https://github.com/shaka-project/shaka-player/pull/5294",
    "head_branch": "hls-partial-live-edge",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f91d6ca63ac8d88f23c",
    "number": 5294,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5089",
    "head_branch": "byterange-ll-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Skip EXT-X-PRELOAD-HINT without full byterange info (#5294)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5089"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f92d6ca63ac8d88f23d",
    "number": 5292,
    "body": "According to https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#section-6.2.5 delivery directives are allowed for all live content\r\n",
    "head_branch": "skip-blocking-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Allow delivery directives in Live streams (#5292)\n\nAccording to\r\nhttps://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis#section-6.2.5\r\ndelivery directives are allowed for all live content"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f92d6ca63ac8d88f23e",
    "number": 5291,
    "body": null,
    "head_branch": "dash-ll",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(DASH): Achieve better latency in LL streams (#5291)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f93d6ca63ac8d88f23f",
    "number": 5289,
    "body": " - Move TimeRange from shaka.dash.MpdUtils to shaka.media.PresentationTimeline\r\n - Move AccessibilityPurpose from shaka.dash.DashParser to shaka.media.ManifestParser\r\n\r\nWith these changes, core Shaka Player can be built without the dash module.",
    "head_branch": "fix-dashless-build",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Fix core build without dash (#5289)\n\n- Move TimeRange from shaka.dash.MpdUtils to\r\nshaka.media.PresentationTimeline\r\n- Move AccessibilityPurpose from shaka.dash.DashParser to\r\nshaka.media.ManifestParser\r\n\r\nWith these changes, core Shaka Player can be built without the dash\r\nmodule."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f94d6ca63ac8d88f240",
    "number": 5288,
    "body": null,
    "head_branch": "iterator-seek-to-independent-only",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Require SegmentIndex to return independent segments only (#5288)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f95d6ca63ac8d88f241",
    "number": 5286,
    "body": "Many LL streams use 2 seconds segments, so we have to ensure that these streams work correctly.",
    "head_branch": "dash-ll-min-update-period",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(DASH): Remove MIN_UPDATE_PERIOD_ to achieve better latency in Live (#5286)\n\nMany LL streams use 2 seconds segments, so we have to ensure that these\r\nstreams work correctly."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f96d6ca63ac8d88f242",
    "number": 5285,
    "body": null,
    "head_branch": "dash-ll-min-buffer-time",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DASH): Ignore minBufferTime when using LL (#5285)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f97d6ca63ac8d88f243",
    "number": 5284,
    "body": null,
    "head_branch": "sequence-mode-gap",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Avoid HLS resync when there is a gap in the stream (#5284)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f98d6ca63ac8d88f244",
    "number": 5283,
    "body": null,
    "head_branch": "hls-seek-ll",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix seek on LL streams when using segments mode (#5283)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f99d6ca63ac8d88f245",
    "number": 5282,
    "body": "This happens because the last segment in an LL stream may not be complete and may not have EXTINF",
    "head_branch": "fix-last-target-duration",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix live playlist update when using no LL in a LL stream (#5282)\n\nThis happens because the last segment in an LL stream may not be\r\ncomplete and may not have EXTINF"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f9ad6ca63ac8d88f246",
    "number": 5281,
    "body": null,
    "head_branch": "hls-hold-back",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Add support to HOLD-BACK in EXT-X-SERVER-CONTROL (#5281)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f9bd6ca63ac8d88f247",
    "number": 5280,
    "body": null,
    "head_branch": "sync-partial-segments",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Supports syncTime in partial segments (#5280)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f9cd6ca63ac8d88f248",
    "number": 5279,
    "body": null,
    "head_branch": "can-block-reload",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Add support to blocking playlist reload by adding the CAN-BLOCK-RELOAD=YES (#5279)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f9dd6ca63ac8d88f249",
    "number": 5277,
    "body": null,
    "head_branch": "hls-ll-independent-segments",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix load of LL-HLS when the partial segment is not independent (#5277)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f9ed6ca63ac8d88f24a",
    "number": 5276,
    "body": null,
    "head_branch": "prefetch-log",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Change prefetch log from info to debug (#5276)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219f9fd6ca63ac8d88f24b",
    "number": 5275,
    "body": null,
    "head_branch": "ll-prefetch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Set segmentPrefetchLimit to 2 by default for low latency streaming (#5275)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa0d6ca63ac8d88f24c",
    "number": 5274,
    "body": null,
    "head_branch": "prefetch-hls-ll",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix prefetch with LL-HLS stream (#5274)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa1d6ca63ac8d88f24d",
    "number": 5273,
    "body": "Document Picture-in-Picture API owners are [removing `copyStyleSheets` option](https://github.com/WICG/document-picture-in-picture/pull/79) as it can be done in JavaScript. This PR removes this option and copy all style sheets internally to the PiP window.\r\n\r\nPlease review.",
    "head_branch": "removeCopyStyleSheets",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Remove copyStyleSheets (#5273)\n\nDocument Picture-in-Picture API owners are [removing `copyStyleSheets` option](https://github.com/WICG/document-picture-in-picture/pull/79) as it can be done in JavaScript.\r\nThis PR removes this option and adds code to copy the style sheets of the PiP window."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa2d6ca63ac8d88f24e",
    "number": 5270,
    "body": "With this change, we are changing the minimum timestampOffsetDifference to 0.1 to prevent unnecessary timestampOffset updates",
    "head_branch": "timestampoffset-mse",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Avoid unnecessary timestampOffset updates when using HLS segments mode (#5270)\n\nWith this change, we are changing the minimum timestampOffsetDifference\r\nto 0.1 to prevent unnecessary timestampOffset updates"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa3d6ca63ac8d88f24f",
    "number": 5269,
    "body": "With this change, we improve performance on very large playlists.",
    "head_branch": "hls-variable-substitution",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Avoid variable substitution if no variables (#5269)\n\nWith this change, we improve performance on very large playlists."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa4d6ca63ac8d88f250",
    "number": 5268,
    "body": "With this change the latency is reduced in 50ms approx. Very important for LL streams.",
    "head_branch": "improve-live-latency",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Improve live latency on load (#5268)\n\nWith this change the latency is reduced in 50ms approx. Very important\r\nfor LL streams."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa4d6ca63ac8d88f251",
    "number": 5267,
    "body": null,
    "head_branch": "hls-byterange-length",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Add support to BYTERANGE-LENGTH in EXT-X-PRELOAD-HINT (#5267)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa5d6ca63ac8d88f252",
    "number": 5266,
    "body": "Previously all config is passed to the player but some config parameters are untouched, we need only pass the config params that are different, to allow enable LL with only one change.",
    "head_branch": "demo-ll",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Demo): Allow enable LL only with Low Latency Mode config (#5266)\n\nPreviously all config is passed to the player but some config parameters\r\nare untouched, we need only pass the config params that are different,\r\nto allow enable LL with only one change."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa6d6ca63ac8d88f253",
    "number": 5265,
    "body": null,
    "head_branch": "hls_part",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Add support to _HLS_part query param in LL streams (#5265)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa7d6ca63ac8d88f254",
    "number": 5264,
    "body": "Related to https://github.com/shaka-project/shaka-player/pull/5261\r\n\r\nThis PR delays the creation of the final urls of the segments so that they are not calculated in each media playlist parsing.",
    "head_branch": "hls-parser-improvements",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Improve HLS parsing time (#5264)\n\nRelated to https://github.com/shaka-project/shaka-player/pull/5261\r\n\r\nThis PR delays the creation of the final urls of the segments so that\r\nthey are not calculated in each media playlist parsing."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa8d6ca63ac8d88f255",
    "number": 5263,
    "body": null,
    "head_branch": "seekrange-hls-live",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix HLS seekRange for live streams (#5263)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fa9d6ca63ac8d88f256",
    "number": 5262,
    "body": null,
    "head_branch": "hls_msn",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Add support to _HLS_msn query param in LL streams (#5262)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219faad6ca63ac8d88f257",
    "number": 5261,
    "body": "This PR improve the parsing time for DASH and HLS changing when the uris of the segments are constructed. Now the uris are constructed on demand.",
    "head_branch": "improve-parsing-time",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Improve parsing time in DASH and HLS (#5261)\n\nThis PR improve the parsing time for DASH and HLS changing when the uris\r\nof the segments are constructed. Now the uris are constructed on demand."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fabd6ca63ac8d88f258",
    "number": 5260,
    "body": null,
    "head_branch": "fix-build-main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Add missing StreamInfo value in AAC transmuxer (#5260)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219facd6ca63ac8d88f259",
    "number": 5257,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5250",
    "head_branch": "fix-mss",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Demo): Fix deployment of codem-isoboxer in the Demo (#5257)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5250"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fadd6ca63ac8d88f25a",
    "number": 5255,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.7](https://github.com/shaka-project/shaka-player/compare/v4.3.6...v4.3.7) (2023-06-21)\n\n\n### Bug Fixes\n\n* CEA 608 captions not work with H.265 video streams ([#5252](https://github.com/shaka-project/shaka-player/issues/5252)) ([b08bb41](https://github.com/shaka-project/shaka-player/commit/b08bb419bf8e3183c980b59dbe4f627bd29961ae)), closes [#5251](https://github.com/shaka-project/shaka-player/issues/5251)\n* **Demo:** Fix deployment of codem-isoboxer in the Demo ([#5257](https://github.com/shaka-project/shaka-player/issues/5257)) ([7e2903a](https://github.com/shaka-project/shaka-player/commit/7e2903ad0024fe704f6466d804a305159d549dc4))\n* **demo:** Fix deployment of v4.3.x on appspot ([ccf5e2e](https://github.com/shaka-project/shaka-player/commit/ccf5e2e0e4babad3675565ac5c61fc9bf9bb970e))\n* **Demo:** Fix error link width to avoid overlap with close button ([#5309](https://github.com/shaka-project/shaka-player/issues/5309)) ([f575dab](https://github.com/shaka-project/shaka-player/commit/f575dab1fc1809f8dca65d5b0579a1a9d97c8acb))\n* Fix error when network status changes on src= playbacks ([#5305](https://github.com/shaka-project/shaka-player/issues/5305)) ([cf683f5](https://github.com/shaka-project/shaka-player/commit/cf683f59ea4b7837ec765e6d8c76115c5128426b))\n* **HLS:** Avoid \"Possible encoding problem detected!\" when is a preload reference ([#5332](https://github.com/shaka-project/shaka-player/issues/5332)) ([9ce8cc0](https://github.com/shaka-project/shaka-player/commit/9ce8cc091b550f1c97f826f90ad73350248339b6))\n* **HLS:** Avoid HLS resync when there is a gap in the stream ([#5284](https://github.com/shaka-project/shaka-player/issues/5284)) ([679dbae](https://github.com/shaka-project/shaka-player/commit/679dbaef4bcc9afa6e3e0310eb1570f16f6ed4c6))\n* **HLS:** Avoid variable substitution if no variables ([#5269](https://github.com/shaka-project/shaka-player/issues/5269)) ([49afa92](https://github.com/shaka-project/shaka-player/commit/49afa92e362ab92ff4f9e286bf30b7e7948b90f6))\n* **HLS:** Fix HLS seekRange for live streams ([#5263](https://github.com/shaka-project/shaka-player/issues/5263)) ([03df9cb](https://github.com/shaka-project/shaka-player/commit/03df9cba14a2fcf5c30741e1613d4570eb6f1a78))\n* **HLS:** Fix seekRange for EVENT playlist not using EXT-X-PLAYLIST-TYPE ([#5220](https://github.com/shaka-project/shaka-player/issues/5220)) ([562831b](https://github.com/shaka-project/shaka-player/commit/562831bbc65c66e1eb68715afed0c07874aeb81d))\n* **HLS:** Parse EXT-X-PART-INF as media playlist tag ([#5311](https://github.com/shaka-project/shaka-player/issues/5311)) ([f6210ee](https://github.com/shaka-project/shaka-player/commit/f6210ee6ee0acead33593be932a968120f5efa17))\n* **HLS:** Skip EXT-X-PRELOAD-HINT without full byterange info ([#5294](https://github.com/shaka-project/shaka-player/issues/5294)) ([9e193e2](https://github.com/shaka-project/shaka-player/commit/9e193e291fdc4fe195ad480e846c0c26cae1fe3e))\n* media source object URL revocation ([#5214](https://github.com/shaka-project/shaka-player/issues/5214)) ([1a89daa](https://github.com/shaka-project/shaka-player/commit/1a89daabfd284e541a3ae0a9b3c92d81dc692a3b))\n* Ship to NPM without node version restrictions ([#5253](https://github.com/shaka-project/shaka-player/issues/5253)) ([ca096a8](https://github.com/shaka-project/shaka-player/commit/ca096a88e459148aab0cd14a4ca90043c7b761de)), closes [#5243](https://github.com/shaka-project/shaka-player/issues/5243)\n* unnecessary parsing of in-band pssh when pssh is in the manifest ([#5198](https://github.com/shaka-project/shaka-player/issues/5198)) ([8d6494d](https://github.com/shaka-project/shaka-player/commit/8d6494d9a4eb7b29f9578e3d4ef36c3f9aff0b0c))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.7 (#5255)\n\n:robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n##\r\n[4.3.7](https://github.com/shaka-project/shaka-player/compare/v4.3.6...v4.3.7)\r\n(2023-06-21)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* CEA 608 captions not work with H.265 video streams\r\n([#5252](https://github.com/shaka-project/shaka-player/issues/5252))\r\n([b08bb41](https://github.com/shaka-project/shaka-player/commit/b08bb419bf8e3183c980b59dbe4f627bd29961ae)),\r\ncloses\r\n[#5251](https://github.com/shaka-project/shaka-player/issues/5251)\r\n* **Demo:** Fix deployment of codem-isoboxer in the Demo\r\n([#5257](https://github.com/shaka-project/shaka-player/issues/5257))\r\n([7e2903a](https://github.com/shaka-project/shaka-player/commit/7e2903ad0024fe704f6466d804a305159d549dc4))\r\n* **demo:** Fix deployment of v4.3.x on appspot\r\n([ccf5e2e](https://github.com/shaka-project/shaka-player/commit/ccf5e2e0e4babad3675565ac5c61fc9bf9bb970e))\r\n* **Demo:** Fix error link width to avoid overlap with close button\r\n([#5309](https://github.com/shaka-project/shaka-player/issues/5309))\r\n([f575dab](https://github.com/shaka-project/shaka-player/commit/f575dab1fc1809f8dca65d5b0579a1a9d97c8acb))\r\n* Fix error when network status changes on src= playbacks\r\n([#5305](https://github.com/shaka-project/shaka-player/issues/5305))\r\n([cf683f5](https://github.com/shaka-project/shaka-player/commit/cf683f59ea4b7837ec765e6d8c76115c5128426b))\r\n* **HLS:** Avoid \"Possible encoding problem detected!\" when is a preload\r\nreference\r\n([#5332](https://github.com/shaka-project/shaka-player/issues/5332))\r\n([9ce8cc0](https://github.com/shaka-project/shaka-player/commit/9ce8cc091b550f1c97f826f90ad73350248339b6))\r\n* **HLS:** Avoid HLS resync when there is a gap in the stream\r\n([#5284](https://github.com/shaka-project/shaka-player/issues/5284))\r\n([679dbae](https://github.com/shaka-project/shaka-player/commit/679dbaef4bcc9afa6e3e0310eb1570f16f6ed4c6))\r\n* **HLS:** Avoid variable substitution if no variables\r\n([#5269](https://github.com/shaka-project/shaka-player/issues/5269))\r\n([49afa92](https://github.com/shaka-project/shaka-player/commit/49afa92e362ab92ff4f9e286bf30b7e7948b90f6))\r\n* **HLS:** Fix HLS seekRange for live streams\r\n([#5263](https://github.com/shaka-project/shaka-player/issues/5263))\r\n([03df9cb](https://github.com/shaka-project/shaka-player/commit/03df9cba14a2fcf5c30741e1613d4570eb6f1a78))\r\n* **HLS:** Fix seekRange for EVENT playlist not using\r\nEXT-X-PLAYLIST-TYPE\r\n([#5220](https://github.com/shaka-project/shaka-player/issues/5220))\r\n([562831b](https://github.com/shaka-project/shaka-player/commit/562831bbc65c66e1eb68715afed0c07874aeb81d))\r\n* **HLS:** Parse EXT-X-PART-INF as media playlist tag\r\n([#5311](https://github.com/shaka-project/shaka-player/issues/5311))\r\n([f6210ee](https://github.com/shaka-project/shaka-player/commit/f6210ee6ee0acead33593be932a968120f5efa17))\r\n* **HLS:** Skip EXT-X-PRELOAD-HINT without full byterange info\r\n([#5294](https://github.com/shaka-project/shaka-player/issues/5294))\r\n([9e193e2](https://github.com/shaka-project/shaka-player/commit/9e193e291fdc4fe195ad480e846c0c26cae1fe3e))\r\n* media source object URL revocation\r\n([#5214](https://github.com/shaka-project/shaka-player/issues/5214))\r\n([1a89daa](https://github.com/shaka-project/shaka-player/commit/1a89daabfd284e541a3ae0a9b3c92d81dc692a3b))\r\n* Ship to NPM without node version restrictions\r\n([#5253](https://github.com/shaka-project/shaka-player/issues/5253))\r\n([ca096a8](https://github.com/shaka-project/shaka-player/commit/ca096a88e459148aab0cd14a4ca90043c7b761de)),\r\ncloses\r\n[#5243](https://github.com/shaka-project/shaka-player/issues/5243)\r\n* unnecessary parsing of in-band pssh when pssh is in the manifest\r\n([#5198](https://github.com/shaka-project/shaka-player/issues/5198))\r\n([8d6494d](https://github.com/shaka-project/shaka-player/commit/8d6494d9a4eb7b29f9578e3d4ef36c3f9aff0b0c))\r\n\r\n---\r\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please).\r\n\r\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219faed6ca63ac8d88f25b",
    "number": 5254,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.11](https://github.com/shaka-project/shaka-player/compare/v4.2.10...v4.2.11) (2023-06-20)\n\n\n### Bug Fixes\n\n* **Demo:** Fix deployment of codem-isoboxer in the Demo ([#5257](https://github.com/shaka-project/shaka-player/issues/5257)) ([23d48d4](https://github.com/shaka-project/shaka-player/commit/23d48d4da40362ace5bf2b653ffc35d8a33df21a))\n* **Demo:** Fix error link width to avoid overlap with close button ([#5309](https://github.com/shaka-project/shaka-player/issues/5309)) ([a6f980d](https://github.com/shaka-project/shaka-player/commit/a6f980d382669bf14fb91b63ab4f727f23f9064f))\n* Fix error when network status changes on src= playbacks ([#5305](https://github.com/shaka-project/shaka-player/issues/5305)) ([ce354ba](https://github.com/shaka-project/shaka-player/commit/ce354bab773c9fcac906d666c43a14c0e6f86d2d))\n* **HLS:** Avoid \"Possible encoding problem detected!\" when is a preload reference ([#5332](https://github.com/shaka-project/shaka-player/issues/5332)) ([763ae6a](https://github.com/shaka-project/shaka-player/commit/763ae6ad53934e12ac76a43138d15df7a20cd9d2))\n* **HLS:** Avoid HLS resync when there is a gap in the stream ([#5284](https://github.com/shaka-project/shaka-player/issues/5284)) ([256cf20](https://github.com/shaka-project/shaka-player/commit/256cf2071e23b315254b083a52aaa24649bd3b3e))\n* **HLS:** Avoid variable substitution if no variables ([#5269](https://github.com/shaka-project/shaka-player/issues/5269)) ([b549b60](https://github.com/shaka-project/shaka-player/commit/b549b6036c4baa2b987f4c0276cc2b0edf623dc0))\n* **HLS:** Parse EXT-X-PART-INF as media playlist tag ([#5311](https://github.com/shaka-project/shaka-player/issues/5311)) ([d78c080](https://github.com/shaka-project/shaka-player/commit/d78c08065c8728dbd9f849b44668e4ca8147785c))\n* **HLS:** Skip EXT-X-PRELOAD-HINT without full byterange info ([#5294](https://github.com/shaka-project/shaka-player/issues/5294)) ([e462711](https://github.com/shaka-project/shaka-player/commit/e462711d2366b89e2b60d42bab2b1da15ca80556))\n* media source object URL revocation ([#5214](https://github.com/shaka-project/shaka-player/issues/5214)) ([80ce378](https://github.com/shaka-project/shaka-player/commit/80ce378a115eaa5c8ddee84de57ed7a503942b50))\n* Ship to NPM without node version restrictions ([#5253](https://github.com/shaka-project/shaka-player/issues/5253)) ([41c1ace](https://github.com/shaka-project/shaka-player/commit/41c1ace953c898232040143b469fcf7971572450)), closes [#5243](https://github.com/shaka-project/shaka-player/issues/5243)\n* unnecessary parsing of in-band pssh when pssh is in the manifest ([#5198](https://github.com/shaka-project/shaka-player/issues/5198)) ([889cc68](https://github.com/shaka-project/shaka-player/commit/889cc68093099e1976dea0b72ee3943fa6f992d5))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.11 (#5254)\n\n:robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n##\r\n[4.2.11](https://github.com/shaka-project/shaka-player/compare/v4.2.10...v4.2.11)\r\n(2023-06-20)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* **Demo:** Fix deployment of codem-isoboxer in the Demo\r\n([#5257](https://github.com/shaka-project/shaka-player/issues/5257))\r\n([23d48d4](https://github.com/shaka-project/shaka-player/commit/23d48d4da40362ace5bf2b653ffc35d8a33df21a))\r\n* **Demo:** Fix error link width to avoid overlap with close button\r\n([#5309](https://github.com/shaka-project/shaka-player/issues/5309))\r\n([a6f980d](https://github.com/shaka-project/shaka-player/commit/a6f980d382669bf14fb91b63ab4f727f23f9064f))\r\n* Fix error when network status changes on src= playbacks\r\n([#5305](https://github.com/shaka-project/shaka-player/issues/5305))\r\n([ce354ba](https://github.com/shaka-project/shaka-player/commit/ce354bab773c9fcac906d666c43a14c0e6f86d2d))\r\n* **HLS:** Avoid \"Possible encoding problem detected!\" when is a preload\r\nreference\r\n([#5332](https://github.com/shaka-project/shaka-player/issues/5332))\r\n([763ae6a](https://github.com/shaka-project/shaka-player/commit/763ae6ad53934e12ac76a43138d15df7a20cd9d2))\r\n* **HLS:** Avoid HLS resync when there is a gap in the stream\r\n([#5284](https://github.com/shaka-project/shaka-player/issues/5284))\r\n([256cf20](https://github.com/shaka-project/shaka-player/commit/256cf2071e23b315254b083a52aaa24649bd3b3e))\r\n* **HLS:** Avoid variable substitution if no variables\r\n([#5269](https://github.com/shaka-project/shaka-player/issues/5269))\r\n([b549b60](https://github.com/shaka-project/shaka-player/commit/b549b6036c4baa2b987f4c0276cc2b0edf623dc0))\r\n* **HLS:** Parse EXT-X-PART-INF as media playlist tag\r\n([#5311](https://github.com/shaka-project/shaka-player/issues/5311))\r\n([d78c080](https://github.com/shaka-project/shaka-player/commit/d78c08065c8728dbd9f849b44668e4ca8147785c))\r\n* **HLS:** Skip EXT-X-PRELOAD-HINT without full byterange info\r\n([#5294](https://github.com/shaka-project/shaka-player/issues/5294))\r\n([e462711](https://github.com/shaka-project/shaka-player/commit/e462711d2366b89e2b60d42bab2b1da15ca80556))\r\n* media source object URL revocation\r\n([#5214](https://github.com/shaka-project/shaka-player/issues/5214))\r\n([80ce378](https://github.com/shaka-project/shaka-player/commit/80ce378a115eaa5c8ddee84de57ed7a503942b50))\r\n* Ship to NPM without node version restrictions\r\n([#5253](https://github.com/shaka-project/shaka-player/issues/5253))\r\n([41c1ace](https://github.com/shaka-project/shaka-player/commit/41c1ace953c898232040143b469fcf7971572450)),\r\ncloses\r\n[#5243](https://github.com/shaka-project/shaka-player/issues/5243)\r\n* unnecessary parsing of in-band pssh when pssh is in the manifest\r\n([#5198](https://github.com/shaka-project/shaka-player/issues/5198))\r\n([889cc68](https://github.com/shaka-project/shaka-player/commit/889cc68093099e1976dea0b72ee3943fa6f992d5))\r\n\r\n---\r\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please).\r\n\r\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fafd6ca63ac8d88f25c",
    "number": 5253,
    "body": "Before packaging for NPM, remove the \"engines\" section of package.json to avoid unnecessary restrictions on node versions for projects that simply depend on Shaka Player, but don't need to rebuild it.  This is accomplished with the clean-package tool: https://github.com/roydukkey/clean-package\r\n\r\nThe \"engines\" section and its restrictions still make sense for Shaka Player development, so it will not be removed from package.json in the repo.\r\n\r\nCloses #5243",
    "head_branch": "clean-package",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Ship to NPM without node version restrictions (#5253)\n\nBefore packaging for NPM, remove the \"engines\" section of package.json\r\nto avoid unnecessary restrictions on node versions for projects that\r\nsimply depend on Shaka Player, but don't need to rebuild it. This is\r\naccomplished with the clean-package tool:\r\nhttps://github.com/roydukkey/clean-package\r\n\r\nThe \"engines\" section and its restrictions still make sense for Shaka\r\nPlayer development, so it will not be removed from package.json in the\r\nrepo.\r\n\r\nCloses #5243"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fb0d6ca63ac8d88f25d",
    "number": 5252,
    "body": "Fix parsing of CEA 608 captions in H.265 video streams by handling 2 byte nal unit header.\r\n\r\nFixes #5251 ",
    "head_branch": "fixHevcCaptionParsing",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: CEA 608 captions not work with H.265 video streams (#5252)\n\nFix parsing of CEA 608 captions in H.265 video streams by handling 2\r\nbyte nal unit header.\r\n\r\nFixes #5251"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fb1d6ca63ac8d88f25e",
    "number": 5247,
    "body": "This PR is our phase 1 implementation of performant MPD patch support (not reprising the manifest each time).\r\n\r\nThis PR implements MPD Patch addition support for segment template.\r\nIt also includes a patch middleware for the demo app as their isn't much in the ways of publicly available Patch compliant streams.\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/2228\r\n\r\n\r\n",
    "head_branch": "mpd-patch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fb2d6ca63ac8d88f25f",
    "number": 5240,
    "body": "This transmuxer is used in Firefox due the lack of support for `audio/aac`",
    "head_branch": "aac-transmuxer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add AAC transmuxer (#5240)\n\nThis transmuxer is used in Firefox due the lack of support for\r\n`audio/aac`"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fb3d6ca63ac8d88f260",
    "number": 5235,
    "body": null,
    "head_branch": "mp4-generator-dolby",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add AC-3 and EC-3 support in Mp4Generator (#5235)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fb4d6ca63ac8d88f261",
    "number": 5230,
    "body": "This is draft PR following up my [proposal](https://github.com/shaka-project/shaka-player/issues/880#issuecomment-1540708568) about providing a preload API (#880)\r\n\r\nIt contains a proof-of-concept implementation of the first step described in the [proposal](https://github.com/shaka-project/shaka-player/issues/880#issuecomment-1540708568) i.e. enabling detached initialization/load of the player so that the following is now possible:\r\n```js\r\nconst player = new shaka.Player();\r\nawait player.load(assetUri);\r\nawait player.attach(mediaElement);\r\n```\r\nThe proposed changes are backwards compatible.\r\n\r\nI opened this draft PR with the intent support the feasibility of my proposal and to get feedback from the community. I'd appreciate if you can find some time to review it (and the [proposal](https://github.com/shaka-project/shaka-player/issues/880#issuecomment-1540708568) too).\r\n\r\nNote:\r\nIf you want to checkout the code and test, I suggest you run the player in uncompiled mode as the current changes break the tests compilation.",
    "head_branch": "feat/media-preload",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fb5d6ca63ac8d88f262",
    "number": 5224,
    "body": "The `initialAspectRatio` option was removed from the Document Picture-in-Picture spec in favour of `width` and `height`, so we should use them. See https://github.com/WICG/document-picture-in-picture/pull/36",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Document Picture-in-Picture: Use width/height instead of initialAspectRatio (#5224)\n\nThe `initialAspectRatio` option was removed from the Document\r\nPicture-in-Picture spec in favour of `width` and `height`, so we should\r\nuse them. See\r\nhttps://github.com/WICG/document-picture-in-picture/pull/36"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fb6d6ca63ac8d88f263",
    "number": 5223,
    "body": "Resolves #5222.\r\n\r\nIt also opens the way for improving the compliance with [RFC 5646](https://datatracker.ietf.org/doc/html/rfc5646) in the future.\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfeat: Support private-use language tags (#5223)\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "improve-language-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Enhance Audio Language Switching (#5223)\n\nResolves #5222.\r\n\r\nIt also opens the way for improving the compliance with [RFC\r\n5646](https://datatracker.ietf.org/doc/html/rfc5646) in the future."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fb7d6ca63ac8d88f264",
    "number": 5221,
    "body": "Not sure how I should propose this, But want to mention that https://github.com/shaka-project/shaka-player/blob/main/README.md#framework-integrations all mention here are wrappers. Which allows us to use it with specific framework or library. Whereas, https://limeplay.me is a React Library where everything has been made from scratch specifically for React. \r\n\r\nShould we rename and put others under the category of **Wrappers** and this under **Library**? ",
    "head_branch": "docs/react-integration",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Link to Shaka Player React UI Library (#5221)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fb8d6ca63ac8d88f265",
    "number": 5220,
    "body": null,
    "head_branch": "hls-event",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix seekRange for EVENT playlist not using EXT-X-PLAYLIST-TYPE (#5220)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fb9d6ca63ac8d88f266",
    "number": 5219,
    "body": null,
    "head_branch": "hls-event-without-event",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fbad6ca63ac8d88f267",
    "number": 5217,
    "body": "Thanks to https://github.com/shaka-project/shaka-player/pull/4766\r\n\r\nThis PR adds support for codec hot-switching in MediaSourceEngine. \r\nThere are two ways to change codec:\r\n- Using `Sourcebuffer.changeType` on supported browsers \r\n- Reloading the `MediaSource` instance with the new codecs\r\n\r\nThis change does not change the current filter logic, so this code is not used yet. The change in the filtering will be done in a subsequent PR in order to simplify the changes of this PR.\r\n",
    "head_branch": "reset-changeType-mse",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add support for changing codecs in MediaSourceEngine (#5217)\n\nThanks to https://github.com/shaka-project/shaka-player/pull/4766\r\n\r\nThis PR adds support for codec hot-switching in MediaSourceEngine. \r\nThere are two ways to change codec:\r\n- Using `Sourcebuffer.changeType` on supported browsers \r\n- Reloading the `MediaSource` instance with the new codecs\r\n\r\nThis change does not change the current filter logic, so this code is\r\nnot used yet. The change in the filtering will be done in a subsequent\r\nPR in order to simplify the changes of this PR."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fbbd6ca63ac8d88f268",
    "number": 5216,
    "body": "Closes #5211",
    "head_branch": "accPurBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(DASH): Expose accessibility purpose in track (#5216)\n\nCloses #5211"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fbcd6ca63ac8d88f269",
    "number": 5214,
    "body": "`createMediaSource()` sets `this.url_` for later revocation when the media source opens. However, `createMediaSource()` is called before the `url_` property is declared and initialised in the constructor. As result, `this.url_` actually get declared an initialised with the object URL in `createMediaSource()` and is later overwritten with an empty string in the constructor. This compromises the revocation logic as we end up always passing an empty string to `URL.revokeObjectURL()`.\r\n\r\nTo fix this, we make sure `this.url_` is declared and assigned default value in the constructor before any other class methods are called.",
    "head_branch": "fix/object-url-revocation",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: media source object URL revocation (#5214)\n\n`createMediaSource()` sets `this.url_` for later revocation when the\r\nmedia source opens. However, `createMediaSource()` is called before the\r\n`url_` property is declared and initialised in the constructor. As\r\nresult, `this.url_` actually get declared an initialised with the object\r\nURL in `createMediaSource()` and is later overwritten with an empty\r\nstring in the constructor. This compromises the revocation logic as we\r\nend up always passing an empty string to `URL.revokeObjectURL()`.\r\n\r\nTo fix this, we make sure `this.url_` is declared and assigned default\r\nvalue in the constructor before any other class methods are called."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fbdd6ca63ac8d88f26a",
    "number": 5210,
    "body": "Similar to https://github.com/shaka-project/shaka-player/issues/4717 the same problem with broken `bufferBehind` occurs with the latest addition of `TimelineSegmentIndex`.",
    "head_branch": "wt-bufferbehind-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DASH): Fix bufferBehind with image tracks regression (#5210)\n\nA recent change to allow for on-demand segment references (#5061) ended up causing a\r\nregression with an older issue (#4717), where the presence of an image track overrides\r\n`bufferBehind` behavior.\r\nThis fixes the segment template handler to properly account for image tracks, once again."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fbed6ca63ac8d88f26b",
    "number": 5209,
    "body": null,
    "head_branch": "emsg-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fbed6ca63ac8d88f26c",
    "number": 5208,
    "body": "This transmuxer is used in Firefox due the lack of support for `audio/mpeg`",
    "head_branch": "mp3-transmuxer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add MP3 transmuxer (#5208)\n\nThis transmuxer is used in Firefox due the lack of support for\r\n`audio/mpeg`"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fbfd6ca63ac8d88f26d",
    "number": 5207,
    "body": "Closes #5077",
    "head_branch": "update-java-link",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "docs: Update Java download link (#5207)\n\nCloses #5077"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fc0d6ca63ac8d88f26e",
    "number": 5205,
    "body": "With this change, the manifest codecs are not filtered when using a raw format, now it is filtered only when necessary.",
    "head_branch": "transmuxer-containerless-codec",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Transmux containerless to the correct mimetype (#5205)\n\nWith this change, the manifest codecs are not filtered when using a raw\r\nformat, now it is filtered only when necessary."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fc1d6ca63ac8d88f26f",
    "number": 5204,
    "body": null,
    "head_branch": "firefox-font-flake",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix screenshot flake by waiting longer for fonts (#5204)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fc2d6ca63ac8d88f270",
    "number": 5203,
    "body": "Due to limits in the number of versions you can have deployed at once on App Engine, we can no longer keep every version of the Shaka Player Demo deployed.  So the version index needs to be aware of which versions are deployed, and only link to versions that are still available.\r\n\r\nThis makes the index generator aware of App Engine deployments.",
    "head_branch": "index-enhancements",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "ci: Make version index aware of deployments (#5203)\n\nDue to limits in the number of versions you can have deployed at once on\r\nApp Engine, we can no longer keep every version of the Shaka Player Demo\r\ndeployed. So the version index needs to be aware of which versions are\r\ndeployed, and only link to versions that are still available.\r\n\r\nThis makes the index generator aware of App Engine deployments."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fc3d6ca63ac8d88f271",
    "number": 5198,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5197\r\n\r\nWhen pssh is provided in the manifest we do not need to parse in-band pssh even if the drm.parseInbandPssh setting is true.\r\n\r\nTested on an xbox one with some additional temporary logging the reported when in-band pssh is being parsed.\r\nTested with setting drm.parseInbandPssh=true (the default for XboxOne)\r\nVerified that we DO NOT parse in-band pssh when pssh is present in the manifest\r\nVerified that we DO parse in-band pssh when pssh is NOT present in the manifest\r\n",
    "head_branch": "NoParseInBandPsshWhenInManifest",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: unnecessary parsing of in-band pssh when pssh is in the manifest (#5198)\n\nWhen pssh is provided in the manifest we do not need to parse in-band pssh even if the drm.parseInbandPssh setting is true.\r\n\r\nFixes #5197"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fc4d6ca63ac8d88f272",
    "number": 5196,
    "body": null,
    "head_branch": "mss-duration",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix buffering on the end of MSS streams (#5196)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fc5d6ca63ac8d88f273",
    "number": 5195,
    "body": "Fixes #5178 \r\n\r\nChanges included:\r\n- converted CEA parsers to externs\r\n- added API to register/unregister CEA parsers\r\n- TextEngine now checks is CEA decoder registered\r\n- excluded CEA plugin from core build\r\n- added lcevc plugin to core build\r\n\r\nBundle size results (all in KB, compared to bf4b4a54cc56d5da98918274351063e22f31cd6d):\r\n\r\n\r\n  | core | complete - ui | complete - ui - cea\r\n-- | -- | -- | --\r\nbefore | 246 | 473 | 473\r\nafter | 231 | 474 | 459\r\n\r\n",
    "head_branch": "wt-cea-plugin",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Convert CEA parsers to plugins (#5195)\n\nFixes #5178 \r\n\r\nChanges included:\r\n- converted CEA parsers to externs\r\n- added API to register/unregister CEA parsers\r\n- TextEngine now checks is CEA decoder registered\r\n- excluded CEA plugin from core build\r\n- added lcevc plugin to core build\r\n\r\nBundle size results (all in KB, compared to\r\nbf4b4a54cc56d5da98918274351063e22f31cd6d):\r\n\r\n\r\n  | core | complete - ui | complete - ui - cea\r\n-- | -- | -- | --\r\nbefore | 246 | 473 | 473\r\nafter | 231 | 474 | 459"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fc6d6ca63ac8d88f274",
    "number": 5194,
    "body": "We should not look for response data in a HEAD request.\r\n\r\nFixes #5164",
    "head_branch": "fix-head-request-exception",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix HEAD request exception (#5194)\n\nWe should not look for response data in a HEAD request.\r\n\r\nFixes #5164"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fc7d6ca63ac8d88f275",
    "number": 5193,
    "body": "The Cast Application Framework is adopting v4.3, which allows us to drop v3.2, and v3.3 LTS support ends at the end of April.",
    "head_branch": "maintained-branch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update maintained branches (#5193)\n\nThe Cast Application Framework is adopting v4.3, which allows us to drop\r\nv3.2, and v3.3 LTS support ends at the end of April."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fc8d6ca63ac8d88f276",
    "number": 5192,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.21](https://github.com/shaka-project/shaka-player/compare/v3.2.20...v3.2.21) (2023-04-27)\n\n\n### Bug Fixes\n\n* `config.streaming.preferNativeHls` only applies to HLS streams ([#5167](https://github.com/shaka-project/shaka-player/issues/5167)) ([f3e9dab](https://github.com/shaka-project/shaka-player/commit/f3e9dabb3437c126e172ea97e6e793aa9140d3c7)), closes [#5166](https://github.com/shaka-project/shaka-player/issues/5166)\n* **Ads:** Fix usage of EventManager on CS ([#5084](https://github.com/shaka-project/shaka-player/issues/5084)) ([e97264c](https://github.com/shaka-project/shaka-player/commit/e97264c041ed8b24930df0f660d8d50ee60bf2ca))\n* Fix fetch plugin with old implementations ([#5091](https://github.com/shaka-project/shaka-player/issues/5091)) ([0004ade](https://github.com/shaka-project/shaka-player/commit/0004ade02bc6a6ebb84583f433b5f1130797aaeb))\n* Fix handling of CC when switching between codecs ([#5160](https://github.com/shaka-project/shaka-player/issues/5160)) ([2203087](https://github.com/shaka-project/shaka-player/commit/2203087b1e94c328f1fc095b5e17ff690b31453b))\n* Fix HEAD request exception ([#5194](https://github.com/shaka-project/shaka-player/issues/5194)) ([265829b](https://github.com/shaka-project/shaka-player/commit/265829b074f922b550e51fa10ce7f87dd222ffe9)), closes [#5164](https://github.com/shaka-project/shaka-player/issues/5164)\n* Fix missing originalUri in response filters ([#5114](https://github.com/shaka-project/shaka-player/issues/5114)) ([7dafd2f](https://github.com/shaka-project/shaka-player/commit/7dafd2f782e6edc2d7fcf38b0db3884b28a6fd2c))\n* Fix race that allows multiple text streams to be loaded ([#5129](https://github.com/shaka-project/shaka-player/issues/5129)) ([35832b1](https://github.com/shaka-project/shaka-player/commit/35832b1b9c9c3eb08ff64ba90661a2f8f0f2c3db))\n* Fix selectVariantsByLabel using src= ([#5154](https://github.com/shaka-project/shaka-player/issues/5154)) ([7e3adce](https://github.com/shaka-project/shaka-player/commit/7e3adce4a30063d581f25bbe6aab35d54376e95c))\n* Handle empty media segments for Mp4VttParser ([#5131](https://github.com/shaka-project/shaka-player/issues/5131)) ([bbaffe8](https://github.com/shaka-project/shaka-player/commit/bbaffe8865aed2b4957fe4f5155174f823611cc7)), closes [#4429](https://github.com/shaka-project/shaka-player/issues/4429)\n* **HLS:** Adding support for DTS Express in HLS fMP4 ([#5112](https://github.com/shaka-project/shaka-player/issues/5112)) ([#5117](https://github.com/shaka-project/shaka-player/issues/5117)) ([de90328](https://github.com/shaka-project/shaka-player/commit/de90328cec936d3dba986396aefb5d2d69a9b373))\n* Prevent bad calls to MediaSource.endOfStream ([#5071](https://github.com/shaka-project/shaka-player/issues/5071)) ([c56bea6](https://github.com/shaka-project/shaka-player/commit/c56bea6d3e2f01c964db077219031f1dd068ef91)), closes [#5070](https://github.com/shaka-project/shaka-player/issues/5070)\n* Tizen video error fixed by checking the extended MIME type ([#4973](https://github.com/shaka-project/shaka-player/issues/4973)) ([426816e](https://github.com/shaka-project/shaka-player/commit/426816ed01a708fb82e277b3c2fc5c39a1b65fad)), closes [#4634](https://github.com/shaka-project/shaka-player/issues/4634)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.21 (#5192)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fc9d6ca63ac8d88f277",
    "number": 5191,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.19](https://github.com/shaka-project/shaka-player/compare/v3.3.18...v3.3.19) (2023-04-27)\n\n\n### Bug Fixes\n\n* `config.streaming.preferNativeHls` only applies to HLS streams ([#5167](https://github.com/shaka-project/shaka-player/issues/5167)) ([1dacefc](https://github.com/shaka-project/shaka-player/commit/1dacefc93c4bab4e1200c85f085dba09b0ff09c7)), closes [#5166](https://github.com/shaka-project/shaka-player/issues/5166)\n* **ads:** Fix ads starting muted behavior ([#5153](https://github.com/shaka-project/shaka-player/issues/5153)) ([cbfaa70](https://github.com/shaka-project/shaka-player/commit/cbfaa7074316e00ddd072b107dccd27ef926072d)), closes [#5125](https://github.com/shaka-project/shaka-player/issues/5125)\n* **Ads:** Fix usage of EventManager on CS ([#5084](https://github.com/shaka-project/shaka-player/issues/5084)) ([d412b08](https://github.com/shaka-project/shaka-player/commit/d412b08a83b865a358f46d851ea48825d4125950))\n* **DASH:** Fix seeking on multiperiod content after variant change ([#5110](https://github.com/shaka-project/shaka-player/issues/5110)) ([2ee97e2](https://github.com/shaka-project/shaka-player/commit/2ee97e2873f87968c9403718f55e1b4f85e48668))\n* Fix fetch plugin with old implementations ([#5091](https://github.com/shaka-project/shaka-player/issues/5091)) ([8ddc98e](https://github.com/shaka-project/shaka-player/commit/8ddc98e3d0db4d6582c8814423ef0a38ce829d86))\n* Fix handling of CC when switching between codecs ([#5160](https://github.com/shaka-project/shaka-player/issues/5160)) ([3ea3fb4](https://github.com/shaka-project/shaka-player/commit/3ea3fb4abc8cfc9d52447dab67aa5a8dd3152dc0))\n* Fix HEAD request exception ([#5194](https://github.com/shaka-project/shaka-player/issues/5194)) ([29d6b4c](https://github.com/shaka-project/shaka-player/commit/29d6b4ce7fd9383ab213039e59bfee86e495c00b)), closes [#5164](https://github.com/shaka-project/shaka-player/issues/5164)\n* Fix missing originalUri in response filters ([#5114](https://github.com/shaka-project/shaka-player/issues/5114)) ([626ef1f](https://github.com/shaka-project/shaka-player/commit/626ef1f9c117cc98795c5974b3522f6f35fe3867))\n* Fix race that allows multiple text streams to be loaded ([#5129](https://github.com/shaka-project/shaka-player/issues/5129)) ([1942d1d](https://github.com/shaka-project/shaka-player/commit/1942d1d1ca491c47d6f39cbd60e647a19c84c044))\n* Fix selectVariantsByLabel using src= ([#5154](https://github.com/shaka-project/shaka-player/issues/5154)) ([68c6e7a](https://github.com/shaka-project/shaka-player/commit/68c6e7a299d8feadd6f981d172f81b0b35fa12a9))\n* Handle empty media segments for Mp4VttParser ([#5131](https://github.com/shaka-project/shaka-player/issues/5131)) ([29b7a30](https://github.com/shaka-project/shaka-player/commit/29b7a30b13cc5fea1d9aa79b15eb0ac42cc4e85c)), closes [#4429](https://github.com/shaka-project/shaka-player/issues/4429)\n* **HLS:** Adding support for DTS Express in HLS fMP4 ([#5112](https://github.com/shaka-project/shaka-player/issues/5112)) ([#5117](https://github.com/shaka-project/shaka-player/issues/5117)) ([07e1737](https://github.com/shaka-project/shaka-player/commit/07e173720d1aa098ae3f3d2ea3731205feb39e6f))\n* **net:** Fix HEAD requests in new Chromium ([#5180](https://github.com/shaka-project/shaka-player/issues/5180)) ([ec301e6](https://github.com/shaka-project/shaka-player/commit/ec301e637d1314643f0b2fdfe4c8bcd68ec27f3b)), closes [#5164](https://github.com/shaka-project/shaka-player/issues/5164)\n* PERIOD_FLATTENING_FAILED error with shaka 3.3.x that did not occur with shaka 3.1.2 ([#5188](https://github.com/shaka-project/shaka-player/issues/5188)) ([2cefcf4](https://github.com/shaka-project/shaka-player/commit/2cefcf434dcd729469df94a20673ab9fe7d8d72b)), closes [#5183](https://github.com/shaka-project/shaka-player/issues/5183)\n* Prevent bad calls to MediaSource.endOfStream ([#5071](https://github.com/shaka-project/shaka-player/issues/5071)) ([9824474](https://github.com/shaka-project/shaka-player/commit/98244742ec6add0a7514966b214e0411648e53a9)), closes [#5070](https://github.com/shaka-project/shaka-player/issues/5070)\n* Tizen video error fixed by checking the extended MIME type ([#4973](https://github.com/shaka-project/shaka-player/issues/4973)) ([b663e99](https://github.com/shaka-project/shaka-player/commit/b663e99b9447c5f65746876b4e58ec7e04ee7b7f)), closes [#4634](https://github.com/shaka-project/shaka-player/issues/4634)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.19 (#5191)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fcad6ca63ac8d88f278",
    "number": 5190,
    "body": "The padding on the base64-encoded content key was missing from the URL.  This did not show up until I tested on Tizen.",
    "head_branch": "playready-drm-server-syntax",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix PlayReady server URL syntax (#5190)\n\nThe padding on the base64-encoded content key was missing from the URL.\r\nThis did not show up until I tested on Tizen."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fcbd6ca63ac8d88f279",
    "number": 5189,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.10](https://github.com/shaka-project/shaka-player/compare/v4.2.9...v4.2.10) (2023-04-27)\n\n\n### Bug Fixes\n\n* `config.streaming.preferNativeHls` only applies to HLS streams ([#5167](https://github.com/shaka-project/shaka-player/issues/5167)) ([0cf7014](https://github.com/shaka-project/shaka-player/commit/0cf70143aaedd3ec3cc31c7497f432b3f594ed2c)), closes [#5166](https://github.com/shaka-project/shaka-player/issues/5166)\n* **ads:** Fix ads starting muted behavior ([#5153](https://github.com/shaka-project/shaka-player/issues/5153)) ([17e8bf6](https://github.com/shaka-project/shaka-player/commit/17e8bf6b086afe17a927048e7d4ea17649c3f827)), closes [#5125](https://github.com/shaka-project/shaka-player/issues/5125)\n* **Ads:** Fix usage of EventManager on CS ([#5084](https://github.com/shaka-project/shaka-player/issues/5084)) ([f1b3ceb](https://github.com/shaka-project/shaka-player/commit/f1b3ceb3ae769b5d254851dcaba2b961058a4856))\n* **DASH:** Fix seeking on multiperiod content after variant change ([#5110](https://github.com/shaka-project/shaka-player/issues/5110)) ([860b975](https://github.com/shaka-project/shaka-player/commit/860b97545bb01e93aa0c5ed7ecae06d3d9d554af))\n* don't use navigator.connection event listener if it isn't implemented ([#5157](https://github.com/shaka-project/shaka-player/issues/5157)) ([7d8b867](https://github.com/shaka-project/shaka-player/commit/7d8b8678dbd7febe73d049b5744145c534f52e42)), closes [#4542](https://github.com/shaka-project/shaka-player/issues/4542)\n* Fix fetch plugin with old implementations ([#5091](https://github.com/shaka-project/shaka-player/issues/5091)) ([6333d49](https://github.com/shaka-project/shaka-player/commit/6333d49ee785fde20e88917d251937d0f3abff5b))\n* Fix handling of CC when switching between codecs ([#5160](https://github.com/shaka-project/shaka-player/issues/5160)) ([9c3353c](https://github.com/shaka-project/shaka-player/commit/9c3353cc7bf78d22addfeb20a07bda41b61ac3ab))\n* Fix HEAD request exception ([#5194](https://github.com/shaka-project/shaka-player/issues/5194)) ([326137a](https://github.com/shaka-project/shaka-player/commit/326137a936a7fe24ab3ecf0c38569cbfa7d631dd)), closes [#5164](https://github.com/shaka-project/shaka-player/issues/5164)\n* Fix missing originalUri in response filters ([#5114](https://github.com/shaka-project/shaka-player/issues/5114)) ([f9c72fe](https://github.com/shaka-project/shaka-player/commit/f9c72fe45ddc6933f7599dd611b5f4434ad7fc39))\n* Fix race that allows multiple text streams to be loaded ([#5129](https://github.com/shaka-project/shaka-player/issues/5129)) ([6f695d2](https://github.com/shaka-project/shaka-player/commit/6f695d2ef97f6cea05b222c25c73b01fccefd941))\n* Fix selectVariantsByLabel using src= ([#5154](https://github.com/shaka-project/shaka-player/issues/5154)) ([537591d](https://github.com/shaka-project/shaka-player/commit/537591d262476be03c2ae091004a4bb7e005608b))\n* Handle empty media segments for Mp4VttParser ([#5131](https://github.com/shaka-project/shaka-player/issues/5131)) ([123d476](https://github.com/shaka-project/shaka-player/commit/123d476346a045da75d9527d2cbab4b882d57283)), closes [#4429](https://github.com/shaka-project/shaka-player/issues/4429)\n* **HLS:** Adding support for DTS Express in HLS fMP4 ([#5112](https://github.com/shaka-project/shaka-player/issues/5112)) ([#5117](https://github.com/shaka-project/shaka-player/issues/5117)) ([1e577d4](https://github.com/shaka-project/shaka-player/commit/1e577d42cebe86100c3be94b478c341c83ece63a))\n* **HLS:** preserve discontinuitySequence in SegmentIndex#fit ([#5066](https://github.com/shaka-project/shaka-player/issues/5066)) ([ad484a3](https://github.com/shaka-project/shaka-player/commit/ad484a308258869abf7436cb5f8168a5e28dd649))\n* **logging:** Simplify log code. ([#5050](https://github.com/shaka-project/shaka-player/issues/5050)) ([7f9f26c](https://github.com/shaka-project/shaka-player/commit/7f9f26c00f2c997d63cd8399fb75c289040d8d00)), closes [#5032](https://github.com/shaka-project/shaka-player/issues/5032)\n* **net:** Fix HEAD requests in new Chromium ([#5180](https://github.com/shaka-project/shaka-player/issues/5180)) ([1383d6f](https://github.com/shaka-project/shaka-player/commit/1383d6fc5bd2ac6d9f31952f6fb9e0ce9d740179)), closes [#5164](https://github.com/shaka-project/shaka-player/issues/5164)\n* PERIOD_FLATTENING_FAILED error with shaka 4.2.x that did not occur with shaka 3.1.2 ([#5188](https://github.com/shaka-project/shaka-player/issues/5188)) ([e26d19e](https://github.com/shaka-project/shaka-player/commit/e26d19e8ad1110f4251983e6d54585df886a1f38)), closes [#5183](https://github.com/shaka-project/shaka-player/issues/5183)\n* Prevent bad calls to MediaSource.endOfStream ([#5071](https://github.com/shaka-project/shaka-player/issues/5071)) ([bae961b](https://github.com/shaka-project/shaka-player/commit/bae961baf97d3db713c45d3488d50a6d6ca52de6)), closes [#5070](https://github.com/shaka-project/shaka-player/issues/5070)\n* prevent memory leak in SimpleAbrManager while destroying ([#5149](https://github.com/shaka-project/shaka-player/issues/5149)) ([3f85d0c](https://github.com/shaka-project/shaka-player/commit/3f85d0ce7a18bb1df6e70d24183f392dbac1d9eb))\n* Tizen video error fixed by checking the extended MIME type ([#4973](https://github.com/shaka-project/shaka-player/issues/4973)) ([f53e9e9](https://github.com/shaka-project/shaka-player/commit/f53e9e9aff8f4b8c5ca2bd8157ad325d5e415e80)), closes [#4634](https://github.com/shaka-project/shaka-player/issues/4634)\n* **Tizen:** Fix exceptions thrown from logging methods ([#5063](https://github.com/shaka-project/shaka-player/issues/5063)) ([3109994](https://github.com/shaka-project/shaka-player/commit/310999423dd3553b08756c58e83256faf55be837))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.10 (#5189)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fccd6ca63ac8d88f27a",
    "number": 5188,
    "body": "Fixed handling of manifest with new codecs in later periods by adding check for empty matchedStreams array in createNewOutputStrems()\r\n\r\nFixes #5183 \r\n\r\n",
    "head_branch": "FixManifestFlatteningWithMissingCodecs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix:  PERIOD_FLATTENING_FAILED error with shaka 4.3.4 that did not occur with shaka 3.1.2 #5183  (#5188)\n\nFixed handling of manifest with new codecs in later periods by adding\r\ncheck for empty matchedStreams array in createNewOutputStrems()\r\n\r\nFixes #5183"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fccd6ca63ac8d88f27b",
    "number": 5187,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.6](https://github.com/shaka-project/shaka-player/compare/v4.3.5...v4.3.6) (2023-04-27)\n\n\n### Bug Fixes\n\n* `config.streaming.preferNativeHls` only applies to HLS streams ([#5167](https://github.com/shaka-project/shaka-player/issues/5167)) ([dd7a2dc](https://github.com/shaka-project/shaka-player/commit/dd7a2dc5773fe23829b858cbc7b643652c24b1fe)), closes [#5166](https://github.com/shaka-project/shaka-player/issues/5166)\n* **ads:** Fix ads starting muted behavior ([#5153](https://github.com/shaka-project/shaka-player/issues/5153)) ([d55479c](https://github.com/shaka-project/shaka-player/commit/d55479ccc5c66c4bafc942f10ea2a0cea0f9f1ad)), closes [#5125](https://github.com/shaka-project/shaka-player/issues/5125)\n* **Ads:** Fix usage of EventManager on CS ([#5084](https://github.com/shaka-project/shaka-player/issues/5084)) ([259f0f7](https://github.com/shaka-project/shaka-player/commit/259f0f70b12c420d968571457bb2fb2462e98a60))\n* **DASH:** Fix seeking on multiperiod content after variant change ([#5110](https://github.com/shaka-project/shaka-player/issues/5110)) ([579b5e2](https://github.com/shaka-project/shaka-player/commit/579b5e2fbbff07475c229f607db916eddb9e9fc2))\n* **demo:** Fix native controls pointer events stolen by LCEVC canvas ([#5065](https://github.com/shaka-project/shaka-player/issues/5065)) ([eb6f792](https://github.com/shaka-project/shaka-player/commit/eb6f7923de22de6093d6fb8b18ccd94e45ba5ae6))\n* don't use navigator.connection event listener if it isn't implemented ([#5157](https://github.com/shaka-project/shaka-player/issues/5157)) ([bfdfc7d](https://github.com/shaka-project/shaka-player/commit/bfdfc7d3e7cd35867b7da64b43167e0876d9311d)), closes [#4542](https://github.com/shaka-project/shaka-player/issues/4542)\n* exclude \"future\" segments from presentation timeline auto correct drift calculations ([#4945](https://github.com/shaka-project/shaka-player/issues/4945)) ([0578084](https://github.com/shaka-project/shaka-player/commit/0578084fe8e7d85b18107688262a62996fa3fc9c)), closes [#4944](https://github.com/shaka-project/shaka-player/issues/4944)\n* Fix fetch plugin with old implementations ([#5091](https://github.com/shaka-project/shaka-player/issues/5091)) ([18e3c51](https://github.com/shaka-project/shaka-player/commit/18e3c51825b91ba70b3e79046fcaf4a7e0f6cd05))\n* Fix handling of CC when switching between codecs ([#5160](https://github.com/shaka-project/shaka-player/issues/5160)) ([c5cbdf8](https://github.com/shaka-project/shaka-player/commit/c5cbdf82fca9d7eb1d3b4ca03bef7cf1f0b4e793))\n* Fix HEAD request exception ([#5194](https://github.com/shaka-project/shaka-player/issues/5194)) ([8835996](https://github.com/shaka-project/shaka-player/commit/8835996b2b22f6f4d81d7ffe0c46f48c6405c720)), closes [#5164](https://github.com/shaka-project/shaka-player/issues/5164)\n* Fix missing originalUri in response filters ([#5114](https://github.com/shaka-project/shaka-player/issues/5114)) ([ed398b8](https://github.com/shaka-project/shaka-player/commit/ed398b81084c8037c7b0f5371ec43852a2031405))\n* Fix race that allows multiple text streams to be loaded ([#5129](https://github.com/shaka-project/shaka-player/issues/5129)) ([2d6af2c](https://github.com/shaka-project/shaka-player/commit/2d6af2c6b7267118d9976f8a787dd5ce176eb0ea))\n* Fix selectVariantsByLabel using src= ([#5154](https://github.com/shaka-project/shaka-player/issues/5154)) ([9200e43](https://github.com/shaka-project/shaka-player/commit/9200e437904b18df5a5da02c7cbff858d24dd4e4))\n* Handle empty media segments for Mp4VttParser ([#5131](https://github.com/shaka-project/shaka-player/issues/5131)) ([30fd63a](https://github.com/shaka-project/shaka-player/commit/30fd63abf2d40b4fd9975515008f07b37508fb5a)), closes [#4429](https://github.com/shaka-project/shaka-player/issues/4429)\n* **HLS:** Adding support for DTS Express in HLS fMP4 ([#5112](https://github.com/shaka-project/shaka-player/issues/5112)) ([#5117](https://github.com/shaka-project/shaka-player/issues/5117)) ([834c329](https://github.com/shaka-project/shaka-player/commit/834c3299bdb186dd8332eedec834e60f652283ae))\n* **HLS:** Fix support of fragmented WebVTT ([#5156](https://github.com/shaka-project/shaka-player/issues/5156)) ([e54a52b](https://github.com/shaka-project/shaka-player/commit/e54a52b0bf42b453c38ba9ec1582d6809f33579a))\n* **HLS:** preserve discontinuitySequence in SegmentIndex#fit ([#5066](https://github.com/shaka-project/shaka-player/issues/5066)) ([a5a4d3e](https://github.com/shaka-project/shaka-player/commit/a5a4d3e47c14f2b52c3d43dd21640a5992d20641))\n* **HLS:** support discontinuities in segments mode ([#5102](https://github.com/shaka-project/shaka-player/issues/5102)) ([cfcca8e](https://github.com/shaka-project/shaka-player/commit/cfcca8e383d2255dcd22a6f6a2463c9feeb0cd57))\n* **logging:** Simplify log code. ([#5050](https://github.com/shaka-project/shaka-player/issues/5050)) ([203ceca](https://github.com/shaka-project/shaka-player/commit/203cecafc3ed910d58d96f2318557ea7001ff6c3)), closes [#5032](https://github.com/shaka-project/shaka-player/issues/5032)\n* mitigate uncaught type error in media_source_engine ([#5069](https://github.com/shaka-project/shaka-player/issues/5069)) ([29a27cd](https://github.com/shaka-project/shaka-player/commit/29a27cdb87bb3c36b3ddb917fadfaa473ddfe83a)), closes [#4903](https://github.com/shaka-project/shaka-player/issues/4903)\n* **net:** Fix HEAD requests in new Chromium ([#5180](https://github.com/shaka-project/shaka-player/issues/5180)) ([08bd825](https://github.com/shaka-project/shaka-player/commit/08bd825cd208f2254c3549914d1bf0c267ce1e6a)), closes [#5164](https://github.com/shaka-project/shaka-player/issues/5164)\n* PERIOD_FLATTENING_FAILED error with shaka 4.3.x that did not occur with shaka 3.1.2 ([#5188](https://github.com/shaka-project/shaka-player/issues/5188)) ([a180b28](https://github.com/shaka-project/shaka-player/commit/a180b282688470c451d1b4156027bad43abaeb95)), closes [#5183](https://github.com/shaka-project/shaka-player/issues/5183)\n* Prevent bad calls to MediaSource.endOfStream ([#5071](https://github.com/shaka-project/shaka-player/issues/5071)) ([ba6988f](https://github.com/shaka-project/shaka-player/commit/ba6988f38bfc7ff12180982ad63a64b57e4c103a)), closes [#5070](https://github.com/shaka-project/shaka-player/issues/5070)\n* prevent memory leak in SimpleAbrManager while destroying ([#5149](https://github.com/shaka-project/shaka-player/issues/5149)) ([f32b11f](https://github.com/shaka-project/shaka-player/commit/f32b11f0a5376ee79144aa66293477de4fe6947f))\n* Tizen video error fixed by checking the extended MIME type ([#4973](https://github.com/shaka-project/shaka-player/issues/4973)) ([5a19240](https://github.com/shaka-project/shaka-player/commit/5a192405ecf85df56795011ec59b39372234a9a5)), closes [#4634](https://github.com/shaka-project/shaka-player/issues/4634)\n* **Tizen:** Fix exceptions thrown from logging methods ([#5063](https://github.com/shaka-project/shaka-player/issues/5063)) ([8f69008](https://github.com/shaka-project/shaka-player/commit/8f69008343bd9b18304952d018af65a90ba1a73b))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.6 (#5187)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fcdd6ca63ac8d88f27c",
    "number": 5186,
    "body": "Axinom's DRM servers started returning 403 errors for the Axinom v6 test vectors we use in our tests, and we were forced to switch to more stable and independent DRM servers for testing.",
    "head_branch": "drop-axinom-servers",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Drop Axinom DRM servers from tests (#5186)\n\nAxinom's DRM servers started returning 403 errors for the Axinom v6 test\r\nvectors we use in our tests, and we were forced to switch to more stable\r\nand independent DRM servers for testing."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fced6ca63ac8d88f27d",
    "number": 5185,
    "body": "This is part of the work to have our own transmuxers",
    "head_branch": "mp4-segment-generator",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Allow generate segments with Mp4Generator (#5185)\n\nThis is part of the work to have our own transmuxers"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fcfd6ca63ac8d88f27e",
    "number": 5181,
    "body": null,
    "head_branch": "test-against-beta-canary-channels",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fd0d6ca63ac8d88f27f",
    "number": 5180,
    "body": "This makes it so that we no longer try to download the body of a head response, in the http fetch plugin. This is necessary due to an upcoming change to Chromium, where the body object of such responses is null.\r\n\r\nFixes #5164",
    "head_branch": "headFetchBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(net): Fix HEAD requests in new Chromium (#5180)\n\nThis makes it so that we no longer try to download the body of a head\r\nresponse, in the http fetch plugin. This is necessary due to an upcoming\r\nchange to Chromium, where the body object of such responses is null.\r\n\r\nFixes #5164"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fd1d6ca63ac8d88f280",
    "number": 5179,
    "body": null,
    "head_branch": "update-email",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update Alvaro's email (#5179)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fd2d6ca63ac8d88f281",
    "number": 5174,
    "body": "Fix for: https://github.com/shaka-project/shaka-player/issues/5164\r\n\r\nThis is my first commit to shaka-player. \r\nPlease feel free to modify it if there's a better solution.",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fd3d6ca63ac8d88f282",
    "number": 5173,
    "body": null,
    "head_branch": "simplify-mp4-generator",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Simplify Mp4Generator (#5173)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fd4d6ca63ac8d88f283",
    "number": 5172,
    "body": "Related to https://github.com/shaka-project/shaka-player/commit/d475a73d7d105d732a2fd8f9bca2686ff88d1732",
    "head_branch": "mp4-generator-extern",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fd5d6ca63ac8d88f284",
    "number": 5170,
    "body": null,
    "head_branch": "docs/init-data-transform",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: update `config.drm.initDataTransform` documentation (#5170)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fd6d6ca63ac8d88f285",
    "number": 5167,
    "body": "Closes #5166",
    "head_branch": "fix/prefer-native-hls-config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: `config.streaming.preferNativeHls` only applies to HLS streams (#5167)\n\nCloses #5166"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fd7d6ca63ac8d88f286",
    "number": 5160,
    "body": null,
    "head_branch": "text-codec-switch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix handling of CC when switching between codecs (#5160)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fd8d6ca63ac8d88f287",
    "number": 5159,
    "body": "Fix a regression caused by https://github.com/shaka-project/shaka-player/commit/fdc5cb165d1cf02e48de8c814efaae6eb54a3dbe",
    "head_branch": "hls-4032",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Fix unreleased HLS playback regression (#5159)\n\nFix a regression caused by\r\nhttps://github.com/shaka-project/shaka-player/commit/fdc5cb165d1cf02e48de8c814efaae6eb54a3dbe"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fd9d6ca63ac8d88f288",
    "number": 5158,
    "body": "Modify build script to support customizing output language. Custom builds now can be prepared with `ECMASCRIPT_2015` or higher to reduce bundle size on newer platforms.",
    "head_branch": "wt-build-target",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Parametrize output language (#5158)\n\nModify build script to support customizing output language. Custom\r\nbuilds now can be prepared with `ECMASCRIPT_2015` or higher to reduce\r\nbundle size on newer platforms."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fdad6ca63ac8d88f289",
    "number": 5157,
    "body": "fixes #4542\r\n",
    "head_branch": "bugfix/4542--uncomplete-connection-api",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: don't use navigator.connection event listener if it isn't implemented (#5157)\n\nFixes #4542"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fdbd6ca63ac8d88f28a",
    "number": 5156,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5076",
    "head_branch": "hls-mp4-vtt",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix support of fragmented WebVTT (#5156)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5076"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fdcd6ca63ac8d88f28b",
    "number": 5155,
    "body": null,
    "head_branch": "ad-manager-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Ads): Fix SS configure (#5155)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fddd6ca63ac8d88f28c",
    "number": 5154,
    "body": null,
    "head_branch": "selectVariantsByLabel",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix selectVariantsByLabel using src= (#5154)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fded6ca63ac8d88f28d",
    "number": 5153,
    "body": "Previously, we would set the starting volume of an ad to 0 if the main video is muted.\r\nThis had the problem that, because of how our custom mute/unmute functionality on ads worked, that would lead to the \"unmute\" button setting the ad to the \"last volume\" of 0.\r\nThis changes the ads manager to, instead, set the volume of the ad to the volume of the video, and then call the mute function if the ad is muted. That way, the ad will remember the previous volume of the video, and will be able to unmute properly.\r\n\r\nCloses #5125",
    "head_branch": "adMuteBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ads): Fix ads starting muted behavior (#5153)\n\nPreviously, we would set the starting volume of an ad to 0 if the main\r\nvideo is muted.\r\nThis had the problem that, because of how our custom mute/unmute\r\nfunctionality on ads worked, that would lead to the \"unmute\" button\r\nsetting the ad to the \"last volume\" of 0.\r\nThis changes the ads manager to, instead, set the volume of the ad to\r\nthe volume of the video, and then call the mute function if the ad is\r\nmuted. That way, the ad will remember the previous volume of the video,\r\nand will be able to unmute properly.\r\n\r\nCloses #5125"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fded6ca63ac8d88f28e",
    "number": 5149,
    "body": "SimpleAbrManager was not properly destroyed after a call to player.destroy, leading to SimpleAbrManager instances being kept in memory.\r\n\r\nThis PR aims to resolve it :) ",
    "head_branch": "memleak-abr-manager",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: prevent memory leak in SimpleAbrManager while destroying (#5149)\n\nSimpleAbrManager was not properly destroyed after a call to\r\nplayer.destroy, leading to SimpleAbrManager instances being kept in\r\nmemory.\r\n\r\nThis PR aims to resolve it :)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fdfd6ca63ac8d88f28f",
    "number": 5147,
    "body": null,
    "head_branch": "tests-transmuxer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Add transmuxer integration tests (#5147)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fe0d6ca63ac8d88f290",
    "number": 5146,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5076\r\n\r\nPrevious to this PR mp4 VTT is broken for HLS and switch between mp4 VTT, raw VTT and mp4 TTML in HLS is broken",
    "head_branch": "hls-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fe1d6ca63ac8d88f291",
    "number": 5145,
    "body": null,
    "head_branch": "tsparser-exports",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add missing export in TsParser (#5145)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fe2d6ca63ac8d88f292",
    "number": 5144,
    "body": null,
    "head_branch": "ec3-ts",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add EC-3 detection in TS (#5144)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fe3d6ca63ac8d88f293",
    "number": 5143,
    "body": null,
    "head_branch": "ec3-ts",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fe5d6ca63ac8d88f294",
    "number": 5140,
    "body": null,
    "head_branch": "tivo-release",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fe6d6ca63ac8d88f295",
    "number": 5138,
    "body": "## Background\r\n\r\nWe (Sky/Peacock) required the ability to try a different ad stitched manifest upon a manifest request update failure.\r\n\r\n## Solution\r\n\r\nAfter the initial retry parameters (timeouts and retries) have been exhausted, error immediately and not continue to retry with the same manifest.\r\n\r\n",
    "head_branch": "raise-error-on-linear-manifest-update",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Raise fatal error on linear manifest request update failure (#5138)\n\nWe (Sky/Peacock) required the ability to try a different ad stitched\r\nmanifest upon a manifest request update failure.\r\n\r\nAfter the initial retry parameters (timeouts and retries) have been\r\nexhausted, error immediately and not continue to retry with the same\r\nmanifest."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fe7d6ca63ac8d88f296",
    "number": 5136,
    "body": null,
    "head_branch": "webvtt-c-tags-default-colors",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fe8d6ca63ac8d88f297",
    "number": 5135,
    "body": null,
    "head_branch": "webvtt-default-colors",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fe9d6ca63ac8d88f298",
    "number": 5131,
    "body": "Handles https://github.com/shaka-project/shaka-player/issues/4429\r\n\r\n",
    "head_branch": "fix/handle-empty-mp4-vtt-segment",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Handle empty media segments for Mp4VttParser (#5131)\n\nFixes #4429"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fe9d6ca63ac8d88f299",
    "number": 5129,
    "body": "When enabling text visibility and selecting a new text language simultaneously, a race condition can occur that allows multiple text streams to be loaded in the same text media state. \r\nTracking a sequence id, updates `loadNewTextStream_` to only create a new text media state with the text stream from the last call to `loadNewTextStream_`.\r\n\r\nResolves: https://github.com/shaka-project/shaka-player/issues/4821",
    "head_branch": "fix/multiple-text-streams",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix race that allows multiple text streams to be loaded (#5129)\n\nWhen enabling text visibility and selecting a new text language\r\nsimultaneously, a race condition can occur that allows multiple text\r\nstreams to be loaded in the same text media state.\r\nTracking a sequence id, updates `loadNewTextStream_` to only create a\r\nnew text media state with the text stream from the last call to\r\n`loadNewTextStream_`.\r\n\r\nResolves: https://github.com/shaka-project/shaka-player/issues/4821\r\n\r\n---------\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>\r\nCo-authored-by: Casey Occhialini <1508707+littlespex@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fead6ca63ac8d88f29a",
    "number": 5128,
    "body": "Resolves: #4821 \r\n",
    "head_branch": "fix/multiple-text-streams-loaded",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219febd6ca63ac8d88f29b",
    "number": 5127,
    "body": null,
    "head_branch": "mp4-generator",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add a Mp4Generator (#5127)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fecd6ca63ac8d88f29c",
    "number": 5123,
    "body": "Adds simple test to ensure `fakeEncryption()` adds encv/enca box correctly.",
    "head_branch": "wt-content-workaround-test",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: add test for ContentWorkarounds (#5123)\n\nAdds simple test to ensure `fakeEncryption()` adds encv/enca box\r\ncorrectly."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fedd6ca63ac8d88f29d",
    "number": 5120,
    "body": null,
    "head_branch": "hls-playlist",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Report HLS playlist updates as media playlist in network filters (#5120)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219feed6ca63ac8d88f29e",
    "number": 5119,
    "body": null,
    "head_branch": "fix/cmcd-config-update",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: cmcd not applying configuration changes (#5119)\n\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fefd6ca63ac8d88f29f",
    "number": 5118,
    "body": null,
    "head_branch": "task/request-context-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: stream property of request context obfuscated in production builds (#5118)\n\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ff0d6ca63ac8d88f2a0",
    "number": 5117,
    "body": "The SampleEntry box in the SampleDescription (stsd) box will have the codingname 'dtse' for DTS Express audio tracks.\r\nThis is defined in Table E-1 of ETSI TS 102 114 V1.6.1 (2019-08) DTS Coherent Acoustics; Core and Extensions with Additional Profiles.\r\nThe 'dtse' codingname has been added to the AUDIO_CODEC_REGEXPS_ list, which enables support for playback of DTS Express in HLS fMP4 streams.\r\n\r\nThe 'ddts' and 'udts' entries have been removed from the AUDIO_CODEC_REGEXPS_ list, as these are not audio codec identifiers, but FourCC values for the DTSSpecificBox and DTSUHDSpecificBox, which can be found within the SampleDescription box for DTS audio tracks.\r\nThe DTSSpecificBox (ddts) is defined in Section E.2.2.3.1 of ETSI TS 102 114 V1.6.1 (2019-08) DTS Coherent Acoustics; Core and Extensions with Additional Profiles.\r\nThe DTSUHDSpecificBox (udts) is defined in Table B-2 of ETSI TS 103 491 V1.2.1 (2019-05) DTS-UHD Audio Format; Delivery of Channels, Objects and Ambisonic Sound Fields.\r\n\r\nThe Mime Types for the DTS formats supported by Shaka Player have been added to the probeSupport function.\r\n\r\nFixes https://github.com/shaka-project/shaka-player/issues/5112",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Adding support for DTS Express in HLS fMP4 (#5112) (#5117)\n\nThe SampleEntry box in the SampleDescription (stsd) box will have the\r\ncodingname 'dtse' for DTS Express audio tracks.\r\nThis is defined in Table E-1 of ETSI TS 102 114 V1.6.1 (2019-08) DTS\r\nCoherent Acoustics; Core and Extensions with Additional Profiles.\r\nThe 'dtse' codingname has been added to the AUDIO_CODEC_REGEXPS_ list,\r\nwhich enables support for playback of DTS Express in HLS fMP4 streams.\r\n\r\nThe 'ddts' and 'udts' entries have been removed from the\r\nAUDIO_CODEC_REGEXPS_ list, as these are not audio codec identifiers, but\r\nFourCC values for the DTSSpecificBox and DTSUHDSpecificBox, which can be\r\nfound within the SampleDescription box for DTS audio tracks.\r\nThe DTSSpecificBox (ddts) is defined in Section E.2.2.3.1 of ETSI TS 102\r\n114 V1.6.1 (2019-08) DTS Coherent Acoustics; Core and Extensions with\r\nAdditional Profiles.\r\nThe DTSUHDSpecificBox (udts) is defined in Table B-2 of ETSI TS 103 491\r\nV1.2.1 (2019-05) DTS-UHD Audio Format; Delivery of Channels, Objects and\r\nAmbisonic Sound Fields.\r\n\r\nThe Mime Types for the DTS formats supported by Shaka Player have been\r\nadded to the probeSupport function.\r\n\r\nFixes https://github.com/shaka-project/shaka-player/issues/5112"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ff1d6ca63ac8d88f2a1",
    "number": 5114,
    "body": null,
    "head_branch": "missing-originalUri",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix missing originalUri in response filters (#5114)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ff2d6ca63ac8d88f2a2",
    "number": 5113,
    "body": null,
    "head_branch": "request-type",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Add missing AdvancedRequestType in some requests (#5113)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ff3d6ca63ac8d88f2a3",
    "number": 5110,
    "body": "Fixes an issue where `createSegmentIndex()` creates a reference in cached Stream and not on a new Stream. Now cached value is reused in period flattening.\r\nUpdated assertion in Period Combiner to catch potential issues within old approach.\r\n\r\nWithout this fix I've noticed problems around seeking on multiperiod content after variant change.",
    "head_branch": "wt-stream-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DASH): Fix seeking on multiperiod content after variant change (#5110)\n\nFixes an issue where `createSegmentIndex()` creates a reference in\r\ncached Stream and not on a new Stream. Now cached value is reused in\r\nperiod flattening.\r\n\r\nUpdated assertion in Period Combiner to catch potential issues within\r\nold approach.\r\n\r\nWithout this fix I've noticed problems around seeking on multiperiod\r\ncontent after variant change."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ff4d6ca63ac8d88f2a4",
    "number": 5108,
    "body": "Reverts https://github.com/shaka-project/shaka-player/pull/5079",
    "head_branch": "revert-hls-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: revert \"don't do sequence mode workaround unless there's a text stream\" (#5108)\n\nReverts https://github.com/shaka-project/shaka-player/pull/5079"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ff5d6ca63ac8d88f2a5",
    "number": 5107,
    "body": "This new methods are useful for tracking purposes",
    "head_branch": "new-methods-ads",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ads): Add new methods to Ads (#5107)\n\nThis new methods are useful for tracking purposes"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ff6d6ca63ac8d88f2a6",
    "number": 5103,
    "body": "This adds a config flag to `HlsManifestConfiguration` to ignore manifest timestamps in sequence mode. Instead, the media source engine just appends to the source buffer even when the segment start time differs from the expected start time in the manifest. This is useful if a manifest is known to be inaccurate, but the segments are known to be contiguous. Without this, unnecessary gap jumps occur, because the media source engine increases the `timestampOffset` unnecessarily.",
    "head_branch": "segmentsmodemanifest",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Add HLS config to ignore manifest timestamps when in segments mode (#5103)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ff7d6ca63ac8d88f2a7",
    "number": 5102,
    "body": "This fixes an issue where discontinuities in segments mode overwrite the existing content. This is due to the internal timestamps of segments in different discontinuity sequences overlapping (the first segment in each discontinuity sequence has an internal timestamp starting at 0). To solve this, this PR tracks the start time of each discontinuity sequence as the segment reference's `timestampOffset`, and then adds logic to resync the sourcebuffer's `timestampOffset` to match these values.",
    "head_branch": "segmentsmodefixupstream",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): support discontinuities in segments mode (#5102)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ff8d6ca63ac8d88f2a8",
    "number": 5100,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/5098",
    "head_branch": "export-shaka.util.StreamUtils.meetsRestrictions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(utils): Export shaka.util.StreamUtils.meetsRestrictions (#5100)\n\nCloses https://github.com/shaka-project/shaka-player/issues/5098"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ff9d6ca63ac8d88f2a9",
    "number": 5099,
    "body": "Implements https://github.com/shaka-project/shaka-player/issues/5098",
    "head_branch": "export-shaka-util-StreamUtils-meetsRestrictions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ffad6ca63ac8d88f2aa",
    "number": 5097,
    "body": null,
    "head_branch": "typos",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Fix typos in logs (#5097)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ffbd6ca63ac8d88f2ab",
    "number": 5093,
    "body": "Fix typos in comments.",
    "head_branch": "typo",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Fix typos in comments (#5093)\n\nFix typos in comments."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ffcd6ca63ac8d88f2ac",
    "number": 5091,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5088",
    "head_branch": "old-fetch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix fetch plugin with old implementations (#5091)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5088"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ffdd6ca63ac8d88f2ad",
    "number": 5090,
    "body": null,
    "head_branch": "old-fetch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219ffed6ca63ac8d88f2ae",
    "number": 5085,
    "body": "This doesn't produce any output right now, but this allow to the forks to create custom configurations for ads, and also allow future configurations to be added.",
    "head_branch": "ads-config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(Ads): Add ads config (#5085)\n\nThis doesn't produce any output right now, but this allow to the forks\r\nto create custom configurations for ads, and also allow future\r\nconfigurations to be added."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "66219fffd6ca63ac8d88f2af",
    "number": 5084,
    "body": null,
    "head_branch": "eventmanager-cs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Ads): Fix usage of EventManager on CS (#5084)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a000d6ca63ac8d88f2b0",
    "number": 5082,
    "body": "The links to the next tutorial were out of date, and they no longer prescribed the actual order of tutorials. This just removes those links entirely.\r\n\r\nFixes #5078",
    "head_branch": "tutBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Remove next links from tutorials (#5082)\n\nThe links to the next tutorial were out of date, and they no longer prescribed the actual order of tutorials. This just removes those links entirely.\r\n\r\nFixes #5078"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a000d6ca63ac8d88f2b1",
    "number": 5081,
    "body": null,
    "head_branch": "chrome-38",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a001d6ca63ac8d88f2b2",
    "number": 5079,
    "body": "The VTT cue timing fix in https://github.com/shaka-project/shaka-player/pull/4217 seems to have caused a regression for videos without VTT streams, where the first segment would sometimes not play smoothly. It also appears to fix the gap jumping seen in the \"Art of Motion (HLS, TS)\" demo. This was partially fixed for fMP4 in https://github.com/shaka-project/shaka-player/pull/4553 but didn't fix the issue for MPEG-2 TS.\r\n\r\nFixes https://github.com/shaka-project/shaka-player/issues/4975.",
    "head_branch": "sequencemodefix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): don't do sequence mode workaround unless there's a text stream (#5079)\n\nThe VTT cue timing fix in\r\nhttps://github.com/shaka-project/shaka-player/pull/4217 seems to have\r\ncaused a regression for videos without VTT streams, where the first\r\nsegment would sometimes not play smoothly. It also appears to fix the\r\ngap jumping seen in the \"Art of Motion (HLS, TS)\" demo. This was\r\npartially fixed for fMP4 in\r\nhttps://github.com/shaka-project/shaka-player/pull/4553 but didn't fix\r\nthe issue for MPEG-2 TS.\r\n\r\nFixes https://github.com/shaka-project/shaka-player/issues/4975."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a002d6ca63ac8d88f2b3",
    "number": 5072,
    "body": "Resolves #5067",
    "head_branch": "issue/5067-CMCD-HEAD",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Adds missing CMCD params to some http requests (#5072)\n\nFixes #5067\r\nFixes #5094\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a003d6ca63ac8d88f2b4",
    "number": 5071,
    "body": "closes #5070\r\n\r\nmaybe it would make more sense to only call it when the readyState is `'open'`?",
    "head_branch": "guard-bad-mediasource-call",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Prevent bad calls to MediaSource.endOfStream (#5071)\n\nThis prevents the streaming engine from calling MediaSource.endOfStream when\r\nmedia source's readyState is \"closed\". It's not valid to close a stream that is already closed.\r\nSee:\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/MediaSource/endOfStream#exceptions\r\n\r\nFixes #5070"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a004d6ca63ac8d88f2b5",
    "number": 5069,
    "body": "Closes #4903\r\n\r\nDoes not fix the underlying root cause of the `init` function being called on a `closed` or `ended` MediaSource, but attempts to mitigate the throwing of an uncaught TypeError.\r\n\r\nThoughts on a proper fix:\r\n\r\nWould it make sense to rework `mediaSourceOpen_` to await `sourceopen`, or reject/return false when it isn't, can't, or won't open? This would improve control flow by moving the responsibility of handling the MediaSource state to the caller.\r\n\r\nFor illustrative purposes:\r\n\r\n```javascript\r\n    this.mediaSourceOpen_ = () => {\r\n      // there is no media source, so it cannot be open\r\n      if (!this.mediaSource_) {\r\n        return Promise.resolve(false);\r\n      }\r\n\r\n      // MediaSource was previously open, but\r\n      // MediaSource.endOfStream() has been called\r\n      if (this.mediaSource_.readyState === 'ended') {\r\n        return Promise.resolve(false);\r\n      }\r\n\r\n      // it's open, go ahead\r\n      if (this.mediaSource_.readyState === 'open') {\r\n        return Promise.resolve(true);\r\n      }\r\n\r\n      // the source is 'closed': not currently attached to a media element\r\n      // it could either open, or the player could close before it opens\r\n      return new Promise((resolve) => {\r\n        // handle when source attaches and is opened\r\n        this.eventManager_.listenOnce(\r\n            this.mediaSource_, 'sourceopen', () => {\r\n              try {\r\n                // ensure not destroyed after async action\r\n                this.destroyer_.ensureNotDestroyed();\r\n\r\n                // source is now open!\r\n                resolve(true);\r\n              } catch (_) {\r\n                // player destroyed while waiting\r\n                resolve(false);\r\n              }\r\n            });\r\n\r\n        // handle when source is never attached and never opens\r\n        this.eventManager_.listenOnce(\r\n            mediaSource, 'sourceended', () => resolve(false));\r\n        /** The above listener is invalid, this cannot happen.\r\n        *   \r\n        *   Calling mediaSource.endOfStream() when it is not attached to a video\r\n        *   element will throw:\r\n        *\r\n        *   > Uncaught DOMException: An attempt was made to use an object that\r\n        *   > is not, or is no longer, usable\r\n        *\r\n        *   which is, interestingly, another uncaught error we're seeing from\r\n        *   Shaka in our logs.\r\n        * \r\n        *  This promise would instead need to listen to the player closing down to\r\n        *  reject in cases where 'sourceopen' never triggers, to not leave it dangling.\r\n        **/\r\n      });\r\n    };\r\n\r\n\r\n  async init(streamsByType, sequenceMode=false,\r\n      manifestType=shaka.media.ManifestParser.UNKNOWN) {\r\n    const ContentType = shaka.util.ManifestParserUtils.ContentType;\r\n\r\n    const isOpen = await this.mediaSourceOpen_;\r\n    \r\n    if (isOpen) {\r\n      // ...\r\n    } else {\r\n      // ... assert that this should not happen(?)\r\n    };\r\n```\r\n",
    "head_branch": "guard-type-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: mitigate uncaught type error in media_source_engine (#5069)\n\nFixes #4903"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a005d6ca63ac8d88f2b6",
    "number": 5066,
    "body": "The `discontinuitySequence` field of the last `SegmentReference` was getting reset to `0` in this function, even if it was originally set to something other than 0. This was causing unnecessary resyncs for the final segment of the video in sequence mode.",
    "head_branch": "segmentindexfix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): preserve discontinuitySequence in SegmentIndex#fit (#5066)\n\nThe `discontinuitySequence` field of the last `SegmentReference` was getting reset to `0` in this function, even if it was originally set to something other than 0. This was causing unnecessary resyncs for the final segment of the video in sequence mode."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a006d6ca63ac8d88f2b7",
    "number": 5065,
    "body": null,
    "head_branch": "fix-native-controls-in-demo",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(demo): Fix native controls pointer events stolen by LCEVC canvas (#5065)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a007d6ca63ac8d88f2b8",
    "number": 5064,
    "body": "This allows us to run the lab tests on a subset of browsers/platforms for a given PR.",
    "head_branch": "subset-lab-platforms",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "ci: Add browser filter to lab workflow (#5064)\n\nThis allows us to run the lab tests on a subset of browsers/platforms\r\nfor a given PR."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a008d6ca63ac8d88f2b9",
    "number": 5063,
    "body": "PR #5050 unboxed the console log methods, which broke logging on Tizen.  This change was never released.\r\n\r\nThis fixes the issue by using arrow functions to prevent unboxing.\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nchore: Fix exceptions thrown from logging methods\r\n\r\nIgnored in changelog because the bug this fixes was never released.\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "tizen-test-failures",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Tizen): Fix exceptions thrown from logging methods (#5063)\n\nPR #5050 unboxed the console log methods, which broke logging on Tizen.\r\nThis change was never released.\r\n\r\nThis fixes the issue by using arrow functions to prevent unboxing."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a009d6ca63ac8d88f2ba",
    "number": 5062,
    "body": "This reverts commit 694497684cda6b5eeb23d7181d0a8c96f8ede988.",
    "head_branch": "tizen-test-failures",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a00ad6ca63ac8d88f2bb",
    "number": 5061,
    "body": "# Background\r\nThis is a performance optimization intended to reduce the Video Start Time for DASH streams, both VOD and Live, by reducing the amount of processing done during manifest parse time. This is especially effective for long multi-period assets, assets with many variants, or on low end devices in general. I've provided some measurements showing the performance improvements at the conclusion of this PR.\r\n\r\nCurrently, during manifest parse time for a Segment Template, Shaka will loop through the entire timeline and create segment references for each timeline entry. For a long asset, or an asset with many tracks, this is a significant amount of processing. \r\n\r\n# Solution\r\nI've created a new entity called the Timeline Segment Index that extends the SegmentIndex interface. The purpose of the Timeline Segment Index is to ingest a timeline during construction, and then use that information to build Segment References only on demand. This removes the need to parse the entire timeline and create all of the Segment References during parse time. \r\n\r\n# Results/Measurements\r\nThe effects of this change aren't quite as apparent on desktop web browsers, given their speed and power. This improvement really shines on lower end TVs on assets with a long timeline. \r\n\r\n<img width=\"1012\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5086301/223194120-cc2baf76-b3a6-4b8a-b0d0-efc716df5257.png\">\r\n",
    "head_branch": "timeline-segment-index",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(dash): Improve DASH SegmentTemplate performance with on-demand segment references (#5061)\n\nThis is a performance optimization intended to reduce the Video Start\r\nTime for DASH streams, both VOD and Live, by reducing the amount of\r\nprocessing done during manifest parse time. This is especially effective\r\nfor long multi-period assets, assets with many variants, or on low end\r\ndevices in general. I've provided some measurements showing the\r\nperformance improvements at the conclusion of this PR.\r\n\r\nCurrently, during manifest parse time for a Segment Template, Shaka will\r\nloop through the entire timeline and create segment references for each\r\ntimeline entry. For a long asset, or an asset with many tracks, this is\r\na significant amount of processing.\r\n\r\nI've created a new entity called the Timeline Segment Index that extends\r\nthe SegmentIndex interface. The purpose of the Timeline Segment Index is\r\nto ingest a timeline during construction, and then use that information\r\nto build Segment References only on demand. This removes the need to\r\nparse the entire timeline and create all of the Segment References\r\nduring parse time.\r\n\r\nThe effects of this change aren't quite as apparent on desktop web\r\nbrowsers, given their speed and power. This improvement really shines on\r\nlower end TVs on assets with a long timeline.\r\n\r\nDASH parsing speed-ups in some cases can be as much as 40%.\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a00bd6ca63ac8d88f2bc",
    "number": 5060,
    "body": "Even though this was not causing any problem (afaik), not clearing the supportMap between tests could potentially lead to false positives, with some tests interfering in others. \r\nFor example, if a test checks if the video contentType is supported by checking that it is contained in the supportMap, then even if a second test executed some bad code (or no code at all), and then did the same check, this second test would pass because the contentType would already be included in the supportMap from the previous test.",
    "head_branch": "test_fix_clear_supportMap",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: clear support map between tests (#5060)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a00cd6ca63ac8d88f2bd",
    "number": 5058,
    "body": "This is very useful when using ShakaPlayer in conjunction with an environment where you have to reserve memory for video.",
    "head_branch": "ts-media-playlist-resolution",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Get resolution from TS when load a Media Playlist (#5058)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a00dd6ca63ac8d88f2be",
    "number": 5057,
    "body": "Relates to #4189\r\nFixes #5054 \r\nFixes #5055\r\nFixes https://github.com/shaka-project/shaka-player/issues/5150\r\n\r\n",
    "head_branch": "fix/temporarily-disable-streams-on-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix temporarily disable streams on network error (#5057)\n\nRelates to #4189\r\nFixes #5054 \r\nFixes #5055\r\nFixes #5150"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a00ed6ca63ac8d88f2bf",
    "number": 5050,
    "body": "This removes some workarounds that were in the logging code for the sake of Internet Explorer. We no longer support IE, so those workarounds are no longer necessary.\r\n\r\nCloses #5032",
    "head_branch": "terserBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(logging): Simplify log code. (#5050)\n\nThis removes some workarounds that were in the logging code for the sake\r\nof Internet Explorer. We no longer support IE, so those workarounds are\r\nno longer necessary.\r\n\r\nCloses #5032"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a00ed6ca63ac8d88f2c0",
    "number": 5047,
    "body": "BEGIN_COMMIT_OVERRIDE\r\nfix: Fire correctly MIN_HDCP_VERSION_NOT_MATCH error\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "min-hdcp-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "corrección: Disparar correctamente el error MIN_HDCP_VERSION_NOT_MATCH (#5047)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a00fd6ca63ac8d88f2c1",
    "number": 5045,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4335\r\n\r\nThe errors are now forwarded to the player",
    "head_branch": "feature/dispatch-ads-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ads): Dispatch a player event for client-side ad errors (#5045)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4335\r\n\r\nThe errors are now forwarded to the player\r\n\r\n---------\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a010d6ca63ac8d88f2c2",
    "number": 5044,
    "body": "See: https://bugs.webkit.org/show_bug.cgi?id=165342\r\n\r\nTested on Safari 16 with http://storage.googleapis.com/shaka-demo-assets/_bugs/safari-10-mse-abort/index.html",
    "head_branch": "sourcebuffer-abort-safari",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: the implementation of abort() on SourceBuffer in Safari, now works (#5044)\n\nSee: https://bugs.webkit.org/show_bug.cgi?id=165342\r\n\r\nTested on Safari 16 with\r\nhttp://storage.googleapis.com/shaka-demo-assets/_bugs/safari-10-mse-abort/index.html"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a011d6ca63ac8d88f2c3",
    "number": 5043,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4955",
    "head_branch": "ts-edge",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Reject TS content on Edge (#5043)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4955"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a012d6ca63ac8d88f2c4",
    "number": 5042,
    "body": "This filter is applied to all text cues before they are passed to the text displayer. This gives developers a simple way to apply custom modifications to cues programmatically, such as by setting default css styles, without having to define an entire text displayer plugin just to set these values.",
    "head_branch": "cueFilterBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a013d6ca63ac8d88f2c5",
    "number": 5041,
    "body": "This is necessary because this transmuxer is always registered, and it doesn't check correctly whether mux.js is a dependency or not.",
    "head_branch": "allow-playback-without-muxjs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Allow the playback of TS without mux.js (#5041)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a014d6ca63ac8d88f2c6",
    "number": 5040,
    "body": null,
    "head_branch": "muxjs-transmuxer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Fix style of MuxjsTransmuxer (#5040)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a015d6ca63ac8d88f2c7",
    "number": 5039,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/5036",
    "head_branch": "fix-mimetype",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix video/mp2t mimetype conversion. (#5039)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/5036"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a016d6ca63ac8d88f2c8",
    "number": 5037,
    "body": "See https://github.com/shaka-project/shaka-player/issues/5036.\r\n\r\nFixes it by preventing Shaka Player from registering a fallback `MuxJsTransmuxer(video/mp2t)` for Chromecast devices, since MPEG2-TS is supported natively on this platform.\r\n\r\nThis prevents buggy calls to `MimeUtils#getFullOrConvertedType()`, since it relies on some `TransmuxerEngine` APIs to determine support and/or convert codecs, but **cast receiver applications have not loaded mux.js library since Shaka `v3.1.0+`.**: https://github.com/shaka-project/shaka-player/blob/a22bdc51f46376d3cda02d2767388a2b19b61d58/lib/util/mime_utils.js#L34-L58",
    "head_branch": "load-ts",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a017d6ca63ac8d88f2c9",
    "number": 5034,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/5033.",
    "head_branch": "ts-ext",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Add `.tsa` and .`tsv` file extensions as valid MPEG2-TS. (#5034)\n\nFixes https://github.com/shaka-project/shaka-player/issues/5033."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a018d6ca63ac8d88f2ca",
    "number": 5027,
    "body": "Closes #5011\r\n\r\nThis add the possibility to control the rendering of ads",
    "head_branch": "ads-rendering-settings",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a019d6ca63ac8d88f2cb",
    "number": 5021,
    "body": null,
    "head_branch": "get-manifest-type",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add getManifestType method (#5021)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a01ad6ca63ac8d88f2cc",
    "number": 5018,
    "body": "Also fixes a related typo in the FairPlay tutorial and adds a missing entry to the tutorial index.",
    "head_branch": "cert-tutorials",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add Widevine Service Certificate tutorial (#5018)\n\nAlso fixes a related typo in the FairPlay tutorial and adds a missing\r\nentry to the tutorial index."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a01bd6ca63ac8d88f2cd",
    "number": 5017,
    "body": null,
    "head_branch": "eventmanager-cs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Ads): Fix usage of EventManager on CS (#5017)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a01cd6ca63ac8d88f2ce",
    "number": 5016,
    "body": null,
    "head_branch": "ad-volume",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Ads): Fix CS volume ad (#5016)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a01dd6ca63ac8d88f2cf",
    "number": 5012,
    "body": "Resolves #5010 ",
    "head_branch": "issue/5010-vizio-chromecast",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fallback to isTypeSupported when cast namespace is undefined (#5012)\n\nResolves #5010\r\n\r\n---------\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a01ed6ca63ac8d88f2d0",
    "number": 5006,
    "body": "This adds an optional parameter to request and response filters, of a new enum called AdvancedRequestType.\r\nThis enum describes request types that are subtypes of the basic types. For example, INIT_SEGMENT is a type of SEGMENT.\r\nThis gives users more information about the type of the request, while maintaining backwards compatibility.\r\n\r\nCloses #4966",
    "head_branch": "advRequestTypeBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(net): Added advanced type to filters (#5006)\n\nThis adds an optional parameter to request and response filters, of a\r\nnew enum called AdvancedRequestType.\r\nThis enum describes request types that are subtypes of the basic types.\r\nFor example, INIT_SEGMENT is a type of SEGMENT.\r\nThis gives users more information about the type of the request, while\r\nmaintaining backwards compatibility.\r\n\r\nCloses #4966"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a01fd6ca63ac8d88f2d1",
    "number": 5002,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/703\r\n\r\nLive is not supported",
    "head_branch": "mss",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(MSS): Add support for Microsoft Smooth Streaming (VOD only) (#5002)\n\nCloses https://github.com/shaka-project/shaka-player/issues/703\r\n\r\n---------\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a01fd6ca63ac8d88f2d2",
    "number": 5001,
    "body": "The duration is the minimum of the end times of all active streams.\r\nNon-active streams are not guaranteed to have useful maxTimestamp\r\nvalues, due to the lazy-loading system, so they are ignored.\r\n",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix duration error when HLS goes from LIVE to VOD (#5001)\n\nThe duration is the minimum of the end times of all active streams.\r\nNon-active streams are not guaranteed to have useful maxTimestamp\r\nvalues, due to the lazy-loading system, so they are ignored."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a020d6ca63ac8d88f2d3",
    "number": 4999,
    "body": "See https://github.com/shaka-project/shaka-player/issues/4998. \r\n\r\nNow, building Shaka debug build will correctly obfuscate `shaka.extern.Transmuxer.*` fields in the `shaka-player.compiled.debug.js` build like all the other externs provided in `externs/shaka/` directory (e.g., `aria.js`, etc.).",
    "head_branch": "4998-fix-prevent-transmuxerengine-externs-from-surfacing-in-shaka-playercompileddebugjs-builds",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "fix: Explicitly specify @externs in transmuxer externs. (#4999)\n\nSee https://github.com/shaka-project/shaka-player/issues/4998. \r\n\r\nNow, building Shaka debug build will correctly obfuscate\r\n`shaka.extern.Transmuxer.*` fields in the\r\n`shaka-player.compiled.debug.js` build like all the other externs\r\nprovided in `externs/shaka/` directory (e.g., `aria.js`, etc.)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a021d6ca63ac8d88f2d4",
    "number": 4995,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4992",
    "head_branch": "muted-vmap",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ads): Fix VMAP ads stay muted on muted autoplay (#4995)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4992"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a022d6ca63ac8d88f2d5",
    "number": 4993,
    "body": "The initial commit was untested, but having the workflow in the main branch allowed me to iterate on the workflow and test it in a branch.\r\n\r\nThe following changes were made:\r\n - Standardize how workflow inputs are read (using inputs, which works for all triggers, instead of github.event.inputs, which only works for some triggers)\r\n - Improve the description of test_filter in selenium-lab-tests.\r\n - Add missing fields in the workflow_call trigger of selenium-lab-tests.yaml.  (Unfortunately, the two triggers need to have the inputs defined separately, and with slightly different fields.)\r\n - Log the chosen ref in selenium-lab-tests, to help debug inputs.\r\n - Fix variable expansion in selenium-lab-tests so that test_filter can contain spaces.\r\n - Fix ignore_test_status, which did not work at all and broken the nightly tests last night.\r\n - Fix dependencies between jobs in update-screenshots.\r\n - Do not set status for the subordinate selenium-lab-tests job if started from update-screenshots.\r\n - Always upload screenshots from selenium-lab-tests if started from update-screenshots (normally only uploaded on failure).\r\n - Set the PR status from upload-screenshots.\r\n - Fix unpacking of screenshots from artifacts in upload-screenshots.\r\n - Fix updating of changed screenshots.\r\n - Fix handling of a lack of screenshot changes.\r\n - Split up the jobs for easier debugging in upload-screenshots.\r\n\r\nStill to do:\r\n - Fix setting of final PR status\r\n - Use a personal access token so that tests can be triggered from the PR push",
    "head_branch": "update-screenshots-workflow",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "ci: Fix workflow to update screenshots (#4993)\n\nThe initial commit was untested, but having the workflow in the main\r\nbranch allowed me to iterate on the workflow and test it in a branch.\r\n\r\nThe following changes were made:\r\n- Standardize how workflow inputs are read (using inputs, which works\r\nfor all triggers, instead of github.event.inputs, which only works for\r\nsome triggers)\r\n - Improve the description of test_filter in selenium-lab-tests.\r\n- Add missing fields in the workflow_call trigger of\r\nselenium-lab-tests.yaml. (Unfortunately, the two triggers need to have\r\nthe inputs defined separately, and with slightly different fields.)\r\n - Log the chosen ref in selenium-lab-tests, to help debug inputs.\r\n- Fix variable expansion in selenium-lab-tests so that test_filter can\r\ncontain spaces.\r\n- Fix ignore_test_status, which did not work at all and broken the\r\nnightly tests last night.\r\n - Fix dependencies between jobs in update-screenshots.\r\n- Do not set status for the subordinate selenium-lab-tests job if\r\nstarted from update-screenshots.\r\n- Always upload screenshots from selenium-lab-tests if started from\r\nupdate-screenshots (normally only uploaded on failure).\r\n - Set the PR status from upload-screenshots.\r\n - Fix unpacking of screenshots from artifacts in upload-screenshots.\r\n - Fix updating of changed screenshots.\r\n - Fix handling of a lack of screenshot changes.\r\n - Split up the jobs for easier debugging in upload-screenshots.\r\n\r\nStill to do:\r\n - Fix setting of final PR status\r\n- Use a personal access token so that tests can be triggered from the PR\r\npush"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a023d6ca63ac8d88f2d6",
    "number": 4991,
    "body": "Untested.  A workflow must exist in the main branch before a version of it from any branch can be triggered.",
    "head_branch": "update-screenshots-workflow",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Experimental workflow to update screenshots in a PR (#4991)\n\nUntested. A workflow must exist in the main branch before a version of\r\nit from any branch can be triggered."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a024d6ca63ac8d88f2d7",
    "number": 4990,
    "body": "The release trigger does not work yet, so compensate with a nightly schedule.\r\n\r\nCloses #4361",
    "head_branch": "nightly-index-update",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Update the version index nightly (#4990)\n\nThe release trigger does not work yet, so compensate with a nightly\r\nschedule.\r\n\r\nCloses #4361"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a025d6ca63ac8d88f2d8",
    "number": 4989,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.5](https://github.com/shaka-project/shaka-player/compare/v4.3.4...v4.3.5) (2023-03-01)\n\n\n### Bug Fixes\n\n* **Ads:** Fix CS volume ad ([#5016](https://github.com/shaka-project/shaka-player/issues/5016)) ([c6e1315](https://github.com/shaka-project/shaka-player/commit/c6e1315afb9f72ab599b938e6fef564de2054e4c))\n* **Ads:** Fix usage of EventManager on CS ([#5017](https://github.com/shaka-project/shaka-player/issues/5017)) ([7c408ed](https://github.com/shaka-project/shaka-player/commit/7c408ed36838dc85b6afb3e83e4fd11d475b67e9))\n* **ads:** Fix VMAP ads stay muted on muted autoplay ([#4995](https://github.com/shaka-project/shaka-player/issues/4995)) ([2b9ead2](https://github.com/shaka-project/shaka-player/commit/2b9ead2c08787220f56ca4eaacba92c4e42d5cd6))\n* Allow the playback of TS without mux.js ([#5041](https://github.com/shaka-project/shaka-player/issues/5041)) ([a347d25](https://github.com/shaka-project/shaka-player/commit/a347d250cfddd7ee6c645f3bba151ed1b1be9409))\n* Caption can not turn off at iOS Safari ([#4978](https://github.com/shaka-project/shaka-player/issues/4978)) ([07c6cdb](https://github.com/shaka-project/shaka-player/commit/07c6cdb0959fd9af16c74c3a8b54525bd3afa267))\n* **Demo:** Allow manifest type for DAI custom assets ([#4977](https://github.com/shaka-project/shaka-player/issues/4977)) ([d67ca2b](https://github.com/shaka-project/shaka-player/commit/d67ca2b3d190e7f0671f23f480fce8921efc0345))\n* DrmEngine exception thrown when using FairPlay ([#4971](https://github.com/shaka-project/shaka-player/issues/4971)) ([ddc7f50](https://github.com/shaka-project/shaka-player/commit/ddc7f5043a2e0ad2807456c3387a2703cd0c2c02))\n* Failed to set 'currentTime' property on 'HTMLMediaElement' on a Hisense TV ([#4962](https://github.com/shaka-project/shaka-player/issues/4962)) ([0559cf2](https://github.com/shaka-project/shaka-player/commit/0559cf2f99488eccda1d05d501d542f54df15699))\n* Fallback to isTypeSupported when cast namespace is undefined ([#5012](https://github.com/shaka-project/shaka-player/issues/5012)) ([e95f8a6](https://github.com/shaka-project/shaka-player/commit/e95f8a6592e94da9a4d0b1735d7ec46427171e36))\n* Fix duration error when HLS goes from LIVE to VOD ([#5001](https://github.com/shaka-project/shaka-player/issues/5001)) ([4f4f6e2](https://github.com/shaka-project/shaka-player/commit/4f4f6e2a7d2f093f1c47f22a4817acf6599677a0))\n* Fix video/mp2t mimetype conversion. ([#5039](https://github.com/shaka-project/shaka-player/issues/5039)) ([09a81a7](https://github.com/shaka-project/shaka-player/commit/09a81a70381a5e0569d70616359d0c433e70bae9))\n* **HLS:** Add `.tsa` and .`tsv` file extensions as valid MPEG2-TS. ([#5034](https://github.com/shaka-project/shaka-player/issues/5034)) ([938e6c1](https://github.com/shaka-project/shaka-player/commit/938e6c1846d37b4ed9116d9021adec64fdd3a449))\n* Increase IndexedDB timeout ([#4984](https://github.com/shaka-project/shaka-player/issues/4984)) ([4bbcf6a](https://github.com/shaka-project/shaka-player/commit/4bbcf6ae93a201ca045bce6ea86e2f1cd1e90b2f))\n* **MCap:** Remove robustness when robustness value is default ([#4953](https://github.com/shaka-project/shaka-player/issues/4953)) ([61c8a06](https://github.com/shaka-project/shaka-player/commit/61c8a067e461a7843395157e1effb75bf1c52665))\n* Prevent content from being restarted after Postroll ads ([#4979](https://github.com/shaka-project/shaka-player/issues/4979)) ([68dae24](https://github.com/shaka-project/shaka-player/commit/68dae2401ad8e19463c5ce7415f522b7df4d16df)), closes [#4445](https://github.com/shaka-project/shaka-player/issues/4445)\n* Reject TS content on Edge ([#5043](https://github.com/shaka-project/shaka-player/issues/5043)) ([2d6e8ee](https://github.com/shaka-project/shaka-player/commit/2d6e8ee4fa8d45ee7578c9541da6f22bd74030e4))\n* **VTT:** Fix spacing between text lines ([#4961](https://github.com/shaka-project/shaka-player/issues/4961)) ([1194d74](https://github.com/shaka-project/shaka-player/commit/1194d74fa1861fe0335671800bd1980da9d57a0f))\n* **WebVTT:** Tags in the WebVTT subtitle are not parsed ([#4960](https://github.com/shaka-project/shaka-player/issues/4960)) ([7f23b09](https://github.com/shaka-project/shaka-player/commit/7f23b09e83512a34966693a04947d20b8867f80d))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.5 (#4989)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a026d6ca63ac8d88f2d9",
    "number": 4988,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.9](https://github.com/shaka-project/shaka-player/compare/v4.2.8...v4.2.9) (2023-03-01)\n\n\n### Bug Fixes\n\n* **Ads:** Fix CS volume ad ([#5016](https://github.com/shaka-project/shaka-player/issues/5016)) ([70406d0](https://github.com/shaka-project/shaka-player/commit/70406d01f74ef213d1cbd396d9389f91374988af))\n* **Ads:** Fix usage of EventManager on CS ([#5017](https://github.com/shaka-project/shaka-player/issues/5017)) ([4aa25c6](https://github.com/shaka-project/shaka-player/commit/4aa25c6cefa8ebc9f9253873efdfa5eff87475cd))\n* **ads:** Fix VMAP ads stay muted on muted autoplay ([#4995](https://github.com/shaka-project/shaka-player/issues/4995)) ([c80c0bc](https://github.com/shaka-project/shaka-player/commit/c80c0bc9cc89cca1742e9820089b985b0aa1b2f0))\n* Allow the playback of TS without mux.js ([#5041](https://github.com/shaka-project/shaka-player/issues/5041)) ([8a55a25](https://github.com/shaka-project/shaka-player/commit/8a55a252f5b6e29e4e6278772c6591116d43fdd3))\n* Caption can not turn off at iOS Safari ([#4978](https://github.com/shaka-project/shaka-player/issues/4978)) ([0408c91](https://github.com/shaka-project/shaka-player/commit/0408c9166487ee444d48234846f527a60cf23a7b))\n* **Demo:** Allow manifest type for DAI custom assets ([#4977](https://github.com/shaka-project/shaka-player/issues/4977)) ([ea1ab66](https://github.com/shaka-project/shaka-player/commit/ea1ab66f484878cc97c70aeabbf6b22562204ed5))\n* DrmEngine exception thrown when using FairPlay ([#4971](https://github.com/shaka-project/shaka-player/issues/4971)) ([36aab19](https://github.com/shaka-project/shaka-player/commit/36aab19c416d58aae05c5daf8ff229e80184e14f))\n* Failed to set 'currentTime' property on 'HTMLMediaElement' on a Hisense TV ([#4962](https://github.com/shaka-project/shaka-player/issues/4962)) ([b753933](https://github.com/shaka-project/shaka-player/commit/b753933c76d6796cc734984d4a75c207aee71316))\n* Fallback to isTypeSupported when cast namespace is undefined ([#5012](https://github.com/shaka-project/shaka-player/issues/5012)) ([eff0b41](https://github.com/shaka-project/shaka-player/commit/eff0b411b11ed70717e5c9aac526afd9e8a0535f))\n* Fix video/mp2t mimetype conversion. ([#5039](https://github.com/shaka-project/shaka-player/issues/5039)) ([d41602e](https://github.com/shaka-project/shaka-player/commit/d41602e278ef91216bf0d7b1424d057292d2d861))\n* **HLS:** Add `.tsa` and .`tsv` file extensions as valid MPEG2-TS. ([#5034](https://github.com/shaka-project/shaka-player/issues/5034)) ([c72c5f6](https://github.com/shaka-project/shaka-player/commit/c72c5f65d6cc686520eda786ded2bf587ba68c6d))\n* Increase IndexedDB timeout ([#4984](https://github.com/shaka-project/shaka-player/issues/4984)) ([f2d681e](https://github.com/shaka-project/shaka-player/commit/f2d681e0957b86ca341895dbcf1bdcb7cc3ecfbd))\n* **MCap:** Remove robustness when robustness value is default ([#4953](https://github.com/shaka-project/shaka-player/issues/4953)) ([59bbb56](https://github.com/shaka-project/shaka-player/commit/59bbb5662dacca93b7b8becb50d1d4c4140ba516))\n* Prevent content from being restarted after Postroll ads ([#4979](https://github.com/shaka-project/shaka-player/issues/4979)) ([a907a4f](https://github.com/shaka-project/shaka-player/commit/a907a4f98c0d2a5d59c71efb77b228bff5689763)), closes [#4445](https://github.com/shaka-project/shaka-player/issues/4445)\n* Reject TS content on Edge ([#5043](https://github.com/shaka-project/shaka-player/issues/5043)) ([99fb4bb](https://github.com/shaka-project/shaka-player/commit/99fb4bb13c89f38dc43df0833e32a78705d42361))\n* **VTT:** Fix spacing between text lines ([#4961](https://github.com/shaka-project/shaka-player/issues/4961)) ([2bf8526](https://github.com/shaka-project/shaka-player/commit/2bf8526d6f626d7c002f97475e7ff23c2519e014))\n* **WebVTT:** Tags in the WebVTT subtitle are not parsed ([#4960](https://github.com/shaka-project/shaka-player/issues/4960)) ([933ee78](https://github.com/shaka-project/shaka-player/commit/933ee7801d921d8ea2430ba3919ffb9ac2dd8ca2))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.9 (#4988)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a027d6ca63ac8d88f2da",
    "number": 4987,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.18](https://github.com/shaka-project/shaka-player/compare/v3.3.17...v3.3.18) (2023-03-01)\n\n\n### Bug Fixes\n\n* **Ads:** Fix CS volume ad ([#5016](https://github.com/shaka-project/shaka-player/issues/5016)) ([b0bb23c](https://github.com/shaka-project/shaka-player/commit/b0bb23c493d69d88de87b7789e867223fd2919ff))\n* **Ads:** Fix usage of EventManager on CS ([#5017](https://github.com/shaka-project/shaka-player/issues/5017)) ([83f9153](https://github.com/shaka-project/shaka-player/commit/83f915353ff5a180b86a80472a59fa89e0485d15))\n* **ads:** Fix VMAP ads stay muted on muted autoplay ([#4995](https://github.com/shaka-project/shaka-player/issues/4995)) ([1d74f6e](https://github.com/shaka-project/shaka-player/commit/1d74f6e75cf74c90fca720e7769784904a7c2841))\n* Allow the playback of TS without mux.js ([#5041](https://github.com/shaka-project/shaka-player/issues/5041)) ([5784250](https://github.com/shaka-project/shaka-player/commit/578425003e471828ae012025a9a5225f14a1a11a))\n* Caption can not turn off at iOS Safari ([#4978](https://github.com/shaka-project/shaka-player/issues/4978)) ([35f420e](https://github.com/shaka-project/shaka-player/commit/35f420e8283dfc9d8dacbe1a317c4e69e5974cbb))\n* **Demo:** Allow manifest type for DAI custom assets ([#4977](https://github.com/shaka-project/shaka-player/issues/4977)) ([d341f93](https://github.com/shaka-project/shaka-player/commit/d341f93c9091d371eba7d37faad2c76914d31a58))\n* Failed to set 'currentTime' property on 'HTMLMediaElement' on a Hisense TV ([#4962](https://github.com/shaka-project/shaka-player/issues/4962)) ([bda4e50](https://github.com/shaka-project/shaka-player/commit/bda4e50f72d44865e76716894b48f34db225feab))\n* Fallback to isTypeSupported when cast namespace is undefined ([#5012](https://github.com/shaka-project/shaka-player/issues/5012)) ([141f0e3](https://github.com/shaka-project/shaka-player/commit/141f0e384ebe9d31b5df899ef2c4c5d4217a31c9))\n* Fix video/mp2t mimetype conversion. ([#5039](https://github.com/shaka-project/shaka-player/issues/5039)) ([4fd078e](https://github.com/shaka-project/shaka-player/commit/4fd078e23c4148a46a2ddf34165e14c0f8056e97))\n* **HLS:** Add `.tsa` and .`tsv` file extensions as valid MPEG2-TS. ([#5034](https://github.com/shaka-project/shaka-player/issues/5034)) ([a080996](https://github.com/shaka-project/shaka-player/commit/a080996cbc4185a1bec8c08e5fc6a23a75f3e31e))\n* Increase IndexedDB timeout ([#4984](https://github.com/shaka-project/shaka-player/issues/4984)) ([a7bc000](https://github.com/shaka-project/shaka-player/commit/a7bc00056cff3d400f62018948e48acf6d0a9804))\n* **MCap:** Remove robustness when robustness value is default ([#4953](https://github.com/shaka-project/shaka-player/issues/4953)) ([762b1e7](https://github.com/shaka-project/shaka-player/commit/762b1e7b8b0a9f1443cd82ef388e5a3ce04a3f5e))\n* Prevent content from being restarted after Postroll ads ([#4979](https://github.com/shaka-project/shaka-player/issues/4979)) ([acebfa1](https://github.com/shaka-project/shaka-player/commit/acebfa13f04bc15f0d65e2c47a1a7bdbbeea9e1e)), closes [#4445](https://github.com/shaka-project/shaka-player/issues/4445)\n* Reject TS content on Edge ([#5043](https://github.com/shaka-project/shaka-player/issues/5043)) ([982d7bc](https://github.com/shaka-project/shaka-player/commit/982d7bc389d7e9f3a380b64101b7aaa0cccce39e))\n* **VTT:** Fix spacing between text lines ([#4961](https://github.com/shaka-project/shaka-player/issues/4961)) ([a44fe84](https://github.com/shaka-project/shaka-player/commit/a44fe84eddc851faea5276fd25dbbce78ddf3d7a))\n* **WebVTT:** Tags in the WebVTT subtitle are not parsed ([#4960](https://github.com/shaka-project/shaka-player/issues/4960)) ([15afb4b](https://github.com/shaka-project/shaka-player/commit/15afb4b36350da68074a2a1e67e6bb86f9eeddd1))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.18 (#4987)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a028d6ca63ac8d88f2db",
    "number": 4986,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.20](https://github.com/shaka-project/shaka-player/compare/v3.2.19...v3.2.20) (2023-03-02)\n\n\n### Bug Fixes\n\n* **Ads:** Fix CS volume ad ([#5016](https://github.com/shaka-project/shaka-player/issues/5016)) ([7d644ca](https://github.com/shaka-project/shaka-player/commit/7d644ca030112a227142ac2f236e4e0a16fd97bb))\n* **Ads:** Fix usage of EventManager on CS ([#5017](https://github.com/shaka-project/shaka-player/issues/5017)) ([0fcaeaa](https://github.com/shaka-project/shaka-player/commit/0fcaeaac5aaa1cec019aa4f156ecd1bfc5575536))\n* **ads:** Fix VMAP ads stay muted on muted autoplay ([#4995](https://github.com/shaka-project/shaka-player/issues/4995)) ([4c5cf61](https://github.com/shaka-project/shaka-player/commit/4c5cf613c7150eb7def6f9bb92d5925e17406cb9))\n* Allow the playback of TS without mux.js ([#5041](https://github.com/shaka-project/shaka-player/issues/5041)) ([2e3c720](https://github.com/shaka-project/shaka-player/commit/2e3c720daf10d7236478965f3c6d13163b13c302))\n* Caption can not turn off at iOS Safari ([#4978](https://github.com/shaka-project/shaka-player/issues/4978)) ([b644860](https://github.com/shaka-project/shaka-player/commit/b644860fd83a722a734141d9834252cca84fa354))\n* **Demo:** Allow manifest type for DAI custom assets ([#4977](https://github.com/shaka-project/shaka-player/issues/4977)) ([2a66112](https://github.com/shaka-project/shaka-player/commit/2a6611249934f3f9b4190815fae95369dc5736a1))\n* Failed to set 'currentTime' property on 'HTMLMediaElement' on a Hisense TV ([#4962](https://github.com/shaka-project/shaka-player/issues/4962)) ([59d2e09](https://github.com/shaka-project/shaka-player/commit/59d2e09e98a66558e65c33b7d55ea8345f3f8099))\n* Fallback to isTypeSupported when cast namespace is undefined ([#5012](https://github.com/shaka-project/shaka-player/issues/5012)) ([1834ad3](https://github.com/shaka-project/shaka-player/commit/1834ad3d865bfc900c82738a95f2f278735e0385))\n* Fix video/mp2t mimetype conversion. ([#5039](https://github.com/shaka-project/shaka-player/issues/5039)) ([cec2b28](https://github.com/shaka-project/shaka-player/commit/cec2b287b52cebcc89e66d7c2f2b4b24dedfef1a))\n* **HLS:** Add `.tsa` and .`tsv` file extensions as valid MPEG2-TS. ([#5034](https://github.com/shaka-project/shaka-player/issues/5034)) ([6c4efe2](https://github.com/shaka-project/shaka-player/commit/6c4efe2a4fedaf74fb0151504adada6f597dbf9a))\n* Increase IndexedDB timeout ([#4984](https://github.com/shaka-project/shaka-player/issues/4984)) ([2b81cb4](https://github.com/shaka-project/shaka-player/commit/2b81cb44f9345a473fbf04dbf00612b45fad3c57))\n* **MCap:** Remove robustness when robustness value is default ([#4953](https://github.com/shaka-project/shaka-player/issues/4953)) ([6115dd7](https://github.com/shaka-project/shaka-player/commit/6115dd7f095b35c98ded89cbcbe8dc0124777e6e))\n* Prevent content from being restarted after Postroll ads ([#4979](https://github.com/shaka-project/shaka-player/issues/4979)) ([8969f1e](https://github.com/shaka-project/shaka-player/commit/8969f1e2cbb2ce73a3c1da693b7d2be4825e3247))\n* Reject TS content on Edge ([#5043](https://github.com/shaka-project/shaka-player/issues/5043)) ([c5c4d0f](https://github.com/shaka-project/shaka-player/commit/c5c4d0f42a0af0a95e231c89ae24383efffae474))\n* **VTT:** Fix spacing between text lines ([#4961](https://github.com/shaka-project/shaka-player/issues/4961)) ([40bff87](https://github.com/shaka-project/shaka-player/commit/40bff87ccb2212e7cd88a93d83c8902a41d116ea))\n* **WebVTT:** Tags in the WebVTT subtitle are not parsed ([#4960](https://github.com/shaka-project/shaka-player/issues/4960)) ([542883f](https://github.com/shaka-project/shaka-player/commit/542883f2cd6783d0f063a0eff0e83118c0c89132))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.20 (#4986)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a029d6ca63ac8d88f2dc",
    "number": 4985,
    "body": "I'm not sure how these were left out of the previous round of work on the screenshot tests.\r\n\r\nSee https://github.com/shaka-project/shaka-player/actions/runs/4133220258/jobs/7143870547 for an example of the failing nightly tests in the lab.",
    "head_branch": "fix-missing-screenshots",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Add missing screenshots on Android (#4985)\n\nI'm not sure how these were left out of the previous round of work on\r\nthe screenshot tests.\r\n\r\nSee\r\nhttps://github.com/shaka-project/shaka-player/actions/runs/4133220258/jobs/7143870547\r\nfor an example of the failing nightly tests in the lab."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a02ad6ca63ac8d88f2dd",
    "number": 4984,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/4625",
    "head_branch": "timeout-offline",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Increase IndexedDB timeout (#4984)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/4625"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a02bd6ca63ac8d88f2de",
    "number": 4983,
    "body": "Closes #4484\r\n\r\nShaka error handling is getting increasingly more complex in order to \"catch them all\", I've tried to put together my current understanding of handling various cases in a tutorial. To read it with github md formatting: [errors.md](https://github.com/martinstark/shaka-player/blob/error-tutorial/docs/tutorials/errors.md)",
    "head_branch": "error-tutorial",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add error handling tutorial (#4983)\n\nShaka error handling is getting increasingly more complex in order to \"catch them all\".\r\nThis new tutorial describes both the basic method of error handling, as well as showing a few\r\nmore advanced ways to handle specific errors.\r\n\r\nCloses #4484"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a02cd6ca63ac8d88f2df",
    "number": 4982,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4981",
    "head_branch": "ll-aes-128",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Add support to HLS-AES128 low latency (#4982)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4981"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a02dd6ca63ac8d88f2e0",
    "number": 4979,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4445\r\n\r\nAfter watching post roll ads, `this.video_.play()` was called on a completed content in the `onAdComplete` event. The content would then restart from the beginning.\r\n\r\nWe now flag that the content is completed before we call `this.adsLoader_.contentComplete()`. On the callback, we prevent the video element from replaying if this flag is set.\r\n\r\nThis fix is based on the Advanced Sample on the [googleads-ima-html5 repo](https://github.com/googleads/googleads-ima-html5/blob/main/advanced/ads.js#L128)\r\n\r\n",
    "head_branch": "fix/ima-content-resume-after-postroll",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Prevent content from being restarted after Postroll ads (#4979)\n\nAfter watching post roll ads, `this.video_.play()` was called on a completed content in the `onAdComplete` event.\r\nThe content would then restart from the beginning.\r\n\r\nWe now flag that the content is completed before we call `this.adsLoader_.contentComplete()`.\r\nOn the callback, we prevent the video element from replaying if this flag is set.\r\n\r\nThis fix is based on the Advanced Sample on the [googleads-ima-html5 repo](https://github.com/googleads/googleads-ima-html5/blob/main/advanced/ads.js#L128)\r\n\r\nCloses #4445"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a02ed6ca63ac8d88f2e1",
    "number": 4978,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4940\r\n\r\nThis occurs when the operating system defaults to enabled subtitles in src= mode. The solution is to detect that there are active subtitles and set the internal visible flag to true.",
    "head_branch": "src-equal-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Caption can not turn off at iOS Safari (#4978)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4940\r\n\r\nThis occurs when the operating system defaults to enabled subtitles in\r\nsrc= mode. The solution is to detect that there are active subtitles and\r\nset the internal visible flag to true."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a02ed6ca63ac8d88f2e2",
    "number": 4977,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4887",
    "head_branch": "dai-dash-demo",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(Demo): Allow manifest type for DAI custom assets (#4977)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4887"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a02fd6ca63ac8d88f2e3",
    "number": 4973,
    "body": "We have reproduced an issue in some tizen tv's, and we think it's the cause of #4634 and possibly #4503 \r\n\r\nIt happens with some streams that have 3 variants, 2 of them are supported on these TVs, but the one with higher resolution isn't. This variant uses this video: video/mp4;codecs=\"avc1.64002a\";framerate=\"25\";bitrate=\"6000000\";width=\"**1980**\";height=\"1080\" and in this TV the higher resolution that is supported is **1920**x1080\r\n\r\nAt **filterManifestByMediaCapabilities** function from **stream_utils.js** we were checking `Capabilities.isTypeSupported(fullType)` , where this \"fullType\" only includes the mime type and the codecs (`video/mp4; codecs=\"avc1.64002a\"` for example). This is currently returning true, so the player believes that this variant is supported, but then it fails when it tries to play it.\r\n\r\nHowever, there was an older implementation that used **shaka.media.MediaSourceEngine.isStreamSupported()** function which internally checks `Capabilities.isTypeSupported(extendedMimeType)`, where \"extendedMimeType\" includes also the width, height, bitrate and framerate (for example, `video/mp4;codecs=\"avc1.64002a\";framerate=\"25\";bitrate=\"6000000\";width=\"1980\";height=\"1080\"`), which in this specific case returns false because in this case the 1980 width is not supported (it should be 1920), the variant is filtered out, and the playback is started with the other 2 variants.\r\n\r\nIn this proposed change I'm basically changing isTypeSupported(fullType) by isTypeSupported(extendedMimeType), keeping in mind that the codecs and mimeType could have been modified in the call to getFullOrConvertedType and we must keep using those modified values.\r\nIn this change I haven't modified the mutiplexed streams case (the case from the `if (video.codecs.includes(','))` at filterManifestByMediaCapabilities), because the getExtendedType function gets the whole variant as parameter, I don't have any good way of testing the case, and also I think that the audio tracks are less likely to be affected by this issue, so it's probably not that important.\r\n\r\nFixes https://github.com/shaka-project/shaka-player/issues/4634",
    "head_branch": "tizenVideoError",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Tizen video error fixed by checking the extended MIME type (#4973)\n\nFixes #4634"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a030d6ca63ac8d88f2e4",
    "number": 4972,
    "body": "We have reproduced an issue in some tizen tv's, and we think it's the cause of #4634 and possibly #4503 \r\n\r\nIt happens with some streams that have 3 variants, 2 of them are supported on these TVs, but the one with higher resolution isn't. This variant uses this video: video/mp4;codecs=\"avc1.64002a\";framerate=\"25\";bitrate=\"6000000\";width=\"**1980**\";height=\"1080\" and in this TV the higher resolution that is supported is **1920**x1080\r\n\r\nAt **filterManifestByMediaCapabilities** function from **stream_utils.js** we were checking `Capabilities.isTypeSupported(fullType)` , where this \"fullType\" only includes the mime type and the codecs (`video/mp4; codecs=\"avc1.64002a\"` for example). This is currently returning true, so the player believes that this variant is supported, but then it fails when it tries to play it.\r\n\r\nHowever, there was an older implementation that used **shaka.media.MediaSourceEngine.isStreamSupported()** function which internally checks `Capabilities.isTypeSupported(extendedMimeType)`, where \"extendedMimeType\" includes also the width, height, bitrate and framerate (for example, `video/mp4;codecs=\"avc1.64002a\";framerate=\"25\";bitrate=\"6000000\";width=\"1980\";height=\"1080\"`), which in this specific case returns false because in this case the 1980 width is not supported (it should be 1920), the variant is filtered out, and the playback is started with the other 2 variants.\r\n\r\nIn this proposed change I'm basically changing isTypeSupported(fullType) by isTypeSupported(extendedMimeType), keeping in mind that the codecs and mimeType could have been modified in the call to getFullOrConvertedType and we must keep using those modified values.\r\nIn this change I haven't modified the mutiplexed streams case (the case from the `if (video.codecs.includes(','))` at filterManifestByMediaCapabilities), because the getExtendedType function gets the whole variant as parameter, I don't have any good way of testing the case, and also I think that the audio tracks are less likely to be affected by this issue, so it's probably not that important.",
    "head_branch": "tizenVideoError",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a031d6ca63ac8d88f2e5",
    "number": 4971,
    "body": "Closes #4902\r\n\r\nThis is not intended to be a complete fix for the issue, I do not understand the effect this new ternary on the shaka player as a whole. I have not found the root cause for `this.currentDrmInfo_` being `undefined` when accessed. It does, however, look like it has previously been acceptable for this property to be `undefined`. I opened this PR more as a point of discussion around the issue at hand.\r\n\r\nDuring the work to add Fairplay support in 2022, accessing `this.currentDrmInfo_` was added on line 483. This line **does not** accept that `this.currentDrmInfo_` can be undefined. A few lines below this, `this.createOrLoad()` is called, which **does** accept that `this.currentDrmInfo_` can be `undefined`. The latter piece of code was last modified in 2019.\r\n\r\nhttps://github.com/shaka-project/shaka-player/blob/c471d23bc25db11dda85a18870ebd3fe37971848/lib/media/drm_engine.js#L483-L498\r\n\r\nhttps://github.com/shaka-project/shaka-player/blob/c471d23bc25db11dda85a18870ebd3fe37971848/lib/media/drm_engine.js#L626-L629\r\n\r\n",
    "head_branch": "fix-initdata-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: DrmEngine exception thrown when using FairPlay (#4971)\n\nCloses #4902\r\n\r\nThis is not intended to be a complete fix for the issue, I do not\r\nunderstand the effect this new ternary on the shaka player as a whole. I\r\nhave not found the root cause for `this.currentDrmInfo_` being\r\n`undefined` when accessed. It does, however, look like it has previously\r\nbeen acceptable for this property to be `undefined`.\r\n\r\nDuring the work to add Fairplay support in 2022, accessing\r\n`this.currentDrmInfo_` was added on line 483. This line **does not**\r\naccept that `this.currentDrmInfo_` can be undefined. A few lines below\r\nthis, `this.createOrLoad()` is called, which **does** accept that\r\n`this.currentDrmInfo_` can be `undefined`. The latter piece of code was\r\nlast modified in 2019.\r\n\r\nhttps://github.com/shaka-project/shaka-player/blob/c471d23bc25db11dda85a18870ebd3fe37971848/lib/media/drm_engine.js#L483-L498\r\n\r\nhttps://github.com/shaka-project/shaka-player/blob/c471d23bc25db11dda85a18870ebd3fe37971848/lib/media/drm_engine.js#L626-L629"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a032d6ca63ac8d88f2e6",
    "number": 4969,
    "body": "This PR adds _experimental_ support for the Document Picture-in-Picture API in the Shaka Player.\r\n\r\nI'm making some assumptions about how Shaka Player works and I'd love your review on this. Thank you!\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/4964\r\n\r\n<img width=\"1624\" alt=\"image\" src=\"https://user-images.githubusercontent.com/634478/216957851-777d1d00-de94-4e73-b71f-2a92d894e897.png\">\r\n",
    "head_branch": "doc-pip",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add support for Document Picture-in-Picture (#4969)\n\nThis PR adds _experimental_ support for the Document Picture-in-Picture\r\nAPI in the Shaka Player.\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/4964\r\n\r\nCo-authored-by: Alvaro Velad Galvan <ladvan91@hotmail.com>\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a033d6ca63ac8d88f2e7",
    "number": 4963,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4859\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfeat(UI): Allow customizing FullScreen element (#4963)\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "ui-fullscreen-element",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Allow customizate FullScreen element (#4963)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4859"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a034d6ca63ac8d88f2e8",
    "number": 4962,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4888",
    "head_branch": "fix-video-wrapper-hisense",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Failed to set 'currentTime' property on 'HTMLMediaElement' on a Hisense TV (#4962)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4888"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a035d6ca63ac8d88f2e9",
    "number": 4961,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4958",
    "head_branch": "spacing-between-text",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(VTT): Fix spacing between text lines (#4961)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4958\r\n\r\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a036d6ca63ac8d88f2ea",
    "number": 4960,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4956",
    "head_branch": "webvtt-payload",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(WebVTT): Tags in the WebVTT subtitle are not parsed (#4960)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4956"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a037d6ca63ac8d88f2eb",
    "number": 4954,
    "body": "Adds color support for SimpleTextDisplayer and WebVttGenerator (only one place to fix both now thanks to #4941).\r\n\r\nIt's limited to the [8 colors classes](https://w3c.github.io/webvtt/#default-text-color) supported by the WebVTT specification, and also works with their 3 or 6-digit hex variants (if the stream has TTML subtitles). \r\n\r\nIt does not support rgb, rgba or any colors other than these 8.\r\n\r\nFixes #4545",
    "head_branch": "feat/webvtt-colors-output",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(webvtt): webvtt colors output (#4954)\n\nAdds color support for SimpleTextDisplayer and WebVttGenerator (only one\r\nplace to fix both now thanks to #4941).\r\n\r\nIt's limited to the [8 colors\r\nclasses](https://w3c.github.io/webvtt/#default-text-color) supported by\r\nthe WebVTT specification, and also works with their 3 or 6-digit hex\r\nvariants (if the stream has TTML subtitles).\r\n\r\nIt does not support rgb, rgba or any colors other than these 8.\r\n\r\nFixes #4545\r\n\r\n---------\r\n\r\nCo-authored-by: Alvaro Velad Galvan <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a038d6ca63ac8d88f2ec",
    "number": 4953,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4659",
    "head_branch": "mediacapabilities-robustness",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(MCap): Remove robustness when robustness value is default (#4953)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4659"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a039d6ca63ac8d88f2ed",
    "number": 4952,
    "body": "In Low Latency HLS, the low latency segments are integer segments instead of partial segments like in DASH, so we can avoid reading part of the segment and increase performance on low-end devices.",
    "head_branch": "low-latency-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Improve Low Latency performance in HLS (#4952)\n\nIn Low Latency HLS, the low latency segments are integer segments\r\ninstead of partial segments like in DASH, so we can avoid reading part\r\nof the segment and increase performance on low-end devices."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a03ad6ca63ac8d88f2ee",
    "number": 4949,
    "body": "When the VTT size setting is used, the horizontal positioning was wrong in both native and UI display.\r\n\r\nThe native display is wrong on Chrome and Edge because of a layout bug in Chrome, where the shadow DOM for the cue box has conflicting (redundant) styles.  For example, these VTT settings:\r\n\r\n`line: 85% position: 50% size: 63%`\r\n\r\nresult in these styles in the shadow DOM:\r\n\r\n`top: 85%; left: 18.5%; transform: translate(-18.5%, -85%)`.\r\n\r\nThe `translate` style is what breaks the positioning.  Unfortunately, there is no way to fix that in JavaScript.\r\n\r\nThe UI display, however, was buggy for different reasons and is fixable.  The styles `left: 0; top: 0;` were applied by default, and then `top: 85%;` and `width: 63%;` were set based on the cue settings. The default of `left: 0` was what broke the positioning.  Removing this leaves `left` set implicitly to `auto`, which is correct.\r\n\r\nNo other test cases were broken (or fixed) by this change.\r\n\r\nThis also adds a filter parameter to the lab workflow to run a subset of tests for quicker results.  This is useful for updating screenshots.\r\n\r\nCloses b/259121343",
    "head_branch": "fix-vtt-sizing",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(WebVTT): Fix horizontal positioning with cue box size (#4949)\n\nWhen the VTT size setting is used, the horizontal positioning was wrong\r\nin both native and UI display.\r\n\r\nThe native display is wrong on Chrome and Edge because of a layout bug\r\nin Chrome, where the shadow DOM for the cue box has conflicting\r\n(redundant) styles. For example, these VTT settings:\r\n\r\n`line: 85% position: 50% size: 63%`\r\n\r\nresult in these styles in the shadow DOM:\r\n\r\n`top: 85%; left: 18.5%; transform: translate(-18.5%, -85%)`.\r\n\r\nThe `translate` style is what breaks the positioning. Unfortunately,\r\nthere is no way to fix that in JavaScript.\r\n\r\nThe UI display, however, was buggy for different reasons and is fixable.\r\nThe styles `left: 0; top: 0;` were applied by default, and then `top:\r\n85%;` and `width: 63%;` were set based on the cue settings. The default\r\nof `left: 0` was what broke the positioning. Removing this leaves `left`\r\nset implicitly to `auto`, which is correct.\r\n\r\nNo other test cases were broken (or fixed) by this change.\r\n\r\nThis also adds a filter parameter to the lab workflow to run a subset of\r\ntests for quicker results. This is useful for updating screenshots.\r\n\r\nCloses b/259121343"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a03bd6ca63ac8d88f2ef",
    "number": 4948,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.19](https://github.com/shaka-project/shaka-player/compare/v3.2.18...v3.2.19) (2023-01-31)\n\n\n### Bug Fixes\n\n* Add mux.js to support.html ([#4923](https://github.com/shaka-project/shaka-player/issues/4923)) ([cec295a](https://github.com/shaka-project/shaka-player/commit/cec295a56b1682f742b834a2836df41d4cda62c9))\n* **DASH:** Fix dynamic manifests from edgeware ([#4914](https://github.com/shaka-project/shaka-player/issues/4914)) ([03c95ee](https://github.com/shaka-project/shaka-player/commit/03c95ee93427a42111123f8b8a195dd336e95691))\n* Fix MediaCapabilities polyfill on Hisense ([#4927](https://github.com/shaka-project/shaka-player/issues/4927)) ([c217de0](https://github.com/shaka-project/shaka-player/commit/c217de08bac79d63e4d32ab9eac099f14f057046))\n* Fix WebVTT parser failure on REGION blocks ([#4915](https://github.com/shaka-project/shaka-player/issues/4915)) ([f4e8518](https://github.com/shaka-project/shaka-player/commit/f4e85183e80eca9fe8f7e76c365ebe6fc62af860))\n* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4928](https://github.com/shaka-project/shaka-player/issues/4928)) ([245234c](https://github.com/shaka-project/shaka-player/commit/245234cde32d0e532e369d3a1f7f20a71f109587)), closes [#4929](https://github.com/shaka-project/shaka-player/issues/4929)\n* **VTT:** Fix combining style selectors ([#4934](https://github.com/shaka-project/shaka-player/issues/4934)) ([2625fdf](https://github.com/shaka-project/shaka-player/commit/2625fdf6687ff1d1a51a35ad98d8a5779df9a895))\n* **WebVTT:** Add support to &nbsp;, &lrm; and &rlm; ([#4920](https://github.com/shaka-project/shaka-player/issues/4920)) ([ff36a0a](https://github.com/shaka-project/shaka-player/commit/ff36a0a170c36de0b963e068900946630bd4c290))\n* **WebVTT:** Add support to voice tag styles ([#4845](https://github.com/shaka-project/shaka-player/issues/4845)) ([88602be](https://github.com/shaka-project/shaka-player/commit/88602be60b3d82f6d6603d5729524e8c39d4c08c))\n* **WebVTT:** Fix horizontal positioning with cue box size ([#4949](https://github.com/shaka-project/shaka-player/issues/4949)) ([cb26238](https://github.com/shaka-project/shaka-player/commit/cb26238ae09a5c1479d08f0caa011e244a1e2cd7))\n* **WebVTT:** Fix voices with styles and support to multiple styles ([#4922](https://github.com/shaka-project/shaka-player/issues/4922)) ([8624759](https://github.com/shaka-project/shaka-player/commit/86247596f217bc4faa0a834d4f487044a8a97afb))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.19 (#4948)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a03cd6ca63ac8d88f2f0",
    "number": 4947,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.17](https://github.com/shaka-project/shaka-player/compare/v3.3.16...v3.3.17) (2023-01-31)\n\n\n### Bug Fixes\n\n* Add mux.js to support.html ([#4923](https://github.com/shaka-project/shaka-player/issues/4923)) ([166d7cd](https://github.com/shaka-project/shaka-player/commit/166d7cddb24d6710410fa582b3328a409e3968af))\n* **DASH:** Fix dynamic manifests from edgeware ([#4914](https://github.com/shaka-project/shaka-player/issues/4914)) ([06bfd10](https://github.com/shaka-project/shaka-player/commit/06bfd10af14773440495992f481073589fb908e6))\n* Fix MediaCapabilities polyfill on Hisense ([#4927](https://github.com/shaka-project/shaka-player/issues/4927)) ([5317329](https://github.com/shaka-project/shaka-player/commit/531732923d5118ecbd555531c46862b238b16b50))\n* Fix WebVTT parser failure on REGION blocks ([#4915](https://github.com/shaka-project/shaka-player/issues/4915)) ([c534602](https://github.com/shaka-project/shaka-player/commit/c5346026ad006eeb01f7619c5fa54f2fd88d0f8b))\n* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4928](https://github.com/shaka-project/shaka-player/issues/4928)) ([ae0f615](https://github.com/shaka-project/shaka-player/commit/ae0f615d7df35873135fbc8953e11383395dc25e)), closes [#4929](https://github.com/shaka-project/shaka-player/issues/4929)\n* **VTT:** Fix combining style selectors ([#4934](https://github.com/shaka-project/shaka-player/issues/4934)) ([dfa5dc7](https://github.com/shaka-project/shaka-player/commit/dfa5dc7e137be1a2984280dbddb5c6363b71ed1a))\n* **WebVTT:** Add support to &nbsp;, &lrm; and &rlm; ([#4920](https://github.com/shaka-project/shaka-player/issues/4920)) ([b9ddf6a](https://github.com/shaka-project/shaka-player/commit/b9ddf6ac1db9aab186ddf3e2fb794f8875993e10))\n* **WebVTT:** Add support to voice tag styles ([#4845](https://github.com/shaka-project/shaka-player/issues/4845)) ([acbfca1](https://github.com/shaka-project/shaka-player/commit/acbfca15593e972a41215e7f81cba1b9a06edd52))\n* **WebVTT:** Fix horizontal positioning with cue box size ([#4949](https://github.com/shaka-project/shaka-player/issues/4949)) ([a16de64](https://github.com/shaka-project/shaka-player/commit/a16de6474dade1ace63a8a6738de8e86cd89eff7))\n* **WebVTT:** Fix voices with styles and support to multiple styles ([#4922](https://github.com/shaka-project/shaka-player/issues/4922)) ([aee669e](https://github.com/shaka-project/shaka-player/commit/aee669ecd284c6aa49467be4ac5ff6efd9cba5a5))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.17 (#4947)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a03dd6ca63ac8d88f2f1",
    "number": 4946,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.8](https://github.com/shaka-project/shaka-player/compare/v4.2.7...v4.2.8) (2023-01-31)\n\n\n### Bug Fixes\n\n* Add mux.js to support.html ([#4923](https://github.com/shaka-project/shaka-player/issues/4923)) ([4c46595](https://github.com/shaka-project/shaka-player/commit/4c46595ed6dd087cae22a8f26efcb77f125f3ec5))\n* **DASH:** Fix dynamic manifests from edgeware ([#4914](https://github.com/shaka-project/shaka-player/issues/4914)) ([247229b](https://github.com/shaka-project/shaka-player/commit/247229b7ea996b4eb43dc09d68fe212f4705045b))\n* Fix MediaCapabilities polyfill on Hisense ([#4927](https://github.com/shaka-project/shaka-player/issues/4927)) ([8b694f0](https://github.com/shaka-project/shaka-player/commit/8b694f051a2119a6dc4d27cf9fbe3b51a1a12e41))\n* Fix WebVTT parser failure on REGION blocks ([#4915](https://github.com/shaka-project/shaka-player/issues/4915)) ([39ba2e8](https://github.com/shaka-project/shaka-player/commit/39ba2e83a291f115972f9e0348621535bafdb794))\n* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4928](https://github.com/shaka-project/shaka-player/issues/4928)) ([b0eb356](https://github.com/shaka-project/shaka-player/commit/b0eb356c6e528171a6134ed16ad223c86238267f)), closes [#4929](https://github.com/shaka-project/shaka-player/issues/4929)\n* **VTT:** Fix combining style selectors ([#4934](https://github.com/shaka-project/shaka-player/issues/4934)) ([c036c53](https://github.com/shaka-project/shaka-player/commit/c036c53b2e86e99adeb8c9f583e8952e47a2a680))\n* **WebVTT:** Add support to &nbsp;, &lrm; and &rlm; ([#4920](https://github.com/shaka-project/shaka-player/issues/4920)) ([3fa6ff0](https://github.com/shaka-project/shaka-player/commit/3fa6ff0cb36c24b98f5f40fecc52be197ffc1410))\n* **WebVTT:** Add support to voice tag styles ([#4845](https://github.com/shaka-project/shaka-player/issues/4845)) ([e8465a2](https://github.com/shaka-project/shaka-player/commit/e8465a2e1c1999d1b2bae3cc2819f8a2666bf7c6))\n* **WebVTT:** Fix horizontal positioning with cue box size ([#4949](https://github.com/shaka-project/shaka-player/issues/4949)) ([74d399d](https://github.com/shaka-project/shaka-player/commit/74d399d6bf5fe3029fc37f8f3a783a16606fe8db))\n* **WebVTT:** Fix voices with styles and support to multiple styles ([#4922](https://github.com/shaka-project/shaka-player/issues/4922)) ([355a59f](https://github.com/shaka-project/shaka-player/commit/355a59f76da96c78e0aef4eef5e6de2f5e0ff2b6))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.8 (#4946)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a03ed6ca63ac8d88f2f2",
    "number": 4945,
    "body": "Resolves #4944 ",
    "head_branch": "fix/negative-pres-start-time-auto-correct",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: exclude \"future\" segments from presentation timeline auto correct drift calculations (#4945)\n\nResolves #4944"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a03fd6ca63ac8d88f2f3",
    "number": 4943,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.4](https://github.com/shaka-project/shaka-player/compare/v4.3.3...v4.3.4) (2023-01-31)\n\n\n### Bug Fixes\n\n* Add mux.js to support.html ([#4923](https://github.com/shaka-project/shaka-player/issues/4923)) ([fde895e](https://github.com/shaka-project/shaka-player/commit/fde895e13c4a935b39aa9bf2bc0c5dce77add0b0))\n* **DASH:** Fix dynamic manifests from edgeware ([#4914](https://github.com/shaka-project/shaka-player/issues/4914)) ([983dea3](https://github.com/shaka-project/shaka-player/commit/983dea3c87796384d9b7f876e73c47545d97e980))\n* Fix MediaCapabilities polyfill on Hisense ([#4927](https://github.com/shaka-project/shaka-player/issues/4927)) ([d36677f](https://github.com/shaka-project/shaka-player/commit/d36677f0db52bff2fef967e787954e8f25889d2f))\n* Fix WebVTT parser failure on REGION blocks ([#4915](https://github.com/shaka-project/shaka-player/issues/4915)) ([f57a954](https://github.com/shaka-project/shaka-player/commit/f57a9541cdff50de63f41247e258673fbed0cf78))\n* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4928](https://github.com/shaka-project/shaka-player/issues/4928)) ([86c58ee](https://github.com/shaka-project/shaka-player/commit/86c58ee1d4f6e0fe56a5aaebf9771024193a9efe)), closes [#4929](https://github.com/shaka-project/shaka-player/issues/4929)\n* **HLS:** IMSC1 subtitles not working in a HLS stream ([#4942](https://github.com/shaka-project/shaka-player/issues/4942)) ([8a9156f](https://github.com/shaka-project/shaka-player/commit/8a9156fa14cd6646900bdf534714ead775fccb15))\n* **VTT:** Fix combining style selectors ([#4934](https://github.com/shaka-project/shaka-player/issues/4934)) ([bd04cf1](https://github.com/shaka-project/shaka-player/commit/bd04cf15223d026bb880ab0cca2a3e6332e8f485))\n* **WebVTT:** Add support to &nbsp;, &lrm; and &rlm; ([#4920](https://github.com/shaka-project/shaka-player/issues/4920)) ([d2e2d49](https://github.com/shaka-project/shaka-player/commit/d2e2d49da0593d2ee2e0e4da7e2ce9acae0798af))\n* **WebVTT:** Add support to voice tag styles ([#4845](https://github.com/shaka-project/shaka-player/issues/4845)) ([4fb19fb](https://github.com/shaka-project/shaka-player/commit/4fb19fb075a89ae6a401c236b65c82d899a069d8))\n* **WebVTT:** Fix horizontal positioning with cue box size ([#4949](https://github.com/shaka-project/shaka-player/issues/4949)) ([cefbe08](https://github.com/shaka-project/shaka-player/commit/cefbe083b684fc1295483e938a8576d9de81a359))\n* **WebVTT:** Fix voices with styles and support to multiple styles ([#4922](https://github.com/shaka-project/shaka-player/issues/4922)) ([981bceb](https://github.com/shaka-project/shaka-player/commit/981bceb233b029b6e77499439627455913a1784d))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.4 (#4943)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a040d6ca63ac8d88f2f4",
    "number": 4942,
    "body": "Fixes #4350\r\n\r\nThe current code initially parses the subtitle track as text/vtt (mimetype) since it has no codec. Subsequently, the stpp.ttml.im1t codec is assigned but the mimetype of text/vtt is not changed to application/mp4. This PR changes this so that once the codec is assigned, the mimetype is recalculated.",
    "head_branch": "imsc1-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): IMSC1 subtitles not working in a HLS stream (#4942)\n\nFixes #4350\r\n\r\nThe current code initially parses the subtitle track as text/vtt\r\n(mimetype) since it has no codec. Subsequently, the stpp.ttml.im1t codec\r\nis assigned but the mimetype of text/vtt is not changed to\r\napplication/mp4. This PR changes this so that once the codec is\r\nassigned, the mimetype is recalculated."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a041d6ca63ac8d88f2f5",
    "number": 4941,
    "body": null,
    "head_branch": "text-utils",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Add text_utils.js (#4941)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a042d6ca63ac8d88f2f6",
    "number": 4936,
    "body": "Many of these are rendered incorrectly in some way.\r\n\r\nThis PR contains only the screenshots, to make the tests easier to review in a separate PR.\r\n\r\nRelated to work on PR #4767",
    "head_branch": "webvtt-layout-screenshots",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: End-to-end WebVTT layout screenshots (#4936)\n\nMany of these are rendered incorrectly in some way.\r\n\r\nThis PR contains only the screenshots, to make the tests easier to\r\nreview in a separate PR.\r\n\r\nRelated to work on PR #4767"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a043d6ca63ac8d88f2f7",
    "number": 4935,
    "body": "Many of these are rendered incorrectly in some way.\r\n\r\nThis PR contains only the tests, but not the screenshots, to make the tests easier to review.  The screenshots will appear in a separate PR.\r\n\r\nRelated to work on PR #4767",
    "head_branch": "webvtt-layout-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: End-to-end WebVTT layout tests (#4935)\n\nMany of these are rendered incorrectly in some way.\r\n\r\nThis PR contains only the tests, but not the screenshots, to make the\r\ntests easier to review. The screenshots will appear in a separate PR.\r\n\r\nRelated to work on PR #4767"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a044d6ca63ac8d88f2f8",
    "number": 4934,
    "body": "When multiple style blocks exist for the same selector, they should be combined.  For example,\r\n\r\n  ::cue(b) { background: white; }\r\n  ::cue(b) { color: blue; }\r\n\r\nshould set both the background and foreground of bold tags.",
    "head_branch": "fix-multiple-cue-style-selectors",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(VTT): Fix combining style selectors (#4934)\n\nWhen multiple style blocks exist for the same selector, they should be\r\ncombined. For example,\r\n\r\n  ::cue(b) { background: white; }\r\n  ::cue(b) { color: blue; }\r\n\r\nshould set both the background and foreground of bold tags."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a045d6ca63ac8d88f2f9",
    "number": 4932,
    "body": "Our PROD app has been getting some 3015 errors where the exception message is as follows:\r\n`Error: Failed to execute 'appendBuffer' on 'SourceBuffer': The HTMLMediaElement.error attribute is not null`\r\n\r\nWe have added some extra logging to add what is inside the error property in hopes of having a better ideia of what is causing it since we ourselves haven't quite been able to reproduce the issue.\r\n\r\nWanted to bring this back to the main repo in case it could help others. Because the exception Shaka gets only has that message so could be useful to know what was the exact error that the media element got that caused the `appendBuffer` call to fail.",
    "head_branch": "add-3015-error-extra-logging",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(logs): Add extra logging for 3015 errors (#4932)\n\nThis adds extra context to 3015 (MEDIA_SOURCE_OPERATION_THREW) errors, by attaching\r\nthe error  on the media element. This is helpful because, in some situations, media source operations\r\ncan have very unhelpful exception strings like:\r\n`Error: Failed to execute 'appendBuffer' on 'SourceBuffer': The HTMLMediaElement.error attribute is not null`"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a045d6ca63ac8d88f2fa",
    "number": 4931,
    "body": null,
    "head_branch": "ts-ac3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add AC-3 detection in TS (#4931)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a046d6ca63ac8d88f2fb",
    "number": 4930,
    "body": "Reverts shaka-project/shaka-player#4919",
    "head_branch": "revert-4919-tosmolka/4912",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore: revert \"Forbid MathML namespace in shaka.util.XmlUtils\" (#4930)\n\nReverts shaka-project/shaka-player#4919"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a047d6ca63ac8d88f2fc",
    "number": 4928,
    "body": "Was this a typo? We were seeing uncaught TypeErrors when changing subtitle tracks related to this, it seems `'txt/vtt'` is not a valid mime type for webvtt subtitles.\r\n\r\nCloses #4929 ",
    "head_branch": "fix-txt-vtt-mime-type",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix detection of WebVTT subtitles in HLS by extension (#4928)\n\nWe were seeing uncaught TypeErrors when changing subbtitle\r\ntracks.\r\n\r\nCloses #4929"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a048d6ca63ac8d88f2fd",
    "number": 4927,
    "body": "fixes https://github.com/shaka-project/shaka-player/issues/4925",
    "head_branch": "hisense-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix MediaCapabilities polyfill on Hisense (#4927)\n\nfixes https://github.com/shaka-project/shaka-player/issues/4925"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a049d6ca63ac8d88f2fe",
    "number": 4926,
    "body": null,
    "head_branch": "expressplay-fairplay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add ExpressPlay FairPlay util (#4926)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a04ad6ca63ac8d88f2ff",
    "number": 4923,
    "body": null,
    "head_branch": "fix-support-page",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Add mux.js to support.html (#4923)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a04bd6ca63ac8d88f300",
    "number": 4922,
    "body": null,
    "head_branch": "webvtt-voices-with-styles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(WebVTT): Fix voices with styles and support to multiple styles (#4922)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a04cd6ca63ac8d88f301",
    "number": 4920,
    "body": null,
    "head_branch": "webvtt-nbsp-lrm-rlm",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(WebVTT): Add support to &nbsp;, &lrm; and &rlm; (#4920)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a04dd6ca63ac8d88f302",
    "number": 4919,
    "body": "This PR fixes #4912 by adding MathML to the list of forbidden namespaces. \r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nignore in changelog: reverted\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "tosmolka/4912",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Forbid MathML namespace in shaka.util.XmlUtils (#4919)\n\nThis PR fixes #4912 by adding MathML to the list of forbidden\r\nnamespaces."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a04ed6ca63ac8d88f303",
    "number": 4918,
    "body": "Now screenshots are grouped by test for easy comparison across platforms, and have an optional line break element between each set of tests.\r\n\r\nRelated to work on PR #4767",
    "head_branch": "review-order",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Reorganize screenshots in review tool (#4918)\n\nNow screenshots are grouped by test for easy comparison across\r\nplatforms, and have an optional line break element between each set of\r\ntests.\r\n\r\nRelated to work on PR #4767"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a04fd6ca63ac8d88f304",
    "number": 4917,
    "body": "This will upload screenshots when the Selenium lab tests fail.  This can be used to get screenshot changes either for examination or for updating the test expectations.",
    "head_branch": "selenium-upload-screenshots",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Upload screenshots on test failures (#4917)\n\nThis will upload screenshots when the Selenium lab tests fail. This can\r\nbe used to get screenshot changes either for examination or for updating\r\nthe test expectations."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a050d6ca63ac8d88f305",
    "number": 4916,
    "body": "Many of these are rendered incorrectly in some way.\r\n\r\nRelated to work on PR #4767",
    "head_branch": "webvtt-layout",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a051d6ca63ac8d88f306",
    "number": 4915,
    "body": "We do not yet support VTT region settings, but we should still not fail when a region block appears in a VTT file.\r\n\r\nRelated to work on PR #4767",
    "head_branch": "fix-webvtt-region-failure",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix WebVTT parser failure on REGION blocks (#4915)\n\nWe do not yet support VTT region settings, but we should still not fail\r\nwhen a region block appears in a VTT file.\r\n\r\nRelated to work on PR #4767"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a052d6ca63ac8d88f307",
    "number": 4914,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4913",
    "head_branch": "dash-edgeware",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DASH): Fix dynamic manifests from edgeware (#4914)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4913\r\n\r\n---------\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a053d6ca63ac8d88f308",
    "number": 4911,
    "body": "Related to work on PR #4767",
    "head_branch": "webvtt-layout",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Preserve filters when reloading the review page (#4911)\n\nRelated to work on PR #4767"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a054d6ca63ac8d88f309",
    "number": 4909,
    "body": "This rewritten screenshot review tool is more dynamic and better organized.\r\n\r\nIt is now easier to add additional test suites, and filtering can be done dynamically by any attribute (platform, suite, or test).\r\n\r\nRelated to work on PR #4767",
    "head_branch": "webvtt-layout",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Rewrite screenshot review tool (#4909)\n\nThis rewritten screenshot review tool is more dynamic and better\r\norganized.\r\n\r\nIt is now easier to add additional test suites, and filtering can be\r\ndone dynamically by any attribute (platform, suite, or test).\r\n\r\nRelated to work on PR #4767"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a055d6ca63ac8d88f30a",
    "number": 4908,
    "body": "There is currently only one suite, but that is about to change.  This renames all screenshots to include the name of the suite, and updates the review page with a temporary hard-coded suite name.\r\n\r\nRelated to work on PR #4767",
    "head_branch": "webvtt-layout",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Organize screenshots by suite (#4908)\n\nThere is currently only one suite, but that is about to change. This\r\nrenames all screenshots to include the name of the suite, and updates\r\nthe review page with a temporary hard-coded suite name.\r\n\r\nRelated to work on PR #4767"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a056d6ca63ac8d88f30b",
    "number": 4907,
    "body": "Also fixes a compiler error that comes up for some reason when renaming the other tests.  The compiler will accept an assignment to nestedCues, but not pushing to it.  I was unable to fix the missing type information for this.\r\n\r\nRelated to work on PR #4767",
    "head_branch": "webvtt-layout",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Rename layout tests (#4907)\n\nAlso fixes a compiler error that comes up for some reason when renaming\r\nthe other tests. The compiler will accept an assignment to nestedCues,\r\nbut not pushing to it. I was unable to fix the missing type information\r\nfor this.\r\n\r\nRelated to work on PR #4767"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a057d6ca63ac8d88f30c",
    "number": 4906,
    "body": "This prepares us to create additional suites of layout tests\r\n\r\nRelated to work on PR #4767",
    "head_branch": "webvtt-layout",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Factor out common code for layout tests (#4906)\n\nThis prepares us to create additional suites of layout tests\r\n\r\nRelated to work on PR #4767"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a058d6ca63ac8d88f30d",
    "number": 4900,
    "body": "I hope I made the proper changes",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: add Occitan locale (#4900)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a059d6ca63ac8d88f30e",
    "number": 4897,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.18](https://github.com/shaka-project/shaka-player/compare/v3.2.17...v3.2.18) (2023-01-13)\n\n\n### Bug Fixes\n\n* Fix flattenedCues in WebVttGenerator ([#4867](https://github.com/shaka-project/shaka-player/issues/4867)) ([1a69a22](https://github.com/shaka-project/shaka-player/commit/1a69a22b2fb0d825e8cb23b71f40ad4a8aaccb5b))\n* Fix legacy codec support by rewriting codec metadata ([#4858](https://github.com/shaka-project/shaka-player/issues/4858)) ([5f33fea](https://github.com/shaka-project/shaka-player/commit/5f33feacbf44976a9a63b285e9cb635d5a44194d))\n* Release region timeline when unloading ([#4871](https://github.com/shaka-project/shaka-player/issues/4871)) ([c1172cf](https://github.com/shaka-project/shaka-player/commit/c1172cf792de01a1f6ebe4c6035aa74fc8dcd2b3)), closes [#4850](https://github.com/shaka-project/shaka-player/issues/4850)\n* Treat regions uniquely ([#4841](https://github.com/shaka-project/shaka-player/issues/4841)) ([f893e78](https://github.com/shaka-project/shaka-player/commit/f893e78d4130663b6591fd4ef8f195403116e520)), closes [#4839](https://github.com/shaka-project/shaka-player/issues/4839)\n* **ui:** Avoid submitting form if player is inside form ([#4866](https://github.com/shaka-project/shaka-player/issues/4866)) ([9980d24](https://github.com/shaka-project/shaka-player/commit/9980d24db86bc01193d2f3e54099c6541141199d)), closes [#4861](https://github.com/shaka-project/shaka-player/issues/4861)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.18 (#4897)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a05ad6ca63ac8d88f30f",
    "number": 4895,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.16](https://github.com/shaka-project/shaka-player/compare/v3.3.15...v3.3.16) (2023-01-13)\n\n\n### Bug Fixes\n\n* Fix flattenedCues in WebVttGenerator ([#4867](https://github.com/shaka-project/shaka-player/issues/4867)) ([45af59e](https://github.com/shaka-project/shaka-player/commit/45af59e90fe8df66ec48bb32d8db4973181a48bf))\n* Fix legacy codec support by rewriting codec metadata ([#4858](https://github.com/shaka-project/shaka-player/issues/4858)) ([bec765c](https://github.com/shaka-project/shaka-player/commit/bec765c467ceffa9c60bc3be657f92ab298a30c1))\n* Release region timeline when unloading ([#4871](https://github.com/shaka-project/shaka-player/issues/4871)) ([4b2c945](https://github.com/shaka-project/shaka-player/commit/4b2c945419f142525b4662385674957e43e1a2d5)), closes [#4850](https://github.com/shaka-project/shaka-player/issues/4850)\n* Treat regions uniquely ([#4841](https://github.com/shaka-project/shaka-player/issues/4841)) ([1c63ab0](https://github.com/shaka-project/shaka-player/commit/1c63ab0d46d10af4cba49e78a095986d309fce3d)), closes [#4839](https://github.com/shaka-project/shaka-player/issues/4839)\n* **ui:** Avoid submitting form if player is inside form ([#4866](https://github.com/shaka-project/shaka-player/issues/4866)) ([37c7cf9](https://github.com/shaka-project/shaka-player/commit/37c7cf99cd5f7293ee0ff20c17551b10c2294266)), closes [#4861](https://github.com/shaka-project/shaka-player/issues/4861)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.16 (#4895)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a05ad6ca63ac8d88f310",
    "number": 4894,
    "body": "Broken by PR #4824\r\n\r\nFixes #4889",
    "head_branch": "fix-hls-subtitle-exception",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix exception enabling captions on HLS (#4894)\n\nBroken by PR #4824\r\n\r\nFixes #4889"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a05bd6ca63ac8d88f311",
    "number": 4893,
    "body": "This test started failing on Tizen after PR #4858, which updates codecs in manifest metadata any time they are rewritten.  Since ac-3 is rewritten as ec-3 on Tizen, that caused this test case covering ac-3 to start failing (because the codec says ec-3 by the end of the test).",
    "head_branch": "fix-tizen-codec-test",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix surround sound test case on Tizen (#4893)\n\nThis test started failing on Tizen after PR #4858, which updates codecs\r\nin manifest metadata any time they are rewritten. Since ac-3 is\r\nrewritten as ec-3 on Tizen, that caused this test case covering ac-3 to\r\nstart failing (because the codec says ec-3 by the end of the test)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a05cd6ca63ac8d88f312",
    "number": 4892,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.7](https://github.com/shaka-project/shaka-player/compare/v4.2.6...v4.2.7) (2023-01-13)\n\n\n### Bug Fixes\n\n* Fix exception enabling captions on HLS ([#4894](https://github.com/shaka-project/shaka-player/issues/4894)) ([45b3705](https://github.com/shaka-project/shaka-player/commit/45b37053e0a28ba0f4ee3ca09f8e35e1734caec4)), closes [#4889](https://github.com/shaka-project/shaka-player/issues/4889)\n* Fix flattenedCues in WebVttGenerator ([#4867](https://github.com/shaka-project/shaka-player/issues/4867)) ([2b37820](https://github.com/shaka-project/shaka-player/commit/2b37820fecf23ba8876200cb80626d5454d90b3d))\n* Fix legacy codec support by rewriting codec metadata ([#4858](https://github.com/shaka-project/shaka-player/issues/4858)) ([102c3d9](https://github.com/shaka-project/shaka-player/commit/102c3d902fba987c66c94f1d698ba28bcc0d9203))\n* Fix media source duration when using sequence mode ([#4848](https://github.com/shaka-project/shaka-player/issues/4848)) ([177638c](https://github.com/shaka-project/shaka-player/commit/177638c0e47fb4e6461beefbc3164055f6a47e4b))\n* Fix parsing error on Chromecast when resyncing HLS ([#4869](https://github.com/shaka-project/shaka-player/issues/4869)) ([13e7481](https://github.com/shaka-project/shaka-player/commit/13e7481915fb81430c3566ca91dffa9c13f32412)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* Fix potential AV sync issues after seek or adaptation ([#4886](https://github.com/shaka-project/shaka-player/issues/4886)) ([ac3afb4](https://github.com/shaka-project/shaka-player/commit/ac3afb45c4727abae9ca075597c82bc2a5f24754)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* Fix potential duplicate segments, AV sync issues ([#4884](https://github.com/shaka-project/shaka-player/issues/4884)) ([45b6ccb](https://github.com/shaka-project/shaka-player/commit/45b6ccb96d56ca9338ec7cd458abed0f1702f673)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* **HLS:** Fix discontinuity tracking ([#4881](https://github.com/shaka-project/shaka-player/issues/4881)) ([13d29fd](https://github.com/shaka-project/shaka-player/commit/13d29fd06d7cbf14241ea2507114ff34daeb760e)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* **HLS:** Fix support for mixed AES-128/NONE decryption ([#4847](https://github.com/shaka-project/shaka-player/issues/4847)) ([e866903](https://github.com/shaka-project/shaka-player/commit/e866903a845f375cc0a00ee2d2dd1419faaa6e4b))\n* Make encoding problem detection more robust ([#4885](https://github.com/shaka-project/shaka-player/issues/4885)) ([208c2e2](https://github.com/shaka-project/shaka-player/commit/208c2e298fc53a83fa6842c0a754b6a82c817fdb)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* Release region timeline when unloading ([#4871](https://github.com/shaka-project/shaka-player/issues/4871)) ([af1ee47](https://github.com/shaka-project/shaka-player/commit/af1ee4719016f4bfbaa56e3d1ebfea88b90057bc)), closes [#4850](https://github.com/shaka-project/shaka-player/issues/4850)\n* Sync each segment against EXT-X-PROGRAM-DATE-TIME ([#4870](https://github.com/shaka-project/shaka-player/issues/4870)) ([fadbeb6](https://github.com/shaka-project/shaka-player/commit/fadbeb64f5d31bcacc4872a2dad412bb1b776f73))\n* Treat regions uniquely ([#4841](https://github.com/shaka-project/shaka-player/issues/4841)) ([7952af9](https://github.com/shaka-project/shaka-player/commit/7952af90bf0482a4fcb43520f42cc21bcca79081)), closes [#4839](https://github.com/shaka-project/shaka-player/issues/4839)\n* **ui:** Avoid submitting form if player is inside form ([#4866](https://github.com/shaka-project/shaka-player/issues/4866)) ([c7db48a](https://github.com/shaka-project/shaka-player/commit/c7db48a3070a7bfe69623752ac90a290b75e2b05)), closes [#4861](https://github.com/shaka-project/shaka-player/issues/4861)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.7 (#4892)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a05dd6ca63ac8d88f313",
    "number": 4891,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.3](https://github.com/shaka-project/shaka-player/compare/v4.3.2...v4.3.3) (2023-01-13)\n\n\n### Bug Fixes\n\n* Fix exception enabling captions on HLS ([#4894](https://github.com/shaka-project/shaka-player/issues/4894)) ([1d0ad52](https://github.com/shaka-project/shaka-player/commit/1d0ad529e7e38be07df2ed08fb14a2b88098b7fc)), closes [#4889](https://github.com/shaka-project/shaka-player/issues/4889)\n* Fix flattenedCues in WebVttGenerator ([#4867](https://github.com/shaka-project/shaka-player/issues/4867)) ([e062175](https://github.com/shaka-project/shaka-player/commit/e0621753a5b1342df34a87db462cc4dd18657c3b))\n* Fix legacy codec support by rewriting codec metadata ([#4858](https://github.com/shaka-project/shaka-player/issues/4858)) ([92abfbc](https://github.com/shaka-project/shaka-player/commit/92abfbcca3e0288c4d2a31ef0771a4c0ed2d4405))\n* Fix media source duration when using sequence mode ([#4848](https://github.com/shaka-project/shaka-player/issues/4848)) ([c9db2a0](https://github.com/shaka-project/shaka-player/commit/c9db2a073c096a7a97afc99fb10301aedbc96a87))\n* Fix parsing error on Chromecast when resyncing HLS ([#4869](https://github.com/shaka-project/shaka-player/issues/4869)) ([6dfa6d7](https://github.com/shaka-project/shaka-player/commit/6dfa6d7abbc98c1d1bc18cf70cb6cf1ad80a83f4)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* Fix potential AV sync issues after seek or adaptation ([#4886](https://github.com/shaka-project/shaka-player/issues/4886)) ([72396b0](https://github.com/shaka-project/shaka-player/commit/72396b019dfe69a50526361be7bc5273786424c0)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* Fix potential duplicate segments, AV sync issues ([#4884](https://github.com/shaka-project/shaka-player/issues/4884)) ([0ac5d7e](https://github.com/shaka-project/shaka-player/commit/0ac5d7ef2ad50bbd61d183566888227e4a1dca78)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* **HLS:** Fix discontinuity tracking ([#4881](https://github.com/shaka-project/shaka-player/issues/4881)) ([2a0ab01](https://github.com/shaka-project/shaka-player/commit/2a0ab012ee11778b9e666014afd92dda2343a780)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* **HLS:** Fix support for mixed AES-128/NONE decryption ([#4847](https://github.com/shaka-project/shaka-player/issues/4847)) ([d495255](https://github.com/shaka-project/shaka-player/commit/d495255523aef39b3f6abd1aa3e5196e976c338f))\n* Make encoding problem detection more robust ([#4885](https://github.com/shaka-project/shaka-player/issues/4885)) ([b1f5c9a](https://github.com/shaka-project/shaka-player/commit/b1f5c9af69dba7ba7eac352e444bd75a0d4f2ae6)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* Release region timeline when unloading ([#4871](https://github.com/shaka-project/shaka-player/issues/4871)) ([8795a66](https://github.com/shaka-project/shaka-player/commit/8795a66edaa5b9c26b687cb28dc194db56e63a9f)), closes [#4850](https://github.com/shaka-project/shaka-player/issues/4850)\n* Sync each segment against EXT-X-PROGRAM-DATE-TIME ([#4870](https://github.com/shaka-project/shaka-player/issues/4870)) ([8f9162f](https://github.com/shaka-project/shaka-player/commit/8f9162f154cd63404bbe95667396a9b12fe73ca6)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* Treat regions uniquely ([#4841](https://github.com/shaka-project/shaka-player/issues/4841)) ([36a3a44](https://github.com/shaka-project/shaka-player/commit/36a3a442cffd2067a48759ad03d05d76efc5accf)), closes [#4839](https://github.com/shaka-project/shaka-player/issues/4839)\n* **ui:** Avoid submitting form if player is inside form ([#4866](https://github.com/shaka-project/shaka-player/issues/4866)) ([fc98e1d](https://github.com/shaka-project/shaka-player/commit/fc98e1d90643ead45632e8a0fb43e5c18aa0a267)), closes [#4861](https://github.com/shaka-project/shaka-player/issues/4861)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.3 (#4891)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a05ed6ca63ac8d88f314",
    "number": 4886,
    "body": "After seeking or adaptation, StreamingEngine will create a new SegmentIterator.  However, if the buffered ranges are different enough from the references in the iterator, the lookup in the index can produce a duplicate segment.  If this happens when sequence mode is active, StreamingEngine will append the duplicate segment instead of overwriting the end of the original one.\r\n\r\nAny time a new iterator is created, we force the stream to resync, so that unaligned segments or slightly-inaccurate segments are written to the correct place in the buffer.\r\n\r\nIssue #4589",
    "head_branch": "rounding-errors-3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix potential AV sync issues after seek or adaptation (#4886)\n\nAfter seeking or adaptation, StreamingEngine will create a new\r\nSegmentIterator. However, if the buffered ranges are different enough\r\nfrom the references in the iterator, the lookup in the index can produce\r\na duplicate segment. If this happens when sequence mode is active,\r\nStreamingEngine will append the duplicate segment instead of overwriting\r\nthe end of the original one.\r\n\r\nAny time a new iterator is created, we force the stream to resync, so\r\nthat unaligned segments or slightly-inaccurate segments are written to\r\nthe correct place in the buffer.\r\n\r\nIssue #4589"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a05fd6ca63ac8d88f315",
    "number": 4885,
    "body": "Before, tiny segments (~33ms in practice) and overwritten segments (sometimes necessary) would register as encoding problems.  This makes the logic more robust and the error logs more reliable.\r\n\r\nIssue #4589",
    "head_branch": "rounding-errors-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Make encoding problem detection more robust (#4885)\n\nBefore, tiny segments (~33ms in practice) and overwritten segments\r\n(sometimes necessary) would register as encoding problems. This makes\r\nthe logic more robust and the error logs more reliable.\r\n\r\nIssue #4589"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a060d6ca63ac8d88f316",
    "number": 4884,
    "body": "Make SegmentIndex robust against rounding errors so that we don't end up with duplicate segments on merge.  In sequence mode, this would cause a massive AV sync issue of 1 segment duration.\r\n\r\nIssue #4589",
    "head_branch": "rounding-errors-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix potential duplicate segments, AV sync issues (#4884)\n\nMake SegmentIndex robust against rounding errors so that we don't end up\r\nwith duplicate segments on merge. In sequence mode, this would cause a\r\nmassive AV sync issue of 1 segment duration.\r\n\r\nIssue #4589"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a061d6ca63ac8d88f317",
    "number": 4883,
    "body": "https://github.com/WICG/hdcp-detection/blob/main/explainer.md",
    "head_branch": "min-hdcp-version",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Config to require a minimum HDCP version (#4883)\n\nhttps://github.com/WICG/hdcp-detection/blob/main/explainer.md\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a062d6ca63ac8d88f318",
    "number": 4881,
    "body": "Discontinuity tracking was broken and test coverage was insufficient to catch this.  This fixes the parsing and counting of discontinuities, and replaces two outdated and useless tests with a new one that covers the counting properly.\r\n\r\nOne of the old tests was checking that a timestamp offset was set for each discontinuity, but this had become irrelevant since the test was written.  Discontinuities do not have anything to do with timestamp offsets in current versions of Shaka Player.\r\n\r\nThe other old test was checking that after a discontinuity, we didn't fetch a segment to parse out the timestamp, but we stopped doing that entirely in v4.\r\n\r\nThe new test checks that the initial discontinuity sequence number is honored, and that after a discontinuity, the number goes up.  It also checks that the correct number is extracted after an update.  This test fails without the fix, and passes with it.\r\n\r\nThis bug affected v4.2.6 and v4.3.2 only.\r\n\r\nIssue #4589",
    "head_branch": "fix-discontinuity-tracking",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix discontinuity tracking (#4881)\n\nDiscontinuity tracking was broken and test coverage was insufficient to\r\ncatch this. This fixes the parsing and counting of discontinuities, and\r\nreplaces two outdated and useless tests with a new one that covers the\r\ncounting properly.\r\n\r\nOne of the old tests was checking that a timestamp offset was set for\r\neach discontinuity, but this had become irrelevant since the test was\r\nwritten. Discontinuities do not have anything to do with timestamp\r\noffsets in current versions of Shaka Player.\r\n\r\nThe other old test was checking that after a discontinuity, we didn't\r\nfetch a segment to parse out the timestamp, but we stopped doing that\r\nentirely in v4.\r\n\r\nThe new test checks that the initial discontinuity sequence number is\r\nhonored, and that after a discontinuity, the number goes up. It also\r\nchecks that the correct number is extracted after an update. This test\r\nfails without the fix, and passes with it.\r\n\r\nThis bug affected v4.2.6 and v4.3.2 only.\r\n\r\nIssue #4589"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a063d6ca63ac8d88f319",
    "number": 4880,
    "body": "Bumps [json5](https://github.com/json5/json5) from 2.2.1 to 2.2.3.\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/json5/json5/releases\">json5's releases</a>.</em></p>\n<blockquote>\n<h2>v2.2.3</h2>\n<ul>\n<li>Fix: json5@2.2.3 is now the 'latest' release according to npm instead of v1.0.2. (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/299\">#299</a>)</li>\n</ul>\n<h2>v2.2.2</h2>\n<ul>\n<li>Fix: Properties with the name <code>__proto__</code> are added to objects and arrays.\n(<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/199\">#199</a>) This also fixes a prototype pollution vulnerability reported by\nJonathan Gregson! (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/295\">#295</a>).</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/json5/json5/blob/main/CHANGELOG.md\">json5's changelog</a>.</em></p>\n<blockquote>\n<h3>v2.2.3 [<a href=\"https://github.com/json5/json5/tree/v2.2.3\">code</a>, <a href=\"https://github.com/json5/json5/compare/v2.2.2...v2.2.3\">diff</a>]</h3>\n<ul>\n<li>Fix: json5@2.2.3 is now the 'latest' release according to npm instead of\nv1.0.2. (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/299\">#299</a>)</li>\n</ul>\n<h3>v2.2.2 [<a href=\"https://github.com/json5/json5/tree/v2.2.2\">code</a>, <a href=\"https://github.com/json5/json5/compare/v2.2.1...v2.2.2\">diff</a>]</h3>\n<ul>\n<li>Fix: Properties with the name <code>__proto__</code> are added to objects and arrays.\n(<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/199\">#199</a>) This also fixes a prototype pollution vulnerability reported by\nJonathan Gregson! (<a href=\"https://github-redirect.dependabot.com/json5/json5/issues/295\">#295</a>).</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/json5/json5/commit/c3a75242772a5026a49c4017a16d9b3543b62776\"><code>c3a7524</code></a> 2.2.3</li>\n<li><a href=\"https://github.com/json5/json5/commit/94fd06d82eeed225fa172f6fb2ca27375cbd2e39\"><code>94fd06d</code></a> docs: update CHANGELOG for v2.2.3</li>\n<li><a href=\"https://github.com/json5/json5/commit/3b8cebf0c474a8b20c78bd75c89cca0c4dce84ce\"><code>3b8cebf</code></a> docs(security): use GitHub security advisories</li>\n<li><a href=\"https://github.com/json5/json5/commit/f0fd9e194dde282caff114a110f4fac635f3a62c\"><code>f0fd9e1</code></a> docs: publish a security policy</li>\n<li><a href=\"https://github.com/json5/json5/commit/6a91a05fffeda16ff6b3b5008b6b340d42d31ec0\"><code>6a91a05</code></a> docs(template): bug -&gt; bug report</li>\n<li><a href=\"https://github.com/json5/json5/commit/14f8cb186e8abdfaccf6527171da7b1224374650\"><code>14f8cb1</code></a> 2.2.2</li>\n<li><a href=\"https://github.com/json5/json5/commit/10cc7ca9169b59c5e0f5afc03dbd870cd06bcc46\"><code>10cc7ca</code></a> docs: update CHANGELOG for v2.2.2</li>\n<li><a href=\"https://github.com/json5/json5/commit/7774c1097993bc3ce9f0ac4b722a32bf7d6871c8\"><code>7774c10</code></a> fix: add <strong>proto</strong> to objects and arrays</li>\n<li><a href=\"https://github.com/json5/json5/commit/edde30abd8b22facf2c06c72586b9f6edf12700d\"><code>edde30a</code></a> Readme: slight tweak to intro</li>\n<li><a href=\"https://github.com/json5/json5/commit/97286f8bd542c89dcee096bc05dd28ed2dfc1e16\"><code>97286f8</code></a> Improve example in readme</li>\n<li>Additional commits viewable in <a href=\"https://github.com/json5/json5/compare/v2.2.1...v2.2.3\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=json5&package-manager=npm_and_yarn&previous-version=2.2.1&new-version=2.2.3)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/shaka-project/shaka-player/network/alerts).\n\n</details>",
    "head_branch": "dependabot/npm_and_yarn/json5-2.2.3",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "build(deps): bump json5 from 2.2.1 to 2.2.3 (#4880)\n\nSigned-off-by: dependabot[bot] <support@github.com>\r\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a064d6ca63ac8d88f31a",
    "number": 4872,
    "body": "Issue #4850",
    "head_branch": "timerTestBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Added test to detect lingering timers (#4872)\n\nIssue #4850"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a065d6ca63ac8d88f31b",
    "number": 4871,
    "body": "This stops the timer inside region timeline from staying in memory, even after the player is destroyed.\r\n\r\nCloses #4850",
    "head_branch": "timerBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Release region timeline when unloading (#4871)\n\nThis stops the timer inside region timeline from staying in memory, even after the player is destroyed.\r\n\r\nCloses #4850"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a066d6ca63ac8d88f31c",
    "number": 4870,
    "body": "Closes #4589",
    "head_branch": "hls-av-sync",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Sync each segment against EXT-X-PROGRAM-DATE-TIME (#4870)\n\nCloses #4589"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a067d6ca63ac8d88f31d",
    "number": 4869,
    "body": "Setting the timestampOffset requires an abort() in some cases on Chromecast.\r\n\r\nIssue #4589",
    "head_branch": "hls-av-sync",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix parsing error on Chromecast when resyncing HLS (#4869)\n\nSetting the timestampOffset requires an abort() in some cases on\r\nChromecast.\r\n\r\nIssue #4589"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a068d6ca63ac8d88f31e",
    "number": 4867,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4856",
    "head_branch": "flattenedCues-webvtt-generator",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix flattenedCues in WebVttGenerator (#4867)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4856"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a069d6ca63ac8d88f31f",
    "number": 4866,
    "body": "fixes https://github.com/shaka-project/shaka-player/issues/4861\r\n\r\n`button` element by default has `type` set to `submit` which can interfere with forms.",
    "head_branch": "fix/ui/button-type",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ui): Avoid submitting form if player is inside form (#4866)\n\n`button` element by default has `type` set to `submit` which can\r\ninterfere with forms.\r\n\r\nFixes #4861"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a06ad6ca63ac8d88f320",
    "number": 4858,
    "body": "This fixes legacy codec support by rewriting the codec metadata in the Stream objects.  After capability checking, the converted codec information will be used.",
    "head_branch": "legacy-avc1-with-audio",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix legacy codec support by rewriting codec metadata (#4858)\n\nThis fixes legacy codec support by rewriting the codec metadata in the\r\nStream objects. After capability checking, the converted codec\r\ninformation will be used.\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a06bd6ca63ac8d88f321",
    "number": 4854,
    "body": null,
    "head_branch": "transmuxer-plugin",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Allow custom plugins for transmuxing (#4854)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a06cd6ca63ac8d88f322",
    "number": 4849,
    "body": "closes https://github.com/shaka-project/shaka-player/issues/4748",
    "head_branch": "dashif-laurl",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(DASH): Add support for <dashif:Laurl> (#4849)\n\nCloses #4748"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a06dd6ca63ac8d88f323",
    "number": 4848,
    "body": "Tested with https://pub-e06bd0d1422649108618e7121f2af8b5.r2.dev/finite.m3u8",
    "head_branch": "hls-duration",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix media source duration when using sequence mode (#4848)\n\nTested with\r\nhttps://pub-e06bd0d1422649108618e7121f2af8b5.r2.dev/finite.m3u8"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a06ed6ca63ac8d88f324",
    "number": 4847,
    "body": "fixes https://github.com/shaka-project/shaka-player/issues/4846",
    "head_branch": "hls-key-none",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix support for mixed AES-128/NONE decryption (#4847)\n\nfixes https://github.com/shaka-project/shaka-player/issues/4846"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a06fd6ca63ac8d88f325",
    "number": 4845,
    "body": "closes https://github.com/shaka-project/shaka-player/issues/4844\r\nfixes https://github.com/shaka-project/shaka-player/issues/4843\r\nfixes https://github.com/shaka-project/shaka-player/issues/4479\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfix(WebVTT): Fix voice tag styles\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "voice-webvtt",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(WebVTT): Add support to voice tag styles (#4845)\n\ncloses https://github.com/shaka-project/shaka-player/issues/4844\r\nfixes https://github.com/shaka-project/shaka-player/issues/4843\r\nfixes https://github.com/shaka-project/shaka-player/issues/4479"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a070d6ca63ac8d88f326",
    "number": 4841,
    "body": "Captions split over stream segment boundaries are repeated over more than one segment.\r\nRegions in which they sit maybe described the same but allocated different ids and vice versa.\r\nProposal to treat internal region ids uniqely by encoding the dimensions in the id.\r\n\r\nfixes #4839",
    "head_branch": "fix/4839",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Treat regions uniquely (#4841)\n\nCaptions split over stream segment boundaries are repeated over more\r\nthan one segment.\r\nRegions in which they sit maybe described the same but allocated\r\ndifferent ids and vice versa.\r\nProposal to treat internal region ids uniqely by encoding the dimensions\r\nin the id.\r\n\r\nfixes #4839"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a071d6ca63ac8d88f327",
    "number": 4840,
    "body": "There were several places where certain StreamingEngine events and timing could result in duplicate update requests for streams.  This caused some inconsistent test failures, in particular on Chromecast.\r\n\r\nThis change adds some additional checks before scheduling and cancelling updates, to ensure that the proper conditions are maintained.\r\n\r\nCloses #4831",
    "head_branch": "fix-duplicate-se-updates",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix duplicate updates in StreamingEngine (#4840)\n\nThere were several places where certain StreamingEngine events and\r\ntiming could result in duplicate update requests for streams. This\r\ncaused some inconsistent test failures, in particular on Chromecast.\r\n\r\nThis change adds some additional checks before scheduling and cancelling\r\nupdates, to ensure that the proper conditions are maintained.\r\n\r\nCloses #4831"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a072d6ca63ac8d88f328",
    "number": 4838,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.2](https://github.com/shaka-project/shaka-player/compare/v4.3.1...v4.3.2) (2022-12-14)\n\n\n### Bug Fixes\n\n* **chapters:** removed duplicate chapters by id ([#4810](https://github.com/shaka-project/shaka-player/issues/4810)) ([3588d37](https://github.com/shaka-project/shaka-player/commit/3588d3749d1fc3fe65a4428c774b1b5ed8f51652))\n* Fix duplicate updates in StreamingEngine ([#4840](https://github.com/shaka-project/shaka-player/issues/4840)) ([65e188a](https://github.com/shaka-project/shaka-player/commit/65e188aef1f9edc642b563d343aca5de4ddc5caf)), closes [#4831](https://github.com/shaka-project/shaka-player/issues/4831)\n* Fix rare exception after StreamingEngine teardown ([#4830](https://github.com/shaka-project/shaka-player/issues/4830)) ([a0fcb2e](https://github.com/shaka-project/shaka-player/commit/a0fcb2ec671ddc8f7ba5380312898068456d9b1c)), closes [#4813](https://github.com/shaka-project/shaka-player/issues/4813)\n* **HLS:** Fix AV sync over ad boundaries ([#4824](https://github.com/shaka-project/shaka-player/issues/4824)) ([dab9ece](https://github.com/shaka-project/shaka-player/commit/dab9ece2be19e7674b56180413ec00f36500d1dc)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* **UI:** Suppress error log from fullscreen button on desktop ([#4823](https://github.com/shaka-project/shaka-player/issues/4823)) ([656d938](https://github.com/shaka-project/shaka-player/commit/656d938d190699511c3bd600749ce4e6167059d2)), closes [#4822](https://github.com/shaka-project/shaka-player/issues/4822)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.2 (#4838)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a073d6ca63ac8d88f329",
    "number": 4837,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.6](https://github.com/shaka-project/shaka-player/compare/v4.2.5...v4.2.6) (2022-12-14)\n\n\n### Bug Fixes\n\n* **chapters:** removed duplicate chapters by id ([#4810](https://github.com/shaka-project/shaka-player/issues/4810)) ([50b7c91](https://github.com/shaka-project/shaka-player/commit/50b7c910f8381c035c061c0c58667b6c4be557b8))\n* Fix duplicate updates in StreamingEngine ([#4840](https://github.com/shaka-project/shaka-player/issues/4840)) ([bb25ff8](https://github.com/shaka-project/shaka-player/commit/bb25ff876b4cb48df98d8f7d033a79a9026b2cdf)), closes [#4831](https://github.com/shaka-project/shaka-player/issues/4831)\n* Fix rare exception after StreamingEngine teardown ([#4830](https://github.com/shaka-project/shaka-player/issues/4830)) ([e0f513e](https://github.com/shaka-project/shaka-player/commit/e0f513e7fec1c497ad1ef0135f700488dd9a6473)), closes [#4813](https://github.com/shaka-project/shaka-player/issues/4813)\n* **HLS:** Fix AV sync over ad boundaries ([#4824](https://github.com/shaka-project/shaka-player/issues/4824)) ([12cbf96](https://github.com/shaka-project/shaka-player/commit/12cbf96734ba421adb00a5875e96d3a442363cf3)), closes [#4589](https://github.com/shaka-project/shaka-player/issues/4589)\n* **UI:** Suppress error log from fullscreen button on desktop ([#4823](https://github.com/shaka-project/shaka-player/issues/4823)) ([6d5f112](https://github.com/shaka-project/shaka-player/commit/6d5f1124ad56e74f61aacb68bb9161bfd5bc192a)), closes [#4822](https://github.com/shaka-project/shaka-player/issues/4822)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.6 (#4837)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a073d6ca63ac8d88f32a",
    "number": 4836,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.15](https://github.com/shaka-project/shaka-player/compare/v3.3.14...v3.3.15) (2022-12-14)\n\n\n### Bug Fixes\n\n* **chapters:** removed duplicate chapters by id ([#4810](https://github.com/shaka-project/shaka-player/issues/4810)) ([8fc7883](https://github.com/shaka-project/shaka-player/commit/8fc78835147dfee13749c2f09a1b27e0df5939b9))\n* Fix duplicate updates in StreamingEngine ([#4840](https://github.com/shaka-project/shaka-player/issues/4840)) ([ca72438](https://github.com/shaka-project/shaka-player/commit/ca724387488ca6f8943b3caa9c63fe241d517a77)), closes [#4831](https://github.com/shaka-project/shaka-player/issues/4831)\n* Fix rare exception after StreamingEngine teardown ([#4830](https://github.com/shaka-project/shaka-player/issues/4830)) ([6e170c6](https://github.com/shaka-project/shaka-player/commit/6e170c61768aa3946f3b2ab630b4f0cf214c825d)), closes [#4813](https://github.com/shaka-project/shaka-player/issues/4813)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.15 (#4836)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a074d6ca63ac8d88f32b",
    "number": 4835,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.17](https://github.com/shaka-project/shaka-player/compare/v3.2.16...v3.2.17) (2022-12-14)\n\n\n### Bug Fixes\n\n* **chapters:** removed duplicate chapters by id ([#4810](https://github.com/shaka-project/shaka-player/issues/4810)) ([992f9d6](https://github.com/shaka-project/shaka-player/commit/992f9d61be5750f59a022b02d609fb392ddc9560))\n* Fix duplicate updates in StreamingEngine ([#4840](https://github.com/shaka-project/shaka-player/issues/4840)) ([0404fd3](https://github.com/shaka-project/shaka-player/commit/0404fd3c61ea9594af57de6622d25d976fb0dba4)), closes [#4831](https://github.com/shaka-project/shaka-player/issues/4831)\n* Fix rare exception after StreamingEngine teardown ([#4830](https://github.com/shaka-project/shaka-player/issues/4830)) ([9887612](https://github.com/shaka-project/shaka-player/commit/988761246a188c2d58142430a15975b24f9a46ee)), closes [#4813](https://github.com/shaka-project/shaka-player/issues/4813)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.17 (#4835)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a075d6ca63ac8d88f32c",
    "number": 4830,
    "body": "In some cases, the timing of certain events can cause a seek callback to fire on StreamingEngine after it has been destroyed.  This checks for that condition to avoid an exception.\r\n\r\nCloses #4813",
    "head_branch": "fix-rare-test-exception",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix rare exception after StreamingEngine teardown (#4830)\n\nIn some cases, the timing of certain events can cause a seek callback to\r\nfire on StreamingEngine after it has been destroyed. This checks for\r\nthat condition to avoid an exception.\r\n\r\nCloses #4813"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a076d6ca63ac8d88f32d",
    "number": 4826,
    "body": "Since Edge 107 on Linux has an outdated CDM causing test failures, we have to force update to Edge 108 in GitHub Actions.\r\n\r\nCloses #4825",
    "head_branch": "upgrade-edge",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Force update to Edge 108 (#4826)\n\nSince Edge 107 on Linux has an outdated CDM causing test failures, we\r\nhave to force update to Edge 108 in GitHub Actions.\r\n\r\nCloses #4825"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a077d6ca63ac8d88f32e",
    "number": 4824,
    "body": "If server-side ad segments aren't aligned, AV could get out of sync by accumulating errors in the timestampOffset of the SourceBuffers.\r\n\r\nThis improves the issue by tracking discontinuity boundaries and resetting timestampOffset to theoretical segment start times when a boundary is crossed.\r\n\r\nIssue #4589",
    "head_branch": "hls-av-sync",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix AV sync over ad boundaries (#4824)\n\nIf server-side ad segments aren't aligned, AV could get out of sync by\r\naccumulating errors in the timestampOffset of the SourceBuffers.\r\n\r\nThis improves the issue by tracking discontinuity boundaries and\r\nresetting timestampOffset to theoretical segment start times when a\r\nboundary is crossed.\r\n\r\nIssue #4589"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a078d6ca63ac8d88f32f",
    "number": 4823,
    "body": "Closes #4822",
    "head_branch": "fix-fullscreen-error-log",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(UI): Suppress error log from fullscreen button on desktop (#4823)\n\nCloses #4822"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a079d6ca63ac8d88f330",
    "number": 4819,
    "body": null,
    "head_branch": "readme-update",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Update HLS Readme (#4819)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a07ad6ca63ac8d88f331",
    "number": 4816,
    "body": null,
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Fix AdsLoadedEvent and its description (#4816)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a07bd6ca63ac8d88f332",
    "number": 4814,
    "body": "Unhandled global exceptions already generate test failures, but this adds specific useful information, like stack traces, to those failures.\r\n\r\nSee issue #4813",
    "head_branch": "unhandled",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Catch and print info from unhandled global exceptions (#4814)\n\nUnhandled global exceptions already generate test failures, but this\r\nadds specific useful information, like stack traces, to those failures.\r\n\r\nSee issue #4813"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a07cd6ca63ac8d88f333",
    "number": 4812,
    "body": "For some unknown reason, using precise durations for these audio segments on Tizen creates gaps that can't be survived.  I don't know why that creates a 150ms gap, and I don't know why we can't seem to jump over it.  It feels very much like a bug in Tizen itself.\r\n\r\nExperimentally, I found that rounding these durations to 10s even removes the gap completely.  I tried many other things, but this is the only reasonable thing I have found that works.\r\n\r\nMore details on my investigations can be found in the issue on GitHub.\r\n\r\nThis change in durations exposed some brittle tests in Player which had to be adjusted to be more robust.\r\n\r\nCloses #4806",
    "head_branch": "fix-tizen-streaming-engine-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix StreamingEngine tests on Tizen (#4812)\n\nFor some unknown reason, using precise durations for these audio\r\nsegments on Tizen creates gaps that can't be survived. I don't know why\r\nthat creates a 150ms gap, and I don't know why we can't seem to jump\r\nover it. It feels very much like a bug in Tizen itself.\r\n\r\nExperimentally, I found that rounding these durations to 10s even\r\nremoves the gap completely. I tried many other things, but this is the\r\nonly reasonable thing I have found that works.\r\n\r\nMore details on my investigations can be found in the issue on GitHub.\r\n\r\nThis change in durations exposed some brittle tests in Player which had\r\nto be adjusted to be more robust.\r\n\r\nCloses #4806"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a07dd6ca63ac8d88f334",
    "number": 4810,
    "body": "fixes https://github.com/shaka-project/shaka-player/issues/4750\r\n\r\nSolved by creating a `Set` for filtering out deplicate elements.\r\n\r\nNeed confirmation, Shouldn't we add an `assert` for `language` argument passed to https://github.com/shaka-project/shaka-player/blob/76f96b9fee2dc43b03f6803dd80c51fdc5b73a9e/lib/player.js#L4340-L4342",
    "head_branch": "fix/chapters/duplicate-tracks",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(chapters): removed duplicate chapters by id (#4810)\n\nfixes https://github.com/shaka-project/shaka-player/issues/4750\r\n\r\nSolved by creating a `Set` for filtering out deplicate elements.\r\n\r\nNeed confirmation, Shouldn't we add an `assert` for `language` argument\r\npassed to\r\nhttps://github.com/shaka-project/shaka-player/blob/76f96b9fee2dc43b03f6803dd80c51fdc5b73a9e/lib/player.js#L4340-L4342"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a07ed6ca63ac8d88f335",
    "number": 4809,
    "body": null,
    "head_branch": "media-playlist-basic-info",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Improve detection of basic info from Media Playlist (#4809)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a07fd6ca63ac8d88f336",
    "number": 4805,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.16](https://github.com/shaka-project/shaka-player/compare/v3.2.15...v3.2.16) (2022-12-08)\n\n\n### Bug Fixes\n\n* 4676 - Virgin Media set top box is incorrectly categorized as Apple/Safari ([#4678](https://github.com/shaka-project/shaka-player/issues/4678)) ([65e9716](https://github.com/shaka-project/shaka-player/commit/65e9716a2073dffa6fba146d71d6fb2633654994)), closes [#4676](https://github.com/shaka-project/shaka-player/issues/4676)\n* **cast:** Use cast platform APIs in MediaCapabilties polyfill ([#4727](https://github.com/shaka-project/shaka-player/issues/4727)) ([737dd27](https://github.com/shaka-project/shaka-player/commit/737dd272d6ecec34f00824a438d22e1048e5e213))\n* **cea:** Fix MAX_ROWS in CEA-708 window ([#4757](https://github.com/shaka-project/shaka-player/issues/4757)) ([9dbcc05](https://github.com/shaka-project/shaka-player/commit/9dbcc05a7538c77b3b49c1f67a7aa5f3589d5d20))\n* Fix bufferBehind setting broken by image segments ([#4718](https://github.com/shaka-project/shaka-player/issues/4718)) ([54f7a5c](https://github.com/shaka-project/shaka-player/commit/54f7a5cd88159c77cbb9f740ab6194babeb24c2d)), closes [#4717](https://github.com/shaka-project/shaka-player/issues/4717)\n* Fix DRM workaround for Tizen and Xbox with hvc1/hev1 boxes ([#4743](https://github.com/shaka-project/shaka-player/issues/4743)) ([b56bd28](https://github.com/shaka-project/shaka-player/commit/b56bd2871f31bf438186c93d0e5c423f7597bf83)), closes [#4742](https://github.com/shaka-project/shaka-player/issues/4742)\n* Fix subtitles not added to DOM region ([#4733](https://github.com/shaka-project/shaka-player/issues/4733)) ([7f0e059](https://github.com/shaka-project/shaka-player/commit/7f0e0596bc266cc7c1e7cfdf96e3aab7ae3b19eb)), closes [#4680](https://github.com/shaka-project/shaka-player/issues/4680)\n* **HLS:** Fix lowLatencyPresentationDelay when using autoLowLatencyMode ([#4712](https://github.com/shaka-project/shaka-player/issues/4712)) ([984316d](https://github.com/shaka-project/shaka-player/commit/984316daff83b4ac7a3846ce6f6a496c083e9888))\n* **HLS:** Fix support legacy AVC1 codec used in HLS ([#4716](https://github.com/shaka-project/shaka-player/issues/4716)) ([a481596](https://github.com/shaka-project/shaka-player/commit/a4815966a397f4b6a30ff169a16fefb797b82e71))\n* **HLS:** Single alternative video renditions not working ([#4785](https://github.com/shaka-project/shaka-player/issues/4785)) ([20900a9](https://github.com/shaka-project/shaka-player/commit/20900a97579c23d3f7f14592acaf065a30711b6b))\n* **TTML:** Add font-family mapping ([#4801](https://github.com/shaka-project/shaka-player/issues/4801)) ([3827873](https://github.com/shaka-project/shaka-player/commit/382787360f2c53b27db0be4dc704e9d018515e08))\n* **TTML:** Fix duplicate cues overlapping segment boundaries ([#4798](https://github.com/shaka-project/shaka-player/issues/4798)) ([021d7bd](https://github.com/shaka-project/shaka-player/commit/021d7bd65e8d394c0c050fd7aaa1d9e990c1a640)), closes [#4631](https://github.com/shaka-project/shaka-player/issues/4631)\n* **ui:** Check event cancelable before event.preventDefault ([#4690](https://github.com/shaka-project/shaka-player/issues/4690)) ([9864b88](https://github.com/shaka-project/shaka-player/commit/9864b8804aeabff5eb146c921fc82c254d040ce0))\n* WebVTT line not correctly positioned in UITextDisplayer ([#4567](https://github.com/shaka-project/shaka-player/issues/4567)) ([#4682](https://github.com/shaka-project/shaka-player/issues/4682)) ([7c7be7c](https://github.com/shaka-project/shaka-player/commit/7c7be7c0c201b8d945bcd18efd75d08becc01efb))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.16 (#4805)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a080d6ca63ac8d88f337",
    "number": 4804,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.14](https://github.com/shaka-project/shaka-player/compare/v3.3.13...v3.3.14) (2022-12-08)\n\n\n### Bug Fixes\n\n* 4676 - Virgin Media set top box is incorrectly categorized as Apple/Safari ([#4678](https://github.com/shaka-project/shaka-player/issues/4678)) ([dff6683](https://github.com/shaka-project/shaka-player/commit/dff66831ed9ad5844108bd0333c0f0f706863fcb)), closes [#4676](https://github.com/shaka-project/shaka-player/issues/4676)\n* **cast:** Use cast platform APIs in MediaCapabilties polyfill ([#4727](https://github.com/shaka-project/shaka-player/issues/4727)) ([dccb28d](https://github.com/shaka-project/shaka-player/commit/dccb28da887ba6a51302a34a819d82c81387c850))\n* **cea:** Fix MAX_ROWS in CEA-708 window ([#4757](https://github.com/shaka-project/shaka-player/issues/4757)) ([4909b0d](https://github.com/shaka-project/shaka-player/commit/4909b0d2f8ad4f34d4a082cab859e53e360c0a43))\n* Fix bufferBehind setting broken by image segments ([#4718](https://github.com/shaka-project/shaka-player/issues/4718)) ([f9121b5](https://github.com/shaka-project/shaka-player/commit/f9121b520e9178e195f342070c863741d1962c3e)), closes [#4717](https://github.com/shaka-project/shaka-player/issues/4717)\n* Fix DRM workaround for Tizen and Xbox with hvc1/hev1 boxes ([#4743](https://github.com/shaka-project/shaka-player/issues/4743)) ([a84fe2a](https://github.com/shaka-project/shaka-player/commit/a84fe2ae1428055c8f1b565056c563b7c2e38aa7)), closes [#4742](https://github.com/shaka-project/shaka-player/issues/4742)\n* Fix subtitles not added to DOM region ([#4733](https://github.com/shaka-project/shaka-player/issues/4733)) ([a42b803](https://github.com/shaka-project/shaka-player/commit/a42b803b9928648c26b54971809e0939495ae5d7)), closes [#4680](https://github.com/shaka-project/shaka-player/issues/4680)\n* **HLS:** Fix lowLatencyPresentationDelay when using autoLowLatencyMode ([#4712](https://github.com/shaka-project/shaka-player/issues/4712)) ([a9bb695](https://github.com/shaka-project/shaka-player/commit/a9bb6955351520c5f079afa752b990f942773d7f))\n* **HLS:** Fix support legacy AVC1 codec used in HLS ([#4716](https://github.com/shaka-project/shaka-player/issues/4716)) ([8dcab18](https://github.com/shaka-project/shaka-player/commit/8dcab182d8c6ab545ff286f08eefaefb93a36662))\n* **HLS:** Single alternative video renditions not working ([#4785](https://github.com/shaka-project/shaka-player/issues/4785)) ([4d2371f](https://github.com/shaka-project/shaka-player/commit/4d2371f7caf95a0145de58a9331d2dc9fcf7d2fa))\n* **TTML:** Add font-family mapping ([#4801](https://github.com/shaka-project/shaka-player/issues/4801)) ([7e93455](https://github.com/shaka-project/shaka-player/commit/7e934556905e8be9f09de3efe81382b90978175f))\n* **TTML:** Fix duplicate cues overlapping segment boundaries ([#4798](https://github.com/shaka-project/shaka-player/issues/4798)) ([be98ae3](https://github.com/shaka-project/shaka-player/commit/be98ae3720051c87a7685bb84aaa70567c5e3cb7)), closes [#4631](https://github.com/shaka-project/shaka-player/issues/4631)\n* **ui:** Check event cancelable before event.preventDefault ([#4690](https://github.com/shaka-project/shaka-player/issues/4690)) ([4a9a2f2](https://github.com/shaka-project/shaka-player/commit/4a9a2f2da53af1216971ebf742a7a04ea14193c5))\n* WebVTT line not correctly positioned in UITextDisplayer ([#4567](https://github.com/shaka-project/shaka-player/issues/4567)) ([#4682](https://github.com/shaka-project/shaka-player/issues/4682)) ([fecf044](https://github.com/shaka-project/shaka-player/commit/fecf044119704fd41db5c4d5ee7ed3deb492d862))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.14 (#4804)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a081d6ca63ac8d88f338",
    "number": 4803,
    "body": null,
    "head_branch": "media-playlist",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix detection of Media Playlist for audio and video only in MP4 (#4803)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a082d6ca63ac8d88f339",
    "number": 4802,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.3.1](https://github.com/shaka-project/shaka-player/compare/v4.3.0...v4.3.1) (2022-12-08)\n\n\n### Bug Fixes\n\n* **cast:** Use cast platform APIs in MediaCapabilties polyfill ([#4727](https://github.com/shaka-project/shaka-player/issues/4727)) ([fb1f0dc](https://github.com/shaka-project/shaka-player/commit/fb1f0dc019be0a5ac7f6ab4e51634cee203a666f))\n* **cea:** Fix MAX_ROWS in CEA-708 window ([#4757](https://github.com/shaka-project/shaka-player/issues/4757)) ([3a501c6](https://github.com/shaka-project/shaka-player/commit/3a501c6ea63cf8ed5016c53c079364fec516cfe3))\n* **cea:** Fix not rendering CEA-608 on encrypted mp4 segments ([#4756](https://github.com/shaka-project/shaka-player/issues/4756)) ([501d4ca](https://github.com/shaka-project/shaka-player/commit/501d4cacc19ae6503773a47c9d5b9da2a1488b52))\n* Correct default initDataTransform for legacy Apple Media Keys ([#4797](https://github.com/shaka-project/shaka-player/issues/4797)) ([ac6c4ed](https://github.com/shaka-project/shaka-player/commit/ac6c4edd0d7b91e14930da0a1901ecda333b5d47))\n* Fix bufferBehind setting broken by image segments ([#4718](https://github.com/shaka-project/shaka-player/issues/4718)) ([0e813a1](https://github.com/shaka-project/shaka-player/commit/0e813a176ed725933a9c96ecccc1617d99eb8c9a)), closes [#4717](https://github.com/shaka-project/shaka-player/issues/4717)\n* Fix compiler error on static use of \"this\" ([#4699](https://github.com/shaka-project/shaka-player/issues/4699)) ([0e2a12a](https://github.com/shaka-project/shaka-player/commit/0e2a12a0c37c0d92a6f8f1f4a264f8e2f3b47bbd))\n* Fix DRM workaround for Tizen and Xbox with hvc1/hev1 boxes ([#4743](https://github.com/shaka-project/shaka-player/issues/4743)) ([c6b6cff](https://github.com/shaka-project/shaka-player/commit/c6b6cffff973163a5c34784e11286e0540c66f03)), closes [#4742](https://github.com/shaka-project/shaka-player/issues/4742)\n* Fix subtitles not added to DOM region ([#4733](https://github.com/shaka-project/shaka-player/issues/4733)) ([eea7858](https://github.com/shaka-project/shaka-player/commit/eea78580f45a708bd79d582253aea137b22b9ad5)), closes [#4680](https://github.com/shaka-project/shaka-player/issues/4680)\n* Fix timestamp offset for ID3 on DAI-HLS ([#4696](https://github.com/shaka-project/shaka-player/issues/4696)) ([52aa102](https://github.com/shaka-project/shaka-player/commit/52aa102a70af82adafc5bb8ceaba2d5b5be0a84e))\n* Fix usage of WebCrypto in old browsers ([#4711](https://github.com/shaka-project/shaka-player/issues/4711)) ([2fec68b](https://github.com/shaka-project/shaka-player/commit/2fec68b83070f265b88cb6871ecd3351f9873b26))\n* **HLS:** Fix detection of Media Playlist for audio and video only in MP4 ([#4803](https://github.com/shaka-project/shaka-player/issues/4803)) ([f814d26](https://github.com/shaka-project/shaka-player/commit/f814d26039aa143c991008788a856285e9c34d84))\n* **HLS:** fix lazy load with multiple raw audio tracks ([#4715](https://github.com/shaka-project/shaka-player/issues/4715)) ([ec2a3d6](https://github.com/shaka-project/shaka-player/commit/ec2a3d6f5b67fd8c98df3928b3101b8985aebd71))\n* **HLS:** Fix lowLatencyPresentationDelay when using autoLowLatencyMode ([#4712](https://github.com/shaka-project/shaka-player/issues/4712)) ([824886d](https://github.com/shaka-project/shaka-player/commit/824886d759058ee25260da5fd3d0ad107ea9f6a1))\n* **HLS:** Fix missing roles ([#4760](https://github.com/shaka-project/shaka-player/issues/4760)) ([d27f023](https://github.com/shaka-project/shaka-player/commit/d27f0230cf96d3c396156ce7f748e7f5b5f0d719)), closes [#4759](https://github.com/shaka-project/shaka-player/issues/4759)\n* **HLS:** Fix support legacy AVC1 codec used in HLS ([#4716](https://github.com/shaka-project/shaka-player/issues/4716)) ([c7e83c4](https://github.com/shaka-project/shaka-player/commit/c7e83c4f46ff0db8db90f0746dda03758338c64f))\n* **hls:** Fix type error in lazy-loading ([#4687](https://github.com/shaka-project/shaka-player/issues/4687)) ([ad41cf4](https://github.com/shaka-project/shaka-player/commit/ad41cf4f4a9bfd30637b121908b5daac108d823f))\n* **HLS:** Single alternative video renditions not working ([#4785](https://github.com/shaka-project/shaka-player/issues/4785)) ([f0024fc](https://github.com/shaka-project/shaka-player/commit/f0024fc21ba774cc13fa7441dc28c53b5afe310b))\n* Polyfill missing AbortController on Tizen ([#4707](https://github.com/shaka-project/shaka-player/issues/4707)) ([76fae10](https://github.com/shaka-project/shaka-player/commit/76fae10e44072d2561ca1a424311a7c10b9d4cf3))\n* **TTML:** Add font-family mapping ([#4801](https://github.com/shaka-project/shaka-player/issues/4801)) ([57780dd](https://github.com/shaka-project/shaka-player/commit/57780dd449e31da83c37badb65b0d3e71cf8524c))\n* **TTML:** Fix duplicate cues overlapping segment boundaries ([#4798](https://github.com/shaka-project/shaka-player/issues/4798)) ([9faf848](https://github.com/shaka-project/shaka-player/commit/9faf84801a1cf8da5b2261def2b24985f8d07366)), closes [#4631](https://github.com/shaka-project/shaka-player/issues/4631)\n* **ui:** Check event cancelable before event.preventDefault ([#4690](https://github.com/shaka-project/shaka-player/issues/4690)) ([7a3e66d](https://github.com/shaka-project/shaka-player/commit/7a3e66dce32e78b16de02e070d41949626f736d8))\n* **ui:** Fix iOS fullscreen on rotation ([#4679](https://github.com/shaka-project/shaka-player/issues/4679)) ([8504c17](https://github.com/shaka-project/shaka-player/commit/8504c17ee618f7a1d24302d0e219d6b605339151))\n\n\n### Performance Improvements\n\n* Caching mediaSource support for browser engine ([#4778](https://github.com/shaka-project/shaka-player/issues/4778)) ([7d2d485](https://github.com/shaka-project/shaka-player/commit/7d2d48596f1fb8f164dd4a861227a2863b4eb68f))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.3.x): release 4.3.1 (#4802)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a083d6ca63ac8d88f33a",
    "number": 4801,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4749",
    "head_branch": "ttml-font-family",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(TTML): Add font-family mapping (#4801)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4749"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a084d6ca63ac8d88f33b",
    "number": 4798,
    "body": "Closes #4631",
    "head_branch": "dedup-cue-overhang",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(TTML): Fix duplicate cues overlapping segment boundaries (#4798)\n\nCloses #4631"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a085d6ca63ac8d88f33c",
    "number": 4797,
    "body": null,
    "head_branch": "fallback-initdatatransform-fairplay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Correct default initDataTransform for legacy Apple Media Keys (#4797)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a086d6ca63ac8d88f33d",
    "number": 4796,
    "body": "See https://github.com/shaka-project/shaka-player/issues/4790.\r\n\r\nTo be honest, I'm failing to understand how a `TypeError` can happen here (this is occurring in a Casted Apple Music, non-`AES-128` stream, so `EME`), since:\r\n1. The problematic code lines aren't reachable unless `MediaDecodingConfig.keySystemConfiguration` is set.\r\n2. `MediaDecodingConfig.keySystemConfiguration` is only set if `drmInfos` are provided:\r\nhttps://github.com/shaka-project/shaka-player/blob/68f10a1969b3ae639cd58b76b30b223cd4a08a5c/lib/util/stream_utils.js#L659-L666\r\n\r\nduring manifest parsing (showing HLS for example):\r\nhttps://github.com/shaka-project/shaka-player/blob/68f10a1969b3ae639cd58b76b30b223cd4a08a5c/lib/hls/hls_parser.js#L1003-L1016\r\n\r\nRegardless, `requestMediaKeySystemAccess()` will never report a variant is `supported` if `contentType` is null/empty string (as per https://w3c.github.io/encrypted-media/#get-supported-capabilities-for-audio-video-type). So the polyfill implementation behaves the same as before this change.",
    "head_branch": "cast-audio-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(cast): Added existence checks for MediaDecodingConfig.{audio|video} in decodingInfo(). (#4796)\n\nSee https://github.com/shaka-project/shaka-player/issues/4790.\r\n\r\nTo be honest, I'm failing to understand how a `TypeError` can happen\r\nhere (this is occurring in a Casted Apple Music, non-`AES-128` stream,\r\nso `EME`), since:\r\n1. The problematic code lines aren't reachable unless\r\n`MediaDecodingConfig.keySystemConfiguration` is set.\r\n2. `MediaDecodingConfig.keySystemConfiguration` is only set if\r\n`drmInfos` are provided:\r\n\r\nhttps://github.com/shaka-project/shaka-player/blob/68f10a1969b3ae639cd58b76b30b223cd4a08a5c/lib/util/stream_utils.js#L659-L666\r\n\r\nduring manifest parsing (showing HLS for example):\r\n\r\nhttps://github.com/shaka-project/shaka-player/blob/68f10a1969b3ae639cd58b76b30b223cd4a08a5c/lib/hls/hls_parser.js#L1003-L1016\r\n\r\nRegardless, `requestMediaKeySystemAccess()` will never report a variant\r\nis `supported` if `contentType` is null/empty string (as per\r\nhttps://w3c.github.io/encrypted-media/#get-supported-capabilities-for-audio-video-type).\r\nSo the polyfill implementation behaves the same as before this change."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a087d6ca63ac8d88f33e",
    "number": 4795,
    "body": null,
    "head_branch": "mcapBranchTwoTheSequel",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Manually order key for decodingInfo cache (#4795)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a088d6ca63ac8d88f33f",
    "number": 4794,
    "body": "We require node v14+ and Java v11+ now.\r\n\r\nCloses #4721 \r\nCloses #4737 ",
    "head_branch": "dev-dep-docs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Update docs about dev dependencies (#4794)\n\nWe require node v14+ and Java v11+ now.\r\n\r\nCloses #4721 \r\nCloses #4737"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a089d6ca63ac8d88f340",
    "number": 4789,
    "body": "Issue #4775",
    "head_branch": "mcapCache",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Cache mediaCapabilities.decodingInfo results (#4789)\n\nIssue #4775"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a08ad6ca63ac8d88f341",
    "number": 4785,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4780",
    "head_branch": "hls-video-rendition",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Single alternative video renditions not working (#4785)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4780"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a08bd6ca63ac8d88f342",
    "number": 4784,
    "body": "closes https://github.com/shaka-project/shaka-player/issues/4658.\r\n\r\nThis solution is inspired by abandoned PR https://github.com/shaka-project/shaka-player/pull/2809, which implements segment prefetching ahead of current play head. \r\n\r\n![image](https://user-images.githubusercontent.com/3315733/205465795-75c605d2-c2e3-4d03-90f5-46a72a7189d2.png)\r\n",
    "head_branch": "parallelfetching",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Support Parallel Segment Fetching (#4784)\n\ncloses https://github.com/shaka-project/shaka-player/issues/4658.\r\n\r\nThis solution is inspired by abandoned PR\r\nhttps://github.com/shaka-project/shaka-player/pull/2809, which\r\nimplements segment prefetching ahead of current play head.\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/3315733/205465795-75c605d2-c2e3-4d03-90f5-46a72a7189d2.png)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a08cd6ca63ac8d88f343",
    "number": 4783,
    "body": null,
    "head_branch": "mediasource-forcetransmux",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Move forceTransmux from streaming to mediasource config (#4783)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a08dd6ca63ac8d88f344",
    "number": 4781,
    "body": "With this, if you build Shaka Player with \"-@cast\", the UI will contain a dummy cast proxy that does not require the full cast system.\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nbuild: Add ability to build UI without cast\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "noCastBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ui): Add ability to build UI without cast (#4781)\n\nWith this, if you build Shaka Player with \"-@cast\", the UI will contain\r\na dummy cast proxy that does not require the full cast system."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a08ed6ca63ac8d88f345",
    "number": 4779,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4771",
    "head_branch": "hls-poll-time",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Poll HLS playlists using last segment duration (#4779)\n\nCloses #4771"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a08fd6ca63ac8d88f346",
    "number": 4778,
    "body": "We have just derived the repository by the old shaka version and found there seems the same optimization could be implemented on the latest shaka player.\r\n\r\nWhen developing on each web core livingroom platform (Tizen, WebOS, Chromecast, etc.), we found that there takes a long time to parse the manifest between downloading the manifest and downloading the first content segment. After profiling it, we found that there was a frequent function called `MediaSource.isTypeSupported` in it, up to hundreds or even thousands (the pic attached below). But this situation does not happen on the latest Chrome or Safari.\r\n\r\n![image](https://user-images.githubusercontent.com/24735241/205285814-3f935b8c-9d75-430c-8f9c-60d8b1b9f777.png)\r\n\r\nWe concluded that it must be related to the old browser engine (Chromium) that does not do optimization on it.\r\n\r\nAnd we just cached the function call results and let it not calls that API so frequently. The data showed that it did help reduce the start lag by 40% on Chromecast, 15% on WebOS, and 12% on Tizen on average within 2 months.\r\n\r\nWe think it is constructive and want to share it. And we think the more variants the contents have, the more time they could be reduced on living room apps.\r\n\r\nThanks!",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "perf: Caching mediaSource support for browser engine (#4778)\n\nCaches the results of MediaSource.isTypeSupported, which is slow on some platforms, to reduce the\r\nnumber of calls needed. This is especially helpful on manifests with many similar variants (multiple languages, etc).\r\nData collected from 2 months of practical testing shows that this helps reduce the start lag by 40% on Chromecast, 15% on WebOS, and 12% on Tizen."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a090d6ca63ac8d88f347",
    "number": 4773,
    "body": "By default, Karma runs tests in an iframe.  This complicated an issue on Chromecast, where certain platform APIs are only available on the main frame.\r\n\r\nThe Chromecast backend in Generic WebDriver Server also requires an iframe, and three frames was too many to work around cross-origin frame issues.  Flattening Karma's environment will allow us to make an additional change to Generic WebDriver Server to pass Chromecast platform APIs from the top-level frame into the iframe hosting Karma.\r\n\r\nSee also https://github.com/shaka-project/generic-webdriver-server/pull/63",
    "head_branch": "flatten-test-environment",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a091d6ca63ac8d88f348",
    "number": 4772,
    "body": "This fixes test exceptions that did not fail their tests.  One was an HlsParser instance that outlived the test run and failed after server disconnection.  The other was an exception in AdManager that did not fail the test, but nonetheless caused an unexpected error to be logged.\r\n\r\nBoth of these issues were spotted while running the tests in a local browser in debug mode.  Neither caused test failures directly, but both were examples of poor hygiene in our tests.",
    "head_branch": "fix-test-exceptions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix exceptions in tests (#4772)\n\nThis fixes test exceptions that did not fail their tests. One was an\r\nHlsParser instance that outlived the test run and failed after server\r\ndisconnection. The other was an exception in AdManager that did not fail\r\nthe test, but nonetheless caused an unexpected error to be logged.\r\n\r\nBoth of these issues were spotted while running the tests in a local\r\nbrowser in debug mode. Neither caused test failures directly, but both\r\nwere examples of poor hygiene in our tests."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a092d6ca63ac8d88f349",
    "number": 4770,
    "body": "Currently, selectVariantsByLabel doesn't support customizing clearBuffers and safeMargin. This pr is to change the function signature, so that we'll able to decide if we want to keep some amount of buffer when we change track.",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Support customizing clearBuffers and safeMargin when select variants by label (#4770)\n\nCurrently, selectVariantsByLabel doesn't support customizing\r\nclearBuffers and safeMargin. This pr is to change the function\r\nsignature, so that we'll able to decide if we want to keep some amount\r\nof buffer when we change track."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a093d6ca63ac8d88f34a",
    "number": 4769,
    "body": "This enables #4189 for two more error types. As mentioned in #4728 404 status results in `BAD_HTTP_STATUS` rather than `HTTP_ERROR`. I also think `TIMEOUT` should be included, and another issue was just created for this (#4764), so I included that as well.\r\n\r\nIf we don't want this, then an alternative is to make which errors to handle here configurable, but I thought I'd start with this suggestion.\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/4728\r\nCloses https://github.com/shaka-project/shaka-player/issues/4764",
    "head_branch": "variant-failover-condition",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Enable variant failover for BAD_HTTP_STATUS and TIMEOUT (#4769)\n\nThis enables #4189 for two more error types. As mentioned in #4728 404\r\nstatus results in `BAD_HTTP_STATUS` rather than `HTTP_ERROR`. I also\r\nthink `TIMEOUT` should be included, and another issue was just created\r\nfor this (#4764), so I included that as well.\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/4728\r\nCloses https://github.com/shaka-project/shaka-player/issues/4764"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a094d6ca63ac8d88f34b",
    "number": 4768,
    "body": "Issue #4725",
    "head_branch": "drmTimeSecondsClarificationBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Clarify description of drmTimeSeconds. (#4768)\n\nIssue #4725"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a094d6ca63ac8d88f34c",
    "number": 4767,
    "body": "Fixed implementation of specs: https://www.w3.org/TR/webvtt1/#webvtt-cue-position The 'auto' value was missing for position rule, plus text alignment was not used if no alignment was given for position.\r\n\r\nFixes https://github.com/shaka-project/shaka-player/issues/4486",
    "head_branch": "4486-fix-proposal",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a095d6ca63ac8d88f34d",
    "number": 4766,
    "body": "Reference implementation for codec switching.\r\n\r\nResolves: https://github.com/shaka-project/shaka-player/issues/1528\r\nRelated: https://github.com/shaka-project/shaka-player/issues/4379\r\n\r\n- Extended StreamingConfig with new enumerated property codecSwitchingStrategy. \r\n- Allows for 3 strategies as referenced in original conversation with @theRealRobG . \r\n-- `DISABLED` is current Shaka behavior.\r\n--`SMOOTH` behavior allows for use of SourceBuffer.changeType on environments which support it. \r\n--`RELOAD` behavior replaces MediaSource instances.",
    "head_branch": "codec-switching",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a096d6ca63ac8d88f34e",
    "number": 4763,
    "body": "Closes [#4762](https://github.com/shaka-project/shaka-player/issues/4762).\r\n\r\nThe change is to add PreferredAudioLabel to player configuration so that host apps can decide the default variant label to choose at very beginning.",
    "head_branch": "audio-label-config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add preferredAudioLabel to PlayerConfiguration (#4763)\n\nCloses\r\n[#4762](https://github.com/shaka-project/shaka-player/issues/4762).\r\n\r\nThe change is to add PreferredAudioLabel to player configuration so that\r\nhost apps can decide the default variant label to choose at very\r\nbeginning."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a097d6ca63ac8d88f34f",
    "number": 4760,
    "body": "Issue wasn't caught by the existing tests.\r\n\r\nCloses #4759",
    "head_branch": "hls-captions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix missing roles (#4760)\n\nIssue wasn't caught by the existing tests.\r\n\r\nCloses #4759\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a098d6ca63ac8d88f350",
    "number": 4757,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/3634",
    "head_branch": "cea-708-max-rows",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(cea): Fix MAX_ROWS in CEA-708 window (#4757)\n\nFixes https://github.com/shaka-project/shaka-player/issues/3634"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a099d6ca63ac8d88f351",
    "number": 4756,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4605",
    "head_branch": "cea-608-mp4-encrypted",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(cea): Fix not rendering CEA-608 on encrypted mp4 segments (#4756)\n\nFixes https://github.com/shaka-project/shaka-player/issues/4605\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a09ad6ca63ac8d88f352",
    "number": 4743,
    "body": "fixes #4742",
    "head_branch": "fix/tizen-hvc1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix DRM workaround for Tizen and Xbox with hvc1/hev1 boxes (#4743)\n\nfixes #4742"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a09bd6ca63ac8d88f353",
    "number": 4739,
    "body": "This completes the TS StreamGenerator and updates test expectations to match.  With this, we get realistic simulated TS streams, which will be important as a baseline for replacing mux.js with our own TS parser.\r\n\r\nSee also PR #4697",
    "head_branch": "ts-cea-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Finish TS StreamGenerator (#4739)\n\nThis completes the TS StreamGenerator and updates test expectations to\r\nmatch. With this, we get realistic simulated TS streams, which will be\r\nimportant as a baseline for replacing mux.js with our own TS parser.\r\n\r\nSee also PR #4697"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a09cd6ca63ac8d88f354",
    "number": 4735,
    "body": "Related to PR #4697\r\n\r\nThis will help us ensure we're not changing parsing outputs by accident.",
    "head_branch": "ts-cea-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Expand CEA test expectations (#4735)\n\nRelated to PR #4697\r\n\r\nThis will help us ensure we're not changing parsing outputs by accident."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a09dd6ca63ac8d88f355",
    "number": 4734,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3657",
    "head_branch": "ui-duration",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a09ed6ca63ac8d88f356",
    "number": 4733,
    "body": "Proposed fix closes #4680\r\n\r\nReinstate previously removed region elements when next caption finds it is not there: Detect the absence and ensure `updateDOM` is true so its reinstated and the next caption can be shown.",
    "head_branch": "dhmm/alternative-fix-missing-subs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix subtitles not added to DOM region (#4733)\n\nReinstate previously removed region elements when next caption finds it\r\nis not there: Detect the absence and ensure `updateDOM` is true so its\r\nreinstated and the next caption can be shown.\r\n\r\nCloses #4680\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a09fd6ca63ac8d88f357",
    "number": 4727,
    "body": "See https://github.com/shaka-project/shaka-player/issues/4726 for more context.\r\n\r\nThis allows Cast devices to properly filter stream variants with a resolution surpassing that of the device's capabilities.\r\n\r\nWe place the fix in the `MediaCapabilities` polyfill since it's intended to be the right way to check for anything related to platform support.\r\n\r\n--- \r\n\r\nHDR support checks will require `eotf=smpte2048`, as indicated in https://github.com/shaka-project/shaka-player/issues/2813#issue-684874730. Specifically, a `{hev|hvc}1.2` profile is only an *indication* of an HDR transfer function, but *may* be a non-HDR 10-bit color stream. Take for instance this publicly available hls.js HEVC stream (https://devstreaming-cdn.apple.com/videos/streaming/examples/bipbop_adv_example_hevc/master.m3u8) which contains stream variants with the `hvc1.2.4.L123.B0` codecs, but with a resolution < 4K:\r\n\r\n```\r\n#EXT-X-STREAM-INF:AVERAGE-BANDWIDTH=1996813,BANDWIDTH=2194827,CODECS=\"hvc1.2.4.L123.B0,ec-3\",RESOLUTION=960x540,FRAME-RATE=60.000,CLOSED-CAPTIONS=\"cc\",AUDIO=\"a3\",SUBTITLES=\"sub1\"\r\nv14/prog_index.m3u8\r\n#EXT-X-STREAM-INF:AVERAGE-BANDWIDTH=6135662,BANDWIDTH=6694727,CODECS=\"hvc1.2.4.L123.B0,ec-3\",RESOLUTION=1920x1080,FRAME-RATE=60.000,CLOSED-CAPTIONS=\"cc\",AUDIO=\"a3\",SUBTITLES=\"sub1\"\r\nv18/prog_index.m3u8\r\n#EXT-X-STREAM-INF:AVERAGE-BANDWIDTH=4831572,BANDWIDTH=5458398,CODECS=\"hvc1.2.4.L123.B0,ec-3\",RESOLUTION=1920x1080,FRAME-RATE=60.000,CLOSED-CAPTIONS=\"cc\",AUDIO=\"a3\",SUBTITLES=\"sub1\"\r\nv17/prog_index.m3u8\r\n#EXT-X-STREAM-INF:AVERAGE-BANDWIDTH=3471811,BANDWIDTH=4110269,CODECS=\"hvc1.2.4.L123.B0,ec-3\",RESOLUTION=1920x1080,FRAME-RATE=60.000,CLOSED-CAPTIONS=\"cc\",AUDIO=\"a3\",SUBTITLES=\"sub1\"\r\nv16/prog_index.m3u8\r\n#EXT-X-STREAM-INF:AVERAGE-BANDWIDTH=2666432,BANDWIDTH=2795200,CODECS=\"hvc1.2.4.L123.B0,ec-3\",RESOLUTION=1280x720,FRAME-RATE=60.000,CLOSED-CAPTIONS=\"cc\",AUDIO=\"a3\",SUBTITLES=\"sub1\"\r\nv15/prog_index.m3u8\r\n#EXT-X-STREAM-INF:AVERAGE-BANDWIDTH=1169111,BANDWIDTH=1256754,CODECS=\"hvc1.2.4.L123.B0,ec-3\",RESOLUTION=768x432,FRAME-RATE=30.000,CLOSED-CAPTIONS=\"cc\",AUDIO=\"a3\",SUBTITLES=\"sub1\"\r\nv13/prog_index.m3u8\r\n#EXT-X-STREAM-INF:AVERAGE-BANDWIDTH=859838,BANDWIDTH=932269,CODECS=\"hvc1.2.4.L123.B0,ec-3\",RESOLUTION=640x360,FRAME-RATE=30.000,CLOSED-CAPTIONS=\"cc\",AUDIO=\"a3\",SUBTITLES=\"sub1\"\r\nv12/prog_index.m3u8\r\n#EXT-X-STREAM-INF:AVERAGE-BANDWIDTH=552728,BANDWIDTH=579426,CODECS=\"hvc1.2.4.L123.B0,ec-3\",RESOLUTION=480x270,FRAME-RATE=30.000,CLOSED-CAPTIONS=\"cc\",AUDIO=\"a3\",SUBTITLES=\"sub1\"\r\nv11/prog_index.m3u8\r\n#EXT-X-STREAM-INF:AVERAGE-BANDWIDTH=345440,BANDWIDTH=371212,CODECS=\"hvc1.2.4.L123.B0,ec-3\",RESOLUTION=416x234,FRAME-RATE=30.000,CLOSED-CAPTIONS=\"cc\",AUDIO=\"a3\",SUBTITLES=\"sub1\"\r\nv10/prog_index.m3u8\r\n```\r\n\r\nIn Cast, the platform can distinguish between the two by explicitly providing the transfer function; it uses `smpte2048` (`\"PQ\"`) because this is the \"basis of HDR video formats...\" (https://en.wikipedia.org/wiki/Perceptual_quantizer). Below you can see the platform correctly distinguishing between an HDR-capable and non-HDR capable HDMI sink device (using a 4K-capable Chromecast):\r\n\r\n`canDisplayType()` results on a 1920x1080 ASUS monitor:\r\n```\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0\"; width=1920; height=1080; eotf=\"smpte2084\"') => false\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0\"; width=3840; height=2160; eotf=\"smpte2084\"') => false\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hev1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0\"; width=1920; height=1080') => true\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0\"; width=3840; height=2160') => false\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hev1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0\"') => true\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0; eotf=\"smpte2084\"') => false\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0\"; width=1920; height=1080; eotf=\"smpte2084\"') => false\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0\"; width=3840; height=2160; eotf=\"smpte2084\"') => false\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hvc1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0\"; width=1920; height=1080') => true\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0\"; width=3840; height=2160') => false\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hvc1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0\"') => true\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0; eotf=\"smpte2084\"') => false\r\n```\r\n\r\n`canDisplayType()` results on a 4K HDR TCL 2017 Roku TV (43\"):\r\n```\r\nNew style VP9 codec string must start with vp09. codecId:hev1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0\"; width=1920; height=1080; eotf=\"smpte2084\"') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hev1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0\"; width=3840; height=2160; eotf=\"smpte2084\"') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hev1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0\"; width=1920; height=1080') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hev1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0\"; width=3840; height=2160') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hev1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0\"') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hev1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hev1.2.4.L153.B0; eotf=\"smpte2084\"') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hvc1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0\"; width=1920; height=1080; eotf=\"smpte2084\"') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hvc1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0\"; width=3840; height=2160; eotf=\"smpte2084\"') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hvc1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0\"; width=1920; height=1080') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hvc1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0\"; width=3840; height=2160') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hvc1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0\"') => true\r\nVM10:1 New style VP9 codec string must start with vp09. codecId:hvc1.2.4.L153.B0\r\n[JULIAN]: canDisplayType(video/mp4; codecs=\"hvc1.2.4.L153.B0; eotf=\"smpte2084\"') => true\r\n```",
    "head_branch": "4726-account-for-extended-mime-type-parameters-in-mediacapabilitiesdecodinginfo-polyfill-for-cast-platform",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(cast): Use cast platform APIs in MediaCapabilties polyfill (#4727)\n\nSee https://github.com/shaka-project/shaka-player/issues/4726 for more\r\ncontext.\r\n\r\nThis allows Cast devices to properly filter stream variants with a\r\nresolution surpassing that of the device's capabilities.\r\n\r\nWe place the fix in the `MediaCapabilities` polyfill since it's intended\r\nto be the right way to check for anything related to platform support.\r\n\r\nHDR support checks will require `eotf=smpte2048`, as indicated in\r\nhttps://github.com/shaka-project/shaka-player/issues/2813#issue-684874730.\r\nSpecifically, a `{hev|hvc}1.2` profile is only an *indication* of an HDR\r\ntransfer function, but *may* be a non-HDR 10-bit color stream.\r\n\r\nIn Cast, the platform can distinguish between the two by explicitly\r\nproviding the transfer function; it uses `smpte2048` (`\"PQ\"`) because\r\nthis is the \"basis of HDR video formats...\"\r\n(https://en.wikipedia.org/wiki/Perceptual_quantizer)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0a0d6ca63ac8d88f358",
    "number": 4724,
    "body": "Proposed fix: Closes #4680 \r\n\r\nAvoid removing region elements from the DOM due to risk of failing to put them back with imminent captions in the same region.",
    "head_branch": "4680-fix-proposed",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0a1d6ca63ac8d88f359",
    "number": 4723,
    "body": "Proposed fix: Closes #4680\r\n\r\nEnsure that region elements are removed at risk of subsequent captions being not shown because they are added to a parent that is not visible on the DOM.\r\n",
    "head_branch": "dhmm/fixing-missing-region-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0a2d6ca63ac8d88f35a",
    "number": 4718,
    "body": "Resolves #4717 ",
    "head_branch": "issue/4717-buffer-behind-image-adaptation",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "fix: Fix bufferBehind setting broken by image segments (#4718)\n\nResolves #4717"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0a3d6ca63ac8d88f35b",
    "number": 4716,
    "body": null,
    "head_branch": "legacy-avc1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix support legacy AVC1 codec used in HLS (#4716)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0a4d6ca63ac8d88f35c",
    "number": 4715,
    "body": null,
    "head_branch": "aac-hls-audios",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): fix lazy load with multiple raw audio tracks (#4715)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0a5d6ca63ac8d88f35d",
    "number": 4712,
    "body": null,
    "head_branch": "hls-autolowlatency-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix lowLatencyPresentationDelay when using autoLowLatencyMode (#4712)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0a6d6ca63ac8d88f35e",
    "number": 4711,
    "body": null,
    "head_branch": "aes-128-webos3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix usage of WebCrypto in old browsers (#4711)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0a7d6ca63ac8d88f35f",
    "number": 4708,
    "body": "This PR caches the result of `requestMediaKeySystemAccess` saving time on subsequent calls.\r\nIt also makes the calls to `decodingInfo` synchronous. The reason for this, is the result of testing on multiple devices that the behaviour of `requestMediaKeySystemAccess` appears to be synchronous, making this synchronous can save over a second on older TVs.\r\n\r\nThe issue is currently assigned to my colleague Hugo Lima.\r\nCloses https://github.com/shaka-project/shaka-player/issues/4574",
    "head_branch": "keySystemAccessCaching",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Caching and other efficiency improvements for mcap polyfill (#4708)\n\nThis PR caches the result of `requestMediaKeySystemAccess` saving time\r\non subsequent calls.\r\n\r\nIt also makes the calls to `decodingInfo` synchronous. The reason for\r\nthis, is the result of testing on multiple devices that the behaviour of\r\n`requestMediaKeySystemAccess` appears to be synchronous, making this\r\nsynchronous can save over a second on older TVs.\r\n\r\nCloses #4574"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0a8d6ca63ac8d88f360",
    "number": 4707,
    "body": "We started using AbortController in HlsParser in 777c27ee, but that change was made while the Tizen TV in our lab was offline.  This restores functionality to Tizen.\r\n\r\nThis polyfill uses getters, a feature of ES6 that the compiler won't transpile into ES3, so this also changes the output language to ES5. This should not be an issue, since ES5 has been well supported in all browsers since IE10.",
    "head_branch": "fix-tizen-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Polyfill missing AbortController on Tizen (#4707)\n\nWe started using AbortController in HlsParser in 777c27ee, but that\r\nchange was made while the Tizen TV in our lab was offline. This restores\r\nfunctionality to Tizen.\r\n\r\nThis polyfill uses getters, a feature of ES6 that the compiler won't\r\ntranspile into ES3, so this also changes the output language to ES5.\r\nThis should not be an issue, since ES5 has been well supported in all\r\nbrowsers since IE10."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0a9d6ca63ac8d88f361",
    "number": 4699,
    "body": "An internal build system failed to compile v4.3.0 due to the use of static \"this\".  This change fixes it.\r\n\r\nUnfortunately, we are already running the latest public compiler release, so there is no way we could have caught this on GitHub.",
    "head_branch": "fix-static-this",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix compiler error on static use of \"this\" (#4699)\n\nAn internal build system failed to compile v4.3.0 due to the use of\r\nstatic \"this\". This change fixes it.\r\n\r\nUnfortunately, we are already running the latest public compiler\r\nrelease, so there is no way we could have caught this on GitHub."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0aad6ca63ac8d88f362",
    "number": 4698,
    "body": "An upgrade to Tizen Studio and the Docker image for it have solved our Tizen lab infra issues.",
    "head_branch": "reenable-tizen",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Re-enable Tizen in the lab (#4698)\n\nAn upgrade to Tizen Studio and the Docker image for it have solved our\r\nTizen lab infra issues."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0abd6ca63ac8d88f363",
    "number": 4697,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3674",
    "head_branch": "ts-cea-parser",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(cea): Add CEA parser for TS (#4697)\n\nCloses https://github.com/shaka-project/shaka-player/issues/3674\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0acd6ca63ac8d88f364",
    "number": 4696,
    "body": null,
    "head_branch": "dai-hls-id3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix timestamp offset for ID3 on DAI-HLS (#4696)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0acd6ca63ac8d88f365",
    "number": 4695,
    "body": "Xbox seems to treat SVG and/or XML a little differently than other platforms, which led to a test failure on that platform.  That went unnoticed because Xbox is offline in our lab.  The issue was discovered while working to restore that platform in the lab test runs.",
    "head_branch": "fix-xbox-xml-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix XML parser security tests on Xbox (#4695)\n\nXbox seems to treat SVG and/or XML a little differently than other\r\nplatforms, which led to a test failure on that platform. That went\r\nunnoticed because Xbox is offline in our lab. The issue was discovered\r\nwhile working to restore that platform in the lab test runs."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0add6ca63ac8d88f366",
    "number": 4694,
    "body": "Since we ended up with a different default config on Xbox, the tests for DRM broke.  That went unnoticed because Xbox is offline in our lab.  The issue was discovered while working to restore that platform in the lab test runs.",
    "head_branch": "fix-xbox-drm-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix Xbox DRM tests (#4694)\n\nSince we ended up with a different default config on Xbox, the tests for\r\nDRM broke. That went unnoticed because Xbox is offline in our lab. The\r\nissue was discovered while working to restore that platform in the lab\r\ntest runs."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0aed6ca63ac8d88f367",
    "number": 4693,
    "body": "Some of the EMSG tests were redundant, and repeated for different timestamps.  Instead, run all EMSG tests with a non-zero timestamp offset, since 0 is just a degenerate case.\r\n\r\nThis also consolidates all of the test vectors so that the tests are easier to read.",
    "head_branch": "consolidate-emsg",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Consolidate emsg tests (#4693)\n\nSome of the EMSG tests were redundant, and repeated for different\r\ntimestamps. Instead, run all EMSG tests with a non-zero timestamp\r\noffset, since 0 is just a degenerate case.\r\n\r\nThis also consolidates all of the test vectors so that the tests are\r\neasier to read.\r\n\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0afd6ca63ac8d88f368",
    "number": 4692,
    "body": "This release is too large to preview in the pull request body. View the full release notes here: https://github.com/shaka-project/shaka-player/blob/release-please--branches--main--components--shaka-player--release-notes/release-notes.md\r\n",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(main): release 4.4.0 (#4692)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0b0d6ca63ac8d88f369",
    "number": 4690,
    "body": "### Problem\r\n```\r\n[Intervention] Ignored attempt to cancel a touchstart event with cancelable=false, for example because scrolling is in progress and cannot be interrupted.\r\n```\r\n\r\nThis error occurs when the first touch is initiated.\r\nAdded logic to confirm that the error can be cancelled before event.preventDefault.",
    "head_branch": "touch-event-remove-log",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ui): Check event cancelable before event.preventDefault (#4690)\n\nThis error occurs when the first touch is initiated:\r\n\r\n[Intervention] Ignored attempt to cancel a touchstart event with cancelable=false, for example because scrolling is in progress and cannot be interrupted.\r\n\r\nAdded logic to confirm that the error can be cancelled before event.preventDefault."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0b1d6ca63ac8d88f36a",
    "number": 4688,
    "body": "An internal build system spotted this issue after being synced to the v4.3.0 release.",
    "head_branch": "add-missing-license-header",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Add missing license header (#4688)\n\nAn internal build system spotted this issue after being synced to the\r\nv4.3.0 release."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0b2d6ca63ac8d88f36b",
    "number": 4687,
    "body": "There was a potential type error in an edge case in lib/player.js. It would have been caught by the latest compiler, so this upgrades the compiler and fixes another type error in one other place, as well.",
    "head_branch": "fix-lazy-load-type-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Fix type error in lazy-loading (#4687)\n\nThere was a potential type error in an edge case in lib/player.js. It\r\nwould have been caught by the latest compiler, so this upgrades the\r\ncompiler and fixes another type error in one other place, as well."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0b3d6ca63ac8d88f36c",
    "number": 4686,
    "body": "This reverts commit ea2eaaf2106b6bcac56119e2e0559fe918664932.\r\n\r\nNow that v4.3 is out, this sets the receiver app ID for main to refer to the nightly version of the receiver app again.",
    "head_branch": "receiver-id",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Set receiver app ID for main (#4675) (#4686)\n\nThis reverts commit ea2eaaf2106b6bcac56119e2e0559fe918664932.\r\n\r\nNow that v4.3 is out, this sets the receiver app ID for main to refer to\r\nthe nightly version of the receiver app again."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0b4d6ca63ac8d88f36d",
    "number": 4685,
    "body": "Xbox One was being misdetected as Chrome, causing some mistakes in which tests are skipped.\r\n\r\nThis does not appear to affect the library itself, since isChrome() and chromeVersion() are only used in tests currently.",
    "head_branch": "fix-xbox-platform-detection",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix platform detection for Xbox (#4685)\n\nXbox One was being misdetected as Chrome, causing some mistakes in which\r\ntests are skipped.\r\n\r\nThis does not appear to affect the library itself, since isChrome() and\r\nchromeVersion() are only used in tests currently."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0b5d6ca63ac8d88f36e",
    "number": 4683,
    "body": "Fixes https://github.com/shaka-project/shaka-player/issues/4605\r\nFixes https://github.com/shaka-project/shaka-player/issues/3659\r\n\r\nAlso added a change to support a TS CEA parser in the future.",
    "head_branch": "cea-fixes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(cea): Fix not rendering CEA-608 Closed Captions (#4683)\n\nAlso added H265 support and a framework for future TS CEA parser support.\r\n\r\nFixes #4605\r\nFixes #3659\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0b6d6ca63ac8d88f36f",
    "number": 4682,
    "body": "This PR intends to fix issue #4567.\r\n\r\nAs per spectification, [here](https://w3c.github.io/webvtt/#webvtt-line-cue-setting) and [there](https://w3c.github.io/webvtt/#webvtt-cue-line-alignment), my understanding is that a cue line with an optional alignment position `end`, e.g. `line:91%,end`, should have its bottom edge at 91% from the top of the screen.\r\n\r\nBut the current code places it at 91% from the bottom of the screen.",
    "head_branch": "4567-fix-proposal",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: WebVTT line not correctly positioned in UITextDisplayer (#4567) (#4682)\n\nAs per spectification,\r\n[here](https://w3c.github.io/webvtt/#webvtt-line-cue-setting) and\r\n[there](https://w3c.github.io/webvtt/#webvtt-cue-line-alignment), my\r\nunderstanding is that a cue line with an optional alignment position\r\n`end`, e.g. `line:91%,end`, should have its bottom edge at 91% from the\r\ntop of the screen.\r\n\r\nBut the current code places it at 91% from the bottom of the screen.\r\n\r\nFixes #4567\r\n\r\nCo-authored-by: Rodolphe Breton <rodolphe.breton@netgem.com>\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0b7d6ca63ac8d88f370",
    "number": 4679,
    "body": "This refactors and cleans up fullscreen functionality in the UI so that all triggers are consistent and work correctly on all platforms.\r\n\r\nSee also #4669",
    "head_branch": "ios-fullscreen",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ui): Fix iOS fullscreen on rotation (#4679)\n\nThis refactors and cleans up fullscreen functionality in the UI so that\r\nall triggers are consistent and work correctly on all platforms.\r\n\r\nSee also #4669\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0b8d6ca63ac8d88f371",
    "number": 4678,
    "body": "This PR resolves the [issue/4676](https://github.com/shaka-project/shaka-player/issues/4676)\r\n\r\nIn order to get the playback working, I am excluding VirginMedia device from isApple() platform test, otherwise it incorrectly fails at isBrowserSupported().\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfix: Virgin Media set top box is incorrectly categorized as Apple/Safari\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "4676-fix-proposal",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: 4676 - Virgin Media set top box is incorrectly categorized as Apple/Safari (#4678)\n\nIn order to get the playback working, I am excluding VirginMedia device\r\nfrom isApple() platform test, otherwise it incorrectly fails at\r\nisBrowserSupported().\r\n\r\nFixes #4676\r\n\r\nCo-authored-by: Casey Occhialini <1508707+littlespex@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0b9d6ca63ac8d88f372",
    "number": 4677,
    "body": "In order to get the playback working, I am excluding VirginMedia device from `isApple()` platform test, otherwise it incorrectly fails at `isBrowserSupported()`.",
    "head_branch": "agajassi4676-fix-proposal",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0bad6ca63ac8d88f373",
    "number": 4675,
    "body": "This will be reverted in the main branch after the launch/branch of v4.3, so that main continues refers to the nightly version of the receiver app.",
    "head_branch": "receiver-id",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Set receiver app ID for v4.3 (#4675)\n\nThis will be reverted in the main branch after the launch/branch of\r\nv4.3, so that main continues refers to the nightly version of the\r\nreceiver app."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0bbd6ca63ac8d88f374",
    "number": 4674,
    "body": null,
    "head_branch": "release-prep",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Update roadmap, maintained branches, and upgrade guide for v4.3 (#4674)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0bcd6ca63ac8d88f375",
    "number": 4673,
    "body": "In the main branch, since the code there is a pre-release, these should generally all point to the nightly demo receiver.",
    "head_branch": "receiver-id",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Fix receiver app ID in UI tutorial (#4673)\n\nIn the main branch, since the code there is a pre-release, these should\r\ngenerally all point to the nightly demo receiver."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0bdd6ca63ac8d88f376",
    "number": 4672,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.5](https://github.com/shaka-project/shaka-player/compare/v4.2.4...v4.2.5) (2022-12-08)\n\n\n### Bug Fixes\n\n* 4676 - Virgin Media set top box is incorrectly categorized as Apple/Safari ([#4678](https://github.com/shaka-project/shaka-player/issues/4678)) ([fe1c3d8](https://github.com/shaka-project/shaka-player/commit/fe1c3d821bc38abfe945ac7afb7278a564174b12)), closes [#4676](https://github.com/shaka-project/shaka-player/issues/4676)\n* **cast:** Use cast platform APIs in MediaCapabilties polyfill ([#4727](https://github.com/shaka-project/shaka-player/issues/4727)) ([6f3b2da](https://github.com/shaka-project/shaka-player/commit/6f3b2dab5f8e488305c30cb644ca44ad835d593b))\n* **cea:** Fix MAX_ROWS in CEA-708 window ([#4757](https://github.com/shaka-project/shaka-player/issues/4757)) ([05d959b](https://github.com/shaka-project/shaka-player/commit/05d959b0ef36cfa4c4a512143ffde506a20de914))\n* Correct default initDataTransform for legacy Apple Media Keys ([#4797](https://github.com/shaka-project/shaka-player/issues/4797)) ([6eed72f](https://github.com/shaka-project/shaka-player/commit/6eed72fd84ca0f7971b01db39a411c544d022c8f))\n* Fix bufferBehind setting broken by image segments ([#4718](https://github.com/shaka-project/shaka-player/issues/4718)) ([2987451](https://github.com/shaka-project/shaka-player/commit/298745149efc9608938aa133a354c7f2133609e0)), closes [#4717](https://github.com/shaka-project/shaka-player/issues/4717)\n* Fix DRM workaround for Tizen and Xbox with hvc1/hev1 boxes ([#4743](https://github.com/shaka-project/shaka-player/issues/4743)) ([6e6a15f](https://github.com/shaka-project/shaka-player/commit/6e6a15f42aa0bfeb71b2fc426824280712d29360)), closes [#4742](https://github.com/shaka-project/shaka-player/issues/4742)\n* Fix subtitles not added to DOM region ([#4733](https://github.com/shaka-project/shaka-player/issues/4733)) ([c7cb175](https://github.com/shaka-project/shaka-player/commit/c7cb17501d71c1d2ea7e50897b07cb57a87e60b6)), closes [#4680](https://github.com/shaka-project/shaka-player/issues/4680)\n* Fix usage of WebCrypto in old browsers ([#4711](https://github.com/shaka-project/shaka-player/issues/4711)) ([9934cd7](https://github.com/shaka-project/shaka-player/commit/9934cd7be4e5f00e7da58ee667a10236ada8af25))\n* **HLS:** Fix lowLatencyPresentationDelay when using autoLowLatencyMode ([#4712](https://github.com/shaka-project/shaka-player/issues/4712)) ([c4ef744](https://github.com/shaka-project/shaka-player/commit/c4ef7441ecda7b68d0dede2fd4782d8d25116518))\n* **HLS:** Fix support legacy AVC1 codec used in HLS ([#4716](https://github.com/shaka-project/shaka-player/issues/4716)) ([e34e380](https://github.com/shaka-project/shaka-player/commit/e34e3809d2eb34ccc5e5c940fb5cd0137619fb5a))\n* **HLS:** Single alternative video renditions not working ([#4785](https://github.com/shaka-project/shaka-player/issues/4785)) ([655d080](https://github.com/shaka-project/shaka-player/commit/655d08016231a2aa9b8860f6e963ab586aec023a))\n* Polyfill missing AbortController on Tizen ([#4707](https://github.com/shaka-project/shaka-player/issues/4707)) ([eae487d](https://github.com/shaka-project/shaka-player/commit/eae487dd11c188ef740c8e36bc55462c86cc173a))\n* **TTML:** Add font-family mapping ([#4801](https://github.com/shaka-project/shaka-player/issues/4801)) ([9262f92](https://github.com/shaka-project/shaka-player/commit/9262f921b7601f230bfd2ec854c80dd25fc2a36e))\n* **TTML:** Fix duplicate cues overlapping segment boundaries ([#4798](https://github.com/shaka-project/shaka-player/issues/4798)) ([7aa3e5d](https://github.com/shaka-project/shaka-player/commit/7aa3e5d656d4dec1cace286cc54009dd4d79eff7)), closes [#4631](https://github.com/shaka-project/shaka-player/issues/4631)\n* **ui:** Check event cancelable before event.preventDefault ([#4690](https://github.com/shaka-project/shaka-player/issues/4690)) ([9d90919](https://github.com/shaka-project/shaka-player/commit/9d90919dd29d0d0b8299d416b1039dabcc91608c))\n* **ui:** Fix iOS fullscreen on rotation ([#4679](https://github.com/shaka-project/shaka-player/issues/4679)) ([04051fd](https://github.com/shaka-project/shaka-player/commit/04051fdcd5faaf1303e2875b4de7225e2534938e))\n* Update v4.2 receiver app ID ([56466dc](https://github.com/shaka-project/shaka-player/commit/56466dce484e5ced69eddeb0c62c68615f4ed8d3))\n* WebVTT line not correctly positioned in UITextDisplayer ([#4567](https://github.com/shaka-project/shaka-player/issues/4567)) ([#4682](https://github.com/shaka-project/shaka-player/issues/4682)) ([e9e6c94](https://github.com/shaka-project/shaka-player/commit/e9e6c945a31c9dfa84e4890606c606fa9346ef9e))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.5 (#4672)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0bed6ca63ac8d88f377",
    "number": 4671,
    "body": "Proposed fix for issue #4631 to eliminate duplicate cues lying near segment boundaries.\r\nThis supplements the existing cue equality check which does not find those that are nested deeper than literal duplicate cues.\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/4631",
    "head_branch": "4631-fix-proposal",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0bfd6ca63ac8d88f378",
    "number": 4669,
    "body": "### Problem description\r\nConsole error in environment where fullscreen is not possible when enableFullscreenOnRotation option is turned on\r\n\r\n```console\r\nTypeError: i.j.requestFullscreen is not a function. (In 'i.j.requestFullscreen({navigationUI:\"hide\"})', 'i.j.requestFullscreen' is undefined)\r\n```\r\n\r\n### How to fix\r\ncheck `isFullScreenSupported` on `onScreenRotation`",
    "head_branch": "check-fullscreen",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ui): Fix exception on screen rotation if fullscreen is not supported (#4669)\n\nIf fullscreen is not supported when enableFullscreenOnRotation option is enabled, this exception occurred:\r\n\r\nTypeError: i.j.requestFullscreen is not a function. (In 'i.j.requestFullscreen({navigationUI:\"hide\"})', 'i.j.requestFullscreen' is undefined)\r\n\r\nThis fixes the exception by checking isFullScreenSupported().\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c0d6ca63ac8d88f379",
    "number": 4668,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.4](https://github.com/shaka-project/shaka-player/compare/v4.2.3...v4.2.4) (2022-11-09)\n\n\n### Bug Fixes\n\n* Allow overriding special handling of 404s ([#4635](https://github.com/shaka-project/shaka-player/issues/4635)) ([bf3e4e8](https://github.com/shaka-project/shaka-player/commit/bf3e4e8967ab938c95861d3f02eb1bcf76722a5c)), closes [#4548](https://github.com/shaka-project/shaka-player/issues/4548)\n* **cast:** Reduce size of Cast update messages ([#4644](https://github.com/shaka-project/shaka-player/issues/4644)) ([2ee9803](https://github.com/shaka-project/shaka-player/commit/2ee9803f295bbdf7911740c4b5f35b81e8a7488c))\n* Content reload starttime with HLS on iOS ([#4575](https://github.com/shaka-project/shaka-player/issues/4575)) ([f02e25a](https://github.com/shaka-project/shaka-player/commit/f02e25af91eeb18939f16460702b8f9ec226b54c)), closes [#4244](https://github.com/shaka-project/shaka-player/issues/4244)\n* embed cc not shown when seeking back ([#4643](https://github.com/shaka-project/shaka-player/issues/4643)) ([3743fe8](https://github.com/shaka-project/shaka-player/commit/3743fe8ab70ce8bebd46ff4a667ddce188ec49c6)), closes [#4641](https://github.com/shaka-project/shaka-player/issues/4641)\n* Fix detection of ac4, dts, and dolby h265 ([#4657](https://github.com/shaka-project/shaka-player/issues/4657)) ([9da2b47](https://github.com/shaka-project/shaka-player/commit/9da2b47deba36f4c50fed10c859f46a432e20576))\n* focus on first element when back to the settings menu ([#4653](https://github.com/shaka-project/shaka-player/issues/4653)) ([f507c89](https://github.com/shaka-project/shaka-player/commit/f507c89bf63b0ec5b7802cd31ac3f3cca05ff237)), closes [#4652](https://github.com/shaka-project/shaka-player/issues/4652)\n* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4663](https://github.com/shaka-project/shaka-player/issues/4663)) ([731bd96](https://github.com/shaka-project/shaka-player/commit/731bd96644cbbd3fa39992fd62a4ae6de8389e74))\n* **HLS:** Infer missing codecs from config ([#4656](https://github.com/shaka-project/shaka-player/issues/4656)) ([507d96e](https://github.com/shaka-project/shaka-player/commit/507d96e74239973fb904d6ade4615ac8888a9d57))\n* **ui:** Fix exception on screen rotation if fullscreen is not supported ([#4669](https://github.com/shaka-project/shaka-player/issues/4669)) ([6c54db9](https://github.com/shaka-project/shaka-player/commit/6c54db91e03c4ff4a2c073b45dcb05e8591295d0))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.4 (#4668)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c1d6ca63ac8d88f37a",
    "number": 4667,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.1.7](https://github.com/shaka-project/shaka-player/compare/v4.1.6...v4.1.7) (2022-11-09)\n\n\n### Bug Fixes\n\n* Allow overriding special handling of 404s ([#4635](https://github.com/shaka-project/shaka-player/issues/4635)) ([ad2bffc](https://github.com/shaka-project/shaka-player/commit/ad2bffc798946f4ebe97154a53e74582a71bc886)), closes [#4548](https://github.com/shaka-project/shaka-player/issues/4548)\n* **cast:** Reduce size of Cast update messages ([#4644](https://github.com/shaka-project/shaka-player/issues/4644)) ([687f92c](https://github.com/shaka-project/shaka-player/commit/687f92c50c4cd913d3fc556ec1468a15b27ec257))\n* Content reload starttime with HLS on iOS ([#4575](https://github.com/shaka-project/shaka-player/issues/4575)) ([fe28e26](https://github.com/shaka-project/shaka-player/commit/fe28e26e7cca7cf53d8159e3a82cab344471968d)), closes [#4244](https://github.com/shaka-project/shaka-player/issues/4244)\n* embed cc not shown when seeking back ([#4643](https://github.com/shaka-project/shaka-player/issues/4643)) ([c514d15](https://github.com/shaka-project/shaka-player/commit/c514d15ddfe4892443b99491b3f932ba94c6609d)), closes [#4641](https://github.com/shaka-project/shaka-player/issues/4641)\n* Fix detection of ac4, dts, and dolby h265 ([#4657](https://github.com/shaka-project/shaka-player/issues/4657)) ([4018805](https://github.com/shaka-project/shaka-player/commit/40188056c9b45d41aec7ce3ac7aee82d207cc76e))\n* focus on first element when back to the settings menu ([#4653](https://github.com/shaka-project/shaka-player/issues/4653)) ([fa920d8](https://github.com/shaka-project/shaka-player/commit/fa920d8154cf1254a67989d473d4ff4cc9cc006c)), closes [#4652](https://github.com/shaka-project/shaka-player/issues/4652)\n* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4663](https://github.com/shaka-project/shaka-player/issues/4663)) ([2b02e23](https://github.com/shaka-project/shaka-player/commit/2b02e231390f90325bb7ffce88c499512b3bc541))\n* **HLS:** Infer missing codecs from config ([#4656](https://github.com/shaka-project/shaka-player/issues/4656)) ([1104d80](https://github.com/shaka-project/shaka-player/commit/1104d80100bb243e1a47bd093a5cf78dd8a3aadd))\n* **ui:** Fix exception on screen rotation if fullscreen is not supported ([#4669](https://github.com/shaka-project/shaka-player/issues/4669)) ([d803363](https://github.com/shaka-project/shaka-player/commit/d803363e0f949c90c8fe1b3258723847c1ddb22d))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.1.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.1.x): release 4.1.7 (#4667)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c2d6ca63ac8d88f37b",
    "number": 4666,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.13](https://github.com/shaka-project/shaka-player/compare/v3.3.12...v3.3.13) (2022-11-09)\n\n\n### Bug Fixes\n\n* Allow overriding special handling of 404s ([#4635](https://github.com/shaka-project/shaka-player/issues/4635)) ([d927cec](https://github.com/shaka-project/shaka-player/commit/d927cec58921928da9a82be8234ac091e3f18322)), closes [#4548](https://github.com/shaka-project/shaka-player/issues/4548)\n* **cast:** Reduce size of Cast update messages ([#4644](https://github.com/shaka-project/shaka-player/issues/4644)) ([5e0e942](https://github.com/shaka-project/shaka-player/commit/5e0e9427caba7204e887d3187564b57bc14e6d3e))\n* Content reload starttime with HLS on iOS ([#4575](https://github.com/shaka-project/shaka-player/issues/4575)) ([7fea5c2](https://github.com/shaka-project/shaka-player/commit/7fea5c26ebf1705114953d6379d1de6e946832b2)), closes [#4244](https://github.com/shaka-project/shaka-player/issues/4244)\n* Fix detection of ac4, dts, and dolby h265 ([#4657](https://github.com/shaka-project/shaka-player/issues/4657)) ([44e4fd7](https://github.com/shaka-project/shaka-player/commit/44e4fd74fd59c3b11ad265bd1eea26678857a26f))\n* focus on first element when back to the settings menu ([#4653](https://github.com/shaka-project/shaka-player/issues/4653)) ([9ab242e](https://github.com/shaka-project/shaka-player/commit/9ab242e39eea87e39c7864ff8aadf5d68ab1236d)), closes [#4652](https://github.com/shaka-project/shaka-player/issues/4652)\n* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4663](https://github.com/shaka-project/shaka-player/issues/4663)) ([6804c6a](https://github.com/shaka-project/shaka-player/commit/6804c6aad240a454e17a3dae1a26f865f79c391d))\n* **HLS:** Infer missing codecs from config ([#4656](https://github.com/shaka-project/shaka-player/issues/4656)) ([b98ae71](https://github.com/shaka-project/shaka-player/commit/b98ae71a46da96a9e30c595a3fed0ddb9718d335))\n* **ui:** Fix exception on screen rotation if fullscreen is not supported ([#4669](https://github.com/shaka-project/shaka-player/issues/4669)) ([b7a841d](https://github.com/shaka-project/shaka-player/commit/b7a841da65c501680947c54f047bc070035e8b4c))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.13 (#4666)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c3d6ca63ac8d88f37c",
    "number": 4665,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.15](https://github.com/shaka-project/shaka-player/compare/v3.2.14...v3.2.15) (2022-11-09)\n\n\n### Bug Fixes\n\n* Allow overriding special handling of 404s ([#4635](https://github.com/shaka-project/shaka-player/issues/4635)) ([43598b4](https://github.com/shaka-project/shaka-player/commit/43598b4670fdc95c7a25d3212f3533e3543e1371)), closes [#4548](https://github.com/shaka-project/shaka-player/issues/4548)\n* **cast:** Reduce size of Cast update messages ([#4644](https://github.com/shaka-project/shaka-player/issues/4644)) ([b36b95d](https://github.com/shaka-project/shaka-player/commit/b36b95db0ebfd718286be1281d51304a62d72159))\n* Content reload starttime with HLS on iOS ([#4575](https://github.com/shaka-project/shaka-player/issues/4575)) ([f51f283](https://github.com/shaka-project/shaka-player/commit/f51f283f43d1f2123ca9962b66f16d553a61eddb)), closes [#4244](https://github.com/shaka-project/shaka-player/issues/4244)\n* Fix detection of ac4, dts, and dolby h265 ([#4657](https://github.com/shaka-project/shaka-player/issues/4657)) ([1adc00a](https://github.com/shaka-project/shaka-player/commit/1adc00aec51b0a37926a9f6fdfcd28f0304f049b))\n* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4663](https://github.com/shaka-project/shaka-player/issues/4663)) ([8440e01](https://github.com/shaka-project/shaka-player/commit/8440e01f756226e8c3c0e5967ef504efefce4b72))\n* **ui:** Fix exception on screen rotation if fullscreen is not supported ([#4669](https://github.com/shaka-project/shaka-player/issues/4669)) ([cbefdb8](https://github.com/shaka-project/shaka-player/commit/cbefdb89078d524b54fbcc298923fbdc9e89ce21))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.15 (#4665)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c4d6ca63ac8d88f37d",
    "number": 4664,
    "body": "See PR #4568, which was merged without feedback addressed.",
    "head_branch": "key-rotation-cleanup",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Cleanup after HLS key rotation PR (#4664)\n\nSee PR #4568, which was merged without feedback addressed."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c4d6ca63ac8d88f37e",
    "number": 4663,
    "body": null,
    "head_branch": "webvtt-extension-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix detection of WebVTT subtitles in HLS by extension (#4663)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c5d6ca63ac8d88f37f",
    "number": 4660,
    "body": null,
    "head_branch": "vtt-escaped-html",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Support HTML-escaped cues in VTT (#4660)\n\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c6d6ca63ac8d88f380",
    "number": 4657,
    "body": null,
    "head_branch": "codec_regexps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix detection of ac4, dts, and dolby h265 (#4657)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c7d6ca63ac8d88f381",
    "number": 4656,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3917",
    "head_branch": "hls-default-codecs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Infer missing codecs from config (#4656)\n\nCloses https://github.com/shaka-project/shaka-player/issues/3917"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c8d6ca63ac8d88f382",
    "number": 4655,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/917",
    "head_branch": "ext-x-session-key",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Add support for EXT-X-SESSION-KEY tag (#4655)\n\nCloses #917"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0c9d6ca63ac8d88f383",
    "number": 4653,
    "body": "Going to the configuration menu using the keyboard and entering some menu, when going back the focus is lost because the first element of the HTML tree is hidden. This makes it difficult to use the player using accessibility shortcuts.\r\n\r\nCloses [#4652](https://github.com/shaka-project/shaka-player/issues/4652)",
    "head_branch": "fix_focus_on_back_to_settings_menu",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: focus on first element when back to the settings menu (#4653)\n\nGoing to the configuration menu using the keyboard and entering some\r\nmenu, when going back the focus is lost because the first element of the\r\nHTML tree is hidden. This makes it difficult to use the player using\r\naccessibility shortcuts.\r\n\r\nCloses #4652\r\n\r\nCo-authored-by: Gonzalo Rodriguez <pgonzalorodriguez@gmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0cad6ca63ac8d88f384",
    "number": 4649,
    "body": "Closes #3357\r\n\r\nThis is a rework/continuation of #3373",
    "head_branch": "addingbuttons",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0cbd6ca63ac8d88f385",
    "number": 4648,
    "body": "If a stream switch occurs during a playlist update, that update may need to be cancelled.  This handles this edge case to prevent an exception trying to access stream.segmentIndex.\r\n\r\nCloses #4647",
    "head_branch": "fix-hls-lazy-loading-race-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix HLS lazy-loading exception during update (#4648)\n\nIf a stream switch occurs during a playlist update, that update may need\r\nto be cancelled. This handles this edge case to prevent an exception\r\ntrying to access stream.segmentIndex.\r\n\r\nCloses #4647"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0ccd6ca63ac8d88f386",
    "number": 4646,
    "body": "Now that DRM info is only parsed after playback has begun, the manifest parser needs to communicate back to the other components that new DRM info is available after lazy-loading a playlist.\r\n\r\nCloses #4622",
    "head_branch": "fix-hls-lazy-loading-drm",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix HLS lazy-loading with DRM (#4646)\n\nNow that DRM info is only parsed after playback has begun, the manifest\r\nparser needs to communicate back to the other components that new DRM\r\ninfo is available after lazy-loading a playlist.\r\n\r\nCloses #4622"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0cdd6ca63ac8d88f387",
    "number": 4645,
    "body": "For HLS lazy-loading, there was a race.  If a call to switch streams occurred during a fetch-and-append operation in StreamingEngine, there would be two calls to createSegmentIndex() for the same stream.  This was being mishandled in the HLS parser, such that the second call would return immediately without waiting on the creation of the segment index.\r\n\r\nThis fixes HLS's createSegmentIndex() method to ensure that multiple calls on the same stream return the same Promise.\r\n\r\nCloses #4621",
    "head_branch": "fix-hls-lazy-loading-race",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix HLS lazy-loading exception on switch (#4645)\n\nFor HLS lazy-loading, there was a race. If a call to switch streams\r\noccurred during a fetch-and-append operation in StreamingEngine, there\r\nwould be two calls to createSegmentIndex() for the same stream. This was\r\nbeing mishandled in the HLS parser, such that the second call would\r\nreturn immediately without waiting on the creation of the segment index.\r\n\r\nThis fixes HLS's createSegmentIndex() method to ensure that multiple\r\ncalls on the same stream return the same Promise.\r\n\r\nCloses #4621"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0ced6ca63ac8d88f388",
    "number": 4644,
    "body": "Our Cast API sends update messages from receiver to sender, and we have observed before that there is a hidden limit on the size of those messages.  A test was written long ago to catch unexpected increases in message sizes, and it has recently started failing.\r\n\r\nOur original limit on individual messages was set to 6kB, but later raised to 7kB to silence test failures.  Our original goal was to keep messages well under 8kB.  We also had a limit on the average message size of 3kB (over 50 messages).\r\n\r\nThis change greatly reduces the sizes of individual messages by splitting out updates to certain getters into their own messages. These are the getters that produce the most data: getConfiguration(), getStats(), getVariantTracks(), and getTextTracks().  In testing, getConfiguration() alone is nearly 4kB with defaults, so this is a signficant chunk of the test limit of 7kB.\r\n\r\nWith this change, the max message size seen in tests was reduced from ~7kB to ~4kB, and the average message size was reduced from ~2kB to ~1kB.  With this, we are lowering the thresholds in tests back to 6kB (max) and 2kB (average).\r\n\r\nThis also adds new versions of these message size tests for clear content.  Although DRM content will generate larger messages, I had to do some of the work on this change while my internet connection was out, and I found it very useful to be able to run a version of these tests that did not require an internet connection (for a DRM license).",
    "head_branch": "reduce-cast-message-size",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(cast): Reduce size of Cast update messages (#4644)\n\nOur Cast API sends update messages from receiver to sender, and we have\r\nobserved before that there is a hidden limit on the size of those\r\nmessages. A test was written long ago to catch unexpected increases in\r\nmessage sizes, and it has recently started failing.\r\n\r\nOur original limit on individual messages was set to 6kB, but later\r\nraised to 7kB to silence test failures. Our original goal was to keep\r\nmessages well under 8kB. We also had a limit on the average message size\r\nof 3kB (over 50 messages).\r\n\r\nThis change greatly reduces the sizes of individual messages by\r\nsplitting out updates to certain getters into their own messages. These\r\nare the getters that produce the most data: getConfiguration(),\r\ngetStats(), getVariantTracks(), and getTextTracks(). In testing,\r\ngetConfiguration() alone is nearly 4kB with defaults, so this is a\r\nsignficant chunk of the test limit of 7kB.\r\n\r\nWith this change, the max message size seen in tests was reduced from\r\n~7kB to ~4kB, and the average message size was reduced from ~2kB to\r\n~1kB. With this, we are lowering the thresholds in tests back to 6kB\r\n(max) and 2kB (average).\r\n\r\nThis also adds new versions of these message size tests for clear\r\ncontent. Although DRM content will generate larger messages, I had to do\r\nsome of the work on this change while my internet connection was out,\r\nand I found it very useful to be able to run a version of these tests\r\nthat did not require an internet connection (for a DRM license)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0cfd6ca63ac8d88f389",
    "number": 4643,
    "body": "For HLS non native, Shaka gets the captions from mux.js transmuxer. This\r\n works until you seek back before the buffered range. In mux.js there is\r\n a condition that ignores a caption if this belongs to a DTS that is\r\nbehind the latest it already has parsed.\r\n\r\nTo handle seeks, it adds a reset method that is called by the transmuxer.resetCaptions() method in mp4\\transmuxer.js in mux.js. But Shaka Player is not calling it. So I added the resetCaptions() method to the mux.js extern definition and we called it in the appendBuffer method in media_source_engine.js before sending the data to transmux and only if the seeked parameter is True.\r\n\r\nCloses #4641 ",
    "head_branch": "fix_HLS_embed_closed_captions_not_shown_when_seeking_back",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: embed cc not shown when seeking back (#4643)\n\nFor HLS non native, Shaka gets the captions from mux.js transmuxer. This\r\n works until you seek back before the buffered range. In mux.js there is\r\n a condition that ignores a caption if this belongs to a DTS that is\r\nbehind the latest it already has parsed.\r\n\r\nTo handle seeks, it adds a reset method that is called by the\r\ntransmuxer.resetCaptions() method in mp4\\transmuxer.js in mux.js. But\r\nShaka Player is not calling it. So I added the resetCaptions() method to\r\nthe mux.js extern definition and we called it in the appendBuffer method\r\nin media_source_engine.js before sending the data to transmux and only\r\nif the seeked parameter is True.\r\n\r\nCloses #4641"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0d0d6ca63ac8d88f38a",
    "number": 4642,
    "body": null,
    "head_branch": "simplify-transmuxer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Simplify transmuxer to allow more mimetypes in the future (#4642)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0d1d6ca63ac8d88f38b",
    "number": 4640,
    "body": "Close https://github.com/shaka-project/shaka-player/issues/4547",
    "head_branch": "metadata-assert",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix metadata assert when the ID3 is future (coming in a previous segment) (#4640)\n\nClose https://github.com/shaka-project/shaka-player/issues/4547"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0d2d6ca63ac8d88f38c",
    "number": 4639,
    "body": null,
    "head_branch": "id3-transmux-aac",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix dispatch ID3 metadata when transmuxing AAC (#4639)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0d3d6ca63ac8d88f38d",
    "number": 4636,
    "body": null,
    "head_branch": "update-roadmap",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update roadmap (#4636)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0d4d6ca63ac8d88f38e",
    "number": 4635,
    "body": "In general, streaming.failureCallback is meant to give applications control over error handling at the level of streaming.  However, there was a special case for HTTP 404s built into StreamingEngine in a way that applications could not override.  This was in spite of the fact that the default failureCallback would already check for and retry on the error code BAD_HTTP_STATUS.\r\n\r\nThis removes the special case in StreamingEngine and refactors failureCallback and retryStreaming to preserve the special delay imposed in the old 404 handler.  With this, applications can override failureCallback to have complete control over 404 handling.\r\n\r\nCloses #4548",
    "head_branch": "move-404-handling",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Allow overriding special handling of 404s (#4635)\n\nIn general, streaming.failureCallback is meant to give applications\r\ncontrol over error handling at the level of streaming. However, there\r\nwas a special case for HTTP 404s built into StreamingEngine in a way\r\nthat applications could not override. This was in spite of the fact that\r\nthe default failureCallback would already check for and retry on the\r\nerror code BAD_HTTP_STATUS.\r\n\r\nThis removes the special case in StreamingEngine and refactors\r\nfailureCallback and retryStreaming to preserve the special delay imposed\r\nin the old 404 handler. With this, applications can override\r\nfailureCallback to have complete control over 404 handling.\r\n\r\nCloses #4548"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0d5d6ca63ac8d88f38f",
    "number": 4633,
    "body": "This removes the overly-complex docker-compose system and rewrites the Dockerfile.  It also changes the docker commands to those that specify a user ID, so that build outputs are written as the current user.\r\n\r\nCloses #4387 (failed docker build not detected in CI)\r\nIssue #4619 (failed to build w/ docker)",
    "head_branch": "fix-docker-build",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Fix Docker-based builds (#4633)\n\nThis removes the overly-complex docker-compose system and rewrites the\r\nDockerfile. It also changes the docker commands to those that specify a\r\nuser ID, so that build outputs are written as the current user.\r\n\r\nCloses #4387 (failed docker build not detected in CI)\r\nIssue #4619 (failed to build w/ docker)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0d6d6ca63ac8d88f390",
    "number": 4632,
    "body": null,
    "head_branch": "aac-transmuxer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add AAC transmuxer (#4632)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0d7d6ca63ac8d88f391",
    "number": 4630,
    "body": "The MCap API on the EOS set-top boxes is rather buggy thus we're relying on the polyfill instead.",
    "head_branch": "eos_mcap_polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Force using mcap polyfill on EOS browsers (#4630)\n\nThe MCap API on the EOS set-top boxes is rather buggy thus we're relying\r\non the polyfill instead."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0d8d6ca63ac8d88f392",
    "number": 4629,
    "body": "Perform the `primary` check after `role` check to improve period flattening on streams with both `main` and `description` audio tracks.\r\n\r\nResolves #4500",
    "head_branch": "issue/4500-description-audio-fix",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "fix: Fix multi-period DASH with descriptive audio (#4629)\n\nPerform the `primary` check after `role` check to improve period\r\nflattening on streams with both `main` and `description` audio tracks.\r\n\r\nResolves #4500\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0d9d6ca63ac8d88f393",
    "number": 4628,
    "body": "This is an automated sync of common workflows for this organization.\nThe upstream source is:\nhttps://github.com/shaka-project/shaka-github-tools/commit/8bfe75f0d28b0b824e37b192623abb528bd275b0\n",
    "head_branch": "sync-common-workflows",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Sync common workflows (#4628)\n\nThis is an automated sync of common workflows for this organization.\r\nThe upstream source is:\r\n\r\nhttps://github.com/shaka-project/shaka-github-tools/commit/8bfe75f0d28b0b824e37b192623abb528bd275b0\r\n\r\nCo-authored-by: Shaka Bot <shaka-bot@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0dad6ca63ac8d88f394",
    "number": 4627,
    "body": null,
    "head_branch": "clearkeys-as-raw",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Allow clearKey configuration in base64 or hex (#4627)\n\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0dbd6ca63ac8d88f395",
    "number": 4624,
    "body": "Due to shaka-project/generic-webdriver-server#57, we can not communicate with our Tizen TV in the lab.  Until this is resolved, we must disable the device in our Selenium grid config.",
    "head_branch": "disable-tizen",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Disable Tizen (#4624)\n\nDue to shaka-project/generic-webdriver-server#57, we can not communicate\r\nwith our Tizen TV in the lab. Until this is resolved, we must disable\r\nthe device in our Selenium grid config."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0dcd6ca63ac8d88f396",
    "number": 4623,
    "body": null,
    "head_branch": "hls-sequencemode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Add HLS support for non-sequence mode (#4623)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0ddd6ca63ac8d88f397",
    "number": 4617,
    "body": null,
    "head_branch": "admanager-id3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: remove useless log about ID3 (#4617)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0ded6ca63ac8d88f398",
    "number": 4616,
    "body": null,
    "head_branch": "id3-dai",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: DAI ID3 metadata parsing (#4616)\n\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0dfd6ca63ac8d88f399",
    "number": 4615,
    "body": null,
    "head_branch": "hls-guard-segmentIndex-release",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Add a guard on closeSegmentIndex (#4615)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e0d6ca63ac8d88f39a",
    "number": 4614,
    "body": "Resolves #4613 \r\n\r\nLimit key ids to 32 hex characters to avoid lookup misses on platforms that provide keys larger than 128 bits (FoxTel).",
    "head_branch": "issue/4613-keyid-length",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "fix: Limit key ids to 32 characters (#4614)\n\nResolves #4613 \r\n\r\nLimit key ids to 32 hex characters to avoid lookup misses on platforms\r\nthat provide keys larger than 128 bits (FoxTel).\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e1d6ca63ac8d88f39b",
    "number": 4612,
    "body": null,
    "head_branch": "improvements-ts-parser",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: TS parser improvements (#4612)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e2d6ca63ac8d88f39c",
    "number": 4609,
    "body": null,
    "head_branch": "id3-ts-parser",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "fix: Fix ID3 parsing in TS segments (#4609)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e3d6ca63ac8d88f39d",
    "number": 4607,
    "body": null,
    "head_branch": "dash-config-sequence-mode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add config for sequenceMode in DASH (#4607)\n\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e3d6ca63ac8d88f39e",
    "number": 4606,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4512",
    "head_branch": "clear-encrypted-periods",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: fix support clear and encrypted periods (#4606)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4512"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e4d6ca63ac8d88f39f",
    "number": 4603,
    "body": "v2 uses a deprecated node version (12), and v3 uses a current version (16).",
    "head_branch": "update-checkout-actions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Update actions/checkout version (#4603)\n\nv2 uses a deprecated node version (12), and v3 uses a current version\r\n(16)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e5d6ca63ac8d88f3a0",
    "number": 4602,
    "body": "Broken in 062aa07e71c01325a03bb27c2c3e9abe99c20443 (#4588)",
    "head_branch": "fix-coverage-reports",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix incremental coverage reports (#4602)\n\nBroken in 062aa07e71c01325a03bb27c2c3e9abe99c20443 (#4588)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e6d6ca63ac8d88f3a1",
    "number": 4601,
    "body": "We assume before a playlist is loaded that the content is MP4.  But once a single playlist is loaded with TS, we should then assume that all the other playlists of that type (video/audio) are also TS. Otherwise, as-yet-unloaded playlists are filtered out of the variants list as \"incompatible\".",
    "head_branch": "fix-ts-lazy-load",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix lazy-loading of TS content (#4601)\n\nWe assume before a playlist is loaded that the content is MP4.  But once a single playlist is loaded with TS, we should then assume that all the other playlists of that type (video/audio) are also TS. Otherwise, as-yet-unloaded playlists are filtered out of the variants list as \"incompatible\"."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e7d6ca63ac8d88f3a2",
    "number": 4598,
    "body": "Harden the XmlUtils.parseXmlString function against XML documents that embed elements from the HTML or SVG namespaces, which could trigger script execution and cause XSS vulnerabilities.\r\n\r\nAlso migrate direct users of the DOMParser.parseFromString function to XmlUtils, and add appropriate unit tests.",
    "head_branch": "secure-xml-parsing",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Make XML parsing secure (#4598)\n\nHarden the XmlUtils.parseXmlString function against XML documents that embed elements from the HTML or SVG namespaces, which could trigger script execution and cause XSS vulnerabilities.\r\n\r\nAlso migrate direct users of the DOMParser.parseFromString function to XmlUtils, and add appropriate unit tests."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e8d6ca63ac8d88f3a3",
    "number": 4597,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.3](https://github.com/shaka-project/shaka-player/compare/v4.2.2...v4.2.3) (2022-10-29)\n\n\n### Bug Fixes\n\n* **ads:** Fix IMA crash when autoplay is rejected ([#4518](https://github.com/shaka-project/shaka-player/issues/4518)) ([871a3c0](https://github.com/shaka-project/shaka-player/commit/871a3c0315a2965c91ebdde9815c7f6c5e0a59de)), closes [#4179](https://github.com/shaka-project/shaka-player/issues/4179)\n* Fix HLS live stream subtitle offsets ([#4586](https://github.com/shaka-project/shaka-player/issues/4586)) ([ec0b4dc](https://github.com/shaka-project/shaka-player/commit/ec0b4dcb0e288ceb1a01874db99063ef54fb3e47))\n* Fix multi-period DASH with descriptive audio ([#4629](https://github.com/shaka-project/shaka-player/issues/4629)) ([0e70b87](https://github.com/shaka-project/shaka-player/commit/0e70b874cf8558207b0620516c5608c6a201018d)), closes [#4500](https://github.com/shaka-project/shaka-player/issues/4500)\n* fix support clear and encrypted periods ([#4606](https://github.com/shaka-project/shaka-player/issues/4606)) ([8ece8ea](https://github.com/shaka-project/shaka-player/commit/8ece8ea225fb8b9ec9027dacef0865cceb3fd93b))\n* Force using mcap polyfill on EOS browsers ([#4630](https://github.com/shaka-project/shaka-player/issues/4630)) ([6b9f806](https://github.com/shaka-project/shaka-player/commit/6b9f806df54cc7b8761ef1683cefe5ed8d576a03))\n* **hls:** Fix raw format detection when the main playlist hasn't type ([#4583](https://github.com/shaka-project/shaka-player/issues/4583)) ([4053088](https://github.com/shaka-project/shaka-player/commit/4053088847eff6d7ddb7a969701fa881f6e90e8a))\n* Limit key ids to 32 characters ([#4614](https://github.com/shaka-project/shaka-player/issues/4614)) ([6fc1455](https://github.com/shaka-project/shaka-player/commit/6fc145584ffc0798a6e97c5672409b1e1613f164))\n* Make XML parsing secure ([#4598](https://github.com/shaka-project/shaka-player/issues/4598)) ([2e45696](https://github.com/shaka-project/shaka-player/commit/2e45696c10f3c2199a372a7a5f311579e627cd8e))\n* **offline:** Add storage muxer init timeout ([#4566](https://github.com/shaka-project/shaka-player/issues/4566)) ([6022907](https://github.com/shaka-project/shaka-player/commit/6022907df5e3a18b552a49e537d2c1daeebbc2c6))\n* **playhead:** Safeguard getStallsDetected as stallDetector can be null ([#4581](https://github.com/shaka-project/shaka-player/issues/4581)) ([c4ee14f](https://github.com/shaka-project/shaka-player/commit/c4ee14f2abcdd83b21e64230b67ab121c1db037e))\n* Resolve load failures for TS-based content on Android-based Cast devices ([#4569](https://github.com/shaka-project/shaka-player/issues/4569)). ([#4570](https://github.com/shaka-project/shaka-player/issues/4570)) ([4a4f48d](https://github.com/shaka-project/shaka-player/commit/4a4f48d2cac726e2a5a1d4e51e89f0b854e281ef))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.3 (#4597)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0e9d6ca63ac8d88f3a4",
    "number": 4596,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.1.6](https://github.com/shaka-project/shaka-player/compare/v4.1.5...v4.1.6) (2022-10-29)\n\n\n### Bug Fixes\n\n* **ads:** Fix IMA crash when autoplay is rejected ([#4518](https://github.com/shaka-project/shaka-player/issues/4518)) ([0bc2001](https://github.com/shaka-project/shaka-player/commit/0bc2001a5fb8e4ee657f52a2926c91c223058331)), closes [#4179](https://github.com/shaka-project/shaka-player/issues/4179)\n* Fix HLS live stream subtitle offsets ([#4586](https://github.com/shaka-project/shaka-player/issues/4586)) ([cf5b978](https://github.com/shaka-project/shaka-player/commit/cf5b9787104b445dbd5e478da60e7f2b4e3e069e))\n* Fix multi-period DASH with descriptive audio ([#4629](https://github.com/shaka-project/shaka-player/issues/4629)) ([8cc3704](https://github.com/shaka-project/shaka-player/commit/8cc37045a32fa1884c64ce371f1d0c4c767e3f0e)), closes [#4500](https://github.com/shaka-project/shaka-player/issues/4500)\n* fix support clear and encrypted periods ([#4606](https://github.com/shaka-project/shaka-player/issues/4606)) ([4c4b799](https://github.com/shaka-project/shaka-player/commit/4c4b799d45884fd0165e5c45084f2dfe1254562f))\n* Force using mcap polyfill on EOS browsers ([#4630](https://github.com/shaka-project/shaka-player/issues/4630)) ([ab865a4](https://github.com/shaka-project/shaka-player/commit/ab865a4e52ffc4b7c98a3dba84c748c259006843))\n* **hls:** Fix raw format detection when the main playlist hasn't type ([#4583](https://github.com/shaka-project/shaka-player/issues/4583)) ([c9a835d](https://github.com/shaka-project/shaka-player/commit/c9a835d3e7c3a2512958f887b2bde54dc35c8e05))\n* Limit key ids to 32 characters ([#4614](https://github.com/shaka-project/shaka-player/issues/4614)) ([27e996e](https://github.com/shaka-project/shaka-player/commit/27e996ea3f27d3ed8df550859a6a3715d8cb74b8))\n* Make XML parsing secure ([#4598](https://github.com/shaka-project/shaka-player/issues/4598)) ([265d56d](https://github.com/shaka-project/shaka-player/commit/265d56d65d51f2b29cafe7e04a630e896a35a168))\n* **offline:** Add storage muxer init timeout ([#4566](https://github.com/shaka-project/shaka-player/issues/4566)) ([ac719be](https://github.com/shaka-project/shaka-player/commit/ac719be1ecf5c9694eabb4c33680ee3c04a6be4f))\n* **playhead:** Safeguard getStallsDetected as stallDetector can be null ([#4581](https://github.com/shaka-project/shaka-player/issues/4581)) ([5d12efd](https://github.com/shaka-project/shaka-player/commit/5d12efd5105989948f99f8d449a8d0854b18af91))\n* Resolve load failures for TS-based content on Android-based Cast devices ([#4569](https://github.com/shaka-project/shaka-player/issues/4569)). ([#4570](https://github.com/shaka-project/shaka-player/issues/4570)) ([d4ea4e7](https://github.com/shaka-project/shaka-player/commit/d4ea4e70eac0a25261d88975e4a1ad27817ebff3))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.1.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.1.x): release 4.1.6 (#4596)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0ead6ca63ac8d88f3a5",
    "number": 4595,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.12](https://github.com/shaka-project/shaka-player/compare/v3.3.11...v3.3.12) (2022-10-29)\n\n\n### Bug Fixes\n\n* **ads:** Fix IMA crash when autoplay is rejected ([#4518](https://github.com/shaka-project/shaka-player/issues/4518)) ([f77c9f3](https://github.com/shaka-project/shaka-player/commit/f77c9f3bbdf2b7e00c44b4f997528bedc65b4f1a)), closes [#4179](https://github.com/shaka-project/shaka-player/issues/4179)\n* Fix multi-period DASH with descriptive audio ([#4629](https://github.com/shaka-project/shaka-player/issues/4629)) ([3a3cb24](https://github.com/shaka-project/shaka-player/commit/3a3cb24e4e519af24542d3edabd3fab130da08a2)), closes [#4500](https://github.com/shaka-project/shaka-player/issues/4500)\n* Force using mcap polyfill on EOS browsers ([#4630](https://github.com/shaka-project/shaka-player/issues/4630)) ([659a8cf](https://github.com/shaka-project/shaka-player/commit/659a8cf89b42f0470001c30728378d9f762c767d))\n* Limit key ids to 32 characters ([#4614](https://github.com/shaka-project/shaka-player/issues/4614)) ([8e6f20e](https://github.com/shaka-project/shaka-player/commit/8e6f20e26b70c8a40b30a6693f2f6c8d976c1fba))\n* Make XML parsing secure ([#4598](https://github.com/shaka-project/shaka-player/issues/4598)) ([a76c58f](https://github.com/shaka-project/shaka-player/commit/a76c58f6958562c5c6932bbe2042a414fa292315))\n* **offline:** Add storage muxer init timeout ([#4566](https://github.com/shaka-project/shaka-player/issues/4566)) ([71180ce](https://github.com/shaka-project/shaka-player/commit/71180ce5beda2439393026ae8f05db0ccc3d3d25))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.12 (#4595)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0ebd6ca63ac8d88f3a6",
    "number": 4594,
    "body": "Because our release PRs are created with the default GitHub token, they do not trigger test runs.  This is a feature of GitHub that prevents recursive loops of workflows.\r\n\r\nThis change makes it so that marking a PR \"ready for review\" will trigger the tests to run again.  This gives us an easy way to trigger test runs on a release PR, by marking it a draft, then marking it \"ready\" again.",
    "head_branch": "trigger-pr-tests-on-ready",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Re-run PR tests when leaving draft mode (#4594)\n\nBecause our release PRs are created with the default GitHub token, they\r\ndo not trigger test runs. This is a feature of GitHub that prevents\r\nrecursive loops of workflows.\r\n\r\nThis change makes it so that marking a PR \"ready for review\" will\r\ntrigger the tests to run again. This gives us an easy way to trigger\r\ntest runs on a release PR, by marking it a draft, then marking it\r\n\"ready\" again."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0ecd6ca63ac8d88f3a7",
    "number": 4593,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.14](https://github.com/shaka-project/shaka-player/compare/v3.2.13...v3.2.14) (2022-10-29)\n\n\n### Bug Fixes\n\n* **ads:** Fix IMA crash when autoplay is rejected ([#4518](https://github.com/shaka-project/shaka-player/issues/4518)) ([f619ee9](https://github.com/shaka-project/shaka-player/commit/f619ee981fdbed918835ceb5d703ee6461a5a8fe)), closes [#4179](https://github.com/shaka-project/shaka-player/issues/4179)\n* Fix multi-period DASH with descriptive audio ([#4629](https://github.com/shaka-project/shaka-player/issues/4629)) ([a92493c](https://github.com/shaka-project/shaka-player/commit/a92493c009a4cf3a8a3d95c7fbd2c13b46c4d024)), closes [#4500](https://github.com/shaka-project/shaka-player/issues/4500)\n* Force using mcap polyfill on EOS browsers ([#4630](https://github.com/shaka-project/shaka-player/issues/4630)) ([a8ea1ad](https://github.com/shaka-project/shaka-player/commit/a8ea1adb8c2559e49d668a69448c837ef4670c04))\n* Limit key ids to 32 characters ([#4614](https://github.com/shaka-project/shaka-player/issues/4614)) ([976e932](https://github.com/shaka-project/shaka-player/commit/976e932c2af6ce7b6f7db9c253eb25b4c28e39c5))\n* Make XML parsing secure ([#4598](https://github.com/shaka-project/shaka-player/issues/4598)) ([09aed18](https://github.com/shaka-project/shaka-player/commit/09aed189431b13d46050501d9a8ad98a7bdf1950))\n* **offline:** Add storage muxer init timeout ([#4566](https://github.com/shaka-project/shaka-player/issues/4566)) ([251533c](https://github.com/shaka-project/shaka-player/commit/251533c7feda9d474d779e3d8f70489d0413f917))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.14 (#4593)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0edd6ca63ac8d88f3a8",
    "number": 4592,
    "body": null,
    "head_branch": "playback-mp4a.40.34",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Allow mp3 playback with mp4a.40.34 (#4592)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0eed6ca63ac8d88f3a9",
    "number": 4591,
    "body": null,
    "head_branch": "raw-formats",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Allow playback of HLS Media Playlist with RAW formats by default and support ID3 (#4591)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0efd6ca63ac8d88f3aa",
    "number": 4590,
    "body": "With HLS lazy-loading, there were some situations where the manifest had partially loaded, enough to move onto further load stages, but no segments had been loaded, so the duration is still unknown. This could cause the UI seek bar to try to determine the seek range, fail, and cause an assertion failure.\r\nThese were not fatal errors, but they still fill up the console and make it look like something worse is happening, so they should be fixed.\r\nWith this change, the player returns a seek range of 0 to 0 until the asset is fully loaded.",
    "head_branch": "otherLazyLoadProblemBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Return 0-0 seek range until fully loaded (#4590)\n\nWith HLS lazy-loading, there were some situations where the manifest had partially loaded, enough to move onto further load stages, but no segments had been loaded, so the duration is still unknown. This could cause the UI seek bar to try to determine the seek range, fail, and cause an assertion failure.\r\nThese were not fatal errors, but they still fill up the console and make it look like something worse is happening, so they should be fixed.\r\nWith this change, the player returns a seek range of 0 to 0 until the asset is fully loaded."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f0d6ca63ac8d88f3ab",
    "number": 4588,
    "body": "GitHub is deprecating the set-output syntax and moving to writing outputs to a file.  This updates our workflows to match.\r\n\r\nSee https://github.blog/changelog/2022-10-11-github-actions-deprecating-save-state-and-set-output-commands/",
    "head_branch": "update-workflow-syntax",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Update workflow syntax (#4588)\n\nGitHub is deprecating the set-output syntax and moving to writing\r\noutputs to a file. This updates our workflows to match.\r\n\r\nSee\r\nhttps://github.blog/changelog/2022-10-11-github-actions-deprecating-save-state-and-set-output-commands/"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f1d6ca63ac8d88f3ac",
    "number": 4587,
    "body": null,
    "head_branch": "lab-updates",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Add EdgeLinux and EdgeMac, update screenshots (#4587)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f2d6ca63ac8d88f3ad",
    "number": 4586,
    "body": "Subtitle timing and offsets were not calculated correctly for HLS live streams.  This issue appears to have affected all v4.x releases up to v4.0.5, v4.1.5, and v4.2.2.",
    "head_branch": "b253104251",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix HLS live stream subtitle offsets (#4586)\n\nSubtitle timing and offsets were not calculated correctly for HLS live\r\nstreams. This issue appears to have affected all v4.x releases up to\r\nv4.0.5, v4.1.5, and v4.2.2."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f3d6ca63ac8d88f3ae",
    "number": 4585,
    "body": null,
    "head_branch": "hls-live-segments-delay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): allow customize live segments delay (#4585)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f4d6ca63ac8d88f3af",
    "number": 4584,
    "body": "Continuation of https://github.com/shaka-project/shaka-player/pull/4497",
    "head_branch": "thumbnails-sprites",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add external thumbnails with sprites support (#4584)\n\nContinuation of https://github.com/shaka-project/shaka-player/pull/4497"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f5d6ca63ac8d88f3b0",
    "number": 4583,
    "body": null,
    "head_branch": "aac-raw-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Fix raw format detection when the main playlist hasn't type (#4583)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f6d6ca63ac8d88f3b1",
    "number": 4581,
    "body": "`player.getStats()` currently fails when `stallEnabled` is set to false in Player configuration. In this PR I've added a safeguard to make sure `getStallsDetected` returns 0 when `stallDetector` is null.",
    "head_branch": "fix/getstats-without-stall-detector",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(playhead): Safeguard getStallsDetected as stallDetector can be null (#4581)\n\n`player.getStats()` currently fails when `stallEnabled` is set to false\r\nin Player configuration. In this PR I've added a safeguard to make sure\r\n`getStallsDetected` returns 0 when `stallDetector` is null."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f7d6ca63ac8d88f3b2",
    "number": 4580,
    "body": "In this PR I implement handling of alignment by line numbers in `shaka.text.UITextDisplayer`. \r\n\r\nI noticed a WebVTT file I was using that included cues with negative line numbers wasn't handled properly by Shaka, when I started debugging I came across this TODO, so I decided to try and contribute. \r\n\r\nIf I understand [the spec](https://developer.mozilla.org/en-US/docs/Web/API/WebVTT_API#cue_settings) properly, all we need to do in Shaka is position from bottom up when the number is negative, and top down when the number is 0 or positive.",
    "head_branch": "fix/handle-vtt-cue-line-numbers",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f8d6ca63ac8d88f3b3",
    "number": 4578,
    "body": null,
    "head_branch": "hls-live-behavior",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Allow customization of HLS Live behavior (#4578)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f8d6ca63ac8d88f3b4",
    "number": 4577,
    "body": null,
    "head_branch": "edge-ubuntu-actions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Add Edge Linux support in github actions (#4577)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0f9d6ca63ac8d88f3b5",
    "number": 4576,
    "body": null,
    "head_branch": "tizen-test",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix failed test on Tizen (#4576)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0fad6ca63ac8d88f3b6",
    "number": 4575,
    "body": "A new method `shaka.media.Playhead.ready` has been added for start time operations.\r\n\r\nFixes #4244",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Content reload starttime with HLS on iOS (#4575)\n\nA new method `shaka.media.Playhead.ready` has been added for start time\r\noperations.\r\n\r\nFixes #4244"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0fbd6ca63ac8d88f3b7",
    "number": 4573,
    "body": "The changes to implement lazy-loading broke the previous functionality to load media playlists directly, as they are not lazy loaded. This fixes that case, so that lazy-loaded media playlists will correctly set their duration and presentation type.\r\n\r\nIssue #1936\r\nIssue #3536",
    "head_branch": "lazyLoadSingleVariantBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Fix single-variant HLS streams (#4573)\n\nThe changes to implement lazy-loading broke the previous functionality\r\nto load media playlists directly, as they are not lazy loaded. This\r\nfixes that case, so that lazy-loaded media playlists will correctly set\r\ntheir duration and presentation type.\r\n\r\nIssue #1936\r\nIssue #3536"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0fcd6ca63ac8d88f3b8",
    "number": 4570,
    "body": "See https://github.com/shaka-project/shaka-player/issues/4569 for more context.\r\n\r\nThis affects any Chromecast model which contains the substring `Android` in their userAgent. For TS content, this causes Shaka to incorrectly filter all stream variants leaving nothing for the player to select for playback (resulting in a `4032` error): https://github.com/shaka-project/shaka-player/blob/757b34e5959f14c9a5b5aed173cc99d98a794a40/lib/util/stream_utils.js#L484-L491.",
    "head_branch": "4569-mcap-castandroid",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Resolve load failures for TS-based content on Android-based Cast devices (#4569). (#4570)\n\nSee https://github.com/shaka-project/shaka-player/issues/4569 for more\r\ncontext.\r\n\r\nThis affects any Chromecast model which contains the substring `Android`\r\nin their userAgent. For TS content, this causes Shaka to incorrectly\r\nfilter all stream variants leaving nothing for the player to select for\r\nplayback (resulting in a `4032` error):\r\nhttps://github.com/shaka-project/shaka-player/blob/757b34e5959f14c9a5b5aed173cc99d98a794a40/lib/util/stream_utils.js#L484-L491."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": true
  },
  {
    "_id": "6621a0fdd6ca63ac8d88f3b9",
    "number": 4568,
    "body": "We tested this fix internally our HLS streams but also with the stream mentioned in https://github.com/shaka-project/shaka-player/issues/741#issuecomment-1220036539\r\n\r\ntest stream: https://content.uplynk.com/playlist/ebbbf2111be144a4971dd8426b70e809.m3u8?rmt=wv&m4fenctype=cenc\r\n\r\nlicense server url: https://content.uplynk.com/wv\r\n\r\nFixes #741",
    "head_branch": "key-rotation",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Support for HLS key rotation (#4568)\n\nFixes #741"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0fed6ca63ac8d88f3ba",
    "number": 4566,
    "body": "In some cases, indexedDB.open() can end up calling neither callback. When this does happen, according to my initial testing, it happens consistently when reloading the page, so it's not a one-off fluke but presumably some sort of implementation or browser install problem. If that does happen, the init promise of the storage muxer hangs forever, potentially blocking other operations from happening. This adds a timeout to the invocation of indexedDB.open(), after which the operation fails with a new error.",
    "head_branch": "muxDefaultBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(offline): Add storage muxer init timeout (#4566)\n\nIn some cases, indexedDB.open() can end up calling neither callback.\r\nWhen this does happen, according to my initial testing, it happens\r\nconsistently when reloading the page, so it's not a one-off fluke but\r\npresumably some sort of implementation or browser install problem. If\r\nthat does happen, the init promise of the storage muxer hangs forever,\r\npotentially blocking other operations from happening. This adds a\r\ntimeout to the invocation of indexedDB.open(), after which the operation\r\nfails with a new error."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a0ffd6ca63ac8d88f3bb",
    "number": 4565,
    "body": "Changes are as follows:\r\n1. Fixed demo breaking dependencies.\r\n2. Fixed some typos\r\n3. Added LCEVC support section to readme.",
    "head_branch": "add-demo-dependency-lcevc",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fixed LCEVC decode breaking dependencies issue and read me addition (#4565)\n\nChanges are as follows:\r\n1. Fixed demo breaking dependencies.\r\n2. Fixed some typos\r\n3. Added LCEVC support section to readme.\r\n\r\nCo-authored-by: Vinod Balakrishnan <vinod.balakrishnan@v-nova.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a100d6ca63ac8d88f3bc",
    "number": 4564,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4561",
    "head_branch": "hls-media-aac",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Allow playback of HLS Media Playlist with AAC by default (#4564)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4561"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a101d6ca63ac8d88f3bd",
    "number": 4560,
    "body": "- Allow enable/disable LCEVC via configuration\r\n- Add LCEVC filtering in the demo\r\n- Add a new LCEVC asset",
    "head_branch": "lcevc",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Improved LCEVC integration (#4560)\n\n- Allow enable/disable LCEVC via configuration\r\n- Add LCEVC filtering in the demo\r\n- Add a new LCEVC asset"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a102d6ca63ac8d88f3be",
    "number": 4557,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.13](https://github.com/shaka-project/shaka-player/compare/v3.2.12...v3.2.13) (2022-10-07)\n\n\n### Bug Fixes\n\n* allow build without text ([#4506](https://github.com/shaka-project/shaka-player/issues/4506)) ([5f3afd4](https://github.com/shaka-project/shaka-player/commit/5f3afd443cf9999997a471eee702b3b76c5e350e))\n* allow the playback on platforms when low latency APIs are not supported ([#4485](https://github.com/shaka-project/shaka-player/issues/4485)) ([0239aa5](https://github.com/shaka-project/shaka-player/commit/0239aa50d9653ebe6e44e8619fd7bc25d378ff6d))\n* check for negative rows before moving ([#4510](https://github.com/shaka-project/shaka-player/issues/4510)) ([12e3305](https://github.com/shaka-project/shaka-player/commit/12e3305e6d121ed1cb3d3cf686be68cfdff2d9fb)), closes [#4508](https://github.com/shaka-project/shaka-player/issues/4508)\n* Filter unsupported H.264 streams in Xbox ([#4493](https://github.com/shaka-project/shaka-player/issues/4493)) ([ea02766](https://github.com/shaka-project/shaka-player/commit/ea0276686d77e3444cf14f30f3f294c48be117e8))\n* Fix hang when seeking to the last segment ([#4537](https://github.com/shaka-project/shaka-player/issues/4537)) ([951aaea](https://github.com/shaka-project/shaka-player/commit/951aaea8225b75beea5d2699b0213bb1a950c679))\n* Respect existing app usage of Cast SDK ([#4523](https://github.com/shaka-project/shaka-player/issues/4523)) ([da5fd15](https://github.com/shaka-project/shaka-player/commit/da5fd1524a415d93c7e27b3557ec994d34fb0525)), closes [#4521](https://github.com/shaka-project/shaka-player/issues/4521)\n* **ttml:** Default TTML background color to transparent if unspecified ([#4496](https://github.com/shaka-project/shaka-player/issues/4496)) ([0c6ad6d](https://github.com/shaka-project/shaka-player/commit/0c6ad6ddb30067e5872f2715bdcd8d2975bec23e)), closes [#4468](https://github.com/shaka-project/shaka-player/issues/4468)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.13 (#4557)\n\n:robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n##\r\n[3.2.13](https://github.com/shaka-project/shaka-player/compare/v3.2.12...v3.2.13)\r\n(2022-10-07)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* allow build without text\r\n([#4506](https://github.com/shaka-project/shaka-player/issues/4506))\r\n([5f3afd4](https://github.com/shaka-project/shaka-player/commit/5f3afd443cf9999997a471eee702b3b76c5e350e))\r\n* allow the playback on platforms when low latency APIs are not\r\nsupported\r\n([#4485](https://github.com/shaka-project/shaka-player/issues/4485))\r\n([0239aa5](https://github.com/shaka-project/shaka-player/commit/0239aa50d9653ebe6e44e8619fd7bc25d378ff6d))\r\n* check for negative rows before moving\r\n([#4510](https://github.com/shaka-project/shaka-player/issues/4510))\r\n([12e3305](https://github.com/shaka-project/shaka-player/commit/12e3305e6d121ed1cb3d3cf686be68cfdff2d9fb)),\r\ncloses\r\n[#4508](https://github.com/shaka-project/shaka-player/issues/4508)\r\n* Filter unsupported H.264 streams in Xbox\r\n([#4493](https://github.com/shaka-project/shaka-player/issues/4493))\r\n([ea02766](https://github.com/shaka-project/shaka-player/commit/ea0276686d77e3444cf14f30f3f294c48be117e8))\r\n* Fix hang when seeking to the last segment\r\n([#4537](https://github.com/shaka-project/shaka-player/issues/4537))\r\n([951aaea](https://github.com/shaka-project/shaka-player/commit/951aaea8225b75beea5d2699b0213bb1a950c679))\r\n* Respect existing app usage of Cast SDK\r\n([#4523](https://github.com/shaka-project/shaka-player/issues/4523))\r\n([da5fd15](https://github.com/shaka-project/shaka-player/commit/da5fd1524a415d93c7e27b3557ec994d34fb0525)),\r\ncloses\r\n[#4521](https://github.com/shaka-project/shaka-player/issues/4521)\r\n* **ttml:** Default TTML background color to transparent if unspecified\r\n([#4496](https://github.com/shaka-project/shaka-player/issues/4496))\r\n([0c6ad6d](https://github.com/shaka-project/shaka-player/commit/0c6ad6ddb30067e5872f2715bdcd8d2975bec23e)),\r\ncloses\r\n[#4468](https://github.com/shaka-project/shaka-player/issues/4468)\r\n\r\n---\r\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please).\r\n\r\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a103d6ca63ac8d88f3bf",
    "number": 4556,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.11](https://github.com/shaka-project/shaka-player/compare/v3.3.10...v3.3.11) (2022-10-07)\n\n\n### Bug Fixes\n\n* allow build without text ([#4506](https://github.com/shaka-project/shaka-player/issues/4506)) ([5014c1d](https://github.com/shaka-project/shaka-player/commit/5014c1d50d2b612bf741f2736cf5f86522f4285b))\n* allow the playback on platforms when low latency APIs are not supported ([#4485](https://github.com/shaka-project/shaka-player/issues/4485)) ([c0fc0b4](https://github.com/shaka-project/shaka-player/commit/c0fc0b4dcaa8d3d6db2782a987e74ebe9064ea53))\n* check for negative rows before moving ([#4510](https://github.com/shaka-project/shaka-player/issues/4510)) ([359b63e](https://github.com/shaka-project/shaka-player/commit/359b63e5c9665a1884daf95aa1cba7c8470ed7bb)), closes [#4508](https://github.com/shaka-project/shaka-player/issues/4508)\n* Filter unsupported H.264 streams in Xbox ([#4493](https://github.com/shaka-project/shaka-player/issues/4493)) ([21ee94f](https://github.com/shaka-project/shaka-player/commit/21ee94fce4daa624561989600f47170c468bf962))\n* Fix hang when seeking to the last segment ([#4537](https://github.com/shaka-project/shaka-player/issues/4537)) ([2868e12](https://github.com/shaka-project/shaka-player/commit/2868e122eb5bc2db57ca96c429ad8178f7f5e3f4))\n* Respect existing app usage of Cast SDK ([#4523](https://github.com/shaka-project/shaka-player/issues/4523)) ([d2258d6](https://github.com/shaka-project/shaka-player/commit/d2258d60fab218738bfa6f80b675e65b9a7994dc)), closes [#4521](https://github.com/shaka-project/shaka-player/issues/4521)\n* **ttml:** Default TTML background color to transparent if unspecified ([#4496](https://github.com/shaka-project/shaka-player/issues/4496)) ([862ee42](https://github.com/shaka-project/shaka-player/commit/862ee42f770b6fbd19e33fd04e98882d203caf4b)), closes [#4468](https://github.com/shaka-project/shaka-player/issues/4468)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.11 (#4556)\n\n:robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n##\r\n[3.3.11](https://github.com/shaka-project/shaka-player/compare/v3.3.10...v3.3.11)\r\n(2022-10-07)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* allow build without text\r\n([#4506](https://github.com/shaka-project/shaka-player/issues/4506))\r\n([5014c1d](https://github.com/shaka-project/shaka-player/commit/5014c1d50d2b612bf741f2736cf5f86522f4285b))\r\n* allow the playback on platforms when low latency APIs are not\r\nsupported\r\n([#4485](https://github.com/shaka-project/shaka-player/issues/4485))\r\n([c0fc0b4](https://github.com/shaka-project/shaka-player/commit/c0fc0b4dcaa8d3d6db2782a987e74ebe9064ea53))\r\n* check for negative rows before moving\r\n([#4510](https://github.com/shaka-project/shaka-player/issues/4510))\r\n([359b63e](https://github.com/shaka-project/shaka-player/commit/359b63e5c9665a1884daf95aa1cba7c8470ed7bb)),\r\ncloses\r\n[#4508](https://github.com/shaka-project/shaka-player/issues/4508)\r\n* Filter unsupported H.264 streams in Xbox\r\n([#4493](https://github.com/shaka-project/shaka-player/issues/4493))\r\n([21ee94f](https://github.com/shaka-project/shaka-player/commit/21ee94fce4daa624561989600f47170c468bf962))\r\n* Fix hang when seeking to the last segment\r\n([#4537](https://github.com/shaka-project/shaka-player/issues/4537))\r\n([2868e12](https://github.com/shaka-project/shaka-player/commit/2868e122eb5bc2db57ca96c429ad8178f7f5e3f4))\r\n* Respect existing app usage of Cast SDK\r\n([#4523](https://github.com/shaka-project/shaka-player/issues/4523))\r\n([d2258d6](https://github.com/shaka-project/shaka-player/commit/d2258d60fab218738bfa6f80b675e65b9a7994dc)),\r\ncloses\r\n[#4521](https://github.com/shaka-project/shaka-player/issues/4521)\r\n* **ttml:** Default TTML background color to transparent if unspecified\r\n([#4496](https://github.com/shaka-project/shaka-player/issues/4496))\r\n([862ee42](https://github.com/shaka-project/shaka-player/commit/862ee42f770b6fbd19e33fd04e98882d203caf4b)),\r\ncloses\r\n[#4468](https://github.com/shaka-project/shaka-player/issues/4468)\r\n\r\n---\r\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please).\r\n\r\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a104d6ca63ac8d88f3c0",
    "number": 4555,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.1.5](https://github.com/shaka-project/shaka-player/compare/v4.1.4...v4.1.5) (2022-10-07)\n\n\n### Bug Fixes\n\n* allow build without text ([#4506](https://github.com/shaka-project/shaka-player/issues/4506)) ([1db6265](https://github.com/shaka-project/shaka-player/commit/1db62655276e8d2d5991f732704b7b37bb6994a3))\n* allow the playback on platforms when low latency APIs are not supported ([#4485](https://github.com/shaka-project/shaka-player/issues/4485)) ([55d1390](https://github.com/shaka-project/shaka-player/commit/55d1390c82a2dcc7965d582c33417937944f86b7))\n* check for negative rows before moving ([#4510](https://github.com/shaka-project/shaka-player/issues/4510)) ([31abae3](https://github.com/shaka-project/shaka-player/commit/31abae3201f4904e63a786015634e47a873ec789)), closes [#4508](https://github.com/shaka-project/shaka-player/issues/4508)\n* Filter unsupported H.264 streams in Xbox ([#4493](https://github.com/shaka-project/shaka-player/issues/4493)) ([1ecede6](https://github.com/shaka-project/shaka-player/commit/1ecede6cf55ff1904542bfcad548e8dc4e4b4834))\n* Fix choppy HLS startup ([#4553](https://github.com/shaka-project/shaka-player/issues/4553)) ([1675bff](https://github.com/shaka-project/shaka-player/commit/1675bffa9f410327fb53c34202daa1d75620233a)), closes [#4516](https://github.com/shaka-project/shaka-player/issues/4516)\n* Fix errors with TS segments on Chromecast ([#4543](https://github.com/shaka-project/shaka-player/issues/4543)) ([15a1c60](https://github.com/shaka-project/shaka-player/commit/15a1c60c3f4dcb5e7bc7e915ec81ca3cb17d6625))\n* Fix hang when seeking to the last segment ([#4537](https://github.com/shaka-project/shaka-player/issues/4537)) ([72a119d](https://github.com/shaka-project/shaka-player/commit/72a119d4fb3820fa97416ecedf23f96bbd5ca269))\n* Fix HLS dynamic to static transition ([932d37c](https://github.com/shaka-project/shaka-player/commit/932d37c29cadbbc54f2f9a7b3ce3b510f86384cb))\n* Fix HLS dynamic to static transition ([#4483](https://github.com/shaka-project/shaka-player/issues/4483)) ([932d37c](https://github.com/shaka-project/shaka-player/commit/932d37c29cadbbc54f2f9a7b3ce3b510f86384cb)), closes [#4431](https://github.com/shaka-project/shaka-player/issues/4431)\n* Fix in-band key rotation on Xbox One ([#4478](https://github.com/shaka-project/shaka-player/issues/4478)) ([5a8f09c](https://github.com/shaka-project/shaka-player/commit/5a8f09c03d5ca84a90985d68be6079d2f508d87f)), closes [#4401](https://github.com/shaka-project/shaka-player/issues/4401)\n* Respect existing app usage of Cast SDK ([#4523](https://github.com/shaka-project/shaka-player/issues/4523)) ([9c3a494](https://github.com/shaka-project/shaka-player/commit/9c3a494a2826e24a60898ae47766a7a41c4cce2d)), closes [#4521](https://github.com/shaka-project/shaka-player/issues/4521)\n* **ttml:** Default TTML background color to transparent if unspecified ([#4496](https://github.com/shaka-project/shaka-player/issues/4496)) ([16da1e7](https://github.com/shaka-project/shaka-player/commit/16da1e7416353584c36b29f4028352349617fe45)), closes [#4468](https://github.com/shaka-project/shaka-player/issues/4468)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.1.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.1.x): release 4.1.5 (#4555)\n\n:robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n##\r\n[4.1.5](https://github.com/shaka-project/shaka-player/compare/v4.1.4...v4.1.5)\r\n(2022-10-07)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* allow build without text\r\n([#4506](https://github.com/shaka-project/shaka-player/issues/4506))\r\n([1db6265](https://github.com/shaka-project/shaka-player/commit/1db62655276e8d2d5991f732704b7b37bb6994a3))\r\n* allow the playback on platforms when low latency APIs are not\r\nsupported\r\n([#4485](https://github.com/shaka-project/shaka-player/issues/4485))\r\n([55d1390](https://github.com/shaka-project/shaka-player/commit/55d1390c82a2dcc7965d582c33417937944f86b7))\r\n* check for negative rows before moving\r\n([#4510](https://github.com/shaka-project/shaka-player/issues/4510))\r\n([31abae3](https://github.com/shaka-project/shaka-player/commit/31abae3201f4904e63a786015634e47a873ec789)),\r\ncloses\r\n[#4508](https://github.com/shaka-project/shaka-player/issues/4508)\r\n* Filter unsupported H.264 streams in Xbox\r\n([#4493](https://github.com/shaka-project/shaka-player/issues/4493))\r\n([1ecede6](https://github.com/shaka-project/shaka-player/commit/1ecede6cf55ff1904542bfcad548e8dc4e4b4834))\r\n* Fix choppy HLS startup\r\n([#4553](https://github.com/shaka-project/shaka-player/issues/4553))\r\n([1675bff](https://github.com/shaka-project/shaka-player/commit/1675bffa9f410327fb53c34202daa1d75620233a)),\r\ncloses\r\n[#4516](https://github.com/shaka-project/shaka-player/issues/4516)\r\n* Fix errors with TS segments on Chromecast\r\n([#4543](https://github.com/shaka-project/shaka-player/issues/4543))\r\n([15a1c60](https://github.com/shaka-project/shaka-player/commit/15a1c60c3f4dcb5e7bc7e915ec81ca3cb17d6625))\r\n* Fix hang when seeking to the last segment\r\n([#4537](https://github.com/shaka-project/shaka-player/issues/4537))\r\n([72a119d](https://github.com/shaka-project/shaka-player/commit/72a119d4fb3820fa97416ecedf23f96bbd5ca269))\r\n* Fix HLS dynamic to static transition\r\n([932d37c](https://github.com/shaka-project/shaka-player/commit/932d37c29cadbbc54f2f9a7b3ce3b510f86384cb))\r\n* Fix HLS dynamic to static transition\r\n([#4483](https://github.com/shaka-project/shaka-player/issues/4483))\r\n([932d37c](https://github.com/shaka-project/shaka-player/commit/932d37c29cadbbc54f2f9a7b3ce3b510f86384cb)),\r\ncloses\r\n[#4431](https://github.com/shaka-project/shaka-player/issues/4431)\r\n* Fix in-band key rotation on Xbox One\r\n([#4478](https://github.com/shaka-project/shaka-player/issues/4478))\r\n([5a8f09c](https://github.com/shaka-project/shaka-player/commit/5a8f09c03d5ca84a90985d68be6079d2f508d87f)),\r\ncloses\r\n[#4401](https://github.com/shaka-project/shaka-player/issues/4401)\r\n* Respect existing app usage of Cast SDK\r\n([#4523](https://github.com/shaka-project/shaka-player/issues/4523))\r\n([9c3a494](https://github.com/shaka-project/shaka-player/commit/9c3a494a2826e24a60898ae47766a7a41c4cce2d)),\r\ncloses\r\n[#4521](https://github.com/shaka-project/shaka-player/issues/4521)\r\n* **ttml:** Default TTML background color to transparent if unspecified\r\n([#4496](https://github.com/shaka-project/shaka-player/issues/4496))\r\n([16da1e7](https://github.com/shaka-project/shaka-player/commit/16da1e7416353584c36b29f4028352349617fe45)),\r\ncloses\r\n[#4468](https://github.com/shaka-project/shaka-player/issues/4468)\r\n\r\n---\r\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please).\r\n\r\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a105d6ca63ac8d88f3c1",
    "number": 4554,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.2](https://github.com/shaka-project/shaka-player/compare/v4.2.1...v4.2.2) (2022-10-07)\n\n\n### Bug Fixes\n\n* allow build without text ([#4506](https://github.com/shaka-project/shaka-player/issues/4506)) ([7e93720](https://github.com/shaka-project/shaka-player/commit/7e9372097567d8d0f93c04e241fb917945da05bf))\n* allow the playback on platforms when low latency APIs are not supported ([#4485](https://github.com/shaka-project/shaka-player/issues/4485)) ([cf8c857](https://github.com/shaka-project/shaka-player/commit/cf8c857e58f041e24373e8b4f7d560287197cf13))\n* check for negative rows before moving ([#4510](https://github.com/shaka-project/shaka-player/issues/4510)) ([23f39d7](https://github.com/shaka-project/shaka-player/commit/23f39d7393c771440fc76ac9016b166d658710b2)), closes [#4508](https://github.com/shaka-project/shaka-player/issues/4508)\n* Filter unsupported H.264 streams in Xbox ([#4493](https://github.com/shaka-project/shaka-player/issues/4493)) ([914a08a](https://github.com/shaka-project/shaka-player/commit/914a08a4d08bed284a072aed52b0bf8fcbdc6986))\n* Fix choppy HLS startup ([#4553](https://github.com/shaka-project/shaka-player/issues/4553)) ([950ce69](https://github.com/shaka-project/shaka-player/commit/950ce699a06bb9e7668b431f4f08052c005f2e8a)), closes [#4516](https://github.com/shaka-project/shaka-player/issues/4516)\n* Fix errors with TS segments on Chromecast ([#4543](https://github.com/shaka-project/shaka-player/issues/4543)) ([8204db6](https://github.com/shaka-project/shaka-player/commit/8204db6ebc152cb01c36db941ca60bc82ccbe443))\n* Fix hang when seeking to the last segment ([#4537](https://github.com/shaka-project/shaka-player/issues/4537)) ([3d6c768](https://github.com/shaka-project/shaka-player/commit/3d6c768cb302de42138aec8fdf51dff8317c5607))\n* Fix HLS dynamic to static transition ([d9ecbf3](https://github.com/shaka-project/shaka-player/commit/d9ecbf3fccb886e10a491c43e05e681fe2103a2d))\n* Fix HLS dynamic to static transition ([#4483](https://github.com/shaka-project/shaka-player/issues/4483)) ([d9ecbf3](https://github.com/shaka-project/shaka-player/commit/d9ecbf3fccb886e10a491c43e05e681fe2103a2d)), closes [#4431](https://github.com/shaka-project/shaka-player/issues/4431)\n* Fix in-band key rotation on Xbox One ([#4478](https://github.com/shaka-project/shaka-player/issues/4478)) ([bc0a588](https://github.com/shaka-project/shaka-player/commit/bc0a588676828eb68bdca62efe52cb503feb947d)), closes [#4401](https://github.com/shaka-project/shaka-player/issues/4401)\n* Missing AES-128 key of last HLS segment ([#4519](https://github.com/shaka-project/shaka-player/issues/4519)) ([2c2677f](https://github.com/shaka-project/shaka-player/commit/2c2677fe7af10e1280ea8253b90ef6527bdcbbc0)), closes [#4517](https://github.com/shaka-project/shaka-player/issues/4517)\n* Respect existing app usage of Cast SDK ([#4523](https://github.com/shaka-project/shaka-player/issues/4523)) ([3db2568](https://github.com/shaka-project/shaka-player/commit/3db2568508cfc827fd9efc644096a45220eb617b)), closes [#4521](https://github.com/shaka-project/shaka-player/issues/4521)\n* **ttml:** Default TTML background color to transparent if unspecified ([#4496](https://github.com/shaka-project/shaka-player/issues/4496)) ([0b5c985](https://github.com/shaka-project/shaka-player/commit/0b5c9853a6a39cb24ab1270598bf34d2ac1eacf0)), closes [#4468](https://github.com/shaka-project/shaka-player/issues/4468)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.2 (#4554)\n\n:robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n##\r\n[4.2.2](https://github.com/shaka-project/shaka-player/compare/v4.2.1...v4.2.2)\r\n(2022-10-07)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* allow build without text\r\n([#4506](https://github.com/shaka-project/shaka-player/issues/4506))\r\n([7e93720](https://github.com/shaka-project/shaka-player/commit/7e9372097567d8d0f93c04e241fb917945da05bf))\r\n* allow the playback on platforms when low latency APIs are not\r\nsupported\r\n([#4485](https://github.com/shaka-project/shaka-player/issues/4485))\r\n([cf8c857](https://github.com/shaka-project/shaka-player/commit/cf8c857e58f041e24373e8b4f7d560287197cf13))\r\n* check for negative rows before moving\r\n([#4510](https://github.com/shaka-project/shaka-player/issues/4510))\r\n([23f39d7](https://github.com/shaka-project/shaka-player/commit/23f39d7393c771440fc76ac9016b166d658710b2)),\r\ncloses\r\n[#4508](https://github.com/shaka-project/shaka-player/issues/4508)\r\n* Filter unsupported H.264 streams in Xbox\r\n([#4493](https://github.com/shaka-project/shaka-player/issues/4493))\r\n([914a08a](https://github.com/shaka-project/shaka-player/commit/914a08a4d08bed284a072aed52b0bf8fcbdc6986))\r\n* Fix choppy HLS startup\r\n([#4553](https://github.com/shaka-project/shaka-player/issues/4553))\r\n([950ce69](https://github.com/shaka-project/shaka-player/commit/950ce699a06bb9e7668b431f4f08052c005f2e8a)),\r\ncloses\r\n[#4516](https://github.com/shaka-project/shaka-player/issues/4516)\r\n* Fix errors with TS segments on Chromecast\r\n([#4543](https://github.com/shaka-project/shaka-player/issues/4543))\r\n([8204db6](https://github.com/shaka-project/shaka-player/commit/8204db6ebc152cb01c36db941ca60bc82ccbe443))\r\n* Fix hang when seeking to the last segment\r\n([#4537](https://github.com/shaka-project/shaka-player/issues/4537))\r\n([3d6c768](https://github.com/shaka-project/shaka-player/commit/3d6c768cb302de42138aec8fdf51dff8317c5607))\r\n* Fix HLS dynamic to static transition\r\n([d9ecbf3](https://github.com/shaka-project/shaka-player/commit/d9ecbf3fccb886e10a491c43e05e681fe2103a2d))\r\n* Fix HLS dynamic to static transition\r\n([#4483](https://github.com/shaka-project/shaka-player/issues/4483))\r\n([d9ecbf3](https://github.com/shaka-project/shaka-player/commit/d9ecbf3fccb886e10a491c43e05e681fe2103a2d)),\r\ncloses\r\n[#4431](https://github.com/shaka-project/shaka-player/issues/4431)\r\n* Fix in-band key rotation on Xbox One\r\n([#4478](https://github.com/shaka-project/shaka-player/issues/4478))\r\n([bc0a588](https://github.com/shaka-project/shaka-player/commit/bc0a588676828eb68bdca62efe52cb503feb947d)),\r\ncloses\r\n[#4401](https://github.com/shaka-project/shaka-player/issues/4401)\r\n* Missing AES-128 key of last HLS segment\r\n([#4519](https://github.com/shaka-project/shaka-player/issues/4519))\r\n([2c2677f](https://github.com/shaka-project/shaka-player/commit/2c2677fe7af10e1280ea8253b90ef6527bdcbbc0)),\r\ncloses\r\n[#4517](https://github.com/shaka-project/shaka-player/issues/4517)\r\n* Respect existing app usage of Cast SDK\r\n([#4523](https://github.com/shaka-project/shaka-player/issues/4523))\r\n([3db2568](https://github.com/shaka-project/shaka-player/commit/3db2568508cfc827fd9efc644096a45220eb617b)),\r\ncloses\r\n[#4521](https://github.com/shaka-project/shaka-player/issues/4521)\r\n* **ttml:** Default TTML background color to transparent if unspecified\r\n([#4496](https://github.com/shaka-project/shaka-player/issues/4496))\r\n([0b5c985](https://github.com/shaka-project/shaka-player/commit/0b5c9853a6a39cb24ab1270598bf34d2ac1eacf0)),\r\ncloses\r\n[#4468](https://github.com/shaka-project/shaka-player/issues/4468)\r\n\r\n---\r\nThis PR was generated with [Release\r\nPlease](https://github.com/googleapis/release-please). See\r\n[documentation](https://github.com/googleapis/release-please#release-please).\r\n\r\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a106d6ca63ac8d88f3c2",
    "number": 4553,
    "body": "Clearing the buffer seems to be not enough for this case.\r\nThis avoids the choppy video start on HLS fMP4 playback.\r\n\r\nTested with Chrome 106 & Edge 106.\r\n\r\nCloses #4516",
    "head_branch": "fix-choppy-fmp4",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix choppy HLS startup (#4553)\n\nClearing the buffer seems to be not enough for this case.\r\nThis avoids the choppy video start on HLS fMP4 playback.\r\n\r\nTested with Chrome 106 & Edge 106.\r\n\r\nCloses #4516"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a107d6ca63ac8d88f3c3",
    "number": 4552,
    "body": "Adds channelCount to the Select Audio Track method, this allows for selecting a audio track based on the channel count when the language, codec and role are the same.\r\n\r\nIssue: https://github.com/shaka-project/shaka-player/issues/4550",
    "head_branch": "support-selcting-audio-track-by-channelcount",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Adds ChannelCount as a filter to the Player Select Audio Track Method (#4552)\n\nAdds channelCount to the Select Audio Track method, this allows for\r\nselecting a audio track based on the channel count when the language,\r\ncodec and role are the same.\r\n\r\nCloses #4550"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a108d6ca63ac8d88f3c4",
    "number": 4546,
    "body": "Native text rendering has changed in Chrome 106 on Mac.",
    "head_branch": "update-chrome-mac-screenshots",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Update Chrome-Mac native screenshots (#4546)\n\nNative text rendering has changed in Chrome 106 on Mac."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a109d6ca63ac8d88f3c5",
    "number": 4544,
    "body": null,
    "head_branch": "src-m3u8-mpd-detection",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a10ad6ca63ac8d88f3c6",
    "number": 4543,
    "body": "On Chromecast devices, TS-based streams tend to be more susceptible to failures related to the Cast platform's MSE implementation.\r\n\r\nOne of these failures was observed when Shaka Player updates `SourceBuffer#timestampOffset` within `MediaSourceEngine#appendBuffer()`:\r\n1. To extract a timestamp from `MediaSource` to align text segments: https://github.com/shaka-project/shaka-player/blob/3d0f752c7d0677f750dbbd9bcd2895358358628f/lib/media/media_source_engine.js#L657\r\n2. To re-align segments as a result of an unbuffered seek or automatic adaptation: https://github.com/shaka-project/shaka-player/blob/3d0f752c7d0677f750dbbd9bcd2895358358628f/lib/media/media_source_engine.js#L684-L686\r\n\r\nThe Cast platform throws the following error:\r\n```\r\n...\r\n\"stack\":\"Error: Failed to set the 'timestampOffset' property on 'SourceBuffer': The timestamp offset\r\nmay not be set while the SourceBuffer's append state is 'PARSING_MEDIA_SEGMENT'.\r\n...\r\n```\r\n\r\nOne way of resolving this is to reset the SourceBuffer's parser state, which in turn resets the append state from `PARSING_MEDIA_SEGMENT` => `WAITING_FOR_SEGMENT`: https://www.w3.org/TR/media-source-2/#sourcebuffer-reset-parser-state.\r\n\r\nOn Cast devices, the issue is reproduced consistently when Shaka switches to a new variant. There are no internally queued MSE operations in `MediaSourceEngine` when the error is thrown. Based on these observations, the input buffer passed to `MediaSourceEngine` seems to be an \"incomplete\" media segment, meaning the `SourceBuffer#appendBuffer()` call exits when the append state is still `PARSING_MEDIA_SEGMENT` ([Step `6.4` in W3C specs](https://www.w3.org/TR/media-source-2/#sourcebuffer-segment-parser-loop)) hence the error.\r\n\r\nThis is also suggested as a root cause from a Chromium engineer, with one suggested solution to call abort() beforehand ([source](https://bugs.chromium.org/p/chromium/issues/detail?id=766002#c3)). Since Shaka Player already does preemptive abort() calls when [setting stream properties](https://github.com/shaka-project/shaka-player/blob/3d0f752c7d0677f750dbbd9bcd2895358358628f/lib/media/media_source_engine.js#L836-L842), this will do the same thing.\r\n\r\n",
    "head_branch": "ts-load",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix errors with TS segments on Chromecast (#4543)\n\nOn Chromecast devices, TS-based streams tend to be more susceptible to\r\nfailures related to the Cast platform's MSE implementation.\r\n\r\nOne of these failures was observed when Shaka Player updates\r\n`SourceBuffer#timestampOffset` within\r\n`MediaSourceEngine#appendBuffer()`:\r\n1. To extract a timestamp from `MediaSource` to align text segments:\r\nhttps://github.com/shaka-project/shaka-player/blob/3d0f752c7d0677f750dbbd9bcd2895358358628f/lib/media/media_source_engine.js#L657\r\n2. To re-align segments as a result of an unbuffered seek or automatic\r\nadaptation:\r\nhttps://github.com/shaka-project/shaka-player/blob/3d0f752c7d0677f750dbbd9bcd2895358358628f/lib/media/media_source_engine.js#L684-L686\r\n\r\nThe Cast platform throws the following error:\r\n```\r\n...\r\n\"stack\":\"Error: Failed to set the 'timestampOffset' property on 'SourceBuffer': The timestamp offset\r\nmay not be set while the SourceBuffer's append state is 'PARSING_MEDIA_SEGMENT'.\r\n...\r\n```\r\n\r\nOne way of resolving this is to reset the SourceBuffer's parser state,\r\nwhich in turn resets the append state from `PARSING_MEDIA_SEGMENT` =>\r\n`WAITING_FOR_SEGMENT`:\r\nhttps://www.w3.org/TR/media-source-2/#sourcebuffer-reset-parser-state.\r\n\r\nOn Cast devices, the issue is reproduced consistently when Shaka\r\nswitches to a new variant. There are no internally queued MSE operations\r\nin `MediaSourceEngine` when the error is thrown. Based on these\r\nobservations, the input buffer passed to `MediaSourceEngine` seems to be\r\nan \"incomplete\" media segment, meaning the `SourceBuffer#appendBuffer()`\r\ncall exits when the append state is still `PARSING_MEDIA_SEGMENT` ([Step\r\n`6.4` in W3C\r\nspecs](https://www.w3.org/TR/media-source-2/#sourcebuffer-segment-parser-loop))\r\nhence the error.\r\n\r\nThis is also suggested as a root cause from a Chromium engineer, with\r\none suggested solution to call abort() beforehand\r\n([source](https://bugs.chromium.org/p/chromium/issues/detail?id=766002#c3)).\r\nSince Shaka Player already does preemptive abort() calls when [setting\r\nstream\r\nproperties](https://github.com/shaka-project/shaka-player/blob/3d0f752c7d0677f750dbbd9bcd2895358358628f/lib/media/media_source_engine.js#L836-L842),\r\nthis will do the same thing.\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a10bd6ca63ac8d88f3c7",
    "number": 4541,
    "body": "We were misreading the computed ref for tests (missing \"outputs\" in the variable name), which led us to check out and test main instead of the PR's head.  This also led us to set status on the latest commit in main, instead of on the PR.\r\n\r\nOnce the variable was read correctly and the correct ref was checked out, I found that the ref argument to set-commit-status was actually not usable, since \"git rev-parse refs/pull/4528/head\" would fail. But now that we are checking out the correct commit, the ref argument turns out to be unnecessary.  Whatever we checked out is what we should report status on.",
    "head_branch": "fix-lab-reporting-on-prs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix reporting status from lab tests to PRs (#4541)\n\nWe were misreading the computed ref for tests (missing \"outputs\" in the\r\nvariable name), which led us to check out and test main instead of the\r\nPR's head. This also led us to set status on the latest commit in main,\r\ninstead of on the PR.\r\n\r\nOnce the variable was read correctly and the correct ref was checked\r\nout, I found that the ref argument to set-commit-status was actually not\r\nusable, since \"git rev-parse refs/pull/4528/head\" would fail. But now\r\nthat we are checking out the correct commit, the ref argument turns out\r\nto be unnecessary. Whatever we checked out is what we should report\r\nstatus on."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a10cd6ca63ac8d88f3c8",
    "number": 4540,
    "body": "Reverts shaka-project/shaka-player#4539\r\n\r\nThis doesn't actually fix the problem.  I was too hasty in putting it up for review.",
    "head_branch": "revert-4539-fix-lab-reporting-on-prs",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "ci: Revert \"Fix reporting status from lab tests to PRs\" (#4540)\n\nReverts shaka-project/shaka-player#4539\r\n\r\nThis doesn't actually fix the problem. I was too hasty in putting it up\r\nfor review."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a10dd6ca63ac8d88f3c9",
    "number": 4539,
    "body": "The status reports were targetting main instead of the PR's HEAD.",
    "head_branch": "fix-lab-reporting-on-prs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix reporting status from lab tests to PRs (#4539)\n\nThe status reports were targetting main instead of the PR's HEAD."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a10ed6ca63ac8d88f3ca",
    "number": 4537,
    "body": "### Problem\r\n\r\nThe player does not operate normally when the last segment seek in the hls. (Chrome)\r\nThe fetchAndAppend_ function does not appear to be running on the last segment.\r\n\r\nhttps://user-images.githubusercontent.com/25482071/193399014-6fced3ee-5bd3-4c7e-87da-f4e010d794c0.mp4\r\n\r\n1. Click test link.\r\nhttps://shaka-player-demo.appspot.com/demo/#audiolang=en-US;textlang=en-US;uilang=en-US;asset=https://storage.googleapis.com/shaka-demo-assets/apple-advanced-stream-ts/master.m3u8;panel=ALL_CONTENT;panelData=HLS,MP2TS;build=compiled\r\n2. Seek last segment.\r\n\r\n",
    "head_branch": "segment",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix hang when seeking to the last segment (#4537)\n\nThe fetchAndAppend_ function was not running on the last segment."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a10fd6ca63ac8d88f3cb",
    "number": 4534,
    "body": "Player integration tests use the compiled bundle by default.  This prevents us from getting coverage data in these tests, since the instrumentation was added to the uncompiled library only.\r\n\r\nBy collecting coverage data in uncompiled mode, we can fix this.",
    "head_branch": "fix-coverage-stats",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix missing coverage data from integration tests (#4534)\n\nPlayer integration tests use the compiled bundle by default. This\r\nprevents us from getting coverage data in these tests, since the\r\ninstrumentation was added to the uncompiled library only.\r\n\r\nBy collecting coverage data in uncompiled mode, we can fix this."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a110d6ca63ac8d88f3cc",
    "number": 4533,
    "body": "Some timeouts in Player integration tests seem a little too short. This seems to have caused an intermittent test failure in a recent PR.\r\n\r\nThis expands those timeouts a bit, specifically before waitForEnd() calls.",
    "head_branch": "extend-timeouts",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Be more generous with timeouts (#4533)\n\nSome timeouts in Player integration tests seem a little too short. This\r\nseems to have caused an intermittent test failure in a recent PR.\r\n\r\nThis expands those timeouts a bit, specifically before waitForEnd()\r\ncalls."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a111d6ca63ac8d88f3cd",
    "number": 4532,
    "body": "The native cue layout test for a timing edge-case only works correctly on Safari 16.  This updates the test expectations to match the fixed implementation in Safari 16, and skips the test on older versions. Since the issue is out of Shaka Player's control, it's fine to skip the test case on older browsers.",
    "head_branch": "update-screenshots",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Update native edge-case layout test (#4532)\n\nThe native cue layout test for a timing edge-case only works correctly\r\non Safari 16. This updates the test expectations to match the fixed\r\nimplementation in Safari 16, and skips the test on older versions. Since\r\nthe issue is out of Shaka Player's control, it's fine to skip the test\r\ncase on older browsers."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a112d6ca63ac8d88f3ce",
    "number": 4531,
    "body": "Since Safari 16 became the default on macos-11 images in GitHub, we are updating our homedir installation of Safari 14 to Safari 15 instead.  This also renames that entry in the matrix from Safari-14 to Safari-old, in recognition of the fact that we will probably have to continue updating this.",
    "head_branch": "safari-version-update",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Test on Safari 16 and 15 (#4531)\n\nSince Safari 16 became the default on macos-11 images in GitHub, we are\r\nupdating our homedir installation of Safari 14 to Safari 15 instead.\r\nThis also renames that entry in the matrix from Safari-14 to Safari-old,\r\nin recognition of the fact that we will probably have to continue\r\nupdating this."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a112d6ca63ac8d88f3cf",
    "number": 4530,
    "body": "This should make it possible (if not easy) to download screenshots and diagnose layout test failures locally.",
    "head_branch": "upload-screenshots",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Upload screenshot assets on failure (#4530)\n\nThis should make it possible (if not easy) to download screenshots and\r\ndiagnose layout test failures locally."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a113d6ca63ac8d88f3d0",
    "number": 4529,
    "body": null,
    "head_branch": "b237428544",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Expand test cases for HLS track roles (#4529)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a114d6ca63ac8d88f3d1",
    "number": 4528,
    "body": "Fix is based on suggestions from @joeyparrish in https://github.com/shaka-project/shaka-player/issues/4308#issuecomment-1167816267. \r\n\r\nDuring automatic adaptations, Shaka will now reset the timestamp offset to ensure the newly active track is properly aligned in the presentation.\r\n\r\nVerified by disabling ABR and manually triggering variant switches (`shaka.Player.selectVariantTrack()`) between seemingly problematic combinations (e.g., `400k` bps => `6000k` bps stream). Behavior was compared against production. \r\n\r\nSince `adaptation` events are only triggered by ABR logic (and ABR was disabled for manual testing), `selectVariantTrack()` logic was temporarily changed from:\r\n\r\n`this.switchVariant_(variant, /* fromAdaptation= */ false, clearBuffer, safeMargin);`\r\n=>\r\n`this.switchVariant_(variant, /* fromAdaptation= */ true, clearBuffer, safeMargin);`\r\n\r\nto ensure the fixes proposed in this PR were taken into effect and being used during manual testing. Tested content is from the reported bug, located here: https://github.com/shaka-project/shaka-player/issues/4308#issue-1279357794 \r\n\r\nCloses #4308",
    "head_branch": "sync-adaptation-event",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix A/V sync in unaligned HLS VOD streams (#4528)\n\nFix is based on suggestions from @joeyparrish in\r\nhttps://github.com/shaka-project/shaka-player/issues/4308#issuecomment-1167816267.\r\n\r\nDuring automatic adaptations, Shaka will now reset the timestamp offset\r\nto ensure the newly active track is properly aligned in the\r\npresentation.\r\n\r\nVerified by disabling ABR and manually triggering variant switches\r\n(`shaka.Player.selectVariantTrack()`) between seemingly problematic\r\ncombinations (e.g., `400k` bps => `6000k` bps stream). Behavior was\r\ncompared against production.\r\n\r\nSince `adaptation` events are only triggered by ABR logic (and ABR was\r\ndisabled for manual testing), `selectVariantTrack()` logic was\r\ntemporarily changed from:\r\n\r\n`this.switchVariant_(variant, /* fromAdaptation= */ false, clearBuffer,\r\nsafeMargin);`\r\n=>\r\n`this.switchVariant_(variant, /* fromAdaptation= */ true, clearBuffer,\r\nsafeMargin);`\r\n\r\nto ensure the fixes proposed in this PR were taken into effect and being\r\nused during manual testing. Tested content is from the reported bug,\r\nlocated here:\r\nhttps://github.com/shaka-project/shaka-player/issues/4308#issue-1279357794\r\n\r\nCloses #4308"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a115d6ca63ac8d88f3d2",
    "number": 4527,
    "body": null,
    "head_branch": "mediasource-config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Allow add extra features to MediaSource.addSourceBuffer (#4527)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a116d6ca63ac8d88f3d3",
    "number": 4526,
    "body": null,
    "head_branch": "getdescription-ads",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ads): Add getDescription to CS and SS ads (#4526)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a117d6ca63ac8d88f3d4",
    "number": 4523,
    "body": "Closes #4521",
    "head_branch": "pre-existing-google-cast-hook",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Respect existing app usage of Cast SDK (#4523)\n\nCloses #4521"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a118d6ca63ac8d88f3d5",
    "number": 4522,
    "body": null,
    "head_branch": "pre-existing-cast-sdk-hook",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a119d6ca63ac8d88f3d6",
    "number": 4520,
    "body": "Shorten a StreamingEngine integration test to work around an issue with ChromeMac where playback doesn't always occur at 1x.  This is an issue with Selenium or Chrome itself (unknown) that is out of our control.  By making the test somewhat shorter, we can have it complete on time, even when this issue is present on a device.\r\n\r\nAlso increase timeouts on offline playback tests.",
    "head_branch": "mac-slow-playback-workaround",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix playback timeouts on ChromeMac (#4520)\n\nShorten a StreamingEngine integration test to work around an issue with\r\nChromeMac where playback doesn't always occur at 1x. This is an issue\r\nwith Selenium or Chrome itself (unknown) that is out of our control. By\r\nmaking the test somewhat shorter, we can have it complete on time, even\r\nwhen this issue is present on a device.\r\n\r\nAlso increase timeouts on offline playback tests."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a11ad6ca63ac8d88f3d7",
    "number": 4519,
    "body": "Closes #4517\r\n\r\n## Problem\r\n\r\nFetching the last segment of HLS AES-128 stream fails with 3018 error\r\n- `MediaSourceEngine` attempts to transmux encrypted TS data\r\n- `StreamingEngine` does not decrypt TS data of the last segment\r\n- `SegmentReference` of the last segment has `null` for `hlsAes128Key`\r\n- `hlsAes128Key` is missing when adjusting the last SegmentReference in `SegmentIndex.fit()`\r\n\r\n## Test\r\n\r\n### Before\r\n\r\n![2022-09-28 02-09-34](https://user-images.githubusercontent.com/23169202/192598313-2ea96859-2631-443c-89c7-b24cbdff859c.png)\r\n\r\n### After\r\n\r\n![2022-09-28 02-09-34](https://user-images.githubusercontent.com/23169202/192598422-aebf1fda-bc6e-429b-a3f4-f7c572fd1712.png)\r\n",
    "head_branch": "aes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Missing AES-128 key of last HLS segment (#4519)\n\nWhen fitting the segment references to the timeline, some properties\r\nwere lost, including the AES-128 key.  This fixes those missing properties.\r\n\r\nCloses #4517"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a11bd6ca63ac8d88f3d8",
    "number": 4518,
    "body": "A preroll ad fails to start when there is no autoplay. This happens because Shaka doesn't check if playback is allowed before calling the Ad Manager's `start()` method.  IMA's https://github.com/googleads/googleads-ima-html5/tree/main/attempt_to_autoplay addresses this by resolving a `play()` promise.\r\n\r\nThis waits to start AdManager until a `play` event from the video element.\r\n\r\nCloses #4179",
    "head_branch": "ima-autoplay-crash",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ads): Fix IMA crash when autoplay is rejected (#4518)\n\nA preroll ad fails to start when there is no autoplay. This happens\r\nbecause Shaka doesn't check if playback is allowed before calling the Ad\r\nManager's `start()` method. IMA's\r\nhttps://github.com/googleads/googleads-ima-html5/tree/main/attempt_to_autoplay\r\naddresses this by resolving a `play()` promise.\r\n\r\nThis waits to start AdManager until a `play` event from the video\r\nelement.\r\n\r\nCloses #4179"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a11cd6ca63ac8d88f3d9",
    "number": 4515,
    "body": null,
    "head_branch": "abr-restrict-to-screen-size",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Automatic ABR quality restrictions based on screen size (#4515)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a11dd6ca63ac8d88f3da",
    "number": 4514,
    "body": null,
    "head_branch": "resize-cs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore(ads): move resize logic to CS manager (#4514)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a11ed6ca63ac8d88f3db",
    "number": 4513,
    "body": null,
    "head_branch": "gettitle-ads",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ads): Add getTitle to CS and SS ads (#4513)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a11fd6ca63ac8d88f3dc",
    "number": 4511,
    "body": "This changes the HLS parser so that the media playlists are only downloaded when the createSegmentIndex function for the associated stream is called.\r\nBecause there is some important information about HLS streams that is stored inside the media playlist, this also changes the player to call createSegmentIndex on the initial variant earlier in the load process, to make sure that information is available in time.\r\nAs of this change, we will now require HLS streams to be aligned (see #4308) for livestreams. VOD content can still\r\nbe unaligned.\r\n\r\nCloses #1936",
    "head_branch": "lazyLoadBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Lazy-load HLS media playlists (#4511)\n\nThis changes the HLS parser so that the media playlists are only downloaded when the createSegmentIndex function for the associated stream is called.\r\nBecause there is some important information about HLS streams that is stored inside the media playlist, this also changes the player to call createSegmentIndex on the initial variant earlier in the load process, to make sure that information is available in time.\r\nAs of this change, we will now require HLS streams to be aligned (see #4308) for livestreams. VOD content can still\r\nbe unaligned.\r\n\r\nCloses #1936"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a120d6ca63ac8d88f3dd",
    "number": 4510,
    "body": "Closes #4508 ",
    "head_branch": "cea608-row-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: check for negative rows before moving (#4510)\n\nCloses #4508"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a121d6ca63ac8d88f3de",
    "number": 4509,
    "body": null,
    "head_branch": "smi-subtitle",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a122d6ca63ac8d88f3df",
    "number": 4506,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/3863",
    "head_branch": "build-without-text",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: allow build without text (#4506)\n\nCloses https://github.com/shaka-project/shaka-player/issues/3863"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a123d6ca63ac8d88f3e0",
    "number": 4504,
    "body": "Get drmInfo from each representation and push unique drmInfo to adaptation parser context.",
    "head_branch": "fix-multidrm",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a124d6ca63ac8d88f3e1",
    "number": 4501,
    "body": "Issue #4481",
    "head_branch": "adTestBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Add additional test for ads (#4501)\n\nIssue #4481"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a125d6ca63ac8d88f3e2",
    "number": 4498,
    "body": "Previously, top-level enums caused the generation of filenames like \"shaka.config.html#AutoShowText\" instead of\r\n\"shaka.config.AutoShowText.html\".  This broke the generation of docs for top-level enums (attached to a namespace instead of a class).\r\n\r\nThis adds support for these into our jsdoc template.\r\n\r\nRelated to PR #3421",
    "head_branch": "document-enums",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add support for documenting top-level enums (#4498)\n\nPreviously, top-level enums caused the generation of filenames like\r\n\"shaka.config.html#AutoShowText\" instead of\r\n\"shaka.config.AutoShowText.html\". This broke the generation of docs for\r\ntop-level enums (attached to a namespace instead of a class).\r\n\r\nThis adds support for these into our jsdoc template.\r\n\r\nRelated to PR #3421"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a126d6ca63ac8d88f3e3",
    "number": 4497,
    "body": "JW spec: https://docs.jwplayer.com/platform/docs/vdh-add-preview-thumbnails\r\n\r\nVideo.js implementation: https://github.com/chrisboustead/videojs-vtt-thumbnails\r\n\r\nNote: thumbnails with sprites are not supported yet.",
    "head_branch": "external-thumbnails",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add external thumbnails support (#4497)\n\nJW spec:\r\nhttps://docs.jwplayer.com/platform/docs/vdh-add-preview-thumbnails\r\n\r\nVideo.js implementation:\r\nhttps://github.com/chrisboustead/videojs-vtt-thumbnails\r\n\r\nNote: thumbnails with sprites are not supported yet."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a127d6ca63ac8d88f3e4",
    "number": 4496,
    "body": "Closes #4468",
    "head_branch": "ttml-background-color",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ttml): Default TTML background color to transparent if unspecified (#4496)\n\nCloses #4468"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a128d6ca63ac8d88f3e5",
    "number": 4493,
    "body": "Related to https://github.com/shaka-project/shaka-player/pull/3411",
    "head_branch": "avc3-4k-xbox",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Filter unsupported H.264 streams in Xbox (#4493)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a129d6ca63ac8d88f3e6",
    "number": 4488,
    "body": "Issue #4481",
    "head_branch": "adAssertBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ads): Ignore ad events with no associated ad (#4488)\n\nIssue #4481"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a12ad6ca63ac8d88f3e7",
    "number": 4485,
    "body": "Close https://github.com/shaka-project/shaka-player/issues/3590",
    "head_branch": "low-latency-tizen3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: allow the playback on platforms when low latency APIs are not supported (#4485)\n\nClose https://github.com/shaka-project/shaka-player/issues/3590"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a12bd6ca63ac8d88f3e8",
    "number": 4483,
    "body": "fix: Fix HLS dynamic to static transition\r\n\r\n - Keep maxSegmentEndTime_ updated in PresentationTimeline by calling\r\n   notifySegments on each HLS playlist update, so that the seek range\r\n   doesn't revert to the original playlist size when it becomes\r\n   static.\r\n - Wait to change the presentation type to VOD until after _all_\r\n   active playlists have an ENDLIST tag, to avoid missing the final\r\n   segments in one type or the other.\r\n - Stop updating the playlists after transition to VOD.\r\n - Update the MSE duration at exactly the same time as we transition\r\n   to VOD, to avoid a loophole where the UI knows it's VOD, but\r\n   doesn't have any way to get the correct duration.  Previously, this\r\n   state would persist until the final segments were appended.\r\n\r\nCloses #4431",
    "head_branch": "fix-hls-dynamic-to-static",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix HLS dynamic to static transition (#4483)\n\nfix: Fix HLS dynamic to static transition\r\n\r\n - Keep maxSegmentEndTime_ updated in PresentationTimeline by calling\r\n   notifySegments on each HLS playlist update, so that the seek range\r\n   doesn't revert to the original playlist size when it becomes\r\n   static.\r\n - Wait to change the presentation type to VOD until after _all_\r\n   active playlists have an ENDLIST tag, to avoid missing the final\r\n   segments in one type or the other.\r\n - Stop updating the playlists after transition to VOD.\r\n - Update the MSE duration at exactly the same time as we transition\r\n   to VOD, to avoid a loophole where the UI knows it's VOD, but\r\n   doesn't have any way to get the correct duration.  Previously, this\r\n   state would persist until the final segments were appended.\r\n\r\nCloses #4431"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a12bd6ca63ac8d88f3e9",
    "number": 4480,
    "body": null,
    "head_branch": "deflake",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Add missing token for deflake workflow (#4480)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a12cd6ca63ac8d88f3ea",
    "number": 4478,
    "body": "Fixes #4401\r\n\r\n## Description\r\n\r\nin-band key rotation, in which new keys are signaled by a change in the pssh in the media segments, is not working on the Xbox one, but is working for other browsers and devices. It appear that the Xbox does not continue watching for pssh changes after the initial DRM session has been setup.\r\n\r\nThe problem is fix by parsing the pssh from media segments prior to appending to the source buffer. This behavior is controlled with the new boolean config field drm.parseInbandPsshEnabled.\r\n\r\n\r\n\r\n",
    "head_branch": "inBandKeyRotationMain",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix in-band key rotation on Xbox One (#4478)\n\nIn-band key rotation, in which new keys are signaled by a change in the\r\npssh in the media segments, is not working on the Xbox one, but is\r\nworking for other browsers and devices. It appear that the Xbox does not\r\ncontinue watching for pssh changes after the initial DRM session has\r\nbeen setup.\r\n\r\nThe problem is fixed by parsing the pssh from media segments prior to\r\nappending to the source buffer. This behavior is controlled with the new\r\nboolean config field drm.parseInbandPsshEnabled.\r\n\r\nFixes #4401"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a12dd6ca63ac8d88f3eb",
    "number": 4472,
    "body": "This workflow will trigger after the nightly Selenium tests.  If those tests failed, this \"deflake\" workflow will automatically re-run the failed jobs up to 3 times (total, including the original scheduled run).\r\n\r\nThis should help cut down on noise and help highlight actual platform-specific failures.  The flakiness of our tests and infrastructure will be tracked separately and addressed at a somewhat lower priority than test greenness.",
    "head_branch": "auto-deflake-nightly-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Auto-deflake nightly selenium tests (#4472)\n\nThis workflow will trigger after the nightly Selenium tests.  If those tests failed, this \"deflake\" workflow will automatically re-run the failed jobs up to 3 times (total, including the original scheduled run).\r\n\r\nThis should help cut down on noise and help highlight actual platform-specific failures.  The flakiness of our tests and infrastructure will be tracked separately and addressed at a somewhat lower priority than test greenness."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a12ed6ca63ac8d88f3ec",
    "number": 4471,
    "body": "Close #4469\r\n\r\nThe idea is to only enable uninstalling when it is desired, in order to not hold things in memory unnecessarily.",
    "head_branch": "add-uninstall-method-fairplay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: enable uninstalling PatchedMediaKeysApple (#4471)\n\nClose #4469"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a12fd6ca63ac8d88f3ed",
    "number": 4466,
    "body": null,
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a130d6ca63ac8d88f3ee",
    "number": 4462,
    "body": "Since we have been unable to solve #4234 (Xbox One disconnects from test runner), let's temporarily disable XboxOne from the lab to cut down on noise in our nightly tests.",
    "head_branch": "disable-xbox-one",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "test: Disable XboxOne (#4462)\n\nSince we have been unable to solve #4234 (Xbox One disconnects from test runner), let's temporarily disable XboxOne from the lab to cut down on noise in our nightly tests."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a131d6ca63ac8d88f3ef",
    "number": 4461,
    "body": "Add capability to re-use persistent license sessions across sessions.\r\n\r\nDrmEngine will now always:\r\n- try to start stored persistent sessions before trying to fetch a license, as-to be able to check if all needed keys are already loaded.\r\n- ask for a new license when the persistent session doesn't have the needed keys for playback,\r\n\r\nGiven the flag `persistentSessionOnlinePlayback` is true, DrmEngine:\r\n- won't remove the persistent session from the device at the end of the playback,\r\n- won't throw an error when the persistent session isn't found on the device,\r\n\r\nFor now, it needs Shaka's users to persist session information by themselves (localStorage, IndexDB, ...) before giving it back for the next session. Still, it lays foundation to develop the feature to fully handling it on Shaka's side.\r\n\r\nTBD:\r\n- [x] Rename all `offlineSessionIds_` in DrmEngine to `storedPersistentSessionIds_` because we now use those in two different contexts, online / offline (and in comments too) (after full review to avoid noise over the feature)\r\n- [ ] Rename `loadOfflineSession_` in DrmEngine to `loadStoredPersistentSession_` (after full review to avoid noise over the feature)\r\n- [x] Add a public API to retrieve the session (ids and expiration) from DRM Engine if not already available\r\n- [x] Refactor / Set up another way to give persistentSessionIds to also give associated initData with it\r\n- [x] Test full offline to ensure no regressions\r\n- [x] Document feature usage\r\n\r\nRelated to #1956",
    "head_branch": "drm-online-persistent-license",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: allow reuse of persistent license sessions (#4461)\n\nAdd capability to re-use persistent license sessions across sessions.\r\n\r\nDrmEngine will now always:\r\n- try to start stored persistent sessions before trying to fetch a\r\nlicense, as-to be able to check if all needed keys are already loaded.\r\n- ask for a new license when the persistent session doesn't have the\r\nneeded keys for playback,\r\n\r\nGiven the flag `persistentSessionOnlinePlayback` is true, DrmEngine:\r\n- won't remove the persistent session from the device at the end of the\r\nplayback,\r\n- won't throw an error when the persistent session isn't found on the\r\ndevice,\r\n\r\nFor now, it needs Shaka's users to persist session information by\r\nthemselves (localStorage, IndexDB, ...) before giving it back for the\r\nnext session. Still, it lays foundation to develop the feature to fully\r\nhandling it on Shaka's side.\r\n\r\nRelated to #1956"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a132d6ca63ac8d88f3f0",
    "number": 4460,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.12](https://github.com/shaka-project/shaka-player/compare/v3.2.11...v3.2.12) (2022-08-31)\n\n\n### Bug Fixes\n\n* Fix bitmap-based cue size ([#4453](https://github.com/shaka-project/shaka-player/issues/4453)) ([598c0b4](https://github.com/shaka-project/shaka-player/commit/598c0b4c3ab2a3986f3d8d885b3fd36879eaf535))\n* return width and height in the stats when we are using src= ([#4435](https://github.com/shaka-project/shaka-player/issues/4435)) ([e16e8df](https://github.com/shaka-project/shaka-player/commit/e16e8dfbb8fc65065efd5a8f8f3c2d4a18fbe2eb))\n* **UI:** Ad position and ad counter are too close to each other ([#4416](https://github.com/shaka-project/shaka-player/issues/4416)) ([ff1aaa2](https://github.com/shaka-project/shaka-player/commit/ff1aaa2c8a892a41e404e68fc560c0f4556d54a0))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.12 (#4460)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a133d6ca63ac8d88f3f1",
    "number": 4459,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.2.1](https://github.com/shaka-project/shaka-player/compare/v4.2.0...v4.2.1) (2022-08-31)\n\n\n### Bug Fixes\n\n* Fix bitmap-based cue size ([#4453](https://github.com/shaka-project/shaka-player/issues/4453)) ([6329cf2](https://github.com/shaka-project/shaka-player/commit/6329cf25b1a3265361e50386d48b0438e294536e))\n* Fix drm.keySystemsMapping config ([#4425](https://github.com/shaka-project/shaka-player/issues/4425)) ([40235ef](https://github.com/shaka-project/shaka-player/commit/40235ef4f7675a853daf315d4c089ad7be7b2188)), closes [#4422](https://github.com/shaka-project/shaka-player/issues/4422)\n* Fix vanishing tracks while offline ([#4426](https://github.com/shaka-project/shaka-player/issues/4426)) ([d668790](https://github.com/shaka-project/shaka-player/commit/d668790f5b9eef990a190128bd11972204e98480)), closes [#4408](https://github.com/shaka-project/shaka-player/issues/4408)\n* return width and height in the stats when we are using src= ([#4435](https://github.com/shaka-project/shaka-player/issues/4435)) ([aad8769](https://github.com/shaka-project/shaka-player/commit/aad8769807bcf58b2bc5c6298e9a10f428c73806))\n* **UI:** Ad position and ad counter are too close to each other ([#4416](https://github.com/shaka-project/shaka-player/issues/4416)) ([a7333a5](https://github.com/shaka-project/shaka-player/commit/a7333a560aae4c8f915b3546ecc4e34dc501c5f2))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.2.x): release 4.2.1 (#4459)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a134d6ca63ac8d88f3f2",
    "number": 4458,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.1.4](https://github.com/shaka-project/shaka-player/compare/v4.1.3...v4.1.4) (2022-08-31)\n\n\n### Bug Fixes\n\n* Fix bitmap-based cue size ([#4453](https://github.com/shaka-project/shaka-player/issues/4453)) ([3c5a07f](https://github.com/shaka-project/shaka-player/commit/3c5a07f0259145bdce0c94f90b842de28026d6fa))\n* Fix drm.keySystemsMapping config ([#4425](https://github.com/shaka-project/shaka-player/issues/4425)) ([1aab613](https://github.com/shaka-project/shaka-player/commit/1aab6130690eab0cc148ba8f05e483e4fc8db716)), closes [#4422](https://github.com/shaka-project/shaka-player/issues/4422)\n* Fix vanishing tracks while offline ([#4426](https://github.com/shaka-project/shaka-player/issues/4426)) ([186d298](https://github.com/shaka-project/shaka-player/commit/186d298b00475818f744925cb3828bfa11c43c0b)), closes [#4408](https://github.com/shaka-project/shaka-player/issues/4408)\n* return width and height in the stats when we are using src= ([#4435](https://github.com/shaka-project/shaka-player/issues/4435)) ([1eff9ed](https://github.com/shaka-project/shaka-player/commit/1eff9ed022950a2ef8722768da02ad96ef1ff821))\n* **UI:** Ad position and ad counter are too close to each other ([#4416](https://github.com/shaka-project/shaka-player/issues/4416)) ([5f5c7c3](https://github.com/shaka-project/shaka-player/commit/5f5c7c35853e27b088af2840ab986f90c8d3bbb5))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.1.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.1.x): release 4.1.4 (#4458)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a135d6ca63ac8d88f3f3",
    "number": 4457,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.10](https://github.com/shaka-project/shaka-player/compare/v3.3.9...v3.3.10) (2022-08-31)\n\n\n### Bug Fixes\n\n* Fix bitmap-based cue size ([#4453](https://github.com/shaka-project/shaka-player/issues/4453)) ([ad52a97](https://github.com/shaka-project/shaka-player/commit/ad52a97c61be96c4022ff42939bdb766a358db69))\n* return width and height in the stats when we are using src= ([#4435](https://github.com/shaka-project/shaka-player/issues/4435)) ([b6ca090](https://github.com/shaka-project/shaka-player/commit/b6ca090bda9d94781e4b7673cd2aaa443dfab7d0))\n* **UI:** Ad position and ad counter are too close to each other ([#4416](https://github.com/shaka-project/shaka-player/issues/4416)) ([ed5af4a](https://github.com/shaka-project/shaka-player/commit/ed5af4a50d5557419c18b075a4b5f684bf415837))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.10 (#4457)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a136d6ca63ac8d88f3f4",
    "number": 4456,
    "body": "This commit introduces an integration test that tries to prove that it is possible to maintain an active MediaKeySession from one media source to another. It is not intended that this gets merged into main branch. The hope is that this test can get run across a large breadth of devices in order to test whether this usage of MSE+EME is universally valid.\r\n\r\nThis is in relation to:\r\nhttps://github.com/shaka-project/shaka-player/issues/4379",
    "head_branch": "drm-integration-test-for-maintaining-media-key-session",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a137d6ca63ac8d88f3f5",
    "number": 4454,
    "body": "This requires multiple self-hosted runners to be set up, but will\r\nallow us to more easily read results and to re-run individual failed\r\njobs per browser.\r\n\r\nThis change also includes several optimizations that were motivated by\r\nthe split:\r\n - stop installing the GitHub CLI (now installed on newer self-hosted\r\n   images, saves ~20 seconds)\r\n - cache node_modules (saves about ~1 minute if package-lock.json\r\n   hasn't changed)\r\n - pre-build Shaka once in a GitHub VM instead of in parallel on\r\n   multiple runner containers hosted on the same machine (saves ~45\r\n   minutes w/ 12 runners in parallel)",
    "head_branch": "split-selenium-grid-jobs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Split Selenium grid tests into multiple jobs (#4454)\n\nThis requires multiple self-hosted runners to be set up, but will\r\nallow us to more easily read results and to re-run individual failed\r\njobs per browser.\r\n\r\nThis change also includes several optimizations that were motivated by\r\nthe split:\r\n - stop installing the GitHub CLI (now installed on newer self-hosted\r\n   images, saves ~20 seconds)\r\n - cache node_modules (saves about ~1 minute if package-lock.json\r\n   hasn't changed)\r\n - pre-build Shaka once in a GitHub VM instead of in parallel on\r\n   multiple runner containers hosted on the same machine (saves ~45\r\n   minutes w/ 12 runners in parallel)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a138d6ca63ac8d88f3f6",
    "number": 4453,
    "body": "Without an explicit size, some platforms render bitmap-based cues as\r\n0x0.  This effect was seen in Chrome on Mac in particular.  This\r\nstarted with PR #4412, where we factored out regions into their own\r\nelement.\r\n\r\nThe TTML spec says that background images should fill their associated\r\nregion, so this fixes the issue by making the div explicitly the size\r\nof its parent element (100% x 100%).",
    "head_branch": "fix-bitmap-cue-size",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix bitmap-based cue size (#4453)\n\nWithout an explicit size, some platforms render bitmap-based cues as\r\n0x0.  This effect was seen in Chrome on Mac in particular.  This\r\nstarted with PR #4412, where we factored out regions into their own\r\nelement.\r\n\r\nThe TTML spec says that background images should fill their associated\r\nregion, so this fixes the issue by making the div explicitly the size\r\nof its parent element (100% x 100%)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a139d6ca63ac8d88f3f7",
    "number": 4452,
    "body": "The test to show that src= playbacks can log width/height data was\r\nfailing on Tizen.  This is because Tizen was ignoring the SAR (sample\r\naspect ratio) and showing the content at 256 pixels wide, whereas\r\nother platforms were displaying at 258 pixels wide.  The point of the\r\ntest was never to check a platform's support for SAR, so the video has\r\nbeen re-encoded to display consistently across platforms.\r\n\r\nThis issue began when the test was added in PR #4435.\r\n\r\nThe video file is now also much smaller than it was before (from 177kB\r\nto 37kB).\r\n\r\nRe-encoding was done with:\r\n\r\n```sh\r\nffmpeg \\\r\n  -i test/test/assets/small.mp4.orig \\\r\n  -c:v h264 -vf setsar=1:1 -crf 51 \\\r\n  -c:a aac -b:a 16k \\\r\n  -y test/test/assets/small.mp4\r\n```",
    "head_branch": "fix-tizen-src-equals-test",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix Tizen src= test (#4452)\n\nThe test to show that src= playbacks can log width/height data was\r\nfailing on Tizen.  This is because Tizen was ignoring the SAR (sample\r\naspect ratio) and showing the content at 256 pixels wide, whereas\r\nother platforms were displaying at 258 pixels wide.  The point of the\r\ntest was never to check a platform's support for SAR, so the video has\r\nbeen re-encoded to display consistently across platforms.\r\n\r\nThis issue began when the test was added in PR #4435.\r\n\r\nThe video file is now also much smaller than it was before (from 177kB\r\nto 37kB).\r\n\r\nRe-encoding was done with:\r\n\r\n```sh\r\nffmpeg \\\r\n  -i test/test/assets/small.mp4.orig \\\r\n  -c:v h264 -vf setsar=1:1 -crf 51 \\\r\n  -c:a aac -b:a 16k \\\r\n  -y test/test/assets/small.mp4\r\n```"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a13ad6ca63ac8d88f3f8",
    "number": 4451,
    "body": "This feature is not entirely automatic.\r\n\r\nThe ClearKey CDM requires a key-id to key mapping.  HLS doesn't\r\nprovide a key ID anywhere.  So although we could use the 'URI'\r\nattribute to fetch the actual 16-byte key, without a key ID, we can't\r\nprovide this automatically to the ClearKey CDM.\r\n\r\nInstead, the application will have to use\r\n`player.configure('drm.clearKeys', { ... })` to provide the key IDs\r\nand keys or `player.configure('drm.servers.org\\.w3\\.clearkey', ...)`\r\nto provide a ClearKey license server URI.\r\n\r\nCloses #2146",
    "head_branch": "hls-keyformat-identity",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add limited support for HLS \"identity\" key format (#4451)\n\nThis feature is not entirely automatic.\r\n\r\nThe ClearKey CDM requires a key-id to key mapping.  HLS doesn't\r\nprovide a key ID anywhere.  So although we could use the 'URI'\r\nattribute to fetch the actual 16-byte key, without a key ID, we can't\r\nprovide this automatically to the ClearKey CDM.\r\n\r\nInstead, the application will have to use\r\n`player.configure('drm.clearKeys', { ... })` to provide the key IDs\r\nand keys or `player.configure('drm.servers.org\\.w3\\.clearkey', ...)`\r\nto provide a ClearKey license server URI.\r\n\r\nCloses #2146"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a13bd6ca63ac8d88f3f9",
    "number": 4450,
    "body": "Now that we support AES-128, some older AES-128 code paths in the HLS\r\nparser have become obsolete.  This cleans up those unneeded code paths\r\nand adds a test to ensure that the correct failure handling is used\r\nwhen AES-128 cannot be supported by the platform.",
    "head_branch": "aes-128-cleanup",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Clean up unused AES-128 failure paths (#4450)\n\nNow that we support AES-128, some older AES-128 code paths in the HLS\r\nparser have become obsolete.  This cleans up those unneeded code paths\r\nand adds a test to ensure that the correct failure handling is used\r\nwhen AES-128 cannot be supported by the platform."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a13cd6ca63ac8d88f3fa",
    "number": 4444,
    "body": "Close https://github.com/shaka-project/shaka-player/issues/3632\r\n\r\n## Problem description\r\nLive streams sometimes have incorrect presentationTimeOffset because packager and encoder are not in sync.\r\nOther players can still play these streams, but shaka cannot.\r\n\r\n## Code Change\r\nWhen fetching init segments parse the timescale which is needed to compute actual media segment presentation times.\r\n\r\nWhen we see a change in the value of segmentReference.timestampOffset parse moof.traf.tfdt.baseMediaDecodeTime and then compare the actual segment start time ((baseMediaDecodeTime / timescale) + segmentReference.timestampOffset )with segmentReference.startTime. \r\n\r\nIf that difference is greater than config value streaming.maxTimestampDiscrepancy then adjust reference.timestampOffset to compensate. Save this adjustment for use on other media segments until a change in the original segmentReference.timestampOffset triggers fresh comparison of expected and actual segment start times.\r\n\r\nThis feature is controlled with these settings\r\n\r\n- streaming.correctTimestampOffset - when true perform this correction\r\n- streaming.maxTimestampDiscrepancy - when the discrepancy is less than this value, use the original value\r\n\r\n",
    "head_branch": "correct-pto-cla-email",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a13dd6ca63ac8d88f3fb",
    "number": 4443,
    "body": "## Problem description\r\nLive streams sometimes have incorrect presentationTimeOffset because packager and encoder are not in sync.\r\nOther players can still play these streams, but shaka cannot.\r\n\r\n## Code Change\r\nWhen fetching init segments parse the timescale which is needed to compute actual media segment presentation times.\r\n\r\nWhen we see a change in the value of segmentReference.timestampOffset parse moof.traf.tfdt.baseMediaDecodeTime and then compare the actual segment start time ((baseMediaDecodeTime / timescale) + segmentReference.timestampOffset )with segmentReference.startTime. \r\n\r\nIf that difference is greater than config value streaming.maxTimestampDiscrepancy then adjust reference.timestampOffset to compensate. Save this adjustment for use on other media segments until a change in the original segmentReference.timestampOffset triggers fresh comparison of expected and actual segment start times.\r\n\r\nThis feature is controlled with these settings\r\n\r\n- streaming.correctTimestampOffset - when true perform this correction\r\n- streaming.maxTimestampDiscrepancy - when the discrepancy is less than this value, use the original value\r\n\r\n\r\n\r\n",
    "head_branch": "correct-pto-main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a13ed6ca63ac8d88f3fc",
    "number": 4435,
    "body": "related to https://github.com/shaka-project/shaka-player/issues/4434",
    "head_branch": "src-width-height",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: return width and height in the stats when we are using src= (#4435)\n\nrelated to https://github.com/shaka-project/shaka-player/issues/4434"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a13fd6ca63ac8d88f3fd",
    "number": 4428,
    "body": "Now that #2337 has been implemented, the error code HLS_INTERNAL_SKIP_STREAM\r\nis no longer used anywhere in the code.\r\nThis retires that error, and also cleans up the code that previously\r\nwas responsible for handling that error being fired.\r\n\r\nPre-work for #1936",
    "head_branch": "retireErrorBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore(HLS): Retired unused error code (#4428)\n\nNow that #2337 has been implemented, the error code HLS_INTERNAL_SKIP_STREAM\r\nis no longer used anywhere in the code.\r\nThis retires that error, and also cleans up the code that previously\r\nwas responsible for handling that error being fired.\r\n\r\nPre-work for #1936"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a140d6ca63ac8d88f3fe",
    "number": 4426,
    "body": "Introduced in #4189, as a side-effect of restricting tracks when a\r\nnetwork failure occurs.  We should not trigger such restrictions when\r\nthe browser is known to be offline.\r\n\r\nCloses #4408",
    "head_branch": "fix-offline-restricted-tracks",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix vanishing tracks while offline (#4426)\n\nIntroduced in #4189, as a side-effect of restricting tracks when a\r\nnetwork failure occurs.  We should not trigger such restrictions when\r\nthe browser is known to be offline.\r\n\r\nCloses #4408"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a141d6ca63ac8d88f3ff",
    "number": 4425,
    "body": "This fixes the config by adding a missing override in the config parser.  This also adds test coverage for the feature.\r\n\r\nCloses #4422",
    "head_branch": "fix-key-systems-mapping",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix drm.keySystemsMapping config (#4425)\n\nThis fixes the config by adding a missing override in the config parser.  This also adds test coverage for the feature.\r\n\r\nCloses #4422"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a141d6ca63ac8d88f400",
    "number": 4424,
    "body": ":robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n## [4.3.0](https://github.com/shaka-project/shaka-player/compare/v4.2.0...v4.3.0) (2022-11-10)\r\n\r\n\r\n### Features\r\n\r\n* Add AAC transmuxer ([#4632](https://github.com/shaka-project/shaka-player/issues/4632)) ([8623a5d](https://github.com/shaka-project/shaka-player/commit/8623a5d0304dd3e65c613b176b4afa38a6dc96b5))\r\n* Add config for sequenceMode in DASH ([#4607](https://github.com/shaka-project/shaka-player/issues/4607)) ([aff2a5d](https://github.com/shaka-project/shaka-player/commit/aff2a5d9e81e5fdfaeb91275aaa0821aa189d34f))\r\n* Add external thumbnails support ([#4497](https://github.com/shaka-project/shaka-player/issues/4497)) ([3582f0a](https://github.com/shaka-project/shaka-player/commit/3582f0a7274d6bb6f0bbfdf2ad51c5ecfb6f974b))\r\n* Add external thumbnails with sprites support ([#4584](https://github.com/shaka-project/shaka-player/issues/4584)) ([86cb3e7](https://github.com/shaka-project/shaka-player/commit/86cb3e714cc3f59cff8f0b33adb291e128c32609))\r\n* Add limited support for HLS \"identity\" key format ([#4451](https://github.com/shaka-project/shaka-player/issues/4451)) ([b1e81a6](https://github.com/shaka-project/shaka-player/commit/b1e81a684afe086b7a37ea29bbbfc972575ba332)), closes [#2146](https://github.com/shaka-project/shaka-player/issues/2146)\r\n* Adds ChannelCount as a filter to the Player Select Audio Track Method ([#4552](https://github.com/shaka-project/shaka-player/issues/4552)) ([9dd945c](https://github.com/shaka-project/shaka-player/commit/9dd945c3df7364b90a9c3cb3150021492ebb7d81)), closes [#4550](https://github.com/shaka-project/shaka-player/issues/4550)\r\n* **ads:** Add getDescription to CS and SS ads ([#4526](https://github.com/shaka-project/shaka-player/issues/4526)) ([7d2a170](https://github.com/shaka-project/shaka-player/commit/7d2a170336b828e8aac871ff276dbb8b42c384a4))\r\n* **ads:** Add getTitle to CS and SS ads ([#4513](https://github.com/shaka-project/shaka-player/issues/4513)) ([a019065](https://github.com/shaka-project/shaka-player/commit/a019065d5d19598c9d0ba6ce5d4d79070f3e3cba))\r\n* **ads:** Ignore ad events with no associated ad ([#4488](https://github.com/shaka-project/shaka-player/issues/4488)) ([e826eb8](https://github.com/shaka-project/shaka-player/commit/e826eb8eec207dd2ebd4d4ee1e44510ebff22b71)), closes [#4481](https://github.com/shaka-project/shaka-player/issues/4481)\r\n* Allow add extra features to MediaSource.addSourceBuffer ([#4527](https://github.com/shaka-project/shaka-player/issues/4527)) ([4033be7](https://github.com/shaka-project/shaka-player/commit/4033be7c5b1d1c397d5a4840ef7333a26ca93983))\r\n* Allow clearKey configuration in base64 or hex ([#4627](https://github.com/shaka-project/shaka-player/issues/4627)) ([29ffc89](https://github.com/shaka-project/shaka-player/commit/29ffc89a117e6f4285c0133dce555e44a1414228))\r\n* Allow customization of HLS Live behavior ([#4578](https://github.com/shaka-project/shaka-player/issues/4578)) ([4914201](https://github.com/shaka-project/shaka-player/commit/4914201f86f6e683b64c7cc3338cdf67cee544cf))\r\n* Allow playback of HLS Media Playlist with AAC by default ([#4564](https://github.com/shaka-project/shaka-player/issues/4564)) ([757b34e](https://github.com/shaka-project/shaka-player/commit/757b34e5959f14c9a5b5aed173cc99d98a794a40))\r\n* Allow playback of HLS Media Playlist with RAW formats by default and support ID3 ([#4591](https://github.com/shaka-project/shaka-player/issues/4591)) ([18d8367](https://github.com/shaka-project/shaka-player/commit/18d836746e20164409c070c787e08b8bcf4da180))\r\n* Automatic ABR quality restrictions based on screen size ([#4515](https://github.com/shaka-project/shaka-player/issues/4515)) ([b5935a8](https://github.com/shaka-project/shaka-player/commit/b5935a8a6b3b05c0c4cd10774a9625b0bbaf1cf6))\r\n* **demo:** Demo visualizer for buffered ranges. ([#4417](https://github.com/shaka-project/shaka-player/issues/4417)) ([55d0a15](https://github.com/shaka-project/shaka-player/commit/55d0a1556a273b6af0da16197b424796a175adf8))\r\n* enable uninstalling PatchedMediaKeysApple ([#4471](https://github.com/shaka-project/shaka-player/issues/4471)) ([7166f0c](https://github.com/shaka-project/shaka-player/commit/7166f0c1d09ad458abf0ee18e961c88f415afefc)), closes [#4469](https://github.com/shaka-project/shaka-player/issues/4469)\r\n* **HLS:** Add support for EXT-X-SESSION-KEY tag ([#4655](https://github.com/shaka-project/shaka-player/issues/4655)) ([172c9f8](https://github.com/shaka-project/shaka-player/commit/172c9f834ab6575cf9cdb2f825abd9961b9ad7fb)), closes [#917](https://github.com/shaka-project/shaka-player/issues/917)\r\n* **HLS:** allow customize live segments delay ([#4585](https://github.com/shaka-project/shaka-player/issues/4585)) ([1f558a8](https://github.com/shaka-project/shaka-player/commit/1f558a82c14e3d68a3a67cbb58879f2ab12549d0))\r\n* **HLS:** Allow mp3 playback with mp4a.40.34 ([#4592](https://github.com/shaka-project/shaka-player/issues/4592)) ([8f892b1](https://github.com/shaka-project/shaka-player/commit/8f892b136f4cadce6a4d0585f88d4eccaf065f1b))\r\n* **HLS:** Lazy-load HLS media playlists ([#4511](https://github.com/shaka-project/shaka-player/issues/4511)) ([b2f279d](https://github.com/shaka-project/shaka-player/commit/b2f279db1b111e3c8a02706551f466468621cd97)), closes [#1936](https://github.com/shaka-project/shaka-player/issues/1936)\r\n* **HLS:** Support for HLS key rotation ([#4568](https://github.com/shaka-project/shaka-player/issues/4568)) ([3846eea](https://github.com/shaka-project/shaka-player/commit/3846eeac3f3777c35e61f479958015062f4275af)), closes [#741](https://github.com/shaka-project/shaka-player/issues/741)\r\n* Improved LCEVC integration ([#4560](https://github.com/shaka-project/shaka-player/issues/4560)) ([50062f5](https://github.com/shaka-project/shaka-player/commit/50062f58adea248a403461b50b65c3a585de31b4))\r\n* LCEVC Integration ([#4050](https://github.com/shaka-project/shaka-player/issues/4050)) ([284ea63](https://github.com/shaka-project/shaka-player/commit/284ea63a60178cbc87ce2fde769eb06bdb8fb8ea))\r\n* New autoShowText config to change initial text visibility behavior ([#3421](https://github.com/shaka-project/shaka-player/issues/3421)) ([5c24410](https://github.com/shaka-project/shaka-player/commit/5c24410560d8afa13e6f2492590f13506419b59e))\r\n* Parse and surface \"prft\" boxes as events ([#4389](https://github.com/shaka-project/shaka-player/issues/4389)) ([89777dd](https://github.com/shaka-project/shaka-player/commit/89777dd7043ae2b5fa213ab73e43f93482bb86d0)), closes [#4382](https://github.com/shaka-project/shaka-player/issues/4382)\r\n* Parse ID3 metadata ([#4409](https://github.com/shaka-project/shaka-player/issues/4409)) ([95bbf72](https://github.com/shaka-project/shaka-player/commit/95bbf72f426f9df899193f6083197a77191c0c4f))\r\n* Support HTML-escaped cues in VTT ([#4660](https://github.com/shaka-project/shaka-player/issues/4660)) ([2b8b387](https://github.com/shaka-project/shaka-player/commit/2b8b38788ab5b6fc297eaa3537e97bc348d2b389))\r\n* TS parser improvements ([#4612](https://github.com/shaka-project/shaka-player/issues/4612)) ([5157b44](https://github.com/shaka-project/shaka-player/commit/5157b44b2d644ec9cdc13b03b4ac762ed8e0f183))\r\n\r\n\r\n### Bug Fixes\r\n\r\n* **ads:** Fix IMA crash when autoplay is rejected ([#4518](https://github.com/shaka-project/shaka-player/issues/4518)) ([d27f7d2](https://github.com/shaka-project/shaka-player/commit/d27f7d24bb3e1000fc489a6aa125fca359dd77e1)), closes [#4179](https://github.com/shaka-project/shaka-player/issues/4179)\r\n* allow build without text ([#4506](https://github.com/shaka-project/shaka-player/issues/4506)) ([340b04a](https://github.com/shaka-project/shaka-player/commit/340b04ad4798c9b68ed9510ae71912192a61348b))\r\n* Allow overriding special handling of 404s ([#4635](https://github.com/shaka-project/shaka-player/issues/4635)) ([427f126](https://github.com/shaka-project/shaka-player/commit/427f126ea3958541d69474505e1af0eb892d8dde)), closes [#4548](https://github.com/shaka-project/shaka-player/issues/4548)\r\n* allow the playback on platforms when low latency APIs are not supported ([#4485](https://github.com/shaka-project/shaka-player/issues/4485)) ([c1753e1](https://github.com/shaka-project/shaka-player/commit/c1753e1a02881cfbbafd863eeb582411c45df92c))\r\n* **cast:** Reduce size of Cast update messages ([#4644](https://github.com/shaka-project/shaka-player/issues/4644)) ([4e75ec6](https://github.com/shaka-project/shaka-player/commit/4e75ec64be76414b1d4945cbfbf7bc52b5ff3b01))\r\n* **cea:** Fix not rendering CEA-608 Closed Captions ([#4683](https://github.com/shaka-project/shaka-player/issues/4683)) ([a489282](https://github.com/shaka-project/shaka-player/commit/a489282ff26796a55f96e035b55d331abfc14142)), closes [#4605](https://github.com/shaka-project/shaka-player/issues/4605) [#3659](https://github.com/shaka-project/shaka-player/issues/3659)\r\n* check for negative rows before moving ([#4510](https://github.com/shaka-project/shaka-player/issues/4510)) ([b3621c2](https://github.com/shaka-project/shaka-player/commit/b3621c26a86897ba80c17b68f316e22aba61b30b)), closes [#4508](https://github.com/shaka-project/shaka-player/issues/4508)\r\n* Content reload starttime with HLS on iOS ([#4575](https://github.com/shaka-project/shaka-player/issues/4575)) ([59d4360](https://github.com/shaka-project/shaka-player/commit/59d4360b686421f07aa0d7f28eb944f0c51ff5a2)), closes [#4244](https://github.com/shaka-project/shaka-player/issues/4244)\r\n* DAI ID3 metadata parsing ([#4616](https://github.com/shaka-project/shaka-player/issues/4616)) ([0d67ecd](https://github.com/shaka-project/shaka-player/commit/0d67ecd7cba253eb1919ae6e15a80f34e08fc132))\r\n* embed cc not shown when seeking back ([#4643](https://github.com/shaka-project/shaka-player/issues/4643)) ([2a6b0d0](https://github.com/shaka-project/shaka-player/commit/2a6b0d02e550cfa5749b838f5915b8b6cf7b2099)), closes [#4641](https://github.com/shaka-project/shaka-player/issues/4641)\r\n* Filter unsupported H.264 streams in Xbox ([#4493](https://github.com/shaka-project/shaka-player/issues/4493)) ([8475214](https://github.com/shaka-project/shaka-player/commit/8475214bc46e8321f7b60a6fc7fabee484a40800))\r\n* Fix bitmap-based cue size ([#4453](https://github.com/shaka-project/shaka-player/issues/4453)) ([4a197e1](https://github.com/shaka-project/shaka-player/commit/4a197e1288c8f20a950cf491041eca9dde7033cb))\r\n* Fix choppy HLS startup ([#4553](https://github.com/shaka-project/shaka-player/issues/4553)) ([59ef54a](https://github.com/shaka-project/shaka-player/commit/59ef54a158e14da2f7c6ab04e1fd9409bf63c6f0)), closes [#4516](https://github.com/shaka-project/shaka-player/issues/4516)\r\n* Fix detection of ac4, dts, and dolby h265 ([#4657](https://github.com/shaka-project/shaka-player/issues/4657)) ([319a358](https://github.com/shaka-project/shaka-player/commit/319a358b8dc1838a89d8977109cab4296a558841))\r\n* Fix dispatch ID3 metadata when transmuxing AAC ([#4639](https://github.com/shaka-project/shaka-player/issues/4639)) ([bf813f2](https://github.com/shaka-project/shaka-player/commit/bf813f2553dfc56efa79b708c54cbddee0f3ee2e))\r\n* Fix drm.keySystemsMapping config ([#4425](https://github.com/shaka-project/shaka-player/issues/4425)) ([d945084](https://github.com/shaka-project/shaka-player/commit/d9450846e11224e0b1add6cc20a64844d6c09fcf)), closes [#4422](https://github.com/shaka-project/shaka-player/issues/4422)\r\n* Fix errors with TS segments on Chromecast ([#4543](https://github.com/shaka-project/shaka-player/issues/4543)) ([593c280](https://github.com/shaka-project/shaka-player/commit/593c280dd578ee19cbb6a47f22962ff7fdd2cb45))\r\n* Fix hang when seeking to the last segment ([#4537](https://github.com/shaka-project/shaka-player/issues/4537)) ([19a4842](https://github.com/shaka-project/shaka-player/commit/19a48422901440ff88fbbedfea5803c6dda07127))\r\n* Fix HLS dynamic to static transition ([a16b1ac](https://github.com/shaka-project/shaka-player/commit/a16b1ac8a4c8f367f65747fc789a7d8c160e29e3))\r\n* Fix HLS dynamic to static transition ([#4483](https://github.com/shaka-project/shaka-player/issues/4483)) ([a16b1ac](https://github.com/shaka-project/shaka-player/commit/a16b1ac8a4c8f367f65747fc789a7d8c160e29e3)), closes [#4431](https://github.com/shaka-project/shaka-player/issues/4431)\r\n* Fix HLS lazy-loading exception during update ([#4648](https://github.com/shaka-project/shaka-player/issues/4648)) ([777c27e](https://github.com/shaka-project/shaka-player/commit/777c27ee558d803b3f166a0ac8b9778b08196654)), closes [#4647](https://github.com/shaka-project/shaka-player/issues/4647)\r\n* Fix HLS lazy-loading exception on switch ([#4645](https://github.com/shaka-project/shaka-player/issues/4645)) ([941ed4e](https://github.com/shaka-project/shaka-player/commit/941ed4ed286e4463d4973e994d322250678cfdcb)), closes [#4621](https://github.com/shaka-project/shaka-player/issues/4621)\r\n* Fix HLS lazy-loading with DRM ([#4646](https://github.com/shaka-project/shaka-player/issues/4646)) ([a7f0be7](https://github.com/shaka-project/shaka-player/commit/a7f0be726d5b801ac2365bb0c9b6db9e576c964f)), closes [#4622](https://github.com/shaka-project/shaka-player/issues/4622)\r\n* Fix HLS live stream subtitle offsets ([#4586](https://github.com/shaka-project/shaka-player/issues/4586)) ([3b9af2e](https://github.com/shaka-project/shaka-player/commit/3b9af2efa6be06c8c8a13e5d715828e2875d75d7))\r\n* Fix ID3 parsing in TS segments ([#4609](https://github.com/shaka-project/shaka-player/issues/4609)) ([3b534fd](https://github.com/shaka-project/shaka-player/commit/3b534fd405ad3254d37a86fd1895ceeb96dc8094))\r\n* Fix in-band key rotation on Xbox One ([#4478](https://github.com/shaka-project/shaka-player/issues/4478)) ([4e93311](https://github.com/shaka-project/shaka-player/commit/4e933116984beb630d31ce7a0b8c9bc6f8b48c06)), closes [#4401](https://github.com/shaka-project/shaka-player/issues/4401)\r\n* Fix metadata assert when the ID3 is future (coming in a previous segment) ([#4640](https://github.com/shaka-project/shaka-player/issues/4640)) ([216bdd7](https://github.com/shaka-project/shaka-player/commit/216bdd7657d7be8bb33f71c3a62f649ecc25ace5))\r\n* Fix multi-period DASH with descriptive audio ([#4629](https://github.com/shaka-project/shaka-player/issues/4629)) ([81ccd5c](https://github.com/shaka-project/shaka-player/commit/81ccd5c73ba5e021466b82c05f8b607b0c345849)), closes [#4500](https://github.com/shaka-project/shaka-player/issues/4500)\r\n* fix support clear and encrypted periods ([#4606](https://github.com/shaka-project/shaka-player/issues/4606)) ([6256db3](https://github.com/shaka-project/shaka-player/commit/6256db3af5065ea1db1951ea7583d4608ce5e28d))\r\n* Fix vanishing tracks while offline ([#4426](https://github.com/shaka-project/shaka-player/issues/4426)) ([c935cc1](https://github.com/shaka-project/shaka-player/commit/c935cc17703297a44b3ce3bda75d8f2ea37f4147)), closes [#4408](https://github.com/shaka-project/shaka-player/issues/4408)\r\n* Fixed LCEVC decode breaking dependencies issue and read me addition ([#4565](https://github.com/shaka-project/shaka-player/issues/4565)) ([3c75d1a](https://github.com/shaka-project/shaka-player/commit/3c75d1a71aea039c802555031fffbf3cad77f6fc))\r\n* focus on first element when back to the settings menu ([#4653](https://github.com/shaka-project/shaka-player/issues/4653)) ([b40b6e7](https://github.com/shaka-project/shaka-player/commit/b40b6e7669d4ccf8677a6d262767f3e155eb02e6)), closes [#4652](https://github.com/shaka-project/shaka-player/issues/4652)\r\n* Force using mcap polyfill on EOS browsers ([#4630](https://github.com/shaka-project/shaka-player/issues/4630)) ([6191d58](https://github.com/shaka-project/shaka-player/commit/6191d5894deb679ed68da54357dc1f6831edeb23))\r\n* **HLS:** Add a guard on closeSegmentIndex ([#4615](https://github.com/shaka-project/shaka-player/issues/4615)) ([57ce56b](https://github.com/shaka-project/shaka-player/commit/57ce56b8d2bd5d2b1626b38594e6d54defd10255))\r\n* **HLS:** Fix detection of WebVTT subtitles in HLS by extension ([#4663](https://github.com/shaka-project/shaka-player/issues/4663)) ([8f698c6](https://github.com/shaka-project/shaka-player/commit/8f698c6eaad6e1019f388e2d36f28883a142ddfb))\r\n* **HLS:** Fix lazy-loading of TS content ([#4601](https://github.com/shaka-project/shaka-player/issues/4601)) ([dd7356d](https://github.com/shaka-project/shaka-player/commit/dd7356d0e0655f59792b3f992841d4c0c8d5540a))\r\n* **hls:** Fix raw format detection when the main playlist hasn't type ([#4583](https://github.com/shaka-project/shaka-player/issues/4583)) ([d319718](https://github.com/shaka-project/shaka-player/commit/d319718eded6e36f4fc705588de84a301a428d49))\r\n* **hls:** Fix single-variant HLS streams ([#4573](https://github.com/shaka-project/shaka-player/issues/4573)) ([62906bd](https://github.com/shaka-project/shaka-player/commit/62906bdc9a26456d213a0c5d33f00b4454cdfb5b)), closes [#1936](https://github.com/shaka-project/shaka-player/issues/1936) [#3536](https://github.com/shaka-project/shaka-player/issues/3536)\r\n* **HLS:** Infer missing codecs from config ([#4656](https://github.com/shaka-project/shaka-player/issues/4656)) ([08fc7dd](https://github.com/shaka-project/shaka-player/commit/08fc7dd717390c61dcc3304c58bfff5c87c77833))\r\n* **HLS:** Return 0-0 seek range until fully loaded ([#4590](https://github.com/shaka-project/shaka-player/issues/4590)) ([bf50ada](https://github.com/shaka-project/shaka-player/commit/bf50ada6874879b33ac1acd34ec7e5375eb4c45d))\r\n* Limit key ids to 32 characters ([#4614](https://github.com/shaka-project/shaka-player/issues/4614)) ([9531b07](https://github.com/shaka-project/shaka-player/commit/9531b07296163d8cc5c8416f0baa4ffd29c0a90d))\r\n* Make XML parsing secure ([#4598](https://github.com/shaka-project/shaka-player/issues/4598)) ([a731eba](https://github.com/shaka-project/shaka-player/commit/a731eba804ae1a3f3ee3061550fa43ea82e06313))\r\n* Missing AES-128 key of last HLS segment ([#4519](https://github.com/shaka-project/shaka-player/issues/4519)) ([3d0f752](https://github.com/shaka-project/shaka-player/commit/3d0f752c7d0677f750dbbd9bcd2895358358628f)), closes [#4517](https://github.com/shaka-project/shaka-player/issues/4517)\r\n* **offline:** Add storage muxer init timeout ([#4566](https://github.com/shaka-project/shaka-player/issues/4566)) ([d4d3740](https://github.com/shaka-project/shaka-player/commit/d4d37407c87b7c032a16679e96b318146bbdee22))\r\n* **playhead:** Safeguard getStallsDetected as stallDetector can be null ([#4581](https://github.com/shaka-project/shaka-player/issues/4581)) ([21ceaca](https://github.com/shaka-project/shaka-player/commit/21ceacab9e9577c18cef7f6c76f57f39eca3dca9))\r\n* Resolve load failures for TS-based content on Android-based Cast devices ([#4569](https://github.com/shaka-project/shaka-player/issues/4569)). ([#4570](https://github.com/shaka-project/shaka-player/issues/4570)) ([65903aa](https://github.com/shaka-project/shaka-player/commit/65903aa27b5723632ff16a92059cb20c4879fc59))\r\n* Respect existing app usage of Cast SDK ([#4523](https://github.com/shaka-project/shaka-player/issues/4523)) ([8d3d556](https://github.com/shaka-project/shaka-player/commit/8d3d556edaa817af686e1577f0a0bad92d0c74d4)), closes [#4521](https://github.com/shaka-project/shaka-player/issues/4521)\r\n* return width and height in the stats when we are using src= ([#4435](https://github.com/shaka-project/shaka-player/issues/4435)) ([9bbfb57](https://github.com/shaka-project/shaka-player/commit/9bbfb57cb4e2c0653e6eb5681e10714cb939bad9))\r\n* Simplify transmuxer to allow more mimetypes in the future ([#4642](https://github.com/shaka-project/shaka-player/issues/4642)) ([a14e84b](https://github.com/shaka-project/shaka-player/commit/a14e84b5c9a6feb8f7f2efcbae52fe9691d48412))\r\n* **ttml:** Default TTML background color to transparent if unspecified ([#4496](https://github.com/shaka-project/shaka-player/issues/4496)) ([32b0a90](https://github.com/shaka-project/shaka-player/commit/32b0a90a8c583bba03a3d7b035a1244d325e3da6)), closes [#4468](https://github.com/shaka-project/shaka-player/issues/4468)\r\n* **UI:** Ad position and ad counter are too close to each other ([#4416](https://github.com/shaka-project/shaka-player/issues/4416)) ([8376410](https://github.com/shaka-project/shaka-player/commit/83764104277363b6ce0e05d8e53449ff454c6f0e))\r\n* **ui:** Fix exception on screen rotation if fullscreen is not supported ([#4669](https://github.com/shaka-project/shaka-player/issues/4669)) ([fd93f6a](https://github.com/shaka-project/shaka-player/commit/fd93f6ae1bc917061c035abcfb835855e336bb06))\r\n* Virgin Media set top box is incorrectly categorized as Apple/Safari ([df79470](https://github.com/shaka-project/shaka-player/commit/df79470af088089f8beba2f44a236593820d655a))\r\n* WebVTT line not correctly positioned in UITextDisplayer ([#4567](https://github.com/shaka-project/shaka-player/issues/4567)) ([#4682](https://github.com/shaka-project/shaka-player/issues/4682)) ([140aefe](https://github.com/shaka-project/shaka-player/commit/140aefee04718faa631ba090d6313e372b608fc1))\r\n\r\n---\r\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(main): release 4.3.0 (#4424)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a142d6ca63ac8d88f401",
    "number": 4420,
    "body": null,
    "head_branch": "maintained-branches-doc",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Update maintained branches doc (#4420)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a143d6ca63ac8d88f402",
    "number": 4418,
    "body": "PatchedMediaKeysApple used to not be registered, meaning it does not get installed when shaka.polyfill.installAll() gets called.",
    "head_branch": "register-missing-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a144d6ca63ac8d88f403",
    "number": 4417,
    "body": "You can activate this visualizer UI by using the new\r\n\"Buffer Visualizer\" button in the overflow menu of the player UI.",
    "head_branch": "visualizerBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(demo): Demo visualizer for buffered ranges. (#4417)\n\nYou can activate this visualizer UI by using the new\r\n\"Buffer Visualizer\" button in the overflow menu of the player UI."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a145d6ca63ac8d88f404",
    "number": 4416,
    "body": "Close https://github.com/shaka-project/shaka-player/issues/4339",
    "head_branch": "ui-ad-counter",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(UI): Ad position and ad counter are too close to each other (#4416)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4339"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a146d6ca63ac8d88f405",
    "number": 4415,
    "body": "The initial implementation had a bug where a class declaration\r\n\"statement\" would be seen as covering all the lines of all the methods\r\nin that class.  This change fixes that case, so that the lines of\r\nmethods and inner statements are not \"part\" of their outer containers.",
    "head_branch": "fix-incremental-coverage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix incremental coverage stats (#4415)\n\nThe initial implementation had a bug where a class declaration\r\n\"statement\" would be seen as covering all the lines of all the methods\r\nin that class.  This change fixes that case, so that the lines of\r\nmethods and inner statements are not \"part\" of their outer containers."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a147d6ca63ac8d88f406",
    "number": 4414,
    "body": null,
    "head_branch": "drop-compiler-hack",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Drop outdated compiler hack (#4414)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a148d6ca63ac8d88f407",
    "number": 4412,
    "body": "Both TTML and VTT regions should be thought of as separate elements\r\nfrom the cue structures they contain.  To this end, the UI text\r\ndisplayer now creates separate region elements to represent CueRegion\r\nobjects, and the Cues attached to them nest inside those region\r\nelements in the DOM.\r\n\r\nCloses #4381",
    "head_branch": "fix-ui-cue-regions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(text): Fix cue region rendering in UI (#4412)\n\nBoth TTML and VTT regions should be thought of as separate elements\r\nfrom the cue structures they contain.  To this end, the UI text\r\ndisplayer now creates separate region elements to represent CueRegion\r\nobjects, and the Cues attached to them nest inside those region\r\nelements in the DOM.\r\n\r\nCloses #4381"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a149d6ca63ac8d88f408",
    "number": 4411,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.9](https://github.com/shaka-project/shaka-player/compare/v3.3.8...v3.3.9) (2022-08-17)\n\n\n### Bug Fixes\n\n* add strictMissingProperties suppressions to unblock strict missing properties on union types. ([#4371](https://github.com/shaka-project/shaka-player/issues/4371)) ([6225452](https://github.com/shaka-project/shaka-player/commit/62254528e6087eac2e62b07e146a55fcd565494e))\n* exception if on early adError ([#4362](https://github.com/shaka-project/shaka-player/issues/4362)) ([c6339d2](https://github.com/shaka-project/shaka-player/commit/c6339d2e38a22ec7646f167622c2470023af10c6)), closes [#4004](https://github.com/shaka-project/shaka-player/issues/4004)\n* Fix key ID byteswapping for PlayReady on PS4 ([#4377](https://github.com/shaka-project/shaka-player/issues/4377)) ([fa8f5fc](https://github.com/shaka-project/shaka-player/commit/fa8f5fc57949c44470aa908a4e8866cd4e05141a))\n* Fix MediaCapabilities polyfill on Tizen and WebOS ([#4396](https://github.com/shaka-project/shaka-player/issues/4396)) ([89fef08](https://github.com/shaka-project/shaka-player/commit/89fef085634830c40353df06ca5f8ca3e398ef6e)), closes [#4383](https://github.com/shaka-project/shaka-player/issues/4383) [#4357](https://github.com/shaka-project/shaka-player/issues/4357)\n* Fix TextDecoder fallback and browser support check ([#4403](https://github.com/shaka-project/shaka-player/issues/4403)) ([f4c2d32](https://github.com/shaka-project/shaka-player/commit/f4c2d322dffa03a52c4108cd7670df36e5e60d75))\n* Fix UI captions icon state ([#4384](https://github.com/shaka-project/shaka-player/issues/4384)) ([e6465e4](https://github.com/shaka-project/shaka-player/commit/e6465e4f1f146fdb0ff7529ee8a369fda914a5d3)), closes [#4358](https://github.com/shaka-project/shaka-player/issues/4358)\n* Fix VP9 codec checks on Mac Firefox ([#4391](https://github.com/shaka-project/shaka-player/issues/4391)) ([86cae65](https://github.com/shaka-project/shaka-player/commit/86cae652955ca333e24dd13d52c0020935da2adc))\n* **text:** Fix cue region rendering in UI ([#4412](https://github.com/shaka-project/shaka-player/issues/4412)) ([afbc3b6](https://github.com/shaka-project/shaka-player/commit/afbc3b69e5361fa07d60f27b72a11f9e68068f80)), closes [#4381](https://github.com/shaka-project/shaka-player/issues/4381)\n* **text:** Fix TTML render timing and line break issues ([#4407](https://github.com/shaka-project/shaka-player/issues/4407)) ([1e68c6e](https://github.com/shaka-project/shaka-player/commit/1e68c6e1555b169e8e29b311f54826a661cf4b42)), closes [#4381](https://github.com/shaka-project/shaka-player/issues/4381)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.9 (#4411)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a14ad6ca63ac8d88f409",
    "number": 4410,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.11](https://github.com/shaka-project/shaka-player/compare/v3.2.10...v3.2.11) (2022-08-17)\n\n\n### Bug Fixes\n\n* add strictMissingProperties suppressions to unblock strict missing properties on union types. ([#4371](https://github.com/shaka-project/shaka-player/issues/4371)) ([c5678fb](https://github.com/shaka-project/shaka-player/commit/c5678fbad3a63bb93eac1abbf70e9e23b79911f6))\n* Fix key ID byteswapping for PlayReady on PS4 ([#4377](https://github.com/shaka-project/shaka-player/issues/4377)) ([bbb0640](https://github.com/shaka-project/shaka-player/commit/bbb0640e2c6230732f6d0789ea82a2721a2a975c))\n* Fix MediaCapabilities polyfill on Tizen and WebOS ([#4396](https://github.com/shaka-project/shaka-player/issues/4396)) ([f5fb3e5](https://github.com/shaka-project/shaka-player/commit/f5fb3e5d4670b177db001b28d13cb25a6e947ffa)), closes [#4383](https://github.com/shaka-project/shaka-player/issues/4383) [#4357](https://github.com/shaka-project/shaka-player/issues/4357)\n* Fix TextDecoder fallback and browser support check ([#4403](https://github.com/shaka-project/shaka-player/issues/4403)) ([e67b64a](https://github.com/shaka-project/shaka-player/commit/e67b64af4c0e357fb0f3fae67dba00d4bd7c6bf5))\n* Fix VP9 codec checks on Mac Firefox ([#4391](https://github.com/shaka-project/shaka-player/issues/4391)) ([136348d](https://github.com/shaka-project/shaka-player/commit/136348d2215a951f8395a79d63f930fc95d9593f))\n* **text:** Fix cue region rendering in UI ([#4412](https://github.com/shaka-project/shaka-player/issues/4412)) ([3f65d3b](https://github.com/shaka-project/shaka-player/commit/3f65d3b60fce1398e3a078b2cbbafec351e7e249)), closes [#4381](https://github.com/shaka-project/shaka-player/issues/4381)\n* **text:** Fix TTML render timing and line break issues ([#4407](https://github.com/shaka-project/shaka-player/issues/4407)) ([0e626c0](https://github.com/shaka-project/shaka-player/commit/0e626c0836b4ea0070e29c0a51e49845a36f8ef3)), closes [#4381](https://github.com/shaka-project/shaka-player/issues/4381)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.11 (#4410)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a14bd6ca63ac8d88f40a",
    "number": 4409,
    "body": null,
    "head_branch": "id3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Parse ID3 metadata (#4409)\n\nCo-authored-by: Alvaro Velad <alvaro.velad@mirada.tv>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a14cd6ca63ac8d88f40b",
    "number": 4407,
    "body": "This changes the `SimpleTextDisplayer` to flatten text payloads\r\nonly starting at non-container cues. Not doing so poses an issue with\r\n'rolled over' caption lines.\r\n\r\nE.g., consider:\r\n- TTML file `N` with caption line `A` from time `[1.4, 2.1]`.\r\n- TTML file `N+1` with caption lines `A` from time `[1.4, 2.4]` and `B` from time `[2.4, 3.4]`.\r\n\r\nIf captions `A` and `B` are descendants of two different `<p>` elements, Shaka\r\ncurrently flattens the text payload from `A` and `B` into a single cue that is\r\nrendered onto the display from time `[1.4, 3.4]`. Therefore, caption `A`'s text\r\npayload is incorrectly showing during time `[2.4, 3.4]`.\r\n\r\nThe fix updates the `SimpleTextDisplayer#append()` logic to split up individual \r\nnon-container cues into their own `VTTCue` object. This will not be done at the \r\n`TTMLTextParser` level to ensure proper style inheritance still occurs for the \r\n(actual) text cues.\r\n\r\nCloses #4381\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfix(text): Fix TTML render timing and line break issues for native display\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "ttml-payload-flattening",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(text): Fix TTML render timing and line break issues (#4407)\n\nThis changes the `SimpleTextDisplayer` to flatten text payloads\r\nonly starting at non-container cues. Not doing so poses an issue with\r\n'rolled over' caption lines.\r\n\r\nE.g., consider:\r\n- TTML file `N` with caption line `A` from time `[1.4, 2.1]`.\r\n- TTML file `N+1` with caption lines `A` from time `[1.4, 2.4]` and `B` from time `[2.4, 3.4]`.\r\n\r\nIf captions `A` and `B` are descendants of two different `<p>` elements, Shaka\r\ncurrently flattens the text payload from `A` and `B` into a single cue that is\r\nrendered onto the display from time `[1.4, 3.4]`. Therefore, caption `A`'s text\r\npayload is incorrectly showing during time `[2.4, 3.4]`.\r\n\r\nThe fix updates the `SimpleTextDisplayer#append()` logic to split up individual \r\nnon-container cues into their own `VTTCue` object. This will not be done at the \r\n`TTMLTextParser` level to ensure proper style inheritance still occurs for the \r\n(actual) text cues.\r\n\r\nCloses #4381"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a14dd6ca63ac8d88f40c",
    "number": 4406,
    "body": "This generates a more detailed JSON coverage file containing maps of\r\nexactly what statements were executed by tests.  This also extracts\r\nthe data from this file and updates the PR with a comment showing how\r\nmuch of the changed code is covered by tests.",
    "head_branch": "coverage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Generate incremental code coverage data (#4406)\n\nThis generates a more detailed JSON coverage file containing maps of\r\nexactly what statements were executed by tests.  This also extracts\r\nthe data from this file and updates the PR with a comment showing how\r\nmuch of the changed code is covered by tests."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a14ed6ca63ac8d88f40d",
    "number": 4405,
    "body": "Since the TextDecoder fallback is only used on some devices, those\r\ncode paths were not tested on other platforms.  This makes the\r\nStringUtil tests execute both with and without TextDecoder.",
    "head_branch": "text-decoder-coverage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Test StringUtils both with and without TextDecoder (#4405)\n\nSince the TextDecoder fallback is only used on some devices, those\r\ncode paths were not tested on other platforms.  This makes the\r\nStringUtil tests execute both with and without TextDecoder."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a14fd6ca63ac8d88f40e",
    "number": 4404,
    "body": "Close https://github.com/shaka-project/shaka-player/issues/2333",
    "head_branch": "limit-abr-quality",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Automatic ABR quality restrictions based on size (#4404)\n\nCloses #2333"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a150d6ca63ac8d88f40f",
    "number": 4403,
    "body": "In PR #4324, we lifted the requirement to have a native or polyfilled\r\nTextDecoder implementation.  However, we forgot to remove the check\r\nfor it in isBrowserSupported().  This led to tests being skipped\r\nentirely on Xbox, as Xbox was determined to be an unsupported platform\r\nby Player.\r\n\r\nTo fix this, the check for TextDecoder/TextEncode in\r\nisBrowserSupported() has been removed.\r\n\r\nWhen the TextDecoder polyfill was removed, we left a reference to it\r\nin karma.conf.js.  This didn't hurt anything per se, but this has now\r\nbeen cleaned up.\r\n\r\nFinally, TextDecoder was originally introduced to give us a way to\r\nrecover from errors instead of throwing.  The fallback that was\r\nreintroduced in #4324 was the original code that throws on error.\r\nThis led to a test failure on Xbox, which represents a complete\r\nsubtitle failure in real content with an encoding issue.\r\n\r\nTo fix this, we replace the utf-8 decoding fallback based on\r\ndecodeURIComponent with a plain JS implementation.  This adds only 477\r\nbytes to Shaka Player, which is pretty good compared to the 2315 byte\r\npolyfill we used to recommend for this.\r\n\r\nTo better verify these text decoding features, a test that checked two\r\nthings has been split into two, comments around the tests have been\r\nimproved, and an additional test case has been added.",
    "head_branch": "textdecoder-fallback",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix TextDecoder fallback and browser support check (#4403)\n\nIn PR #4324, we lifted the requirement to have a native or polyfilled\r\nTextDecoder implementation.  However, we forgot to remove the check\r\nfor it in isBrowserSupported().  This led to tests being skipped\r\nentirely on Xbox, as Xbox was determined to be an unsupported platform\r\nby Player.\r\n\r\nTo fix this, the check for TextDecoder/TextEncode in\r\nisBrowserSupported() has been removed.\r\n\r\nWhen the TextDecoder polyfill was removed, we left a reference to it\r\nin karma.conf.js.  This didn't hurt anything per se, but this has now\r\nbeen cleaned up.\r\n\r\nFinally, TextDecoder was originally introduced to give us a way to\r\nrecover from errors instead of throwing.  The fallback that was\r\nreintroduced in #4324 was the original code that throws on error.\r\nThis led to a test failure on Xbox, which represents a complete\r\nsubtitle failure in real content with an encoding issue.\r\n\r\nTo fix this, we replace the utf-8 decoding fallback based on\r\ndecodeURIComponent with a plain JS implementation.  This adds only 477\r\nbytes to Shaka Player, which is pretty good compared to the 2315 byte\r\npolyfill we used to recommend for this.\r\n\r\nTo better verify these text decoding features, a test that checked two\r\nthings has been split into two, comments around the tests have been\r\nimproved, and an additional test case has been added."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a151d6ca63ac8d88f410",
    "number": 4399,
    "body": "This raises the default gap-detection threshold from 0.1 seconds for\r\nsome platforms and 0.5 seconds for others to 0.5 seconds universally.\r\nThis fixes test flake in gap-jumping tests on Android and may improve\r\ngap-jumping generally for certain platforms or content.",
    "head_branch": "gap-detection-default",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Improve gap-detection robustness (#4399)\n\nThis raises the default gap-detection threshold from 0.1 seconds for\r\nsome platforms and 0.5 seconds for others to 0.5 second universally.\r\nThis fixes test flake in gap-jumping tests on Android and may improve\r\ngap-jumping generally for certain platforms or content."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a152d6ca63ac8d88f411",
    "number": 4398,
    "body": "The upgraded polyfill fixes this.\r\n\r\nSee shaka-project/eme-encryption-scheme-polyfill#49",
    "head_branch": "fix-tizen-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix Tizen test failures due to ES6 in polyfill (#4398)\n\nThe upgraded polyfill fixes this.\r\n\r\nSee shaka-project/eme-encryption-scheme-polyfill#49"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a153d6ca63ac8d88f412",
    "number": 4396,
    "body": "Close https://github.com/shaka-project/shaka-player/issues/4383\r\nClose https://github.com/shaka-project/shaka-player/issues/4357",
    "head_branch": "tizen-webos-mediacapabilities",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix MediaCapabilities polyfill on Tizen and WebOS (#4396)\n\nCloses #4383\r\nCloses #4357"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a154d6ca63ac8d88f413",
    "number": 4395,
    "body": "To work around a bug in Chrome and/or Selenium (root cause unclear), play\r\nunmuted, but very quiet during tests.  Without this, playback may progress very\r\nslowly (~0.5x) in some cases, and tests can time out.  The actual cause of this\r\nissue was never determined because it was also \"resolved\" by restarting\r\nSelenium.  Since restarting Selenium is not a strategy for reducing test flake,\r\nwe will keep the runtime workaround.",
    "head_branch": "mac-slow-playback-workaround",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a155d6ca63ac8d88f414",
    "number": 4391,
    "body": "Tests for VP9 codec checks were failing on Firefox on our M1 Mac.  This\r\naddresses the issue by changing some default values that get used in a testing\r\nenvironment, and another default value that is used in production.\r\n\r\nThis fixes one source of nightly test failures.",
    "head_branch": "vp9",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix VP9 codec checks on Mac Firefox (#4391)\n\nTests for VP9 codec checks were failing on Firefox on our M1 Mac.  This\r\naddresses the issue by changing some default values that get used in a testing\r\nenvironment, and another default value that is used in production."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a156d6ca63ac8d88f415",
    "number": 4390,
    "body": "This will attach a code coverage report to PRs and to nightly tests,\r\nboth specifically from Chrome on Linux.  Reports will be attached to  \r\nworkflow runs whether or not the tests pass.",
    "head_branch": "coverage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Upload coverage report for PR and nightly tests (#4390)\n\nThis will attach a code coverage report to PRs and to nightly tests,\r\nboth specifically from Chrome on Linux.  Reports will be attached to  \r\nworkflow runs whether or not the tests pass."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a157d6ca63ac8d88f416",
    "number": 4389,
    "body": "Adds `prft` parsing logic and surfaces this information via a player event.\r\n\r\nCloses #4382",
    "head_branch": "parse-prft-mp4-boxes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Parse and surface \"prft\" boxes as events (#4389)\n\nCloses #4382"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a158d6ca63ac8d88f417",
    "number": 4386,
    "body": "Expands on the original PR (#3880) by adding support for MP4 and key rotation.\r\n\r\nClose #850\r\n\r\nCo-authored-by: wjywbs <wjywbs@users.noreply.github.com>",
    "head_branch": "aes128",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(hls): Support AES-128 in HLS (#4386)\n\nExpands on the original PR (#3880) by adding support for MP4 and key rotation.\r\n\r\nClose #850\r\n\r\nCo-authored-by: wjywbs <wjywbs@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a159d6ca63ac8d88f418",
    "number": 4384,
    "body": "fix: Fixed minor bug #4358 \r\nPart of #4358  fixed the code \r\nType of change\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\nnot work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\nChecklist:\r\n\r\n- [x] I have signed the Google CLA https://cla.developers.google.com/\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run ./build/all.py and the build passes\r\n- [x] I have run ./build/test.py and all tests pass\r\n\r\nReviewed-by: @anshgo01yal \r\nRefs: #4358 ",
    "head_branch": "kartik",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix UI captions icon state (#4384)\n\nReviewed-by: @anshgo01yal \r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>\r\nCo-authored-by: Álvaro Velad Galván <alvaro.velad@mirada.tv>\r\n\r\nCloses #4358"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a15ad6ca63ac8d88f419",
    "number": 4378,
    "body": "Upgrade eme-encryption-scheme-polyfill to support chromecast version of PlayReady.",
    "head_branch": "eme-encryption-scheme-update",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Upgrade eme-encryption-scheme-polyfill to support ChromeCast version of PlayReady (#4378)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a15bd6ca63ac8d88f41a",
    "number": 4377,
    "body": "Close https://github.com/shaka-project/shaka-player/issues/4376",
    "head_branch": "bugfix/4376",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix key ID byteswapping for PlayReady on PS4 (#4377)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a15cd6ca63ac8d88f41b",
    "number": 4375,
    "body": "The `isBrowserSupported` function in the `utils/player.js` fails if the Safari Version is < 13. However, this check doesn't work for Amazon Fire TV devices. Even tho they have a `Version/4.0` in the user agent string, the browser still supports all other requirements to support playback with Shaka Player. \r\n\r\nHere are a couple of examples of the different FireTV device user agents:\r\n#### Fire TV Stick 4K - 1st Gen:\r\n```\r\n'Mozilla/5.0 (Linux; Android 7.1.2; AFTMM Build/NS6289; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/100.0.4896.127 Mobile Safari/537.36'\r\n```\r\n#### Fire TV Stick - 3rd Gen:\r\n```\r\n'Mozilla/5.0 (Linux; Android 9; AFTSSS Build/PS7285.2877N; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/96.0.4664.92 Mobile Safari/537.36'\r\n```\r\n\r\nThe fix involves identifying the Amazon Fire TV device based on the parameters described [in the Amazon Fire TV docs](https://developer.amazon.com/docs/fire-tv/identify-amazon-fire-tv-devices.html) and disabling the Safari version check for these devices.\r\n\r\n### Type of change\r\n - [ ] Bug fix (non-breaking change which fixes an issue)\r\n - [x] New feature (non-breaking change which adds functionality)\r\n - [ ] Breaking change (fix or feature that would cause existing functionality to\r\nnot work as expected)\r\n - [ ] This change requires a documentation update\r\n### Checklist:\r\n - [x] I have signed the Google CLA https://cla.developers.google.com/\r\n - [x] My code follows the style guidelines of this project\r\n - [ ] I have made corresponding changes to the documentation\r\n - [ ] I have added tests that prove my fix is effective or that my feature works\r\n - [x] I have verified my change on multiple browsers on different platforms (Amazon FireTV Stick 4k, and non-4k device)\r\n - [x] I have run ./build/all.py and the build passes\r\n - [ ] I have run ./build/test.py and all tests pass _(while most tests pass, some tests around `TextDisplayer` are failing even on the main branch for Edge and Firefox, even tho those tests seem irrelevant to the changes in this PR). I'll create an issue around that._ \r\n",
    "head_branch": "chore_add_amazon_firetv_platform",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: add Amazon Fire TV platform support (#4375)\n\nThe `isBrowserSupported` function in the `utils/player.js` fails if the Safari Version is < 13. However, this check doesn't work for Amazon Fire TV devices. Even though they have a `Version/4.0` in the user agent string, the browser still supports all other requirements to support playback with Shaka Player. \r\n\r\nHere are a couple of examples of the different FireTV device user agents:\r\n\r\nFire TV Stick 4K - 1st Gen:\r\nMozilla/5.0 (Linux; Android 7.1.2; AFTMM Build/NS6289; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/100.0.4896.127 Mobile Safari/537.36\r\n\r\nFire TV Stick - 3rd Gen:\r\nMozilla/5.0 (Linux; Android 9; AFTSSS Build/PS7285.2877N; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/96.0.4664.92 Mobile Safari/537.36\r\n\r\nThe fix involves identifying the Amazon Fire TV device based on the parameters described [in the Amazon Fire TV docs](https://developer.amazon.com/docs/fire-tv/identify-amazon-fire-tv-devices.html) and disabling the Safari version check for these devices."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a15dd6ca63ac8d88f41c",
    "number": 4373,
    "body": "The available package versions of Safari have changed.  This updates\r\nto what is currently available.  This also updates to expect the\r\ncurrent format of the packages (pkg inside zip).",
    "head_branch": "fix-safari-14-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix Safari 14 tests (#4373)\n\nThe available package versions of Safari have changed.  This updates\r\nto what is currently available.  This also updates to expect the\r\ncurrent format of the packages (pkg inside zip)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a15ed6ca63ac8d88f41d",
    "number": 4371,
    "body": "JSCompiler's strict missing properties on union types change improves the missing properties check to report properties that do not exist on all members of union types (excluding null or undefined and after boxing primitives).",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: add strictMissingProperties suppressions to unblock strict missing properties on union types. (#4371)\n\nJSCompiler's strict missing properties on union types change improves the missing properties check to report properties that do not exist on all members of union types (excluding null or undefined and after boxing primitives)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a15ed6ca63ac8d88f41e",
    "number": 4366,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.1.3](https://github.com/shaka-project/shaka-player/compare/v4.1.2...v4.1.3) (2022-08-16)\n\n\n### Bug Fixes\n\n* add strictMissingProperties suppressions to unblock strict missing properties on union types. ([#4371](https://github.com/shaka-project/shaka-player/issues/4371)) ([e055893](https://github.com/shaka-project/shaka-player/commit/e055893eca165eb9c01493ea89de4da3fcf7737e))\n* exception if on early adError ([#4362](https://github.com/shaka-project/shaka-player/issues/4362)) ([36023e8](https://github.com/shaka-project/shaka-player/commit/36023e89d44463bf9949b53e7f24f7d6c5fc4d73)), closes [#4004](https://github.com/shaka-project/shaka-player/issues/4004)\n* Fix key ID byteswapping for PlayReady on PS4 ([#4377](https://github.com/shaka-project/shaka-player/issues/4377)) ([b8eb590](https://github.com/shaka-project/shaka-player/commit/b8eb590084a9871d95b3f1fccc1921d1da649e6a))\n* Fix MediaCapabilities polyfill on Tizen and WebOS ([#4396](https://github.com/shaka-project/shaka-player/issues/4396)) ([259cd84](https://github.com/shaka-project/shaka-player/commit/259cd844863ffc754c3e130ee673014f7913670d)), closes [#4383](https://github.com/shaka-project/shaka-player/issues/4383) [#4357](https://github.com/shaka-project/shaka-player/issues/4357)\n* Fix TextDecoder fallback and browser support check ([#4403](https://github.com/shaka-project/shaka-player/issues/4403)) ([45cae27](https://github.com/shaka-project/shaka-player/commit/45cae273efd1070a7bb266e7cca84b9905756a4a))\n* Fix UI captions icon state ([#4384](https://github.com/shaka-project/shaka-player/issues/4384)) ([c31a57f](https://github.com/shaka-project/shaka-player/commit/c31a57fa19225e4a081f261958b678d389a9490b)), closes [#4358](https://github.com/shaka-project/shaka-player/issues/4358)\n* Fix VP9 codec checks on Mac Firefox ([#4391](https://github.com/shaka-project/shaka-player/issues/4391)) ([227dfef](https://github.com/shaka-project/shaka-player/commit/227dfefa39befe5bc184e05a3f6a916b4cf04147))\n* **text:** Fix cue region rendering in UI ([#4412](https://github.com/shaka-project/shaka-player/issues/4412)) ([4706572](https://github.com/shaka-project/shaka-player/commit/4706572b4582d56a51be1aa3295751c436cf6c07)), closes [#4381](https://github.com/shaka-project/shaka-player/issues/4381)\n* **text:** Fix TTML render timing and line break issues ([#4407](https://github.com/shaka-project/shaka-player/issues/4407)) ([1c6deb4](https://github.com/shaka-project/shaka-player/commit/1c6deb42a013cc36cf37497ac9b22606a286fd20)), closes [#4381](https://github.com/shaka-project/shaka-player/issues/4381)\n* Update v4.1.x branch Cast receiver ID ([582058b](https://github.com/shaka-project/shaka-player/commit/582058b2a22337ea2259c200949d51e594cba22a))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.1.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.1.x): release 4.1.3 (#4366)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a15fd6ca63ac8d88f41f",
    "number": 4365,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.0.5](https://github.com/shaka-project/shaka-player/compare/v4.0.4...v4.0.5) (2022-08-17)\n\n\n### Bug Fixes\n\n* add strictMissingProperties suppressions to unblock strict missing properties on union types. ([#4371](https://github.com/shaka-project/shaka-player/issues/4371)) ([2e26775](https://github.com/shaka-project/shaka-player/commit/2e2677528074e6180e80d21bfa92880c99eface9))\n* exception if on early adError ([#4362](https://github.com/shaka-project/shaka-player/issues/4362)) ([94413d2](https://github.com/shaka-project/shaka-player/commit/94413d253edcf6bb9d11dc147c661426236bc0a9)), closes [#4004](https://github.com/shaka-project/shaka-player/issues/4004)\n* Fix key ID byteswapping for PlayReady on PS4 ([#4377](https://github.com/shaka-project/shaka-player/issues/4377)) ([e677606](https://github.com/shaka-project/shaka-player/commit/e6776061436855ad508900d6b3826cbe6f4959a4))\n* Fix MediaCapabilities polyfill on Tizen and WebOS ([#4396](https://github.com/shaka-project/shaka-player/issues/4396)) ([124f882](https://github.com/shaka-project/shaka-player/commit/124f8821b00d35530a533ad237a9ce2f0979addf)), closes [#4383](https://github.com/shaka-project/shaka-player/issues/4383) [#4357](https://github.com/shaka-project/shaka-player/issues/4357)\n* Fix TextDecoder fallback and browser support check ([#4403](https://github.com/shaka-project/shaka-player/issues/4403)) ([d86b1ba](https://github.com/shaka-project/shaka-player/commit/d86b1baf3bf2c202e06276671dddfb07d63f2d5a))\n* Fix UI captions icon state ([#4384](https://github.com/shaka-project/shaka-player/issues/4384)) ([65a90e8](https://github.com/shaka-project/shaka-player/commit/65a90e88b99a6508c04e38602dd3455f660bbfdc)), closes [#4358](https://github.com/shaka-project/shaka-player/issues/4358)\n* Fix VP9 codec checks on Mac Firefox ([#4391](https://github.com/shaka-project/shaka-player/issues/4391)) ([0721b19](https://github.com/shaka-project/shaka-player/commit/0721b199467162ba777db5781bd39f39f75ac45c))\n* **text:** Fix cue region rendering in UI ([#4412](https://github.com/shaka-project/shaka-player/issues/4412)) ([54184bb](https://github.com/shaka-project/shaka-player/commit/54184bb2c5224324b42e0e28383bcb8b073971f9)), closes [#4381](https://github.com/shaka-project/shaka-player/issues/4381)\n* **text:** Fix TTML render timing and line break issues ([#4407](https://github.com/shaka-project/shaka-player/issues/4407)) ([6726d47](https://github.com/shaka-project/shaka-player/commit/6726d4728694a91bfac3d946a3e7c9abeb2aba0c)), closes [#4381](https://github.com/shaka-project/shaka-player/issues/4381)\n* Update v4.0.x branch Cast receiver ID ([874fcd6](https://github.com/shaka-project/shaka-player/commit/874fcd64c8605c842be27b7bdd4457754e883f3e))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.0.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.0.x): release 4.0.5 (#4365)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a160d6ca63ac8d88f420",
    "number": 4364,
    "body": "This ID points to the nightly build, and so is appropriate for the\r\nmain branch.",
    "head_branch": "update-receiver-id-main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Update main branch Cast receiver ID (#4364)\n\nThis ID points to the nightly build, and so is appropriate for the\r\nmain branch."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a161d6ca63ac8d88f421",
    "number": 4362,
    "body": "If onAdError is called before onAdStart_ then onAdComplete_ uses\r\nthis.ad_ which is undefined.\r\n\r\nThis can happen if a VAST XML file contains no ads.\r\n\r\nfixes #4004",
    "head_branch": "fix-no-ads-bug",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: exception if on early adError (#4362)\n\nIf onAdError is called before onAdStart_ then onAdComplete_ uses\r\nthis.ad_ which is undefined.\r\n\r\nThis can happen if a VAST XML file contains no ads.\r\n\r\nFixes #4004"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a162d6ca63ac8d88f422",
    "number": 4354,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.0.4](https://github.com/shaka-project/shaka-player/compare/v4.0.3...v4.0.4) (2022-07-14)\n\n\n### Bug Fixes\n\n* Add fallback to TextDecoder and TextEncoder ([#4324](https://github.com/shaka-project/shaka-player/issues/4324)) ([92f9190](https://github.com/shaka-project/shaka-player/commit/92f91904b08a09a56558d91818924287d35a4cb0))\n* Debug buffer placement ([9f8520c](https://github.com/shaka-project/shaka-player/commit/9f8520c0e5c67a4404b03a7b96cbc3163db0844c))\n* Fix EOS set-top box being identified as Apple. ([#4310](https://github.com/shaka-project/shaka-player/issues/4310)) ([1d642e5](https://github.com/shaka-project/shaka-player/commit/1d642e5fb101d985c05e68c7bcabab471ef122dd))\n* Fix getVideoPlaybackQuality in WebOS 3 ([#4316](https://github.com/shaka-project/shaka-player/issues/4316)) ([a1af9dd](https://github.com/shaka-project/shaka-player/commit/a1af9dd5b9ebe6b671f5fe7daa97f713f66f8cfa))\n* Fix MediaCapabilities polyfill on Playstation 4 ([#4320](https://github.com/shaka-project/shaka-player/issues/4320)) ([0f20944](https://github.com/shaka-project/shaka-player/commit/0f20944f34fef2dbb7dad62cdb3129729dfefcb5))\n* Fix segment index assertions with DAI ([9a8bf42](https://github.com/shaka-project/shaka-player/commit/9a8bf42928e82818909e33b056644fd740636c94))\n* VTT Cue Parsing On PlayStation 4 ([#4340](https://github.com/shaka-project/shaka-player/issues/4340)) ([37dc855](https://github.com/shaka-project/shaka-player/commit/37dc855d3613b8bb8a68c1f7da1ff2e76e948ed7)), closes [#4321](https://github.com/shaka-project/shaka-player/issues/4321)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.0.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.0.x): release 4.0.4 (#4354)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a163d6ca63ac8d88f423",
    "number": 4353,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.1.2](https://github.com/shaka-project/shaka-player/compare/v4.1.1...v4.1.2) (2022-07-14)\n\n\n### Bug Fixes\n\n* Add fallback to TextDecoder and TextEncoder ([#4324](https://github.com/shaka-project/shaka-player/issues/4324)) ([dc26ed2](https://github.com/shaka-project/shaka-player/commit/dc26ed2e0e4c994684712c38b3cde4fcdbe5a974))\n* Debug buffer placement ([f554d5d](https://github.com/shaka-project/shaka-player/commit/f554d5d642c695ae28f1e5724fa025231323022a))\n* Fix EOS set-top box being identified as Apple. ([#4310](https://github.com/shaka-project/shaka-player/issues/4310)) ([3f24916](https://github.com/shaka-project/shaka-player/commit/3f24916b108ebdd833b626ea6cdfbdb20b244767))\n* Fix getVideoPlaybackQuality in WebOS 3 ([#4316](https://github.com/shaka-project/shaka-player/issues/4316)) ([0e741d9](https://github.com/shaka-project/shaka-player/commit/0e741d95282487a699b77a521e1acf31ada732a6))\n* Fix MediaCapabilities polyfill on Playstation 4 ([#4320](https://github.com/shaka-project/shaka-player/issues/4320)) ([afa2a4b](https://github.com/shaka-project/shaka-player/commit/afa2a4b3f3358dc538cc164f6eb1969100c1d491))\n* Fix segment index assertions with DAI ([2ef9270](https://github.com/shaka-project/shaka-player/commit/2ef9270a95dd0de5119dc5c6fe6cc18a59202c24))\n* VTT Cue Parsing On PlayStation 4 ([#4340](https://github.com/shaka-project/shaka-player/issues/4340)) ([6784d88](https://github.com/shaka-project/shaka-player/commit/6784d88d2a5ee0f3763a50e6b0b74418c2f6af41)), closes [#4321](https://github.com/shaka-project/shaka-player/issues/4321)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.1.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.1.x): release 4.1.2 (#4353)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a164d6ca63ac8d88f424",
    "number": 4352,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.10](https://github.com/shaka-project/shaka-player/compare/v3.2.9...v3.2.10) (2022-07-14)\n\n\n### Bug Fixes\n\n* Add fallback to TextDecoder and TextEncoder ([#4324](https://github.com/shaka-project/shaka-player/issues/4324)) ([54095c2](https://github.com/shaka-project/shaka-player/commit/54095c2185b9b0137a2db448c2263cda463bb75b))\n* Fix EOS set-top box being identified as Apple. ([#4310](https://github.com/shaka-project/shaka-player/issues/4310)) ([981fe9d](https://github.com/shaka-project/shaka-player/commit/981fe9dcf38a174911e915968f50f9d6fe62ad22))\n* Fix getVideoPlaybackQuality in WebOS 3 ([#4316](https://github.com/shaka-project/shaka-player/issues/4316)) ([e88469d](https://github.com/shaka-project/shaka-player/commit/e88469dd921f9d9e0b62c7ded856c240882c691a))\n* Fix MediaCapabilities polyfill on Playstation 4 ([#4320](https://github.com/shaka-project/shaka-player/issues/4320)) ([ae8255a](https://github.com/shaka-project/shaka-player/commit/ae8255a4a5520ad07489fcc196b20b6d49f382a1))\n* Fix segment index assertions with DAI ([49e6e33](https://github.com/shaka-project/shaka-player/commit/49e6e33011a29508e3c30c43f41616d9d2a0fd98))\n* VTT Cue Parsing On PlayStation 4 ([#4340](https://github.com/shaka-project/shaka-player/issues/4340)) ([88fd5f9](https://github.com/shaka-project/shaka-player/commit/88fd5f9ab5d3397b7051e8e39787dd961e54c849)), closes [#4321](https://github.com/shaka-project/shaka-player/issues/4321)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.10 (#4352)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a165d6ca63ac8d88f425",
    "number": 4351,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.8](https://github.com/shaka-project/shaka-player/compare/v3.3.7...v3.3.8) (2022-07-14)\n\n\n### Bug Fixes\n\n* Add fallback to TextDecoder and TextEncoder ([#4324](https://github.com/shaka-project/shaka-player/issues/4324)) ([2be2af9](https://github.com/shaka-project/shaka-player/commit/2be2af9a112cc093c317356b0ec2d7a090fee1f7))\n* Fix EOS set-top box being identified as Apple. ([#4310](https://github.com/shaka-project/shaka-player/issues/4310)) ([621cda5](https://github.com/shaka-project/shaka-player/commit/621cda57b1a88f85dd69aa70f1f05d01f8582a15))\n* Fix getVideoPlaybackQuality in WebOS 3 ([#4316](https://github.com/shaka-project/shaka-player/issues/4316)) ([d0c4c04](https://github.com/shaka-project/shaka-player/commit/d0c4c04115269d638319c0ab310eaa83e176263e))\n* Fix MediaCapabilities polyfill on Playstation 4 ([#4320](https://github.com/shaka-project/shaka-player/issues/4320)) ([68fc5c4](https://github.com/shaka-project/shaka-player/commit/68fc5c4e3571681569d99cb4887b7bddeb539472))\n* Fix segment index assertions with DAI ([ccc9d1e](https://github.com/shaka-project/shaka-player/commit/ccc9d1ee790a24f5d65d728ab326fcc615edbf66))\n* VTT Cue Parsing On PlayStation 4 ([#4340](https://github.com/shaka-project/shaka-player/issues/4340)) ([e637006](https://github.com/shaka-project/shaka-player/commit/e63700668d71c3b24c71e0c27446ab5c373c9384)), closes [#4321](https://github.com/shaka-project/shaka-player/issues/4321)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.8 (#4351)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a166d6ca63ac8d88f426",
    "number": 4348,
    "body": "When DAI adds ad segments faster than real-time, the availability\r\nwindows gets messed up, and some assertions in SegmentIndex break.\r\nThis locks down the presentation start time after the initial manifest\r\nis parsed, so that the availability window is stable throughout\r\nplayback.\r\n\r\nb/233075535",
    "head_branch": "fix-segment-index-assertions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix segment index assertions with DAI (#4348)\n\nWhen DAI adds ad segments faster than real-time, the availability\r\nwindows gets messed up, and some assertions in SegmentIndex break.\r\nThis locks down the presentation start time after the initial manifest\r\nis parsed, so that the availability window is stable throughout\r\nplayback.\r\n\r\nb/233075535"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a167d6ca63ac8d88f427",
    "number": 4347,
    "body": null,
    "head_branch": "maintained-branches",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Document maintained branches (#4347)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a168d6ca63ac8d88f428",
    "number": 4346,
    "body": null,
    "head_branch": "fix-jpeg-js-vuln",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a169d6ca63ac8d88f429",
    "number": 4345,
    "body": "Issue an error with debug info, including the URL, if the placement of\r\na segment in buffer is very different from expectations.\r\n\r\nb/233075535",
    "head_branch": "debug-buffer-placement",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Debug buffer placement (#4345)\n\nIssue an error with debug info, including the URL, if the placement of\r\na segment in buffer is very different from expectations.\r\n\r\nb/233075535"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a16ad6ca63ac8d88f42a",
    "number": 4340,
    "body": "Addresses [issue/4321](https://github.com/shaka-project/shaka-player/issues/4321)",
    "head_branch": "ps4-textdecoder",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: VTT Cue Parsing On PlayStation 4 (#4340)\n\nNeed to exclude PlayStation 4 from TextDecoder usage, because even if TextDecoder is defined, VTT cues are not properly parsed on that platform.\r\n\r\nCloses #4321"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a16bd6ca63ac8d88f42b",
    "number": 4338,
    "body": "[mux.js 6.2.0 ](https://github.com/videojs/mux.js/releases/tag/v6.2.0)introduce changes that are useful while parsing ID3 HLS in-band metadata.",
    "head_branch": "mux.js-6.2.0",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update mux.js to 6.2.0 (#4338)\n\nmux.js v6.2.0 introduces changes that are useful while parsing ID3 HLS in-band metadata."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a16cd6ca63ac8d88f42c",
    "number": 4333,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4332",
    "head_branch": "remove-build-from-npm",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Remove build and appengine code from npm\n\nCloses #4332"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a16dd6ca63ac8d88f42d",
    "number": 4326,
    "body": null,
    "head_branch": "update-fairplay-build-types",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Move PatchedMediaKeysApple polyfill to fairplay build/types (#4326)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a16ed6ca63ac8d88f42e",
    "number": 4324,
    "body": "Related to https://github.com/shaka-project/shaka-player/commit/a72a1e91023a33c777a6001a64f818ea2e469914\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfix: Add fallback to TextDecoder and TextEncoder #4324\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "textdecoder-fallback",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add fallback to TextDecoder and TextEncoder (#4324)\n\nRelated to https://github.com/shaka-project/shaka-player/commit/a72a1e91023a33c777a6001a64f818ea2e469914"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a16fd6ca63ac8d88f42f",
    "number": 4323,
    "body": "Releases will no longer be announced on the mailing list.  Instead,\r\nusers can subscribe directly through GitHub.",
    "head_branch": "list-details",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Deprecate the mailing list for releases (#4323)\n\nReleases will no longer be announced on the mailing list.  Instead,\r\nusers can subscribe directly through GitHub."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a170d6ca63ac8d88f430",
    "number": 4322,
    "body": null,
    "head_branch": "playstation-readme",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add Playstation information to README (#4322)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a171d6ca63ac8d88f431",
    "number": 4320,
    "body": "This PR adds PS4 to the platform list, fixes an issue where ps4 was identified as an apple device/browser and explicitly sets the condition for installation of the mediaCapabilities polyfill for ps4, as its native implementation does not exist.\r\n\r\nCloses #4315",
    "head_branch": "chore_add_ps4_platform",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix MediaCapabilities polyfill on Playstation 4 (#4320)\n\nAdd Playstation 5 detection to the Media Capabilities Polyfill install method.\r\n\r\nFixes #4320"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a172d6ca63ac8d88f432",
    "number": 4316,
    "body": "It seems that webkitDroppedFrameCount is not included in the prototype but it is included in the video element itself, that's why it fails in WebOS 3.\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/4313",
    "head_branch": "videoplaybackquality-webos3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix getVideoPlaybackQuality in WebOS 3 (#4316)\n\nIt seems that webkitDroppedFrameCount is not included in the prototype but it is included in the video element itself, that's why it fails in WebOS 3.\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/4313"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a173d6ca63ac8d88f433",
    "number": 4310,
    "body": "The EOS set-top box, built by Liberty Global, has WebKit embedded and should play MSE (+ EME) compatible streams. With the latest version (`4`), streams didn't play. When attaching a debugger to the box, I noticed that the srcEquals node is selected.\r\n\r\nThe EOS box identifies itself as an Apple device, which is wrong. `Platform.isApple()` returns true, therefore `shouldUseSrcEquals_` (in combination with `config_.streaming.useNativeHlsOnSafari`) returns true as-well. The native playback check is not holding it from selecting srcEquals (https://github.com/shaka-project/shaka-player/blob/main/lib/player.js#L1273) as EOS supports MPEG-DASH natively (but not in combination with DRM, as far as I know). Nonetheless, MSE is preferred.",
    "head_branch": "eos-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix EOS set-top box being identified as Apple. (#4310)\n\nThe EOS set-top box, built by Liberty Global, has WebKit embedded and should play MSE (+ EME) compatible streams. With the latest version (`4`), streams didn't play. When attaching a debugger to the box, I noticed that the srcEquals node is selected.\r\n\r\nThe EOS box identifies itself as an Apple device, which is wrong. `Platform.isApple()` returns true, therefore `shouldUseSrcEquals_` (in combination with `config_.streaming.useNativeHlsOnSafari`) returns true as-well. The native playback check is not holding it from selecting srcEquals (https://github.com/shaka-project/shaka-player/blob/main/lib/player.js#L1273) as EOS supports MPEG-DASH natively (but not in combination with DRM, as far as I know). Nonetheless, MSE is preferred."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a174d6ca63ac8d88f434",
    "number": 4309,
    "body": "Add support for Modern EME and legacy Apple Media Keys for FairPlay\r\nAdd more FairPlay documentation",
    "head_branch": "legacy-fairplay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add support for Modern EME and legacy Apple Media Keys for FairPlay (#4309)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a175d6ca63ac8d88f435",
    "number": 4306,
    "body": null,
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a176d6ca63ac8d88f436",
    "number": 4303,
    "body": "test",
    "head_branch": "my-branch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a177d6ca63ac8d88f437",
    "number": 4302,
    "body": ":robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n## [3.2.9](https://github.com/shaka-project/shaka-player/compare/v3.2.8...v3.2.9) (2022-06-14)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* **demo:** allow switch between UITextDisplayer and SimpleTextDisplayer ([#4275](https://github.com/shaka-project/shaka-player/issues/4275)) ([76cd039](https://github.com/shaka-project/shaka-player/commit/76cd0398ff0115cf2c4c8369a50eee7fa12975cf))\r\n* **demo:** erroneous FairPlay keysystem in demo ([#4276](https://github.com/shaka-project/shaka-player/issues/4276)) ([bfdeb73](https://github.com/shaka-project/shaka-player/commit/bfdeb738aa5e9c464e79cdb787be11215eff6cc9))\r\n* New EME polyfill fixes EME/MCap issues on some smart TVs ([#4279](https://github.com/shaka-project/shaka-player/issues/4279)) ([312570f](https://github.com/shaka-project/shaka-player/commit/312570f3bbdbbabdc20a76f1afcba85aabc9c744))\r\n* Populate track's spatialAudio property ([#4291](https://github.com/shaka-project/shaka-player/issues/4291)) ([ab1b442](https://github.com/shaka-project/shaka-player/commit/ab1b442f057a305a4592f93062fb479fa72839d4))\r\n* Remove IE 11 from default browsers for Windows ([#4272](https://github.com/shaka-project/shaka-player/issues/4272)) ([3f2cb2e](https://github.com/shaka-project/shaka-player/commit/3f2cb2e761d8b78672935852903b5c6ecaa6a5c8)), closes [#4271](https://github.com/shaka-project/shaka-player/issues/4271)\r\n* Use middle segment when guessing MIME type on HLS ([#4269](https://github.com/shaka-project/shaka-player/issues/4269)) ([#4270](https://github.com/shaka-project/shaka-player/issues/4270)) ([51af232](https://github.com/shaka-project/shaka-player/commit/51af23244bd7307ff656e02b53383f4913cf1249))\r\n\r\n---\r\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.9 (#4302)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a177d6ca63ac8d88f438",
    "number": 4300,
    "body": "Since MediaCapabilities is not fully supported on some Firefox yet,we should always install polyfill for all firefox.",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a178d6ca63ac8d88f439",
    "number": 4299,
    "body": "Since MediaCapabilities is not fully supported on some Firefox yet,\r\nwe should always install polyfill for all firefox",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a179d6ca63ac8d88f43a",
    "number": 4298,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.7](https://github.com/shaka-project/shaka-player/compare/v3.3.6...v3.3.7) (2022-06-14)\n\n\n### Bug Fixes\n\n* **demo:** allow switch between UITextDisplayer and SimpleTextDisplayer ([#4275](https://github.com/shaka-project/shaka-player/issues/4275)) ([251dc19](https://github.com/shaka-project/shaka-player/commit/251dc190fa72d3a9bb9aad668faa9284e7716ade))\n* Populate track's spatialAudio property ([#4291](https://github.com/shaka-project/shaka-player/issues/4291)) ([43fb21c](https://github.com/shaka-project/shaka-player/commit/43fb21ce904b6580a200769b83f265a51c5f312d))\n* Remove IE 11 from default browsers for Windows ([#4272](https://github.com/shaka-project/shaka-player/issues/4272)) ([c90e687](https://github.com/shaka-project/shaka-player/commit/c90e687530650254950c5cde06a3004bfc32d051)), closes [#4271](https://github.com/shaka-project/shaka-player/issues/4271)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.7 (#4298)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a17ad6ca63ac8d88f43b",
    "number": 4297,
    "body": "Since MediaCapabilities is not fully supported on some Firefox yet,we should always install polyfill for all firefox.",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a17bd6ca63ac8d88f43c",
    "number": 4296,
    "body": "fix: Since MediaCapabilities is not fully supported on some Firefox yet,we should always install polyfill for all firefox.",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a17cd6ca63ac8d88f43d",
    "number": 4295,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.0.3](https://github.com/shaka-project/shaka-player/compare/v4.0.2...v4.0.3) (2022-06-14)\n\n\n### Bug Fixes\n\n* **demo:** allow switch between UITextDisplayer and SimpleTextDisplayer ([#4275](https://github.com/shaka-project/shaka-player/issues/4275)) ([e8c04cd](https://github.com/shaka-project/shaka-player/commit/e8c04cd37e987c71ed6166454d40204cc693b947))\n* **demo:** erroneous FairPlay keysystem in demo ([#4276](https://github.com/shaka-project/shaka-player/issues/4276)) ([1abfdb1](https://github.com/shaka-project/shaka-player/commit/1abfdb16e0bade37e6a21e4decb5600fdcbd296b))\n* **hls:** Fix AV sync issues, fallback to sequence numbers if PROGRAM-DATE-TIME ignored ([#4289](https://github.com/shaka-project/shaka-player/issues/4289)) ([629a21d](https://github.com/shaka-project/shaka-player/commit/629a21dbe7b97eab04a61a08e39e76cf5263c352)), closes [#4287](https://github.com/shaka-project/shaka-player/issues/4287)\n* New EME polyfill fixes EME/MCap issues on some smart TVs ([#4279](https://github.com/shaka-project/shaka-player/issues/4279)) ([e55350f](https://github.com/shaka-project/shaka-player/commit/e55350f1377a9fba49797cd59fb72983367b7a97))\n* Populate track's spatialAudio property ([#4291](https://github.com/shaka-project/shaka-player/issues/4291)) ([46343f0](https://github.com/shaka-project/shaka-player/commit/46343f0dea9b4ce3f9424afe9a9dff96941eba8d))\n* Remove IE 11 from default browsers for Windows ([#4272](https://github.com/shaka-project/shaka-player/issues/4272)) ([1e83080](https://github.com/shaka-project/shaka-player/commit/1e8308058cdfa9745dbd2ac37e427d89db0f6849)), closes [#4271](https://github.com/shaka-project/shaka-player/issues/4271)\n* Use middle segment when guessing MIME type on HLS ([#4269](https://github.com/shaka-project/shaka-player/issues/4269)) ([#4270](https://github.com/shaka-project/shaka-player/issues/4270)) ([5406429](https://github.com/shaka-project/shaka-player/commit/5406429940e8ce6287356a24c495df11d2365d07))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.0.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.0.x): release 4.0.3 (#4295)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a17dd6ca63ac8d88f43e",
    "number": 4294,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.1.1](https://github.com/shaka-project/shaka-player/compare/v4.1.0...v4.1.1) (2022-06-14)\n\n\n### Bug Fixes\n\n* **demo:** allow switch between UITextDisplayer and SimpleTextDisplayer ([#4275](https://github.com/shaka-project/shaka-player/issues/4275)) ([f6cb4e2](https://github.com/shaka-project/shaka-player/commit/f6cb4e212c586e5bb8e16de445f9e9a2d49648bd))\n* **demo:** erroneous FairPlay keysystem in demo ([#4276](https://github.com/shaka-project/shaka-player/issues/4276)) ([8ff9fdf](https://github.com/shaka-project/shaka-player/commit/8ff9fdffadb284b13511b4d39fb9f1ba57e2dae1))\n* **hls:** Fix AV sync issues, fallback to sequence numbers if PROGRAM-DATE-TIME ignored ([#4289](https://github.com/shaka-project/shaka-player/issues/4289)) ([e5bfb8b](https://github.com/shaka-project/shaka-player/commit/e5bfb8bfa5720830da939880ad4e502369cdd160)), closes [#4287](https://github.com/shaka-project/shaka-player/issues/4287)\n* New EME polyfill fixes EME/MCap issues on some smart TVs ([#4279](https://github.com/shaka-project/shaka-player/issues/4279)) ([2168937](https://github.com/shaka-project/shaka-player/commit/21689375e081567328d704450145d6489e3e5d23))\n* Populate track's spatialAudio property ([#4291](https://github.com/shaka-project/shaka-player/issues/4291)) ([636f232](https://github.com/shaka-project/shaka-player/commit/636f232adf26ba47296fd6a624f4606c78a98ab6))\n* Remove IE 11 from default browsers for Windows ([#4272](https://github.com/shaka-project/shaka-player/issues/4272)) ([bc96abd](https://github.com/shaka-project/shaka-player/commit/bc96abdb9d567c56321d8489c51e12493776f7de)), closes [#4271](https://github.com/shaka-project/shaka-player/issues/4271)\n* Use middle segment when guessing MIME type on HLS ([#4269](https://github.com/shaka-project/shaka-player/issues/4269)) ([#4270](https://github.com/shaka-project/shaka-player/issues/4270)) ([7879424](https://github.com/shaka-project/shaka-player/commit/78794246a369151473bfbb4cbfee0a9de16628b3))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.1.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.1.x): release 4.1.1 (#4294)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a17ed6ca63ac8d88f43f",
    "number": 4293,
    "body": "Since MediaCapabilities is not fully supported on some Firefox yet,we should always install polyfill for all firefox.",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a17fd6ca63ac8d88f440",
    "number": 4291,
    "body": "Fixes issue #4290 where `spatialAudio` flag is not being set on variant tracks.",
    "head_branch": "issue/4290-spatial-audio",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Populate track's spatialAudio property (#4291)\n\nFixes issue #4290 where `spatialAudio` flag is not being set on variant tracks.\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a180d6ca63ac8d88f441",
    "number": 4289,
    "body": "We now have an explicit fallback to sync on sequence numbers if\r\nPROGRAM-DATE-TIME is explicitly ignored.  This is more robust than\r\nrelying on whatever happens to be first in the various media\r\nplaylists.\r\n\r\nThis also refactors how PROGRAM-DATE-TIME is used.  The date will now\r\nbe used to adjust segment reference start times, rather than\r\noverriding the time used in StreamingEngine.  (This was hard to\r\ndiscover when reading the HLS parser.)  Now all HLS sync logic is in\r\nthe HLS parser.\r\n\r\nCloses #4287",
    "head_branch": "sync-time-fallback",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Fix AV sync issues, fallback to sequence numbers if PROGRAM-DATE-TIME ignored (#4289)\n\nWe now have an explicit fallback to sync on sequence numbers if\r\nPROGRAM-DATE-TIME is explicitly ignored.  This is more robust than\r\nrelying on whatever happens to be first in the various media\r\nplaylists.\r\n\r\nThis also refactors how PROGRAM-DATE-TIME is used.  The date will now\r\nbe used to adjust segment reference start times, rather than\r\noverriding the time used in StreamingEngine.  (This was hard to\r\ndiscover when reading the HLS parser.)  Now all HLS sync logic is in\r\nthe HLS parser.\r\n\r\nCloses #4287"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a181d6ca63ac8d88f442",
    "number": 4279,
    "body": null,
    "head_branch": "update-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: New EME polyfill fixes EME/MCap issues on some smart TVs (#4279)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a182d6ca63ac8d88f443",
    "number": 4278,
    "body": "Default values of require-jsdoc in https://eslint.org/docs/rules/require-jsdoc\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/2639",
    "head_branch": "require-jsdoc",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a183d6ca63ac8d88f444",
    "number": 4277,
    "body": null,
    "head_branch": "fairplay-drm-providers",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a184d6ca63ac8d88f445",
    "number": 4276,
    "body": null,
    "head_branch": "demo-fairplay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(demo): erroneous FairPlay keysystem in demo (#4276)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a185d6ca63ac8d88f446",
    "number": 4275,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4209",
    "head_branch": "demo-text-displayer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(demo): allow switch between UITextDisplayer and SimpleTextDisplayer (#4275)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a186d6ca63ac8d88f447",
    "number": 4274,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4264\r\nCloses https://github.com/shaka-project/shaka-player/issues/3893",
    "head_branch": "webvtt-karaoke-style",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(webvtt):  add support for karaoke style text in WebVTT (#4274)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4264\r\nCloses https://github.com/shaka-project/shaka-player/issues/3893"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a187d6ca63ac8d88f448",
    "number": 4273,
    "body": ":robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n## [4.2.0](https://github.com/shaka-project/shaka-player/compare/v4.1.0...v4.2.0) (2022-08-16)\r\n\r\n\r\n### Features\r\n\r\n* add Amazon Fire TV platform support ([#4375](https://github.com/shaka-project/shaka-player/issues/4375)) ([5102dac](https://github.com/shaka-project/shaka-player/commit/5102dac96cb1a749fefeb1f6b7a24c13f6b1077b))\r\n* Add support for Modern EME and legacy Apple Media Keys for FairPlay ([#4309](https://github.com/shaka-project/shaka-player/issues/4309)) ([5441f93](https://github.com/shaka-project/shaka-player/commit/5441f932fd3da20f26da162cc0d49d0470689b41))\r\n* Automatic ABR quality restrictions based on size ([#4404](https://github.com/shaka-project/shaka-player/issues/4404)) ([cfe8af5](https://github.com/shaka-project/shaka-player/commit/cfe8af5ff928fe7466b103429a6325917579ce70)), closes [#2333](https://github.com/shaka-project/shaka-player/issues/2333)\r\n* **hls:** Support AES-128 in HLS ([#4386](https://github.com/shaka-project/shaka-player/issues/4386)) ([6194021](https://github.com/shaka-project/shaka-player/commit/6194021a3d4ea5dae22ade6713bb077875a4ee9d)), closes [#850](https://github.com/shaka-project/shaka-player/issues/850)\r\n* Improve gap-detection robustness ([#4399](https://github.com/shaka-project/shaka-player/issues/4399)) ([4293a14](https://github.com/shaka-project/shaka-player/commit/4293a1421ada4b189d64b8c3f87a7599bc7b1a8f))\r\n* Upgrade eme-encryption-scheme-polyfill to support ChromeCast version of PlayReady ([#4378](https://github.com/shaka-project/shaka-player/issues/4378)) ([e6b6d7c](https://github.com/shaka-project/shaka-player/commit/e6b6d7c24bee4138b6bb2735e3c9a4dc885a6cf6))\r\n* **webvtt:** add support for karaoke style text in WebVTT ([#4274](https://github.com/shaka-project/shaka-player/issues/4274)) ([60af516](https://github.com/shaka-project/shaka-player/commit/60af5165207d39ebe26d536b009521192ab8cad9))\r\n\r\n\r\n### Bug Fixes\r\n\r\n* Add fallback to TextDecoder and TextEncoder [#4324](https://github.com/shaka-project/shaka-player/issues/4324) ([5b18069](https://github.com/shaka-project/shaka-player/commit/5b180694309f1cc01b2997cd0366154135f8acd8))\r\n* add strictMissingProperties suppressions to unblock strict missing properties on union types. ([#4371](https://github.com/shaka-project/shaka-player/issues/4371)) ([b361948](https://github.com/shaka-project/shaka-player/commit/b36194878e26a22b522a6cf1dba07e9fc5cd341d))\r\n* Debug buffer placement ([#4345](https://github.com/shaka-project/shaka-player/issues/4345)) ([47fa309](https://github.com/shaka-project/shaka-player/commit/47fa3093e1462d0bcca87238dc4886b9e2c1f8f4))\r\n* **demo:** allow switch between UITextDisplayer and SimpleTextDisplayer ([#4275](https://github.com/shaka-project/shaka-player/issues/4275)) ([28689f3](https://github.com/shaka-project/shaka-player/commit/28689f38fb7cc8f3b85b6b1eb2337a1779e8ee95))\r\n* **demo:** erroneous FairPlay keysystem in demo ([#4276](https://github.com/shaka-project/shaka-player/issues/4276)) ([8719bdc](https://github.com/shaka-project/shaka-player/commit/8719bdc0defd7956ec9fad934525477a603744a0))\r\n* exception if on early adError ([#4362](https://github.com/shaka-project/shaka-player/issues/4362)) ([3c92f05](https://github.com/shaka-project/shaka-player/commit/3c92f0598e6c1628ff50d980a842dd40b2b56813)), closes [#4004](https://github.com/shaka-project/shaka-player/issues/4004)\r\n* Fix EOS set-top box being identified as Apple. ([#4310](https://github.com/shaka-project/shaka-player/issues/4310)) ([7c2c4be](https://github.com/shaka-project/shaka-player/commit/7c2c4be2ae946c4cf270717f852b0d95b498266e))\r\n* Fix getVideoPlaybackQuality in WebOS 3 ([#4316](https://github.com/shaka-project/shaka-player/issues/4316)) ([5561111](https://github.com/shaka-project/shaka-player/commit/556111143dfccbc7348fc15792df75bc35fea465))\r\n* Fix key ID byteswapping for PlayReady on PS4 ([#4377](https://github.com/shaka-project/shaka-player/issues/4377)) ([25fd4f4](https://github.com/shaka-project/shaka-player/commit/25fd4f4af6ddd8953c4bc2da4a2d9eb1144c3fb9))\r\n* Fix MediaCapabilities polyfill on Playstation 4 ([#4320](https://github.com/shaka-project/shaka-player/issues/4320)) ([0335b2a](https://github.com/shaka-project/shaka-player/commit/0335b2af2efea6ceda83e536e12094e4cc942a25))\r\n* Fix MediaCapabilities polyfill on Tizen and WebOS ([#4396](https://github.com/shaka-project/shaka-player/issues/4396)) ([eb2aed8](https://github.com/shaka-project/shaka-player/commit/eb2aed825e84142f9fb9ddb3e69ebc333127c295)), closes [#4383](https://github.com/shaka-project/shaka-player/issues/4383) [#4357](https://github.com/shaka-project/shaka-player/issues/4357)\r\n* Fix segment index assertions with DAI ([#4348](https://github.com/shaka-project/shaka-player/issues/4348)) ([c2b3853](https://github.com/shaka-project/shaka-player/commit/c2b3853a56e816c97fab57f961f295b7272e410e))\r\n* Fix TextDecoder fallback and browser support check ([#4403](https://github.com/shaka-project/shaka-player/issues/4403)) ([04fc0d4](https://github.com/shaka-project/shaka-player/commit/04fc0d47c3895f294401b588ed49cc4360f31be1))\r\n* Fix UI captions icon state ([#4384](https://github.com/shaka-project/shaka-player/issues/4384)) ([d462633](https://github.com/shaka-project/shaka-player/commit/d46263333ba3de68707d521b997c40c5ba492fda)), closes [#4358](https://github.com/shaka-project/shaka-player/issues/4358)\r\n* Fix VP9 codec checks on Mac Firefox ([#4391](https://github.com/shaka-project/shaka-player/issues/4391)) ([b6ab769](https://github.com/shaka-project/shaka-player/commit/b6ab76976211852e96b2883562166a5e1e4dd0f2))\r\n* **hls:** Fix AV sync issues, fallback to sequence numbers if PROGRAM-DATE-TIME ignored ([#4289](https://github.com/shaka-project/shaka-player/issues/4289)) ([314a987](https://github.com/shaka-project/shaka-player/commit/314a987ecf85b47cc8a6cef08f390ef817e11c49)), closes [#4287](https://github.com/shaka-project/shaka-player/issues/4287)\r\n* New EME polyfill fixes EME/MCap issues on some smart TVs ([#4279](https://github.com/shaka-project/shaka-player/issues/4279)) ([db1b20e](https://github.com/shaka-project/shaka-player/commit/db1b20ec77f74472dd24f493f2a26c02b17927bc))\r\n* Populate track's spatialAudio property ([#4291](https://github.com/shaka-project/shaka-player/issues/4291)) ([713f461](https://github.com/shaka-project/shaka-player/commit/713f461c62b23680557f8d6c4b9c3126bb604f9e))\r\n* Remove IE 11 from default browsers for Windows ([#4272](https://github.com/shaka-project/shaka-player/issues/4272)) ([490b06c](https://github.com/shaka-project/shaka-player/commit/490b06cd45d09c7567056535f4b8dc6f3e2e5733)), closes [#4271](https://github.com/shaka-project/shaka-player/issues/4271)\r\n* **text:** Fix cue region rendering in UI ([#4412](https://github.com/shaka-project/shaka-player/issues/4412)) ([b1f46db](https://github.com/shaka-project/shaka-player/commit/b1f46dbc3a685b0216600835e24fd13c504e1b62)), closes [#4381](https://github.com/shaka-project/shaka-player/issues/4381)\r\n* **text:** Fix TTML render timing and line break issues for native display ([122f223](https://github.com/shaka-project/shaka-player/commit/122f223d19732bf5977ab8a5c93bbc4d934da1d7))\r\n* Update main branch Cast receiver ID ([#4364](https://github.com/shaka-project/shaka-player/issues/4364)) ([46b27f1](https://github.com/shaka-project/shaka-player/commit/46b27f19e099d44ab3929222da7a3bcb41bdb230))\r\n* Use middle segment when guessing MIME type on HLS ([#4269](https://github.com/shaka-project/shaka-player/issues/4269)) ([#4270](https://github.com/shaka-project/shaka-player/issues/4270)) ([3d27d2a](https://github.com/shaka-project/shaka-player/commit/3d27d2a2cfeb8fa21f3415baaf013567dcccf480))\r\n* VTT Cue Parsing On PlayStation 4 ([#4340](https://github.com/shaka-project/shaka-player/issues/4340)) ([b5da41e](https://github.com/shaka-project/shaka-player/commit/b5da41ed80b96e8edae970c39dd5fac7348a9a55)), closes [#4321](https://github.com/shaka-project/shaka-player/issues/4321)\r\n\r\n---\r\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(main): release 4.2.0 (#4273)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a188d6ca63ac8d88f449",
    "number": 4272,
    "body": "IE 11 has not been supported since v3.1, so developers following\r\nCONTRIBUTING.md should not see tests fail due to the continued inclusion\r\nof IE. Removed IE from the default list of browsers for Windows. Anybody\r\nwho still needs to test against IE can explicitly test via python\r\nbuild/test.py --browsers IE.",
    "head_branch": "raych/removeIEfromWindowsDefaultBrowsers",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Remove IE 11 from default browsers for Windows (#4272)\n\nIE 11 has not been supported since v3.1, so developers following\r\nCONTRIBUTING.md should not see tests fail due to the continued inclusion\r\nof IE. Removed IE from the default list of browsers for Windows. Anybody\r\nwho still needs to test against IE can explicitly test via python\r\nbuild/test.py --browsers IE.\r\n\r\nCloses #4271"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a189d6ca63ac8d88f44a",
    "number": 4270,
    "body": "I have been working with a server which is too aggressive at expiring\r\nsegments at the left edge of its DVR. As a result of this, when Shaka's\r\nHLS manifest parser puts out a HEAD request on the first segment to\r\nguess its MIME type, sometimes the segment has already been removed\r\n(404). I have filed a bug against the server team and I hope they relax\r\nthe expiration, but truth be told if you wait long enough, any request\r\nagainst the left edge of DVR will eventually fail. It seems like a\r\nsimple workaround for now to simply request the middle segment rather\r\nthan the first segment.\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/4269",
    "head_branch": "raych/chooseMiddleSegmentHeadReq",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Use middle segment when guessing MIME type on HLS (#4269) (#4270)\n\nI have been working with a server which is too aggressive at expiring\r\nsegments at the left edge of its DVR. As a result of this, when Shaka's\r\nHLS manifest parser puts out a HEAD request on the first segment to\r\nguess its MIME type, sometimes the segment has already been removed\r\n(404). I have filed a bug against the server team and I hope they relax\r\nthe expiration, but truth be told if you wait long enough, any request\r\nagainst the left edge of DVR will eventually fail. It seems like a\r\nsimple workaround for now to simply request the middle segment rather\r\nthan the first segment.\r\n\r\nCloses #4269\r\n\r\nCo-authored-by: Raymond Cheng <raycheng100@gmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a18ad6ca63ac8d88f44b",
    "number": 4268,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.0.2](https://github.com/shaka-project/shaka-player/compare/v4.0.1...v4.0.2) (2022-06-02)\n\n\n### Bug Fixes\n\n* **abr:** use Network Info API in ABR getBandwidthEstimate ([#4263](https://github.com/shaka-project/shaka-player/issues/4263)) ([2a12f0d](https://github.com/shaka-project/shaka-player/commit/2a12f0dc3c95220fc4c35b9871823eb685ecf337))\n* Don't send drmsessionupdate after unload ([#4248](https://github.com/shaka-project/shaka-player/issues/4248)) ([d7a7024](https://github.com/shaka-project/shaka-player/commit/d7a70247b2c381f1ba1d129618e45771f0e58061))\n* Fix audio mime type in multiplexed HLS stream ([#4241](https://github.com/shaka-project/shaka-player/issues/4241)) ([467fc8b](https://github.com/shaka-project/shaka-player/commit/467fc8b14b4a9ede601a1501ec901149088fc0c7))\n* **HLS:** Fix duplicate hinted segments ([#4258](https://github.com/shaka-project/shaka-player/issues/4258)) ([d92881b](https://github.com/shaka-project/shaka-player/commit/d92881b7ae350ad41eda7b0aeb87d9e32b59375a)), closes [#4223](https://github.com/shaka-project/shaka-player/issues/4223)\n* **ui:** Widen touchable button area ([#3249](https://github.com/shaka-project/shaka-player/issues/3249)) ([96b2965](https://github.com/shaka-project/shaka-player/commit/96b296595c32885caac66af7b04bdc1f59d0c790))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.0.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.0.x): release 4.0.2 (#4268)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a18bd6ca63ac8d88f44c",
    "number": 4267,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.3.6](https://github.com/shaka-project/shaka-player/compare/v3.3.5...v3.3.6) (2022-06-02)\n\n\n### Bug Fixes\n\n* **abr:** use Network Info API in ABR getBandwidthEstimate ([#4263](https://github.com/shaka-project/shaka-player/issues/4263)) ([391eb75](https://github.com/shaka-project/shaka-player/commit/391eb754941c7bfccb04d2d8b448a13bee459b9a))\n* Don't send drmsessionupdate after unload ([#4248](https://github.com/shaka-project/shaka-player/issues/4248)) ([c20c590](https://github.com/shaka-project/shaka-player/commit/c20c5909abaa24ff41d842cf1213be36f1fd8753))\n* Fix audio mime type in multiplexed HLS stream ([#4241](https://github.com/shaka-project/shaka-player/issues/4241)) ([d10c5bc](https://github.com/shaka-project/shaka-player/commit/d10c5bcdc76b84137c4233a280d49117bba8c463))\n* **HLS:** Fix duplicate hinted segments ([#4258](https://github.com/shaka-project/shaka-player/issues/4258)) ([0e2a7e4](https://github.com/shaka-project/shaka-player/commit/0e2a7e46ea67db1a6f86fffd734b77f49d9bf96c)), closes [#4223](https://github.com/shaka-project/shaka-player/issues/4223)\n* **ui:** Widen touchable button area ([#3249](https://github.com/shaka-project/shaka-player/issues/3249)) ([62d1af7](https://github.com/shaka-project/shaka-player/commit/62d1af7331f4f5d5a8fedef1fbd754c3a6ff93a8))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.6 (#4267)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a18cd6ca63ac8d88f44d",
    "number": 4266,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.2.8](https://github.com/shaka-project/shaka-player/compare/v3.2.7...v3.2.8) (2022-06-02)\n\n\n### Bug Fixes\n\n* **abr:** use Network Info API in ABR getBandwidthEstimate ([#4263](https://github.com/shaka-project/shaka-player/issues/4263)) ([1694b99](https://github.com/shaka-project/shaka-player/commit/1694b995b9b608ae396aa84e4e161e2878b2e14c))\n* Don't send drmsessionupdate after unload ([#4248](https://github.com/shaka-project/shaka-player/issues/4248)) ([f404c88](https://github.com/shaka-project/shaka-player/commit/f404c88bbe001edf44d7ba6f6ab24e1fb60cfcc9))\n* Fix audio mime type in multiplexed HLS stream ([#4241](https://github.com/shaka-project/shaka-player/issues/4241)) ([0c0d6a2](https://github.com/shaka-project/shaka-player/commit/0c0d6a22396cdc71c7a624ff485895aa1355a45d))\n* **HLS:** Fix duplicate hinted segments ([#4258](https://github.com/shaka-project/shaka-player/issues/4258)) ([4c8e8e7](https://github.com/shaka-project/shaka-player/commit/4c8e8e7d75e7060f2c9468725206a456a3059faa)), closes [#4223](https://github.com/shaka-project/shaka-player/issues/4223)\n* **ui:** Widen touchable button area ([#3249](https://github.com/shaka-project/shaka-player/issues/3249)) ([f32e6aa](https://github.com/shaka-project/shaka-player/commit/f32e6aa96d29b39fb05d60c0057126293139103a))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.8 (#4266)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a18dd6ca63ac8d88f44e",
    "number": 4265,
    "body": "Hi shaka team,\r\n\r\nI try google the term `Google Tier 1 Languages` and it does not have searching result.\r\n\r\nHowever as a member of shaka community, may I have `vi` language add in (so it can be display during development).\r\n\r\nIs this reasonable?",
    "head_branch": "patch-5",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a18ed6ca63ac8d88f44f",
    "number": 4263,
    "body": null,
    "head_branch": "abr-default-estimate",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(abr): use Network Info API in ABR getBandwidthEstimate (#4263)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a18fd6ca63ac8d88f450",
    "number": 4259,
    "body": "This new version closes https://github.com/shaka-project/shaka-player/issues/3761\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfix: Upgrade mux.js to version that emits partial ID3 when malformed (#4259)\r\n\r\nCloses #3761\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "muxjs-6.1.0",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update mux.js to 6.1.0 (#4259)\n\nCloses #3761"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a190d6ca63ac8d88f451",
    "number": 4258,
    "body": "Because zero-duration references cause such chaos, ensure that the HLS\r\nparser never produces these.  Preload-hinted segments should use the\r\ntarget duration for partial segments, and if that required attribute\r\nis missing from the playlist, then preload-hinted segments should be\r\nskipped.\r\n\r\nCloses #4223",
    "head_branch": "fix-duplicate-hint-segments",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Fix duplicate hinted segments (#4258)\n\nBecause zero-duration references cause such chaos, ensure that the HLS\r\nparser never produces these.  Preload-hinted segments should use the\r\ntarget duration for partial segments, and if that required attribute\r\nis missing from the playlist, then preload-hinted segments should be\r\nskipped.\r\n\r\nCloses #4223"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a191d6ca63ac8d88f452",
    "number": 4257,
    "body": null,
    "head_branch": "text-shadow-vtt",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add support to text-shadow in VTT parser (#4257)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a192d6ca63ac8d88f453",
    "number": 4254,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4243",
    "head_branch": "keySystemsMapping",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add keySystemsMapping to drm config (#4254)\n\nThis allows, for example, users to use com.microsoft.playready.recommendation\r\ninstead of com.microsoft.playready.\r\n\r\nCloses #4243"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a193d6ca63ac8d88f454",
    "number": 4253,
    "body": "Add new config manifest.hls.keySystemsMapping to allow use another keySystems. Por example: com.microsoft.playready.recommendation\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/4243",
    "head_branch": "keysytemsmpagging-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a194d6ca63ac8d88f455",
    "number": 4252,
    "body": "Remove PR template to avoid PR merge issues.\r\n",
    "head_branch": "pr-template",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: remove PR template (#4252)\n\nRemove PR template to avoid PR merge issues."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a195d6ca63ac8d88f456",
    "number": 4249,
    "body": "An event `stalldetected` can be dispatched when Shaka Player detects a stall based on the value of stallThreshold through [StreamingConfiguration](https://shaka-player-demo.appspot.com/docs/api/externs_shaka_player.js.html#line920).\r\n\r\nA second event `gapjumped` could also be dispatched when Shaka performs a jump in a media gap.\r\n\r\nRelated to issue https://github.com/shaka-project/shaka-player/issues/4227.",
    "head_branch": "4227-add-listenable-events-for-playback-stall-detection-gap-jumping",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: add listenable events for playback stall detection and gap jumping (#4249)\n\nAn event `stalldetected` can be dispatched when Shaka Player detects a stall based on the value of stallThreshold through [StreamingConfiguration](https://shaka-player-demo.appspot.com/docs/api/externs_shaka_player.js.html#line920).\r\n\r\nA second event `gapjumped` could also be dispatched when Shaka performs a jump in a media gap.\r\n\r\nRelated to issue #4227"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a196d6ca63ac8d88f457",
    "number": 4248,
    "body": "There is an async call, waiting for sessions to update, right before\r\nthe StreamingEngine fires off an drmsessionupdate event.\r\nThis could potentially cause an error, as the StreamingEngine's\r\nplayer interface could potentially be set to null during destruction.\r\nThis adds a check to see if the StreamingEngine has been destroyed,\r\nto catch that case.\r\n\r\nBased on a test failure of #4241\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Don't send drmsessionupdate after unload (#4248)\n\nThere is an async call, waiting for sessions to update, right before\r\nthe StreamingEngine fires off an drmsessionupdate event.\r\nThis could potentially cause an error, as the StreamingEngine's\r\nplayer interface could potentially be set to null during destruction.\r\nThis adds a check to see if the StreamingEngine has been destroyed,\r\nto catch that case.\r\n\r\nBased on a test failure of #4241"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a197d6ca63ac8d88f458",
    "number": 4246,
    "body": "This new configuration value allows users to determine how far\r\nthe video seeks when you press the arrow keys on the video\r\nelement.\r\n\r\nCloses #4245\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "keyboardSeekDistanceBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Added keyboardSeekDistance config to UI (#4246)\n\nThis new configuration value allows users to determine how far\r\nthe video seeks when you press the arrow keys on the video\r\nelement.\r\n\r\nCloses #4245\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a198d6ca63ac8d88f459",
    "number": 4241,
    "body": "This should fix the fMP4 playback issue in https://github.com/shaka-project/shaka-player/issues/3691\r\n\r\nIn multiplexed HLS stream, the audio mime type is incorrectly set to `video/*` but `MediaCapabilities.decodingInfo()` is expecting `audio/*`.\r\n\r\n```\r\n{\r\n   \"type\":\"media-source\",\r\n   \"audio\":{\r\n      \"contentType\":\"video/mp4; codecs=\\\"mp4a.40.2\\\"\",\r\n      \"channels\":2,\r\n      \"bitrate\":8000000,\r\n      \"samplerate\":1,\r\n      \"spatialRendering\":false\r\n   },\r\n   \"video\":{\r\n      \"contentType\":\"video/mp4; codecs=\\\"avc1.640033\\\"\",\r\n      \"width\":1920,\r\n      \"height\":1080,\r\n      \"bitrate\":8000000,\r\n      \"framerate\":59.94,\r\n      \"transferFunction\":\"srgb\"\r\n   }\r\n}\r\n```\r\n\r\n```\r\n...\r\nGuessing multiplexed audio+video.\r\n...\r\nTypeError: Failed to execute 'decodingInfo' on 'MediaCapabilities': The audio configuration dictionary is not valid.\r\n```\r\nHLS manifest:\r\n```\r\n#EXTM3U\r\n#EXT-X-STREAM-INF:BANDWIDTH=8000000,VIDEO-RANGE=SDR,CODECS=\"avc1.640033,mp4a.40.2\",RESOLUTION=1920x1080,FRAME-RATE=59.94\r\nmain.m3u8\r\n```",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix audio mime type in multiplexed HLS stream (#4241)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a199d6ca63ac8d88f45a",
    "number": 4239,
    "body": "The v3.2.7 and v3.3.5 releases went out without updating the version\r\nnumber in lib/player.js.  This fixes the workflow to match the\r\nrelease-please branch name, and changes the workflow to fail if the\r\nbranch name changes again in the future.\r\n",
    "head_branch": "fix-version-updates-on-release",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix player version update on release (#4239)\n\nThe v3.2.7 and v3.3.5 releases went out without updating the version\r\nnumber in lib/player.js.  This fixes the workflow to match the\r\nrelease-please branch name, and changes the workflow to fail if the\r\nbranch name changes again in the future."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a19ad6ca63ac8d88f45b",
    "number": 4238,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [4.0.1](https://github.com/shaka-project/shaka-player/compare/v4.0.0...v4.0.1) (2022-05-18)\n\n\n### Bug Fixes\n\n* Do not report MANIFEST RESTRICTIONS_CANNOT_BE_MET error twice ([#4194](https://github.com/shaka-project/shaka-player/issues/4194)) ([0b03e79](https://github.com/shaka-project/shaka-player/commit/0b03e7900bd28420e6b066f909a69ff511144471)), closes [#4190](https://github.com/shaka-project/shaka-player/issues/4190)\n* **fairplay:** Re-add initDataTransform config ([#4231](https://github.com/shaka-project/shaka-player/issues/4231)) ([9a6f150](https://github.com/shaka-project/shaka-player/commit/9a6f150c082e477f9dae95c4436d6ff764481d02))\n* Fix event listener leaks in Player ([#4229](https://github.com/shaka-project/shaka-player/issues/4229)) ([e6c3b22](https://github.com/shaka-project/shaka-player/commit/e6c3b226ba25cd62b288c75da895531ed27087c0))\n* Fix exception with streaming.startAtSegmentBoundary ([#4216](https://github.com/shaka-project/shaka-player/issues/4216)) ([24eac2c](https://github.com/shaka-project/shaka-player/commit/24eac2c4bcea726f36d11845d8a174672c28e74f)), closes [#4188](https://github.com/shaka-project/shaka-player/issues/4188)\n* Fix PERIOD_FLATTENING_FAILED error when periods have different base sample types ([#4206](https://github.com/shaka-project/shaka-player/issues/4206)) ([0482aec](https://github.com/shaka-project/shaka-player/commit/0482aec127e5429434ba015bd98ae8c5e15fef68)), closes [#4202](https://github.com/shaka-project/shaka-player/issues/4202)\n* Fix VTT cue timing in HLS ([#4217](https://github.com/shaka-project/shaka-player/issues/4217)) ([69d1c14](https://github.com/shaka-project/shaka-player/commit/69d1c143aaade9167cba03a05daea5b94b3ccf95)), closes [#4191](https://github.com/shaka-project/shaka-player/issues/4191)\n* **hls:** Fix av1 codec selection in HLS. ([#4203](https://github.com/shaka-project/shaka-player/issues/4203)) ([4d418be](https://github.com/shaka-project/shaka-player/commit/4d418be18334b181ab7f32f9e9fe66522fc9057a))\n* **hls:** Fix X-PRELOAD-HINT failure with LL mode off ([#4212](https://github.com/shaka-project/shaka-player/issues/4212)) ([ae84aac](https://github.com/shaka-project/shaka-player/commit/ae84aac87cc4331139a98441c90993319a3b19ef)), closes [#4185](https://github.com/shaka-project/shaka-player/issues/4185)\n* Wait for chapters track to be loaded ([#4228](https://github.com/shaka-project/shaka-player/issues/4228)) ([dec3d9c](https://github.com/shaka-project/shaka-player/commit/dec3d9c50505a6a7707232f595acbe1cfea8c3a0)), closes [#4186](https://github.com/shaka-project/shaka-player/issues/4186)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v4.0.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v4.0.x): release 4.0.1 (#4238)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a19bd6ca63ac8d88f45c",
    "number": 4237,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.3.5](https://github.com/shaka-project/shaka-player/compare/v3.3.4...v3.3.5) (2022-05-17)\n\n\n### Bug Fixes\n\n* **dash:** Fix playback of Dolby Atmos ([#4173](https://github.com/shaka-project/shaka-player/issues/4173)) ([ced8ab3](https://github.com/shaka-project/shaka-player/commit/ced8ab31f57229fca9353769caeb7698c9f84d50)), closes [#4171](https://github.com/shaka-project/shaka-player/issues/4171)\n* Do not report MANIFEST RESTRICTIONS_CANNOT_BE_MET error twice ([#4194](https://github.com/shaka-project/shaka-player/issues/4194)) ([565e9e0](https://github.com/shaka-project/shaka-player/commit/565e9e0191cab88094aaa15cd3ae90cef00ffdc3)), closes [#4190](https://github.com/shaka-project/shaka-player/issues/4190)\n* Fix encryption detection to work around broken platforms ([#4169](https://github.com/shaka-project/shaka-player/issues/4169)) ([87893e8](https://github.com/shaka-project/shaka-player/commit/87893e84ec1dda20109ecab1fbc90db8736b4ba9))\n* Fix event listener leaks in Player ([#4229](https://github.com/shaka-project/shaka-player/issues/4229)) ([1fe8df2](https://github.com/shaka-project/shaka-player/commit/1fe8df20c4945ba255b1737540535e587768055f))\n* Fix exception with streaming.startAtSegmentBoundary ([#4216](https://github.com/shaka-project/shaka-player/issues/4216)) ([1b6ca04](https://github.com/shaka-project/shaka-player/commit/1b6ca044672efbfacdbd2444e382f23be77150df)), closes [#4188](https://github.com/shaka-project/shaka-player/issues/4188)\n* Fix PERIOD_FLATTENING_FAILED error when periods have different base sample types ([#4206](https://github.com/shaka-project/shaka-player/issues/4206)) ([04ff0fc](https://github.com/shaka-project/shaka-player/commit/04ff0fcc8b1e1606ecb6dccda96cc7da368d10e6)), closes [#4202](https://github.com/shaka-project/shaka-player/issues/4202)\n* **hls:** Fix av1 codec selection in HLS. ([#4203](https://github.com/shaka-project/shaka-player/issues/4203)) ([e493a56](https://github.com/shaka-project/shaka-player/commit/e493a56b9e51f85afb06d31b75ad6b91f59acd80))\n* **hls:** Fix X-PRELOAD-HINT failure with LL mode off ([#4212](https://github.com/shaka-project/shaka-player/issues/4212)) ([5167717](https://github.com/shaka-project/shaka-player/commit/5167717177edc256d06afef469b0a206ed0b88e4)), closes [#4185](https://github.com/shaka-project/shaka-player/issues/4185)\n* **offline:** Clean up orphaned segments on abort ([#4177](https://github.com/shaka-project/shaka-player/issues/4177)) ([a5cc491](https://github.com/shaka-project/shaka-player/commit/a5cc491a9269994c30e4c6efbd281c332951e281))\n* **offline:** Speed up offline storage by ~87% ([#4176](https://github.com/shaka-project/shaka-player/issues/4176)) ([dc27a26](https://github.com/shaka-project/shaka-player/commit/dc27a263289e42f131f04bbc4c43e2c4f4e27870)), closes [#4166](https://github.com/shaka-project/shaka-player/issues/4166)\n* Revert \"Add missing module export in generated typescript defs\" ([#4175](https://github.com/shaka-project/shaka-player/issues/4175)) ([c44507a](https://github.com/shaka-project/shaka-player/commit/c44507a2e86a81e56671534a9983da94a1c7baf4)), closes [#4167](https://github.com/shaka-project/shaka-player/issues/4167)\n* Wait for chapters track to be loaded ([#4228](https://github.com/shaka-project/shaka-player/issues/4228)) ([6a1f0d0](https://github.com/shaka-project/shaka-player/commit/6a1f0d0b2779134e472c817491086b2c18c35027)), closes [#4186](https://github.com/shaka-project/shaka-player/issues/4186)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.5 (#4237)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a19cd6ca63ac8d88f45d",
    "number": 4236,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.2.7](https://github.com/shaka-project/shaka-player/compare/v3.2.6...v3.2.7) (2022-05-17)\n\n\n### Bug Fixes\n\n* **dash:** Fix playback of Dolby Atmos ([#4173](https://github.com/shaka-project/shaka-player/issues/4173)) ([1a6e93a](https://github.com/shaka-project/shaka-player/commit/1a6e93add8bea530e80d32e6e1edd2983c15b4e3)), closes [#4171](https://github.com/shaka-project/shaka-player/issues/4171)\n* Do not report MANIFEST RESTRICTIONS_CANNOT_BE_MET error twice ([#4194](https://github.com/shaka-project/shaka-player/issues/4194)) ([28d651b](https://github.com/shaka-project/shaka-player/commit/28d651b0cdd7ed0b7c5e560800d35333ee7c534f)), closes [#4190](https://github.com/shaka-project/shaka-player/issues/4190)\n* Fix encryption detection to work around broken platforms ([#4169](https://github.com/shaka-project/shaka-player/issues/4169)) ([b945376](https://github.com/shaka-project/shaka-player/commit/b94537675033e0752ccb9abca32f28b6d278a205))\n* Fix event listener leaks in Player ([#4229](https://github.com/shaka-project/shaka-player/issues/4229)) ([5cab30d](https://github.com/shaka-project/shaka-player/commit/5cab30dc1a6a2d0e84897ffdc2e12fb0fa4d15e4))\n* Fix exception with streaming.startAtSegmentBoundary ([#4216](https://github.com/shaka-project/shaka-player/issues/4216)) ([b3d4c1c](https://github.com/shaka-project/shaka-player/commit/b3d4c1cc2ddcadca27aca0b92d24649992e31361)), closes [#4188](https://github.com/shaka-project/shaka-player/issues/4188)\n* Fix PERIOD_FLATTENING_FAILED error when periods have different base sample types ([#4206](https://github.com/shaka-project/shaka-player/issues/4206)) ([9202678](https://github.com/shaka-project/shaka-player/commit/9202678ec821078b433ff387ba2c926bfd8d7958)), closes [#4202](https://github.com/shaka-project/shaka-player/issues/4202)\n* **hls:** Fix av1 codec selection in HLS. ([#4203](https://github.com/shaka-project/shaka-player/issues/4203)) ([c72ac92](https://github.com/shaka-project/shaka-player/commit/c72ac92d067734ec11e7ba67e58530127de8f78c))\n* **hls:** Fix X-PRELOAD-HINT failure with LL mode off ([#4212](https://github.com/shaka-project/shaka-player/issues/4212)) ([59463fb](https://github.com/shaka-project/shaka-player/commit/59463fbc5512a7b2395dc1d04c180a4d35e8dac3)), closes [#4185](https://github.com/shaka-project/shaka-player/issues/4185)\n* Revert \"Add missing module export in generated typescript defs\" ([#4175](https://github.com/shaka-project/shaka-player/issues/4175)) ([763e932](https://github.com/shaka-project/shaka-player/commit/763e932f589e91bf45b8dc85bd40428c30abe262)), closes [#4167](https://github.com/shaka-project/shaka-player/issues/4167)\n* Wait for chapters track to be loaded ([#4228](https://github.com/shaka-project/shaka-player/issues/4228)) ([0245971](https://github.com/shaka-project/shaka-player/commit/02459714a0ec6c202e8fd121392831eaa9dc3962)), closes [#4186](https://github.com/shaka-project/shaka-player/issues/4186)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.7 (#4236)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a19dd6ca63ac8d88f45e",
    "number": 4235,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.1.0](https://github.com/shaka-project/shaka-player/compare/v4.0.0...v4.1.0) (2022-06-02)\n\n\n### Features\n\n* Add Id to chapters ([#4184](https://github.com/shaka-project/shaka-player/issues/4184)) ([5ca3271](https://github.com/shaka-project/shaka-player/commit/5ca32712e375ba875be86827ea1efaaa5e3c0035))\n* Add keySystemsMapping to drm config ([#4254](https://github.com/shaka-project/shaka-player/issues/4254)) ([5e107d5](https://github.com/shaka-project/shaka-player/commit/5e107d584f824e66ab3e5e07f9d833f6dc456d14)), closes [#4243](https://github.com/shaka-project/shaka-player/issues/4243)\n* add listenable events for playback stall detection and gap jumping ([#4249](https://github.com/shaka-project/shaka-player/issues/4249)) ([5987458](https://github.com/shaka-project/shaka-player/commit/5987458e445cf21f91bf4833396edd63d5f69765))\n* Add support to text-shadow in VTT parser ([#4257](https://github.com/shaka-project/shaka-player/issues/4257)) ([62bda2c](https://github.com/shaka-project/shaka-player/commit/62bda2cd36c6d49d08c10757bfe5869b5be54b88))\n* **cast:** Add Android receiver support ([#4183](https://github.com/shaka-project/shaka-player/issues/4183)) ([dbba571](https://github.com/shaka-project/shaka-player/commit/dbba571c6bb7e99a99469ffb695f59a590d44118))\n* **hls:** Add support for EXT-X-GAP ([#4208](https://github.com/shaka-project/shaka-player/issues/4208)) ([14e61a7](https://github.com/shaka-project/shaka-player/commit/14e61a7368ddbd66c4b10f3b0475840cc50512bd)), closes [#1308](https://github.com/shaka-project/shaka-player/issues/1308)\n* Temporarily disable the active variant from NETWORK HTTP_ERROR ([#4189](https://github.com/shaka-project/shaka-player/issues/4189)) ([b57279d](https://github.com/shaka-project/shaka-player/commit/b57279d39c24d3b2568c4b62338524ecc23423ad)), closes [#4121](https://github.com/shaka-project/shaka-player/issues/4121) [#1542](https://github.com/shaka-project/shaka-player/issues/1542) [#2541](https://github.com/shaka-project/shaka-player/issues/2541)\n* **UI:** Added keyboardSeekDistance config to UI ([#4246](https://github.com/shaka-project/shaka-player/issues/4246)) ([6084ca6](https://github.com/shaka-project/shaka-player/commit/6084ca6395fbe3d5a97fa92137b8bb51f15c89f8))\n\n\n### Bug Fixes\n\n* **abr:** use Network Info API in ABR getBandwidthEstimate ([#4263](https://github.com/shaka-project/shaka-player/issues/4263)) ([4fc7a48](https://github.com/shaka-project/shaka-player/commit/4fc7a4893fd081d4dafa26a2034361afd7b7e6ed))\n* Do not report MANIFEST RESTRICTIONS_CANNOT_BE_MET error twice ([#4194](https://github.com/shaka-project/shaka-player/issues/4194)) ([08589e8](https://github.com/shaka-project/shaka-player/commit/08589e8fb27f3f73f64204e7d3a2387f3c197d84)), closes [#4190](https://github.com/shaka-project/shaka-player/issues/4190)\n* Don't send drmsessionupdate after unload ([#4248](https://github.com/shaka-project/shaka-player/issues/4248)) ([60af9ad](https://github.com/shaka-project/shaka-player/commit/60af9ad596e5c2cb31d1e7bb616e415cf46ca761))\n* **fairplay:** Re-add initDataTransform config ([#4231](https://github.com/shaka-project/shaka-player/issues/4231)) ([ff310e9](https://github.com/shaka-project/shaka-player/commit/ff310e91e564bcc4be340c47bf1be81a5323765a))\n* Fix audio mime type in multiplexed HLS stream ([#4241](https://github.com/shaka-project/shaka-player/issues/4241)) ([4e4e92e](https://github.com/shaka-project/shaka-player/commit/4e4e92e98da357285547859a98e6b3fe75d1904f))\n* Fix event listener leaks in Player ([#4229](https://github.com/shaka-project/shaka-player/issues/4229)) ([a5d3568](https://github.com/shaka-project/shaka-player/commit/a5d356874ba90069ca5a86be1979a5904a1150e8))\n* Fix exception with streaming.startAtSegmentBoundary ([#4216](https://github.com/shaka-project/shaka-player/issues/4216)) ([426a19c](https://github.com/shaka-project/shaka-player/commit/426a19c8e7ff188390e7430fb02f3cfcb79cc017)), closes [#4188](https://github.com/shaka-project/shaka-player/issues/4188)\n* Fix PERIOD_FLATTENING_FAILED error when periods have different base sample types ([#4206](https://github.com/shaka-project/shaka-player/issues/4206)) ([b757a81](https://github.com/shaka-project/shaka-player/commit/b757a81902a2159b217e7cb6a1445ab6d4d69bf4)), closes [#4202](https://github.com/shaka-project/shaka-player/issues/4202)\n* Fix VTT cue timing in HLS ([#4217](https://github.com/shaka-project/shaka-player/issues/4217)) ([5818260](https://github.com/shaka-project/shaka-player/commit/58182605a7da3c18a7331828c319c88446a13d52)), closes [#4191](https://github.com/shaka-project/shaka-player/issues/4191)\n* **hls:** Fix av1 codec selection in HLS. ([#4203](https://github.com/shaka-project/shaka-player/issues/4203)) ([5e13495](https://github.com/shaka-project/shaka-player/commit/5e1349570d64c17e6ca1fcdc5ffde1076ea9a999))\n* **HLS:** Fix duplicate hinted segments ([#4258](https://github.com/shaka-project/shaka-player/issues/4258)) ([9171f73](https://github.com/shaka-project/shaka-player/commit/9171f733e8de0b811ebac71d5ddbe0cb1ff7c75b)), closes [#4223](https://github.com/shaka-project/shaka-player/issues/4223)\n* **hls:** Fix X-PRELOAD-HINT failure with LL mode off ([#4212](https://github.com/shaka-project/shaka-player/issues/4212)) ([86497a5](https://github.com/shaka-project/shaka-player/commit/86497a5089e272ed682f017f5ed9135108be5a65)), closes [#4185](https://github.com/shaka-project/shaka-player/issues/4185)\n* **ui:** Widen touchable button area ([#3249](https://github.com/shaka-project/shaka-player/issues/3249)) ([6c0283e](https://github.com/shaka-project/shaka-player/commit/6c0283e7d040fd0df9383454b174a7ceb2678c89))\n* Upgrade mux.js to version that emits partial ID3 when malformed ([#4259](https://github.com/shaka-project/shaka-player/issues/4259)) ([dc88fe0](https://github.com/shaka-project/shaka-player/commit/dc88fe0814f82aa447a3fa8f7098c85621faf9c6)), closes [#3761](https://github.com/shaka-project/shaka-player/issues/3761)\n* Wait for chapters track to be loaded ([#4228](https://github.com/shaka-project/shaka-player/issues/4228)) ([80e81f1](https://github.com/shaka-project/shaka-player/commit/80e81f139129dbe1c797ee07fedc1217b8790b53)), closes [#4186](https://github.com/shaka-project/shaka-player/issues/4186)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main--components--shaka-player",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(main): release 4.1.0 (#4235)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a19ed6ca63ac8d88f45f",
    "number": 4233,
    "body": "Many times in our default configuration, we need to create an empty\r\ndefault implementation of a callback.  The compiler wants to strip\r\nout unused parameters from these functions, but this breaks our\r\nruntime-type-checking for functions in configure().  We need a way to\r\nkeep the full function signature in default config callbacks in\r\ncompiled mode.\r\n\r\nThis adds a new utility: ConfigUtils.referenceParametersAndReturn().\r\n\r\nIt references the input parameters so the compiler doesn't remove them\r\nfrom the calling function, and returns whatever value is specified.\r\nThe utility function is marked with `@noinline`, so the compiler won't\r\ntamper with it.\r\n\r\nDefault config callbacks that use this utility will still bear the\r\ncomplete function signature even in compiled mode.\r\n\r\nThe caller should look something like this:\r\n\r\n```js\r\n  const callback = (a, b, c, d) => {\r\n    return referenceParametersAndReturn(\r\n        [a, b, c, d],\r\n        a);  // Can be anything, doesn't need to be one of the parameters\r\n  };\r\n```\r\n\r\nSee also https://github.com/shaka-project/shaka-player/pull/4231#discussion_r874710385",
    "head_branch": "config-ref-util",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "refactor: Add utility to keep unused parameters (#4233)\n\nMany times in our default configuration, we need to create an empty\r\ndefault implementation of a callback.  The compiler wants to strip\r\nout unused parameters from these functions, but this breaks our\r\nruntime-type-checking for functions in configure().  We need a way to\r\nkeep the full function signature in default config callbacks in\r\ncompiled mode.\r\n\r\nThis adds a new utility: ConfigUtils.referenceParametersAndReturn().\r\n\r\nIt references the input parameters so the compiler doesn't remove them\r\nfrom the calling function, and returns whatever value is specified.\r\nThe utility function is marked with `@noinline`, so the compiler won't\r\ntamper with it.\r\n\r\nDefault config callbacks that use this utility will still bear the\r\ncomplete function signature even in compiled mode.\r\n\r\nThe caller should look something like this:\r\n\r\n```js\r\n  const callback = (a, b, c, d) => {\r\n    return referenceParametersAndReturn(\r\n        [a, b, c, d],\r\n        a);  // Can be anything, doesn't need to be one of the parameters\r\n  };\r\n```\r\n\r\nSee also https://github.com/shaka-project/shaka-player/pull/4231#discussion_r874710385"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a19ed6ca63ac8d88f460",
    "number": 4232,
    "body": "Xbox One tests have been failing often for some time now, so it went\r\nunnoticed that offline was not working.  It seems that IndexedDB is\r\nnot working properly on Xbox, and the platform throws `UnknownError`.\r\n\r\nThis restricts offline so that it is not triggered on Xbox One, and\r\nthis also fixes the filtering of our offline tests to respect the\r\noffline storage muxer's support method.",
    "head_branch": "xbox-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Disable offline for Xbox One (#4232)\n\nXbox One tests have been failing often for some time now, so it went\r\nunnoticed that offline was not working.  It seems that IndexedDB is\r\nnot working properly on Xbox, and the platform throws `UnknownError`.\r\n\r\nThis restricts offline so that it is not triggered on Xbox One, and\r\nthis also fixes the filtering of our offline tests to respect the\r\noffline storage muxer's support method."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a19fd6ca63ac8d88f461",
    "number": 4231,
    "body": "Some FairPlay providers still need this part, so we should never have removed it.\r\n\r\nThe default is to do no transformation.",
    "head_branch": "initDataTransform-config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(fairplay): Re-add initDataTransform config (#4231)\n\nSome FairPlay providers still need this part, so we should never have removed it.\r\n\r\nThe default is to do no transformation.\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1a1d6ca63ac8d88f462",
    "number": 4229,
    "body": "Event listeners were being leaked in Player across load() / unload()\r\ncycles.  This was fundamentally caused by the difficulty in keeping\r\ntrack of which event listeners to clean up at which stages of the load\r\ngraph.  Everything is cleaned up by Player.destroy() and\r\nEventManager.release(), but for a Player with heavy re-use, there was\r\nstill a small leak.\r\n\r\nThis fixes the leak by splitting the EventManager instance into three\r\ninstances, each of which is cleaned up in a different part of the load\r\ngraph life cycle.  Listeners which should only live as long as a piece\r\nof content is loaded go into loadEventManager_.  Listeners which\r\nshould only live as long as we are attached to the video element go\r\ninto attachEventManager_.  Listeners which should live as long as the\r\nPlayer instance itself go into globalEventManager_.  It is now\r\nimpossible to miss unlistening to a particular event, since we no\r\nlonger have to unlisten to any individual events at all.  The\r\nremoveAll() method of each event manager will clean up all listeners\r\nat the appropriate time.\r\n",
    "head_branch": "fix-listener-leak",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix event listener leaks in Player (#4229)\n\nEvent listeners were being leaked in Player across load() / unload()\r\ncycles.  This was fundamentally caused by the difficulty in keeping\r\ntrack of which event listeners to clean up at which stages of the load\r\ngraph.  Everything is cleaned up by Player.destroy() and\r\nEventManager.release(), but for a Player with heavy re-use, there was\r\nstill a small leak.\r\n\r\nThis fixes the leak by splitting the EventManager instance into three\r\ninstances, each of which is cleaned up in a different part of the load\r\ngraph life cycle.  Listeners which should only live as long as a piece\r\nof content is loaded go into loadEventManager_.  Listeners which\r\nshould only live as long as we are attached to the video element go\r\ninto attachEventManager_.  Listeners which should live as long as the\r\nPlayer instance itself go into globalEventManager_.  It is now\r\nimpossible to miss unlistening to a particular event, since we no\r\nlonger have to unlisten to any individual events at all.  The\r\nremoveAll() method of each event manager will clean up all listeners\r\nat the appropriate time."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1a2d6ca63ac8d88f463",
    "number": 4228,
    "body": "addChaptersTrack() was already an async method, but it did not wait\r\nfor the chapter data to be loaded by the browser.  The solution is to\r\nwait for the `load` event on the `<track>` element we create.\r\n\r\nTo accomplish this, some cleanup and refactoring was done in how\r\ntracks are managed.  Summary of changes:\r\n\r\n - The `addtrack` event, which triggered management of tracks in src=\r\n   playback, is now used for all types of playback.  In src= mode, it\r\n   manages all tracks, and in MSE mode, it only manages chapters\r\n   tracks (which are added to the video element as in src= mode).\r\n - `processChaptersTrack_()` has been renamed to\r\n   `activateChaptersTrack_()`, since its only job is to set the\r\n   track's mode field to make the browser load it.\r\n - `activateChaptersTrack_()` is now only ever called via the\r\n   `addtrack` event.\r\n - `activateChaptersTrack_()` no longer loops over all chapter tracks\r\n   on a timer, and instead only touches the single track it was\r\n   called for.\r\n - `addSrcTrackElement_()` now returns the HTML `<track>` element it\r\n   creates.\r\n - `addChaptersTrack()` now awaits a `load` or `error` event to\r\n   complete (or fail) the operation.\r\n - Existing tests for addChaptersTrack had long delays to work around\r\n   this issue; these delays have simply been removed.\r\n\r\nFixes #4186",
    "head_branch": "wait-for-chapter-load",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Wait for chapters track to be loaded (#4228)\n\naddChaptersTrack() was already an async method, but it did not wait\r\nfor the chapter data to be loaded by the browser.  The solution is to\r\nwait for the `load` event on the `<track>` element we create.\r\n\r\nTo accomplish this, some cleanup and refactoring was done in how\r\ntracks are managed.  Summary of changes:\r\n\r\n - The `addtrack` event, which triggered management of tracks in src=\r\n   playback, is now used for all types of playback.  In src= mode, it\r\n   manages all tracks, and in MSE mode, it only manages chapters\r\n   tracks (which are added to the video element as in src= mode).\r\n - `processChaptersTrack_()` has been renamed to\r\n   `activateChaptersTrack_()`, since its only job is to set the\r\n   track's mode field to make the browser load it.\r\n - `activateChaptersTrack_()` is now only ever called via the\r\n   `addtrack` event.\r\n - `activateChaptersTrack_()` no longer loops over all chapter tracks\r\n   on a timer, and instead only touches the single track it was\r\n   called for.\r\n - `addSrcTrackElement_()` now returns the HTML `<track>` element it\r\n   creates.\r\n - `addChaptersTrack()` now awaits a `load` or `error` event to\r\n   complete (or fail) the operation.\r\n - Existing tests for addChaptersTrack had long delays to work around\r\n   this issue; these delays have simply been removed.\r\n\r\nFixes #4186"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1a3d6ca63ac8d88f464",
    "number": 4222,
    "body": null,
    "head_branch": "dni809",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1a3d6ca63ac8d88f465",
    "number": 4220,
    "body": "This PR replaces checkversion.py with checkversion.js. I would like to propose to replace python scripts with node, thus eliminate python dependency. Most python scripts call node scripts as executable.",
    "head_branch": "checkversion-js",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1a4d6ca63ac8d88f466",
    "number": 4219,
    "body": "Let's make it explicit a Node.js version required for development, to make contributions easy.",
    "head_branch": "node-14",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: require node 14 or above (#4219)\n\nMost of our existing dev dependencies require node 12+, and node 16 is the active LTS for several more months.  Let's make node 14 the required minimum for Shaka Player development, to avoid issues with our dev deps failing on older versions."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1a5d6ca63ac8d88f467",
    "number": 4217,
    "body": "Since the transition to sequence mode for HLS in v4.0.0, VTT cue\r\ntimings were broken.  This is mainly because VTT cue timing in HLS is\r\nmeant to be based on an offset from the media timestamps, and we\r\ngenerally don't know those now that we use sequence mode.\r\n\r\nTo fix it, this change uses MediaSource segment mode for the very\r\nfirst video segment as a way to extract the timestamp, then clears the\r\nbuffer, switches to sequence mode, and appends it again.  This lets us\r\nget the timing data we need, while avoiding major drawbacks of the\r\nprevious HLS implementation:\r\n - We don't need to fetch segments upfront (which is high latency)\r\n - We don't need to fetch segments twice (once for timestamps, and\r\n   once again to buffer)\r\n - We don't need to maintain parsers (which were complex and limited\r\n   the formats we could support)\r\n\r\nCloses #4191",
    "head_branch": "sequence-mode-text-alignment",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix VTT cue timing in HLS (#4217)\n\nSince the transition to sequence mode for HLS in v4.0.0, VTT cue\r\ntimings were broken.  This is mainly because VTT cue timing in HLS is\r\nmeant to be based on an offset from the media timestamps, and we\r\ngenerally don't know those now that we use sequence mode.\r\n\r\nTo fix it, this change uses MediaSource segment mode for the very\r\nfirst video segment as a way to extract the timestamp, then clears the\r\nbuffer, switches to sequence mode, and appends it again.  This lets us\r\nget the timing data we need, while avoiding major drawbacks of the\r\nprevious HLS implementation:\r\n - We don't need to fetch segments upfront (which is high latency)\r\n - We don't need to fetch segments twice (once for timestamps, and\r\n   once again to buffer)\r\n - We don't need to maintain parsers (which were complex and limited\r\n   the formats we could support)\r\n\r\nCloses #4191"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1a6d6ca63ac8d88f468",
    "number": 4216,
    "body": "v4.0.0 introduced a regression.  When SegmentIterator's seek() method\r\nwas removed, one reference to it was missed in Player.  This was only\r\nused when streaming.startAtSegmentBoundary is true, and there were no\r\ntests to exercise that code path.\r\n\r\nThis adds new tests and fixes the regression.\r\n\r\nCloses #4188\r\n",
    "head_branch": "fix-iterator-seek",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix exception with streaming.startAtSegmentBoundary (#4216)\n\nv4.0.0 introduced a regression.  When SegmentIterator's seek() method\r\nwas removed, one reference to it was missed in Player.  This was only\r\nused when streaming.startAtSegmentBoundary is true, and there were no\r\ntests to exercise that code path.\r\n\r\nThis adds new tests and fixes the regression.\r\n\r\nCloses #4188"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1a7d6ca63ac8d88f469",
    "number": 4215,
    "body": "Custom asset and external tests (not run by default) were failing to run due to\r\nmissing dependencies.  This fixes that issue.\r\n\r\nThis also improves logging of debug info when a custom asset test times out.\r\n\r\nRelated to investigation of #4161\r\n",
    "head_branch": "custom-asset",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix custom asset and external tests (#4215)\n\nCustom asset and external tests (not run by default) were failing to run due to\r\nmissing dependencies.  This fixes that issue.\r\n\r\nThis also improves logging of debug info when a custom asset test times out.\r\n\r\nRelated to investigation of #4161"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1a8d6ca63ac8d88f46a",
    "number": 4213,
    "body": "This was removed in the release, but we failed to note this in the\r\nupgrade guide.\r\n\r\nCloses #4210\r\n",
    "head_branch": "fix-upgrade-docs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add note to upgrade guide about manifest.hls.useFullSegmentsForStartTime (#4213)\n\nThis was removed in the release, but we failed to note this in the\r\nupgrade guide.\r\n\r\nCloses #4210"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1a9d6ca63ac8d88f46b",
    "number": 4212,
    "body": "When LL mode was off, the HLS parser would throw on X-PRELOAD-HINT\r\nsegments.  The logic for requiring EXTINF has been corrected so that\r\nthis will not happen.\r\n\r\nCloses #4185",
    "head_branch": "hls-preload-hint",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Fix X-PRELOAD-HINT failure with LL mode off (#4212)\n\nWhen LL mode was off, the HLS parser would throw on X-PRELOAD-HINT\r\nsegments.  The logic for requiring EXTINF has been corrected so that\r\nthis will not happen.\r\n\r\nCloses #4185"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1aad6ca63ac8d88f46c",
    "number": 4208,
    "body": "Related to https://github.com/shaka-project/shaka-player/commit/42eecc84f992ca6a680c3a5fd46d1c300fe92a72\r\nCloses https://github.com/shaka-project/shaka-player/issues/1308",
    "head_branch": "ext-x-gap",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(hls): Add support for EXT-X-GAP (#4208)\n\nRelated to 42eecc84\r\nCloses #1308"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1abd6ca63ac8d88f46d",
    "number": 4206,
    "body": "Closes #4202 \r\n",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix PERIOD_FLATTENING_FAILED error when periods have different base sample types (#4206)\n\nCloses #4202"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1acd6ca63ac8d88f46e",
    "number": 4205,
    "body": "Adding tests for https://github.com/shaka-project/shaka-player/pull/4194 in order to ensure that, when `onKeyStatus({ kid: 'output-restricted'})` error is thrown **ONLY** one `RESTRICTIONS_CANNOT_BE_MET` error is triggered/thrown.\r\n\r\n",
    "head_branch": "test/report-restrictions-cannot-be-met-once",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Trigger RESTRICTIONS_CANNOT_BE_MET once from onKeyStatus error (#4205)\n\nAdding tests for https://github.com/shaka-project/shaka-player/pull/4194 in order to ensure that, when `onKeyStatus({ kid: 'output-restricted'})` error is thrown **ONLY** one `RESTRICTIONS_CANNOT_BE_MET` error is triggered/thrown."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1add6ca63ac8d88f46f",
    "number": 4203,
    "body": "## Description\r\n\r\nAlso verified that DASH av1 playback already works.\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "av1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Fix av1 codec selection in HLS. (#4203)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1aed6ca63ac8d88f470",
    "number": 4200,
    "body": "This fix should address the issue I filed a bit ago: https://github.com/shaka-project/shaka-player/issues/4199\r\n\r\nLet me summarize what is going on here more concisely.\r\n\r\nWhen you delete offline content with the remove() function, the promise isn't resolving if there are network issues. It turns into a silent failure which is kind of confusing to work with.\r\n\r\nIn my case, the license server request is giving an error. That is ok though, so the application still needs to remove the content and return the promise. Adding this try block around the session removal attempt seems to fix it.",
    "head_branch": "petrovic/http-resolve-offline-content",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1afd6ca63ac8d88f471",
    "number": 4196,
    "body": "More info in https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/configuring-issue-templates-for-your-repository#configuring-the-template-chooser",
    "head_branch": "chroe-issue-template",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Always use a template for issues (#4196)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1b0d6ca63ac8d88f472",
    "number": 4195,
    "body": "More info in https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/configuring-issue-templates-for-your-repository#configuring-the-template-chooser",
    "head_branch": "chroe-issue-template",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1b1d6ca63ac8d88f473",
    "number": 4194,
    "body": "## Description\r\n\r\nWe want to avoid reporting MANIFEST RESTRICTIONS_CANNOT_BE_MET error twice.\r\nThis is because when error detected from `onKeyStatus_` calls `updateAbrManagerVariants_` which calls `checkRestrictedVariants_` and error is catched and propagated from `onError_` **but source code execution continues** \r\nand `chooseVariantAndSwitch_` triggers same error again:\r\n\r\n```javascript\r\nonKeyStatus_() {\r\n  ....\r\n  if (tracksChanged) {\r\n    this.updateAbrManagerVariants_(); \r\n    //   -> checkRestrictedVariants_ \r\n    //     -> RESTRICTIONS_CANNOT_BE_MET\r\n  }\r\n  ...\r\n  if (currentVariant && !currentVariant.allowedByKeySystem) {\r\n    ...\r\n    this.chooseVariantAndSwitch_(); \r\n    //  -> chooseVariant_\r\n    //    -> updateAbrManagerVariants_ \r\n    //      -> checkRestrictedVariants_ \r\n    //        -> RESTRICTIONS_CANNOT_BE_MET\r\n  }\r\n```\r\n\r\n## Resolves\r\n\r\nhttps://github.com/shaka-project/shaka-player/issues/4190",
    "head_branch": "feature/report-restrictions-cannot-be-met-once",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Do not report MANIFEST RESTRICTIONS_CANNOT_BE_MET error twice (#4194)\n\nWe want to avoid reporting MANIFEST RESTRICTIONS_CANNOT_BE_MET error twice.\r\n\r\nThis is because when error detected from `onKeyStatus_` calls `updateAbrManagerVariants_` which calls `checkRestrictedVariants_` and error is catched and propagated from `onError_` **but source code execution continues** \r\nand `chooseVariantAndSwitch_` triggers same error again:\r\n\r\n```javascript\r\nonKeyStatus_() {\r\n  ....\r\n  if (tracksChanged) {\r\n    this.updateAbrManagerVariants_(); \r\n    //   -> checkRestrictedVariants_ \r\n    //     -> RESTRICTIONS_CANNOT_BE_MET\r\n  }\r\n  ...\r\n  if (currentVariant && !currentVariant.allowedByKeySystem) {\r\n    ...\r\n    this.chooseVariantAndSwitch_(); \r\n    //  -> chooseVariant_\r\n    //    -> updateAbrManagerVariants_ \r\n    //      -> checkRestrictedVariants_ \r\n    //        -> RESTRICTIONS_CANNOT_BE_MET\r\n  }\r\n```\r\n\r\nCloses #4190"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1b2d6ca63ac8d88f474",
    "number": 4192,
    "body": null,
    "head_branch": "typo",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Fix typo in comment (#4192)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1b3d6ca63ac8d88f475",
    "number": 4189,
    "body": "## Description\r\n\r\nWhen a `NETWORK HTTP_ERROR` is thrown we'll temporary disable the problematic variant during `shaka.extern.Restrictions.maxDisabledTime` seconds  ( default will be 30 seconds )\r\n\r\n## Relates\r\n\r\nhttps://github.com/shaka-project/shaka-player/issues/4121\r\n\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfeat: Temporarily disable the active variant from NETWORK HTTP_ERROR (#4189)\r\n\r\nWhen a `NETWORK HTTP_ERROR` is thrown, we'll temporarily disable the variant for `shaka.extern.Restrictions.maxDisabledTime` seconds (default will be 30 seconds).\r\n\r\nCloses #4121\r\nCloses #1542\r\nCloses #2541\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "feature/temporarily-disable-variants-on-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Temporarily disable the active variant from NETWORK HTTP_ERROR (#4189)\n\nWhen a `NETWORK HTTP_ERROR` is thrown, we'll temporarily disable the variant for `shaka.extern.Restrictions.maxDisabledTime` seconds (default will be 30 seconds).\r\n\r\nCloses #4121\r\nCloses #1542"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1b4d6ca63ac8d88f476",
    "number": 4187,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.1.0](https://github.com/shaka-project/shaka-player/compare/v4.0.0...v4.1.0) (2022-05-12)\n\n\n### Features\n\n* Add Id to chapters ([#4184](https://github.com/shaka-project/shaka-player/issues/4184)) ([5ca3271](https://github.com/shaka-project/shaka-player/commit/5ca32712e375ba875be86827ea1efaaa5e3c0035))\n* **cast:** Add Android receiver support ([#4183](https://github.com/shaka-project/shaka-player/issues/4183)) ([dbba571](https://github.com/shaka-project/shaka-player/commit/dbba571c6bb7e99a99469ffb695f59a590d44118))\n* **hls:** Add support for EXT-X-GAP ([#4208](https://github.com/shaka-project/shaka-player/issues/4208)) ([14e61a7](https://github.com/shaka-project/shaka-player/commit/14e61a7368ddbd66c4b10f3b0475840cc50512bd)), closes [#1308](https://github.com/shaka-project/shaka-player/issues/1308)\n* Temporarily disable the active variant from NETWORK HTTP_ERROR ([#4189](https://github.com/shaka-project/shaka-player/issues/4189)) ([b57279d](https://github.com/shaka-project/shaka-player/commit/b57279d39c24d3b2568c4b62338524ecc23423ad)), closes [#4121](https://github.com/shaka-project/shaka-player/issues/4121) [#1542](https://github.com/shaka-project/shaka-player/issues/1542) [#2541](https://github.com/shaka-project/shaka-player/issues/2541)\n\n\n### Bug Fixes\n\n* Do not report MANIFEST RESTRICTIONS_CANNOT_BE_MET error twice ([#4194](https://github.com/shaka-project/shaka-player/issues/4194)) ([08589e8](https://github.com/shaka-project/shaka-player/commit/08589e8fb27f3f73f64204e7d3a2387f3c197d84)), closes [#4190](https://github.com/shaka-project/shaka-player/issues/4190)\n* Fix exception with streaming.startAtSegmentBoundary ([#4216](https://github.com/shaka-project/shaka-player/issues/4216)) ([426a19c](https://github.com/shaka-project/shaka-player/commit/426a19c8e7ff188390e7430fb02f3cfcb79cc017)), closes [#4188](https://github.com/shaka-project/shaka-player/issues/4188)\n* Fix VTT cue timing in HLS ([#4217](https://github.com/shaka-project/shaka-player/issues/4217)) ([5818260](https://github.com/shaka-project/shaka-player/commit/58182605a7da3c18a7331828c319c88446a13d52)), closes [#4191](https://github.com/shaka-project/shaka-player/issues/4191)\n* **hls:** Fix av1 codec selection in HLS. ([#4203](https://github.com/shaka-project/shaka-player/issues/4203)) ([5e13495](https://github.com/shaka-project/shaka-player/commit/5e1349570d64c17e6ca1fcdc5ffde1076ea9a999))\n* **hls:** Fix X-PRELOAD-HINT failure with LL mode off ([#4212](https://github.com/shaka-project/shaka-player/issues/4212)) ([86497a5](https://github.com/shaka-project/shaka-player/commit/86497a5089e272ed682f017f5ed9135108be5a65)), closes [#4185](https://github.com/shaka-project/shaka-player/issues/4185)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1b5d6ca63ac8d88f477",
    "number": 4184,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/3895",
    "head_branch": "chapters-id",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add Id to chapters (#4184)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/3895"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1b6d6ca63ac8d88f478",
    "number": 4183,
    "body": "Closes https://github.com/shaka-project/shaka-player/pull/3773 \r\nCloses https://github.com/shaka-project/shaka-player/issues/3772",
    "head_branch": "cast-android-receiver",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(cast): Add Android receiver support (#4183)\n\nCloses https://github.com/shaka-project/shaka-player/pull/3773 \r\nCloses https://github.com/shaka-project/shaka-player/issues/3772"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1b7d6ca63ac8d88f479",
    "number": 4182,
    "body": "This is very outdated and should not appear in our docs\r\n",
    "head_branch": "drop-gsoc-tutorial",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Drop GSOC ideas list (#4182)\n\nThis is very outdated and should not appear in our docs"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1b8d6ca63ac8d88f47a",
    "number": 4181,
    "body": "Having both v4.0.0 and v4.0.0-main tags refer to the same commit\r\nconfuses some of our build scripts because git describe can produce\r\neither tag.  So we should only create -main tags when the release is\r\nfrom a branch.",
    "head_branch": "no-main-tag-for-main-branch-releases",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Do not create a -main tag if the release is from main (#4181)\n\nHaving both v4.0.0 and v4.0.0-main tags refer to the same commit\r\nconfuses some of our build scripts because git describe can produce\r\neither tag.  So we should only create -main tags when the release is\r\nfrom a branch."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1b9d6ca63ac8d88f47b",
    "number": 4180,
    "body": "This is no longer needed after the first release from the main branch\r\n(v4.0.0).",
    "head_branch": "drop-release-config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Drop release-please config (#4180)\n\nThis is no longer needed after the first release from the main branch\r\n(v4.0.0)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1bad6ca63ac8d88f47c",
    "number": 4177,
    "body": "If a storage operation is aborted (via API, not via closing the page),\r\nthis will now be cleaned up from the database.  More work is needed to\r\nfind and remove orphaned segments in the database.\r\n\r\nRelated to #4166 and follow-up to PR #4176.\r\n",
    "head_branch": "speed-offline-storage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(offline): Clean up orphaned segments on abort (#4177)\n\nIf a storage operation is aborted (via API, not via closing the page),\r\nthis will now be cleaned up from the database.  More work is needed to\r\nfind and remove orphaned segments in the database.\r\n\r\nRelated to #4166 and follow-up to PR #4176."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1bbd6ca63ac8d88f47d",
    "number": 4176,
    "body": "By waiting for all segment data to be written to the database before updating the manifest, we can speed up offline storage in the foreground by ~87%.\r\n\r\nCloses #4166",
    "head_branch": "speed-offline-storage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(offline): Speed up offline storage by ~87% (#4176)\n\nBy waiting for all segment data to be written to the database before updating the manifest, we can speed up offline storage in the foreground by ~87%.\r\n\r\nCloses #4166"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1bcd6ca63ac8d88f47e",
    "number": 4175,
    "body": "Reverts shaka-project/shaka-player#4163\r\n\r\nCloses #4167",
    "head_branch": "revert-4163-main",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "fix: Revert \"Add missing module export in generated typescript defs\" (#4175)\n\nReverts shaka-project/shaka-player#4163\r\n\r\nCloses #4167"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1bcd6ca63ac8d88f47f",
    "number": 4174,
    "body": "This changes the default behavior of the test runner.  Now tests that\r\nrequire access to license servers will run by default.  To disable DRM\r\ntests (for example, if there is no connection to the outside\r\ninternet), use --no-drm.\r\n",
    "head_branch": "test-drm-by-default",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Run DRM tests by default (#4174)\n\nThis changes the default behavior of the test runner.  Now tests that\r\nrequire access to license servers will run by default.  To disable DRM\r\ntests (for example, if there is no connection to the outside\r\ninternet), use --no-drm."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1bdd6ca63ac8d88f480",
    "number": 4173,
    "body": "According to https://developerkb.dolby.com/support/solutions/articles/16000067758-what-is-dolby-digital-plus-joc-joint-object-coding- Dolby Atmos (JOC):\r\n\r\n> Joint Object Coding describes the process by which Dolby Digital Plus with Atmos decoders, receiving a legacy 5.1 mix and sideband metadata, are able to reconstruct the original Atmos mix.\r\n\r\nSo there is no need to deal with a separate mimetype, it can be decoded with Dolby Digital+ (better for retrocompatibility).\r\n\r\nCloses https://github.com/shaka-project/shaka-player/issues/4171",
    "head_branch": "dolby-atmos",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(dash): Fix playback of Dolby Atmos (#4173)\n\nAccording to https://developerkb.dolby.com/support/solutions/articles/16000067758-what-is-dolby-digital-plus-joc-joint-object-coding- Dolby Atmos (JOC):\r\n\r\n> Joint Object Coding describes the process by which Dolby Digital Plus with Atmos decoders, receiving a legacy 5.1 mix and sideband metadata, are able to reconstruct the original Atmos mix.\r\n\r\nSo there is no need to deal with a separate mimetype, it can be decoded with Dolby Digital+ (better for retrocompatibility).\r\n\r\nCloses #4171"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1bed6ca63ac8d88f481",
    "number": 4170,
    "body": "Related to https://github.com/shaka-project/shaka-player/issues/4164#issuecomment-1110143441",
    "head_branch": "android-cast",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: only polyfill MCap for non Android-based Cast devices. (#4170)\n\nRelated to https://github.com/shaka-project/shaka-player/issues/4164#issuecomment-1110143441"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1bfd6ca63ac8d88f482",
    "number": 4169,
    "body": "Fixes an issue where non-encrypted content were unable to playback due to encryption detection done with `this.video.mediaKeys`. It seems we could set MediaKeys even though the content is not encrypted, therefore trying & failing to add information in the init segment and resulting into a `CONTENT_TRANSFORMATION_FAILED`.\r\n\r\nI am still unsure why this is happening exactly but I think it could be a side-effect of #3776 . I'll keep looking for the real cause of the issue, but I think this is a reasonable fix to rely on stream info\r\n\r\nI'll test different versions of Tizens we have because I think this workaround isn't needed on all of the versions",
    "head_branch": "fix-encrypted-broken-platforms",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix encryption detection to work around broken platforms (#4169)\n\nFixes an issue where non-encrypted content were unable to playback due to encryption detection done with `this.video.mediaKeys`. It seems we could set MediaKeys even though the content is not encrypted, therefore trying & failing to add information in the init segment and resulting into a `CONTENT_TRANSFORMATION_FAILED`.\r\n\r\nI am still unsure why this is happening exactly but I think it could be a side-effect of #3776 . I'll keep looking for the real cause of the issue, but I think this is a reasonable fix to rely on stream info\r\n\r\nI'll test different versions of Tizens we have because I think this workaround isn't needed on all of the versions"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1c0d6ca63ac8d88f483",
    "number": 4168,
    "body": "Add the possibility to configure the number of downloads in parallel per stream. If you put a higher value the download time can decrease.\r\n\r\nRelated to https://github.com/shaka-project/shaka-player/issues/4166",
    "head_branch": "parallel-downloads",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(offline): improve the speed of offline downloads (#4168)\n\nAdd the possibility to configure the number of downloads in parallel per stream. If you put a higher value the download time can decrease.\r\n\r\nRelated to https://github.com/shaka-project/shaka-player/issues/4166\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1c1d6ca63ac8d88f484",
    "number": 4163,
    "body": "Missing module export added\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfix: Add missing module export in generated typescript defs\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Export d ts as a module (#4163)\n\nMissing module export added"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1c2d6ca63ac8d88f485",
    "number": 4162,
    "body": "On 29th of April, git.io will stop redirecting\r\n\r\nRef: https://github.blog/changelog/2022-04-25-git-io-deprecation/\r\n\r\nSo let's update this comment to keep the original reference there\r\n",
    "head_branch": "fix-git.io-link",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: update git.io link to original destination (#4162)\n\nOn 29th of April, git.io will stop redirecting\r\n\r\nRef: https://github.blog/changelog/2022-04-25-git-io-deprecation/\r\n\r\nSo let's update this comment to keep the original reference there"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1c3d6ca63ac8d88f486",
    "number": 4160,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.2.6](https://github.com/shaka-project/shaka-player/compare/v3.2.5...v3.2.6) (2022-04-26)\n\n\n### Bug Fixes\n\n* Add missing module export in generated typescript defs ([#4163](https://github.com/shaka-project/shaka-player/issues/4163)) ([3dc10d4](https://github.com/shaka-project/shaka-player/commit/3dc10d406f15a8b513ae2fc339e15738980acb90))\n* **css:** Fix missing % in calculation ([#4157](https://github.com/shaka-project/shaka-player/issues/4157)) ([16eefe2](https://github.com/shaka-project/shaka-player/commit/16eefe231c57397a67676fb379b99d90fe5252e8))\n* **css:** Fix missing calc() statements ([#4156](https://github.com/shaka-project/shaka-player/issues/4156)) ([db22e99](https://github.com/shaka-project/shaka-player/commit/db22e9989bf3df84702fea37a686f0d374811b9b)), closes [#4155](https://github.com/shaka-project/shaka-player/issues/4155)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.6 (#4160)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1c4d6ca63ac8d88f487",
    "number": 4159,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.1.8](https://github.com/shaka-project/shaka-player/compare/v3.1.7...v3.1.8) (2022-04-26)\n\n\n### Bug Fixes\n\n* Add missing module export in generated typescript defs ([#4163](https://github.com/shaka-project/shaka-player/issues/4163)) ([90fa6a7](https://github.com/shaka-project/shaka-player/commit/90fa6a70b534deb31e128331d95ddccab414f385))\n* **css:** Fix missing % in calculation ([#4157](https://github.com/shaka-project/shaka-player/issues/4157)) ([875437e](https://github.com/shaka-project/shaka-player/commit/875437efea3bd62197e084f4da15ccb4d5544d09))\n* **css:** Fix missing calc() statements ([#4156](https://github.com/shaka-project/shaka-player/issues/4156)) ([780ef31](https://github.com/shaka-project/shaka-player/commit/780ef31dcebadff3f193a555d46e6ae434785fb7)), closes [#4155](https://github.com/shaka-project/shaka-player/issues/4155)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.1.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.1.x): release 3.1.8 (#4159)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1c5d6ca63ac8d88f488",
    "number": 4158,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.3.4](https://github.com/shaka-project/shaka-player/compare/v3.3.3...v3.3.4) (2022-04-26)\n\n\n### Bug Fixes\n\n* Add missing module export in generated typescript defs ([#4163](https://github.com/shaka-project/shaka-player/issues/4163)) ([164e601](https://github.com/shaka-project/shaka-player/commit/164e60184ac9842451d91e123c35367892f82c46))\n* **css:** Fix missing % in calculation ([#4157](https://github.com/shaka-project/shaka-player/issues/4157)) ([ee8404f](https://github.com/shaka-project/shaka-player/commit/ee8404f24ba8855a72d3f412b4a4667eb988fb56))\n* **css:** Fix missing calc() statements ([#4156](https://github.com/shaka-project/shaka-player/issues/4156)) ([002d5eb](https://github.com/shaka-project/shaka-player/commit/002d5ebd3d4771a082300d8987fbd019d40f9b68)), closes [#4155](https://github.com/shaka-project/shaka-player/issues/4155)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.4 (#4158)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1c6d6ca63ac8d88f489",
    "number": 4157,
    "body": "This bug has always been there, as far as I can tell, since the ads UI\r\nwas added.  This issue was caught by an internal compilation tool and\r\nanother project that consumes our UI.",
    "head_branch": "fix-missing-percentage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(css): Fix missing % in calculation (#4157)\n\nThis bug has always been there, as far as I can tell, since the ads UI\r\nwas added.  This issue was caught by an internal compilation tool and\r\nanother project that consumes our UI."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1c7d6ca63ac8d88f48a",
    "number": 4156,
    "body": "Closes #4155\r\n",
    "head_branch": "fix-css-calc",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(css): Fix missing calc() statements (#4156)\n\nCloses #4155"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1c8d6ca63ac8d88f48b",
    "number": 4154,
    "body": "These tags should be attached to the head of the main branch, so that\r\nis what we should check out during the tagging job.\r\n\r\nIn v3.1.7, v3.2.5, and v3.3.3, we accidentally tagged the heads of the\r\nrelease branches.  The `-main` tags for those releases had to be\r\ncorrected manually.\r\n",
    "head_branch": "fix-main-tags",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix -main tags on release (#4154)\n\nThese tags should be attached to the head of the main branch, so that\r\nis what we should check out during the tagging job.\r\n\r\nIn v3.1.7, v3.2.5, and v3.3.3, we accidentally tagged the heads of the\r\nrelease branches.  The `-main` tags for those releases had to be\r\ncorrected manually."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1c9d6ca63ac8d88f48c",
    "number": 4153,
    "body": "We should replace all dots with dashes, not just the first one.\r\n",
    "head_branch": "fix-appspot-deploy",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix appspot subdomain computation (#4153)\n\nWe should replace all dots with dashes, not just the first one."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1cad6ca63ac8d88f48d",
    "number": 4147,
    "body": null,
    "head_branch": "fix-linter",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Fix linter error introduced by #3649 (#4147)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1cbd6ca63ac8d88f48e",
    "number": 4144,
    "body": "Fixed upstream in shaka-project/karma-local-wd-launcher#38\r\n\r\nCloses #3967",
    "head_branch": "fix-safari-hang",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix Safari tests hanging in GitHub Actions environment (#4144)\n\nFixed upstream in shaka-project/karma-local-wd-launcher#38\r\n\r\nCloses #3967"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1ccd6ca63ac8d88f48f",
    "number": 4140,
    "body": "Closes https://github.com/shaka-project/shaka-player/issues/4135 \r\nCloses https://github.com/shaka-project/shaka-player/issues/1959",
    "head_branch": "hls-subs-no-extension",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(hls): make a head request if hls subtitles have no extension (#4140)\n\nCloses https://github.com/shaka-project/shaka-player/issues/4135 \r\nCloses https://github.com/shaka-project/shaka-player/issues/1959"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1cdd6ca63ac8d88f490",
    "number": 4139,
    "body": "There was an exception to waitForEnd in StreamingEngine tests that\r\ncould have been handled generically inside the waiter for all tests.\r\n\r\nIt was also necessary to poll for ended state since the Firefox 99 update.\r\n\r\nThis fixes some recent test failures on Firefox 99.\r\n",
    "head_branch": "deflake-firefox",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Deflake StreamingEngine tests on Firefox (#4139)\n\nThere was an exception to waitForEnd in StreamingEngine tests that\r\ncould have been handled generically inside the waiter for all tests.\r\n\r\nIt was also necessary to poll for ended state since the Firefox 99 update.\r\n\r\nThis fixes some recent test failures on Firefox 99."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1ced6ca63ac8d88f491",
    "number": 4138,
    "body": "This seems to improve some intermittent test failures on Safari.",
    "head_branch": "deflake-streaming",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Tweak StreamingEngine test timeouts (#4138)\n\nThis seems to improve some intermittent test failures on Safari."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1cfd6ca63ac8d88f492",
    "number": 4137,
    "body": "This should help debug flakiness and failures in StreamingEngine tests\r\non Safari and Firefox.\r\n",
    "head_branch": "deflake-debug",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Add debug info to failure messages in test waiter (#4137)\n\nThis should help debug flakiness and failures in StreamingEngine tests\r\non Safari and Firefox."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d0d6ca63ac8d88f493",
    "number": 4136,
    "body": "This seems to reduce flakiness in the TextDisplayer tests.  The\r\ntheory is that Safari throttles timers when the system is very busy,\r\nwhich it often is during full test runs across multiple browsers.  By\r\nnot relying on timers and triggering an explicit update in the\r\nTextDisplayer, the tests seem to become more reliable.\r\n",
    "head_branch": "deflake-text",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Improve TextDisplayer test reliability and timing (#4136)\n\nThis seems to reduce flakiness in the TextDisplayer tests.  The\r\ntheory is that Safari throttles timers when the system is very busy,\r\nwhich it often is during full test runs across multiple browsers.  By\r\nnot relying on timers and triggering an explicit update in the\r\nTextDisplayer, the tests seem to become more reliable."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d0d6ca63ac8d88f494",
    "number": 4134,
    "body": "Parse EXT-X-GAP HLS tag and add a status enum to shaka.media.SegmentReference.\r\n\r\nshaka.media.SegmentReference.Status.AVAILABLE --> Normal behaviour\r\nshaka.media.SegmentReference.Status. UNAVAILABLE --> Related to https://github.com/shaka-project/shaka-player/issues/2541\r\nshaka.media.SegmentReference.Status. MISSING --> EXT-X-GAP in HLS\r\n\r\nNote: only the parsing is added, but the functionality is not yet implemented.\r\n\r\nIssue https://github.com/shaka-project/shaka-player/issues/1308",
    "head_branch": "parse-ext-xgap",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(hls): parse EXT-X-GAP (#4134)\n\nParse EXT-X-GAP HLS tag and add a status enum to shaka.media.SegmentReference.\r\n\r\nshaka.media.SegmentReference.Status.AVAILABLE --> Normal behaviour\r\nshaka.media.SegmentReference.Status. UNAVAILABLE --> Related to https://github.com/shaka-project/shaka-player/issues/2541\r\nshaka.media.SegmentReference.Status. MISSING --> EXT-X-GAP in HLS\r\n\r\nNote: only the parsing is added, but the functionality is not yet implemented.\r\n\r\nIssue https://github.com/shaka-project/shaka-player/issues/1308"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d1d6ca63ac8d88f495",
    "number": 4132,
    "body": "Bumps [async](https://github.com/caolan/async) from 2.6.3 to 2.6.4.\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/caolan/async/blob/v2.6.4/CHANGELOG.md\">async's changelog</a>.</em></p>\n<blockquote>\n<h1>v2.6.4</h1>\n<ul>\n<li>Fix potential prototype pollution exploit (<a href=\"https://github-redirect.dependabot.com/caolan/async/issues/1828\">#1828</a>)</li>\n</ul>\n</blockquote>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/caolan/async/commit/c6bdaca4f9175c14fc655d3783c6af6a883e6514\"><code>c6bdaca</code></a> Version 2.6.4</li>\n<li><a href=\"https://github.com/caolan/async/commit/8870da9d5022bab310413041b4079e10db3980b7\"><code>8870da9</code></a> Update built files</li>\n<li><a href=\"https://github.com/caolan/async/commit/4df6754ef4e96a742956df8782fee27242a2ea12\"><code>4df6754</code></a> update changelog</li>\n<li><a href=\"https://github.com/caolan/async/commit/8f7f90342a6571ba1c197d747ebed30c368096d2\"><code>8f7f903</code></a> Fix prototype pollution vulnerability (<a href=\"https://github-redirect.dependabot.com/caolan/async/issues/1828\">#1828</a>)</li>\n<li>See full diff in <a href=\"https://github.com/caolan/async/compare/v2.6.3...v2.6.4\">compare view</a></li>\n</ul>\n</details>\n<details>\n<summary>Maintainer changes</summary>\n<p>This version was pushed to npm by <a href=\"https://www.npmjs.com/~hargasinski\">hargasinski</a>, a new releaser for async since your current version.</p>\n</details>\n<br />\n\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=async&package-manager=npm_and_yarn&previous-version=2.6.3&new-version=2.6.4)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/shaka-project/shaka-player/network/alerts).\n\n</details>",
    "head_branch": "dependabot/npm_and_yarn/async-2.6.4",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "build(deps): bump async from 2.6.3 to 2.6.4 (#4132)\n\nBumps [async](https://github.com/caolan/async) from 2.6.3 to 2.6.4.\r\n- [Release notes](https://github.com/caolan/async/releases)\r\n- [Changelog](https://github.com/caolan/async/blob/v2.6.4/CHANGELOG.md)\r\n- [Commits](https://github.com/caolan/async/compare/v2.6.3...v2.6.4)\r\n\r\n---\r\nupdated-dependencies:\r\n- dependency-name: async\r\n  dependency-type: indirect\r\n...\r\n\r\nSigned-off-by: dependabot[bot] <support@github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d2d6ca63ac8d88f496",
    "number": 4131,
    "body": "Our Tizen device is finally back online in the lab!",
    "head_branch": "enable-tizen",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Re-enable tests on Tizen (#4131)\n\nOur Tizen device is finally back online in the lab!"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d3d6ca63ac8d88f497",
    "number": 4130,
    "body": "Closes #4074",
    "head_branch": "static-index",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix typo in demo index workflow (#4130)\n\nCloses #4074"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d4d6ca63ac8d88f498",
    "number": 4127,
    "body": "If another instance of the build-and-test workflow is started for the\r\nsame PR, cancel the old one.  If a PR is updated and a new test run is\r\nstarted, the old test run will be cancelled automatically to conserve\r\nresources.\r\n",
    "head_branch": "cancel-tests-on-pr-update",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Cancel old test runs when a PR is updated (#4127)\n\nIf another instance of the build-and-test workflow is started for the\r\nsame PR, cancel the old one.  If a PR is updated and a new test run is\r\nstarted, the old test run will be cancelled automatically to conserve\r\nresources."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d5d6ca63ac8d88f499",
    "number": 4126,
    "body": "The demo index generation is now based on the git tags.  So when\r\nchecking out the repo to generate the index, the entire history is\r\nneeded.\r\n\r\nCloses #4074 ",
    "head_branch": "static-index",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix generation of demo index by fetching all history (#4126)\n\nThe demo index generation is now based on the git tags.  So when\r\nchecking out the repo to generate the index, the entire history is\r\nneeded.\r\n\r\nCloses #4074"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d6d6ca63ac8d88f49a",
    "number": 4125,
    "body": "We get rid of the \"small/large\" gap concept, to always jump gaps by default\r\n\r\nRelated to issue https://github.com/shaka-project/shaka-player/issues/3188#issuecomment-788173036",
    "head_branch": "jump-gaps-always",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat!: Remove small/large gap config, always jump gaps (#4125)\n\nWe get rid of the \"small/large\" gap concept, to always jump gaps by default\r\n\r\nRelated to issue https://github.com/shaka-project/shaka-player/issues/3188#issuecomment-788173036"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d7d6ca63ac8d88f49b",
    "number": 4124,
    "body": "Related https://github.com/shaka-project/shaka-player/pull/4114",
    "head_branch": "remove-require",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: remove goog.require('shaka.polyfill.MathRound') in uncompiled (#4124)\n\nRelated https://github.com/shaka-project/shaka-player/pull/4114"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d8d6ca63ac8d88f49c",
    "number": 4123,
    "body": "The MS EME polyfill has been unused since v3.1 and removal of IE support, and isn't needed for Edge or Xbox One support.\r\n\r\nCloses #4113",
    "head_branch": "drop-ms-eme-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Drop MS EME polyfill (#4123)\n\nThe MS EME polyfill has been unused since v3.1 and removal of IE support, and isn't needed for Edge or Xbox One support.\r\n\r\nCloses #4113"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1d9d6ca63ac8d88f49d",
    "number": 4122,
    "body": "Fixes these issues with the demo index deployment (tested by manual deployment):\r\n\r\n - Missing `handlers:` field in app.yaml\r\n - Missing handler for the URL `/`\r\n - Missing Flask entrypoint (even though no dynamic content is generated by it)\r\n\r\nCloses #4074",
    "head_branch": "static-index",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix demo index deployment (#4122)\n\nFixes these issues with the demo index deployment (tested by manual deployment):\r\n\r\n - Missing `handlers:` field in app.yaml\r\n - Missing handler for the URL `/`\r\n - Missing Flask entrypoint (even though no dynamic content is generated by it)\r\n\r\nCloses #4074"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1dad6ca63ac8d88f49e",
    "number": 4119,
    "body": "Rather than runtime-querying of appengine versions within the\r\nappengine environment, we can instead generate the index at deployment\r\ntime (from git tags) and just serve static content.  This simplifies\r\nthe system and avoids dependence on Google Cloud.\r\n\r\nThis was less feasible before we adopted GitHub Actions, but is now\r\nrelatively simple.  The index will be regenerated when the index code\r\nis updated or when a new release is created.\r\n\r\nCloses #4074\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "static-index",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Generate static content for demo index at deploy time (#4119)\n\nRather than runtime-querying of appengine versions within the\r\nappengine environment, we can instead generate the index at deployment\r\ntime (from git tags) and just serve static content.  This simplifies\r\nthe system and avoids dependence on Google Cloud.\r\n\r\nThis was less feasible before we adopted GitHub Actions, but is now\r\nrelatively simple.  The index will be regenerated when the index code\r\nis updated or when a new release is created.\r\n\r\nCloses #4074"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1dbd6ca63ac8d88f49f",
    "number": 4117,
    "body": "Includes a YAML config file for our lab, and documentation on how to\r\ncreate a custom config for another Selenium grid.\r\n\r\nA workflow will run tests nightly in the Shaka lab, using a\r\nself-hosted runner with access to our private grid.\r\n\r\nThe workflow can also be triggered manually by maintainers to test a\r\nPR in the lab.  This will report status back to the PR.",
    "head_branch": "selenium-grid",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Run tests on a custom Selenium grid (#4117)\n\nIncludes a YAML config file for our lab, and documentation on how to\r\ncreate a custom config for another Selenium grid.\r\n\r\nA workflow will run tests nightly in the Shaka lab, using a\r\nself-hosted runner with access to our private grid.\r\n\r\nThe workflow can also be triggered manually by maintainers to test a\r\nPR in the lab.  This will report status back to the PR."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1dcd6ca63ac8d88f4a0",
    "number": 4116,
    "body": "The script for deploying the demo version index page has a function\r\nthat chooses which versions to display. This script has a special\r\nmode meant for testing that shows a default list of demo versions.\r\nThis mode was only supposed to trigger when run locally, but the\r\ncheck did not work properly, so the demo version index was deploying\r\nwith a very out-of-date list of versions.\r\nThis fixes that check.\r\n\r\nCloses #4074\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nci: Fix default demo index versions\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "branch4074",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(demo): Fix default demo index versions (#4116)\n\nThe script for deploying the demo version index page has a function\r\nthat chooses which versions to display. This script has a special\r\nmode meant for testing that shows a default list of demo versions.\r\nThis mode was only supposed to trigger when run locally, but the\r\ncheck did not work properly, so the demo version index was deploying\r\nwith a very out-of-date list of versions.\r\nThis fixes that check.\r\n\r\nCloses #4074\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1ddd6ca63ac8d88f4a1",
    "number": 4115,
    "body": "This change fixes tests on Chromecast by loading tests later in the process.  Test scripts are now dynamically inserted by boot.js, rather than loaded by Karma.  The bootstrapping code then awaits the completion of that before starting the Karma frameworks (Jasmine) to run the tests.\r\n\r\nThis also removes the use of goog.provide/goog.require in tests and test utils.  We don't need to load test utils or library sources dynamically in each test, and this gives us more explicit control over script loading and ordering.\r\n\r\nCloses #4094",
    "head_branch": "late-load-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Late load tests, fix Chromecast test flake (#4115)\n\nThis change fixes tests on Chromecast by loading tests later in the process.  Test scripts are now dynamically inserted by boot.js, rather than loaded by Karma.  The bootstrapping code then awaits the completion of that before starting the Karma frameworks (Jasmine) to run the tests.\r\n\r\nThis also removes the use of goog.provide/goog.require in tests and test utils.  We don't need to load test utils or library sources dynamically in each test, and this gives us more explicit control over script loading and ordering.\r\n\r\nCloses #4094"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1dfd6ca63ac8d88f4a2",
    "number": 4114,
    "body": "See: https://github.com/shaka-project/shaka-player/commit/f145dffc9e7743821d7af2c1635abab9a151ca86 and https://github.com/shaka-project/shaka-player/pull/832",
    "head_branch": "remove-mathround",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: remove mathround polyfill (used in IE) (#4114)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e0d6ca63ac8d88f4a3",
    "number": 4112,
    "body": "1. Remove support for Safari 12\r\n2. Support modern EME in Safari 13\r\n3. Remove EME Apple polyfill\r\n4. Update documentation",
    "head_branch": "polyfill-safari",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat!: Remove support for Safari 12 and iOS 12 (#4112)\n\n1. Remove support for Safari 12\r\n2. Support modern EME in Safari 13\r\n3. Remove EME Apple polyfill\r\n4. Update documentation"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e1d6ca63ac8d88f4a4",
    "number": 4111,
    "body": "Rather than require everything, require only the top-level classes for\r\nthe demo, and let them require their dependencies.  This is consistent\r\nwith how this works in the library itself.\r\n\r\nRelated to issue #4094",
    "head_branch": "trim-demo-uncompiled",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build(demo): Minimize goog.require in demo_uncompiled.js (#4111)\n\nRather than require everything, require only the top-level classes for\r\nthe demo, and let them require their dependencies.  This is consistent\r\nwith how this works in the library itself.\r\n\r\nRelated to issue #4094"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e2d6ca63ac8d88f4a5",
    "number": 4110,
    "body": "The demo sources didn't properly provide/require the shakaAssets\r\nnamespace.  This caused issues when I tried to change the way demo\r\nsources were loaded in tests.\r\n\r\nRelated to issue #4094\r\n",
    "head_branch": "fix-missing-demo-require",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Add missing provide/require in demo (#4110)\n\nThe demo sources didn't properly provide/require the shakaAssets\r\nnamespace.  This caused issues when I tried to change the way demo\r\nsources were loaded in tests.\r\n\r\nRelated to issue #4094"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e2d6ca63ac8d88f4a6",
    "number": 4109,
    "body": "Jasmine 4 deprecated some part of its custom matcher API.\r\n\r\nThis puts us in compliance with the new API (by omitting a parameter\r\nwe didn't really need), and silences the deprecation warnings (which\r\nonly showed up when enabling logging in the tests).\r\n",
    "head_branch": "fix-jasmine-4-deprecation-warnings",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix Jasmine 4 deprecation warnings (#4109)\n\nJasmine 4 deprecated some part of its custom matcher API.\r\n\r\nThis puts us in compliance with the new API (by omitting a parameter\r\nwe didn't really need), and silences the deprecation warnings (which\r\nonly showed up when enabling logging in the tests)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e3d6ca63ac8d88f4a7",
    "number": 4108,
    "body": "Since transitioning from the deprecated depswriter.py to the new\r\nclosure-make-deps tool in 6f274cbc, the build system has been ignoring\r\nany failures in the generation of deps.js.  This is because the new\r\ntool doesn't return a proper non-zero exit code when it fails.  (See\r\nhttps://github.com/google/closure-library/issues/1162)\r\n\r\nThis changes the build scripts to check for empty output instead,\r\nwhich seems to be reliable for the moment.\r\n",
    "head_branch": "fix-gendeps-exit-code",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Don't ignore failures to generate deps (#4108)\n\nSince transitioning from the deprecated depswriter.py to the new\r\nclosure-make-deps tool in 6f274cbc, the build system has been ignoring\r\nany failures in the generation of deps.js.  This is because the new\r\ntool doesn't return a proper non-zero exit code when it fails.  (See\r\nhttps://github.com/google/closure-library/issues/1162)\r\n\r\nThis changes the build scripts to check for empty output instead,\r\nwhich seems to be reliable for the moment."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e4d6ca63ac8d88f4a8",
    "number": 4104,
    "body": "This PR parses default_KID from ContentProtection in the manifest and constructs a PSSH box from it to feed to the ClearKey CDM only if clear key content is detected.\r\n\r\nExample: \r\n\r\n```\r\n<ContentProtection\r\n    schemeIdUri=\"urn:mpeg:dash:mp4protection:2011\" value=\"cenc\"\r\n    cenc:default_KID=\"9eb4050d-e44b-4802-932e-27d75083e266\" />\r\n<ContentProtection\r\n    value=\"ClearKey1.0\" schemeIdUri=\"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e\">\r\n         <clearkey:Laurl Lic_type=\"EME-1.0\">https://drm-clearkey-testvectors.axtest.net/AcquireLicense</clearkey:Laurl>\r\n </ContentProtection>\r\n```\r\n\r\nPSSH is based on https://www.w3.org/TR/eme-initdata-cenc/\r\n\r\nTested content: \r\nhttps://media.axprod.net/TestVectors/v7-MultiDRM-SingleKey/Manifest_1080p_ClearKey.mpd",
    "head_branch": "clearkey_pssh",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(dash): Construct ClearKey PSSH based on MPD ContentProtection (#4104)\n\nThis PR parses default_KID from ContentProtection in the manifest and constructs a PSSH box from it to feed to the ClearKey CDM only if clear key content is detected.\r\n\r\nExample: \r\n\r\n```\r\n<ContentProtection\r\n    schemeIdUri=\"urn:mpeg:dash:mp4protection:2011\" value=\"cenc\"\r\n    cenc:default_KID=\"9eb4050d-e44b-4802-932e-27d75083e266\" />\r\n<ContentProtection\r\n    value=\"ClearKey1.0\" schemeIdUri=\"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e\">\r\n         <clearkey:Laurl Lic_type=\"EME-1.0\">https://drm-clearkey-testvectors.axtest.net/AcquireLicense</clearkey:Laurl>\r\n </ContentProtection>\r\n```\r\n\r\nPSSH is based on https://www.w3.org/TR/eme-initdata-cenc/\r\n\r\nTested content: \r\nhttps://media.axprod.net/TestVectors/v7-MultiDRM-SingleKey/Manifest_1080p_ClearKey.mpd"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e5d6ca63ac8d88f4a9",
    "number": 4101,
    "body": "<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "main",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e6d6ca63ac8d88f4aa",
    "number": 4098,
    "body": "These default versions, originally meant for testing, were showing\r\nup in the actual site as it deployed. We're not really doing testing\r\non these scripts now that they are GitHub actions, so there's no harm\r\nin removing that clause entirely.\r\n\r\nCloses #4074",
    "head_branch": "indexVersions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e7d6ca63ac8d88f4ab",
    "number": 4097,
    "body": "It appears that the problems we previously had with TS content\r\non Safari have been fixed. We no longer need the workaround where\r\nwe transmuxed TS on that platform.",
    "head_branch": "enableSafariTSBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(HLS): Re-add TS support to Safari (#4097)\n\nIt appears that the problems we previously had with TS content\r\non Safari have been fixed. We no longer need the workaround where\r\nwe transmuxed TS on that platform."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e8d6ca63ac8d88f4ac",
    "number": 4095,
    "body": "In the GitHub Actions environment, it is now possible to install and\r\nrun tests on Safari 14.  Though not completely straightforward, it\r\ndoesn't add much code to the workflow and shouldn't be too difficult\r\nto maintain.\r\n\r\nCloses #3899",
    "head_branch": "safari-14",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Test on Safari 14 (#4095)\n\nIn the GitHub Actions environment, it is now possible to install and\r\nrun tests on Safari 14.  Though not completely straightforward, it\r\ndoesn't add much code to the workflow and shouldn't be too difficult\r\nto maintain.\r\n\r\nCloses #3899"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1e9d6ca63ac8d88f4ad",
    "number": 4092,
    "body": "See: https://github.com/shaka-project/shaka-player/issues/4062#issuecomment-1077826210\r\n\r\nCo-authored-by: @joeyparrish ",
    "head_branch": "no-generators",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(performance): Eliminate use of ES6 generators (#4092)\n\nSee: https://github.com/shaka-project/shaka-player/issues/4062#issuecomment-1077826210\r\n\r\nCo-authored-by: @joeyparrish\r\n\r\nIssue #4062"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1ead6ca63ac8d88f4ae",
    "number": 4090,
    "body": null,
    "head_branch": "refactorBandwidthBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore(HLS): Refactor unused bandwidth parameter (#4090)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1ebd6ca63ac8d88f4af",
    "number": 4089,
    "body": "Below are the changelog entries for each deprecated feature removed by this commit.\r\n\r\n-----\r\n\r\nfeat(config)!: `manifest.dash.defaultPresentationDelay` has been replaced by `manifest.defaultPresentationDelay` (deprecated in v3.0.0)\r\n\r\nfeat(config)!: Configuration of factories should be plain factory functions, not constructors; these will not be invoked with `new` (deprecated in v3.1.0)\r\n\r\nfeat(player)!: `shaka.Player.prototype.addTextTrack()` has been replaced by `addTextTrackAsync()`, which returns a `Promise` (deprecated in v3.1.0)\r\n\r\nfeat(ui)!: `shaka.ui.TrackLabelFormat` has been renamed to `shaka.ui.Overlay.TrackLabelFormat` (deprecated in v3.1.0)\r\n\r\nfeat(ui)!: `shaka.ui.FailReasonCode` has been renamed to `shaka.ui.Overlay.FailReasonCode` (deprecated in v3.1.0)\r\n\r\nfeat(offline)!: `shaka.offline.Storage.prototype.store()` returns `AbortableOperation` instead of `Promise` (deprecated in v3.0.0)\r\n\r\nfeat(offline)!: `shaka.offline.Storage.prototype.getStoreInProgress()` has been removed; concurrent operations are supported, so callers don't need to check this (deprecated in v3.0.0)\r\n\r\nfeat!: `shaka.util.Uint8ArrayUtils.equal` has been replaced by `shaka.util.BufferUtils.equal`, which can handle multiple types of buffers (deprecated in v3.0.0)\r\n\r\nfeat(manifest)!: `shaka.media.SegmentIndex.prototype.destroy()` has been replaced by `release()`, which is synchronous (deprecated in v3.0.0)\r\n\r\nfeat(manifest)!: `shaka.media.SegmentIterator.prototype.seek()`, which mutates the iterator, has been replaced by `shaka.media.SegmentIndex.getIteratorForTime()` (deprecated in v3.1.0)\r\n\r\nfeat(manifest)!: `shaka.media.SegmentIndex.prototype.merge()` has become private; use `mergeAndEvict()` instead (deprecated in v3.2.0)\r\n\r\nfeat(plugin)!: `AbrManager` plugins must implement the `playbackRateChanged()` method (deprecated in v3.0.0)\r\n\r\nfeat(plugin)!: `shaka.extern.Cue.prototype.spacer` has been replaced by the more clearly-named `lineBreak` (deprecated in v3.1.0)\r\n\r\nfeat(plugin)!: `IUIElement` plugins must have a `release()` method (not `destroy()`) (deprecated in v3.0.0)",
    "head_branch": "v4-deprecations",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat!: Remove deprecated features, update upgrade guides (#4089)\n\nBelow are the changelog entries for each deprecated feature removed by this commit.\r\n\r\n-----\r\n\r\nfeat(config)!: `manifest.dash.defaultPresentationDelay` has been replaced by `manifest.defaultPresentationDelay` (deprecated in v3.0.0)\r\n\r\nfeat(config)!: Configuration of factories should be plain factory functions, not constructors; these will not be invoked with `new` (deprecated in v3.1.0)\r\n\r\nfeat(player)!: `shaka.Player.prototype.addTextTrack()` has been replaced by `addTextTrackAsync()`, which returns a `Promise` (deprecated in v3.1.0)\r\n\r\nfeat(ui)!: `shaka.ui.TrackLabelFormat` has been renamed to `shaka.ui.Overlay.TrackLabelFormat` (deprecated in v3.1.0)\r\n\r\nfeat(ui)!: `shaka.ui.FailReasonCode` has been renamed to `shaka.ui.Overlay.FailReasonCode` (deprecated in v3.1.0)\r\n\r\nfeat(offline)!: `shaka.offline.Storage.prototype.store()` returns `AbortableOperation` instead of `Promise` (deprecated in v3.0.0)\r\n\r\nfeat(offline)!: `shaka.offline.Storage.prototype.getStoreInProgress()` has been removed; concurrent operations are supported, so callers don't need to check this (deprecated in v3.0.0)\r\n\r\nfeat!: `shaka.util.Uint8ArrayUtils.equal` has been replaced by `shaka.util.BufferUtils.equal`, which can handle multiple types of buffers (deprecated in v3.0.0)\r\n\r\nfeat(manifest)!: `shaka.media.SegmentIndex.prototype.destroy()` has been replaced by `release()`, which is synchronous (deprecated in v3.0.0)\r\n\r\nfeat(manifest)!: `shaka.media.SegmentIterator.prototype.seek()`, which mutates the iterator, has been replaced by `shaka.media.SegmentIndex.getIteratorForTime()` (deprecated in v3.1.0)\r\n\r\nfeat(manifest)!: `shaka.media.SegmentIndex.prototype.merge()` has become private; use `mergeAndEvict()` instead (deprecated in v3.2.0)\r\n\r\nfeat(plugin)!: `AbrManager` plugins must implement the `playbackRateChanged()` method (deprecated in v3.0.0)\r\n\r\nfeat(plugin)!: `shaka.extern.Cue.prototype.spacer` has been replaced by the more clearly-named `lineBreak` (deprecated in v3.1.0)\r\n\r\nfeat(plugin)!: `IUIElement` plugins must have a `release()` method (not `destroy()`) (deprecated in v3.0.0)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1ecd6ca63ac8d88f4b0",
    "number": 4088,
    "body": "Some events and timers were used to process track changes with src=\r\nplayback on Safari, but they did not properly clean up when the player\r\nwas unloaded or destroyed.  In the case that this happened quickly\r\nafter starting playback, exceptions would be thrown or tracks could\r\nmanipulated after new content began.\r\n\r\nThis fixes the cleanup of these timers and events to be aware of\r\nPlayer unloads or destruction.\r\n\r\nCloses #4087\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "fix-safari-exceptions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix exceptions when quickly shutting down src= on Safari (#4088)\n\nSome events and timers were used to process track changes with src=\r\nplayback on Safari, but they did not properly clean up when the player\r\nwas unloaded or destroyed.  In the case that this happened quickly\r\nafter starting playback, exceptions would be thrown or tracks could\r\nmanipulated after new content began.\r\n\r\nThis fixes the cleanup of these timers and events to be aware of\r\nPlayer unloads or destruction.\r\n\r\nCloses #4087"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1edd6ca63ac8d88f4b1",
    "number": 4086,
    "body": "This fixes broken deps file generation on Window by upgrading to a\r\npre-release version of the deps tool.  The upstream issue was filed in\r\nhttps://github.com/google/closure-library/issues/1159 and fixed in\r\nhttps://github.com/google/closure-library/pull/1160.\r\n\r\nThis issue has never affected a release version of Shaka Player, and\r\nwas introduced when we switched deps tools in 6f274cbc.\r\n\r\nCloses #4085\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "fix-windows-jobs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix broken deps file generation on Windows (#4086)\n\nThis fixes broken deps file generation on Window by upgrading to a\r\npre-release version of the deps tool.  The upstream issue was filed in\r\nhttps://github.com/google/closure-library/issues/1159 and fixed in\r\nhttps://github.com/google/closure-library/pull/1160.\r\n\r\nThis issue has never affected a release version of Shaka Player, and\r\nwas introduced when we switched deps tools in 6f274cbc.\r\n\r\nCloses #4085"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1eed6ca63ac8d88f4b2",
    "number": 4084,
    "body": "<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "fix-safari-screenshots",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Update Safari native text screenshots (#4084)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1efd6ca63ac8d88f4b3",
    "number": 4083,
    "body": "This PR fixes #3242 where for some live streams using segmented VTT, text timings are relative to segment start instead of being absolute.\r\n\r\nThe PR introduces a new setting: `manifest.segmentRelativeVttTiming: boolean` allowing such alternative timing offset calculation.\r\n\r\nThe setting is off by default, preserving the current player behaviour.",
    "head_branch": "feature/text-offset-mode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: add option for segment-relative VTT timings (#4083)\n\nThis PR fixes #3242 where for some live streams using segmented VTT, text timings are relative to segment start instead of being absolute.\r\n\r\nThe PR introduces a new setting: `manifest.segmentRelativeVttTiming: boolean` allowing such alternative timing offset calculation.\r\n\r\nThe setting is off by default, preserving the current player behaviour.\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f0d6ca63ac8d88f4b4",
    "number": 4080,
    "body": "Closes #3536",
    "head_branch": "mediaPlaylistBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Support playing media playlists directly (#4080)\n\nCloses #3536"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f1d6ca63ac8d88f4b5",
    "number": 4079,
    "body": "In a recent firmware update, the native rendering of text changed on Xbox One.\r\n",
    "head_branch": "fix-xbox-screenshots",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Update Xbox One native text screenshots (#4079)\n\nIn a recent firmware update, the native rendering of text changed on Xbox One."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f2d6ca63ac8d88f4b6",
    "number": 4078,
    "body": "This fixes the workflow job failing because of missing sources, and it\r\nalso fixes the job to run the compiler, not just build the image that\r\n_could_ run the compiler.\r\n\r\nCloses #4076\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "fix-docker",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix Docker build (#4078)\n\nThis fixes the workflow job failing because of missing sources, and it\r\nalso fixes the job to run the compiler, not just build the image that\r\n_could_ run the compiler.\r\n\r\nCloses #4076"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f3d6ca63ac8d88f4b7",
    "number": 4075,
    "body": "See: https://github.com/shaka-project/shaka-player/issues/4062#issuecomment-1077826210\r\n\r\nAuthor: @joeyparrish ",
    "head_branch": "no-generators",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f4d6ca63ac8d88f4b8",
    "number": 4073,
    "body": "Close https://github.com/shaka-project/shaka-player/issues/4072",
    "head_branch": "symbol-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(cmcd): Fix Symbol usage in CMCD on Xbox One (#4073)\n\nClose #4072\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f5d6ca63ac8d88f4b9",
    "number": 4071,
    "body": "We were using a pre-release version of the same for a while, but this\r\nis the same fix in an official release.\r\n",
    "head_branch": "upgrade-htmlhint",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Upgrade HTMLHint to new version with vulnerability fixed (#4071)\n\nWe were using a pre-release version of the same for a while, but this\r\nis the same fix in an official release."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f5d6ca63ac8d88f4ba",
    "number": 4069,
    "body": "CMCD tests were failing on Xbox One due to an inconsistency in the\r\ntreatment of `key=${undefined}`.  This fixes the test and any possible\r\nrelated issues by checking for undefined/null explicitly in the CMCD\r\nmanager when it serializes values.",
    "head_branch": "fix-cmcd-xbox-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f6d6ca63ac8d88f4bb",
    "number": 4068,
    "body": "For content where the manifest parser uses the notifySegments API\r\n(DASH SegmentBase/SegmentList/SegmentTimeline, or HLS, but not DASH\r\nSegmentTemplate+duration), the Player seekRangeEnd configuration was\r\nnot being honored correctly.\r\n\r\nThis fixes the issue in PresentationTimeline and adds a regression\r\ntest to our playRangeStart/playRangeEnds tests.\r\n\r\nFixed #4026\r\n",
    "head_branch": "fix-play-range-end",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix playRangeEnd for certain content (#4068)\n\nFor content where the manifest parser uses the notifySegments API\r\n(DASH SegmentBase/SegmentList/SegmentTimeline, or HLS, but not DASH\r\nSegmentTemplate+duration), the Player seekRangeEnd configuration was\r\nnot being honored correctly.\r\n\r\nThis fixes the issue in PresentationTimeline and adds a regression\r\ntest to our playRangeStart/playRangeEnds tests.\r\n\r\nFixed #4026"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f7d6ca63ac8d88f4bc",
    "number": 4066,
    "body": "Hi,\r\nThis PR is related to parsing Clear Key license as per DASH-IF-IOP-Part6-v5.0.0. - Part 8.\r\n\r\nExample content protection tags parsed: \r\n```\r\n          \r\n<ContentProtection schemeIdUri=\"urn:mpeg:dash:mp4protection:2011\" value=\"cenc\" cenc:default_KID=\"<default key id>\" />\r\n            <ContentProtection value=\"ClearKey1.0\" schemeIdUri=\"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e\">\r\n                <clearkey:Laurl Lic_type=\"EME-1.0\">License Url</clearkey:Laurl>\r\n```\r\nThe player parses the default key id and license url, \r\nand sends a POST request to license url as per https://w3c.github.io/encrypted-media/#clear-key-request-format to retrieve the decryption key/s.",
    "head_branch": "clearkey",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(dash): Parse ClearKey license URL in MPD (#4066)\n\nExample content protection tags parsed: \r\n\r\n```xml\r\n<ContentProtection schemeIdUri=\"urn:mpeg:dash:mp4protection:2011\" value=\"cenc\" cenc:default_KID=\"<default key id>\" />\r\n<ContentProtection value=\"ClearKey1.0\" schemeIdUri=\"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e\">\r\n    <clearkey:Laurl Lic_type=\"EME-1.0\">License Url</clearkey:Laurl>\r\n```\r\n\r\nThe player parses the default key id and license url, \r\nand sends a POST request to license url as per https://w3c.github.io/encrypted-media/#clear-key-request-format to retrieve the decryption key/s."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f8d6ca63ac8d88f4bd",
    "number": 4064,
    "body": "See: https://github.com/shaka-project/shaka-player/issues/4062#issuecomment-1077826210",
    "head_branch": "fix-dash-performance",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(dash): Fix performance regression (#4064)\n\nSee: https://github.com/shaka-project/shaka-player/issues/4062#issuecomment-1077826210"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1f9d6ca63ac8d88f4be",
    "number": 4063,
    "body": "6f274cbc dropped a deprecated Closure build tool, but also upgraded\r\nthe Closure compiler and Closure library.  This introduced a failure\r\ncaused by a duplicate extern in the newer compiler.\r\n\r\nThis drops the now-unnecessary extern.\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "fix-build-failure",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Fix build failure after Closure upgrade (#4063)\n\n6f274cbc dropped a deprecated Closure build tool, but also upgraded\r\nthe Closure compiler and Closure library.  This introduced a failure\r\ncaused by a duplicate extern in the newer compiler.\r\n\r\nThis drops the now-unnecessary extern.\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1fad6ca63ac8d88f4bf",
    "number": 4060,
    "body": "The depswriter.py tool from google-closure-library was generating\r\ndeprecation warnings.  This switches to a newer, rewritten version\r\ncalled google-closure-deps.\r\n\r\n<!--\r\n\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->",
    "head_branch": "update-deps-tool",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Stop using deprecated tool to generate closure deps (#4060)\n\nThe depswriter.py tool from google-closure-library was generating\r\ndeprecation warnings.  This switches to a newer, rewritten version\r\ncalled google-closure-deps."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1fbd6ca63ac8d88f4c0",
    "number": 4059,
    "body": "Since range elements are special input elements, they must reflect user interaction, so when the user hovers over the range element, the cursor must be a pointer.\r\n\r\nRelated https://github.com/shaka-project/shaka-player/pull/3220",
    "head_branch": "cursor-range-element",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(UI): Add cursor pointer to range elements (#4059)\n\nSince range elements are special input elements, they must reflect user\r\ninteraction, so when the user hovers over the range element, the cursor must be a pointer.\r\n\r\nIssue #3220"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1fcd6ca63ac8d88f4c1",
    "number": 4058,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [4.0.0](https://github.com/shaka-project/shaka-player/compare/v3.3.0...v4.0.0) (2022-03-22)\n\n\n### Features\n\n* Add Dockerfile and docker build instructions ([925de19](https://github.com/shaka-project/shaka-player/commit/925de1995eeb22863e8d4e92d720465834619288))\n* add modern EME support for FairPlay ([#3776](https://github.com/shaka-project/shaka-player/issues/3776)) ([6d76a13](https://github.com/shaka-project/shaka-player/commit/6d76a135e5128dfd47653acea025d0a264d121d5))\n* add new methods to FairPlayUtils ([#4029](https://github.com/shaka-project/shaka-player/issues/4029)) ([f1eeac1](https://github.com/shaka-project/shaka-player/commit/f1eeac1efb618aa7202b17b67c43056714f8da2f))\n* Add separate audio and video MIME types to Track API ([#3892](https://github.com/shaka-project/shaka-player/issues/3892)) ([74c491d](https://github.com/shaka-project/shaka-player/commit/74c491d2e0042f62385813f04e74517cf00fcade)), closes [#3888](https://github.com/shaka-project/shaka-player/issues/3888)\n* Allow WebP and AVIF image streams ([#3856](https://github.com/shaka-project/shaka-player/issues/3856)) ([9f3fb46](https://github.com/shaka-project/shaka-player/commit/9f3fb46d371d52f58bc9a7fc5beefe51890879ed)), closes [#3845](https://github.com/shaka-project/shaka-player/issues/3845)\n* **demo:** Add Apple Advanced HLS Stream (TS) with raw AAC ([#3933](https://github.com/shaka-project/shaka-player/issues/3933)) ([1becadf](https://github.com/shaka-project/shaka-player/commit/1becadfc93ca06d64d0c9ace37c80213268a1675))\n* **demo:** Added demo asset with raw AAC. ([014c7b3](https://github.com/shaka-project/shaka-player/commit/014c7b302b292a22f62d4e01230b927b33bc51da)), closes [#2337](https://github.com/shaka-project/shaka-player/issues/2337)\n* **DRM:** add drmInfo to license requests ([#4030](https://github.com/shaka-project/shaka-player/issues/4030)) ([abe846e](https://github.com/shaka-project/shaka-player/commit/abe846e1a3456b029822ea42eb0520dec547fda6))\n* **DRM:** add initData and initDataType to license requests ([#4039](https://github.com/shaka-project/shaka-player/issues/4039)) ([bdc5ea7](https://github.com/shaka-project/shaka-player/commit/bdc5ea767ebe55bb0b18dd106e269ab3fecd6d00))\n* **HLS:** Containerless format support ([36d0b54](https://github.com/shaka-project/shaka-player/commit/36d0b5484fad68dc1d640fbddf2fae3e1eb7169b)), closes [#2337](https://github.com/shaka-project/shaka-player/issues/2337)\n* Public release of Sindarin (sjn) translation easter egg ([#4033](https://github.com/shaka-project/shaka-player/issues/4033)) ([9029d06](https://github.com/shaka-project/shaka-player/commit/9029d0677e0e0325e0dbe939907ba60ecec74c92))\n* **UI:** Add video fullscreen support for iOS ([#3853](https://github.com/shaka-project/shaka-player/issues/3853)) ([8d1b5e6](https://github.com/shaka-project/shaka-player/commit/8d1b5e6b07e979bd641da0b2b53c5f8e872422ad)), closes [#3832](https://github.com/shaka-project/shaka-player/issues/3832)\n\n\n### Bug Fixes\n\n* Add explicit release() for FakeEventTarget ([#3950](https://github.com/shaka-project/shaka-player/issues/3950)) ([f1c1585](https://github.com/shaka-project/shaka-player/commit/f1c1585afb2cfa3eb6b7465c8b32c9bad8e62d15))\n* Avoid WebCrypto randomUUID when CMCD disabled ([4731c76](https://github.com/shaka-project/shaka-player/commit/4731c7677f4f179f19ae647d3bb1edfda40dac53))\n* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/shaka-project/shaka-player/issues/3965)) ([2687b95](https://github.com/shaka-project/shaka-player/commit/2687b95d5830179c53914a7e903ecfbaced429cc))\n* Clear buffer on seek if mediaState is updating ([#3795](https://github.com/shaka-project/shaka-player/issues/3795)) ([9705639](https://github.com/shaka-project/shaka-player/commit/9705639f4514d8d2dbfe5d81a31388f99e6be507)), closes [#3299](https://github.com/shaka-project/shaka-player/issues/3299)\n* Fix CMCD property mangling ([#3842](https://github.com/shaka-project/shaka-player/issues/3842)) ([fa5932c](https://github.com/shaka-project/shaka-player/commit/fa5932ca8f604952590734bf8bdc27ad8e69e8d8)), closes [#3839](https://github.com/shaka-project/shaka-player/issues/3839)\n* Fix CMCD top bitrate reporting ([#3852](https://github.com/shaka-project/shaka-player/issues/3852)) ([922778a](https://github.com/shaka-project/shaka-player/commit/922778a5ebd2d58ca0c1e804745ca40cda1228bc)), closes [#3851](https://github.com/shaka-project/shaka-player/issues/3851)\n* Fix compiler error introduced in [#3864](https://github.com/shaka-project/shaka-player/issues/3864) ([#3906](https://github.com/shaka-project/shaka-player/issues/3906)) ([0635e2c](https://github.com/shaka-project/shaka-player/commit/0635e2c055c13a405048c7696389c1dfc039902f))\n* Fix download of some HLS assets ([#3934](https://github.com/shaka-project/shaka-player/issues/3934)) ([36ca820](https://github.com/shaka-project/shaka-player/commit/36ca820877965db8bcc8b9c4b2a428317301bb95))\n* Fix duplicate CMCD parameters in HLS live content ([#3875](https://github.com/shaka-project/shaka-player/issues/3875)) ([f27401c](https://github.com/shaka-project/shaka-player/commit/f27401cc151a435ae8fb12be4e86d672c331e1e5)), closes [#3862](https://github.com/shaka-project/shaka-player/issues/3862)\n* Fix exception in StreamingEngine for EMSG with HLS ([#3887](https://github.com/shaka-project/shaka-player/issues/3887)) ([48433ab](https://github.com/shaka-project/shaka-player/commit/48433abe74c5f603cf06097e391ffdfa22d64256)), closes [#3886](https://github.com/shaka-project/shaka-player/issues/3886)\n* Fix MediaCapabilities polyfill on Safari ([0201f2b](https://github.com/shaka-project/shaka-player/commit/0201f2b7604e76062b68b8b1acbf098faf71d019)), closes [#3696](https://github.com/shaka-project/shaka-player/issues/3696) [#3530](https://github.com/shaka-project/shaka-player/issues/3530)\n* Fix memory leak in DASH live streams with inband EventStream ([#3957](https://github.com/shaka-project/shaka-player/issues/3957)) ([b7f04cb](https://github.com/shaka-project/shaka-player/commit/b7f04cb36bda664ec9cf23a081d237793907eaae))\n* Fix misdetection of HEVC support on MS Edge ([#3897](https://github.com/shaka-project/shaka-player/issues/3897)) ([dfb3699](https://github.com/shaka-project/shaka-player/commit/dfb369935b9e84fe69a7d38c7904fb0e00dc064a)), closes [#3860](https://github.com/shaka-project/shaka-player/issues/3860)\n* Fix missing throughput in CMCD for HLS live ([#3874](https://github.com/shaka-project/shaka-player/issues/3874)) ([df55944](https://github.com/shaka-project/shaka-player/commit/df55944e8f49bdf8e34a679219cd6596ba46c777)), closes [#3873](https://github.com/shaka-project/shaka-player/issues/3873)\n* Fix playback failure due to rounding errors ([1cc99c1](https://github.com/shaka-project/shaka-player/commit/1cc99c1241c89b5fb5a989dd52ff0b9a9753b65f)), closes [#3717](https://github.com/shaka-project/shaka-player/issues/3717)\n* Fix support for TTAF1 namespace (old version of TTML) ([#3864](https://github.com/shaka-project/shaka-player/issues/3864)) ([771619f](https://github.com/shaka-project/shaka-player/commit/771619ff0ef8ba0e3da9569ded3894b428d03c58)), closes [#3009](https://github.com/shaka-project/shaka-player/issues/3009)\n* Fix usage of Shaka without polyfills ([dfc44cb](https://github.com/shaka-project/shaka-player/commit/dfc44cbca6b95eb137882075cb8bf02cfc73a9d3))\n* **hls:** Fixed buffering issue with live HLS ([#4002](https://github.com/shaka-project/shaka-player/issues/4002)) ([c438e85](https://github.com/shaka-project/shaka-player/commit/c438e857f2f122eb45899148e067d68ffec3477c))\n* **HLS:** skip whitespace in attributes ([#3884](https://github.com/shaka-project/shaka-player/issues/3884)) ([ea6c02a](https://github.com/shaka-project/shaka-player/commit/ea6c02aece1510598a898c235e66335d20eabedb))\n* **image:** Fix HLS image track issues ([264c842](https://github.com/shaka-project/shaka-player/commit/264c84249684ee809f53fd4117f9aab4e0a599ac)), closes [#3840](https://github.com/shaka-project/shaka-player/issues/3840)\n* **image:** Fix thumbnails issues ([#3858](https://github.com/shaka-project/shaka-player/issues/3858)) ([087a9b4](https://github.com/shaka-project/shaka-player/commit/087a9b489b030aa0dc80011ca4e0a0c7a4124ecd))\n* Select first of identical audio streams ([#3869](https://github.com/shaka-project/shaka-player/issues/3869)) ([a6d8610](https://github.com/shaka-project/shaka-player/commit/a6d8610241dc7c8abd56cf7f0d48993d6139dcae))\n* Support multiple chapter tracks with same language ([#3868](https://github.com/shaka-project/shaka-player/issues/3868)) ([8c626ae](https://github.com/shaka-project/shaka-player/commit/8c626aec238c01ebad7ccd06c9313e4f2e99d383)), closes [#3597](https://github.com/shaka-project/shaka-player/issues/3597)\n* **text:** Fix caption overlap. ([bf67d87](https://github.com/shaka-project/shaka-player/commit/bf67d87387b1dfc4d3d8e0661bfe4efb1e4083b2)), closes [#3850](https://github.com/shaka-project/shaka-player/issues/3850) [#3741](https://github.com/shaka-project/shaka-player/issues/3741)\n* **text:** Fix webvtt offset in sequence mode ([#3955](https://github.com/shaka-project/shaka-player/issues/3955)) ([a4e9267](https://github.com/shaka-project/shaka-player/commit/a4e926772e1b754fe968ee6f97490f08a40fe535)), closes [#2337](https://github.com/shaka-project/shaka-player/issues/2337)\n* **text:** Inherit alignment from regions. ([e9df8fb](https://github.com/shaka-project/shaka-player/commit/e9df8fb10c3752cb833e89c8ac793241497e29b6))\n* **text:** Made nested cues inherit region ([#3837](https://github.com/shaka-project/shaka-player/issues/3837)) ([3ff48cb](https://github.com/shaka-project/shaka-player/commit/3ff48cba9b28a29e8decc11898e326d7918bc8f4)), closes [#3743](https://github.com/shaka-project/shaka-player/issues/3743)\n* **text:** Remove caption wrapper bgColor ([#3838](https://github.com/shaka-project/shaka-player/issues/3838)) ([0117441](https://github.com/shaka-project/shaka-player/commit/0117441bb06e0325b84666d2a5a76c0c2de81725)), closes [#3745](https://github.com/shaka-project/shaka-player/issues/3745)\n* Try creating release PRs as shaka-bot ([a8563c3](https://github.com/shaka-project/shaka-player/commit/a8563c31ba24c75ec0bdcafc34c733428d768899))\n* **ttml:** Center subtitles by default ([#4023](https://github.com/shaka-project/shaka-player/issues/4023)) ([f2f24d5](https://github.com/shaka-project/shaka-player/commit/f2f24d528f71e59c81d6172c24da2f412ca18d70))\n* **UI:** Fix text UI not updating when text is disabled ([#3867](https://github.com/shaka-project/shaka-player/issues/3867)) ([9f53d39](https://github.com/shaka-project/shaka-player/commit/9f53d394279066f29a2d391b6964cba11c4a3e1e)), closes [#3728](https://github.com/shaka-project/shaka-player/issues/3728)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v0-test",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1fdd6ca63ac8d88f4c2",
    "number": 4057,
    "body": ":robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n### [3.1.7](https://github.com/shaka-project/shaka-player/compare/v3.1.6...v3.1.7) (2022-04-21)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/shaka-project/shaka-player/issues/3965)) ([b292fb3](https://github.com/shaka-project/shaka-player/commit/b292fb39fca86735ef1aa67ba46fafb72193a992))\r\n* **dash:** Account for bandwidth before filtering text stream ([#3765](https://github.com/shaka-project/shaka-player/issues/3765)) ([612133e](https://github.com/shaka-project/shaka-player/commit/612133ed1d963c387d234318548f90866bc9eded)), closes [#3724](https://github.com/shaka-project/shaka-player/issues/3724)\r\n* **dash:** Fix performance regression ([#4064](https://github.com/shaka-project/shaka-player/issues/4064)) ([a35efd1](https://github.com/shaka-project/shaka-player/commit/a35efd196d56296e17f46cd538e8f46c9125af2d))\r\n* Fix exceptions when quickly shutting down src= on Safari ([#4088](https://github.com/shaka-project/shaka-player/issues/4088)) ([da14ae4](https://github.com/shaka-project/shaka-player/commit/da14ae427c951c7af39f9a2b50a4cb3a89957ede)), closes [#4087](https://github.com/shaka-project/shaka-player/issues/4087)\r\n* Fix playRangeEnd for certain content ([#4068](https://github.com/shaka-project/shaka-player/issues/4068)) ([7543dd1](https://github.com/shaka-project/shaka-player/commit/7543dd1569c136233cad6ab6ea250637a4f8430b)), closes [#4026](https://github.com/shaka-project/shaka-player/issues/4026)\r\n* **performance:** Eliminate use of ES6 generators ([#4092](https://github.com/shaka-project/shaka-player/issues/4092)) ([a131bdd](https://github.com/shaka-project/shaka-player/commit/a131bdda886169ae6269d0f7dc04a038a9091f5f)), closes [#4062](https://github.com/shaka-project/shaka-player/issues/4062)\r\n* Select first of identical audio streams ([#3869](https://github.com/shaka-project/shaka-player/issues/3869)) ([4174693](https://github.com/shaka-project/shaka-player/commit/41746933ad4bd3e477435510d97bc7eb4b487049))\r\n* **ttml:** Center subtitles by default ([#4023](https://github.com/shaka-project/shaka-player/issues/4023)) ([483966c](https://github.com/shaka-project/shaka-player/commit/483966c37a724ab6090d895bb489f3df4f87ffaf))\r\n* **UI:** Add cursor pointer to range elements ([#4059](https://github.com/shaka-project/shaka-player/issues/4059)) ([667962e](https://github.com/shaka-project/shaka-player/commit/667962e377364294d184905be874e396e6978fb4)), closes [#3220](https://github.com/shaka-project/shaka-player/issues/3220)\r\n\r\n---\r\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.1.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.1.x): release 3.1.7 (#4057)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1fed6ca63ac8d88f4c3",
    "number": 4056,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.2.5](https://github.com/shaka-project/shaka-player/compare/v3.2.4...v3.2.5) (2022-04-25)\n\n\n### Bug Fixes\n\n* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/shaka-project/shaka-player/issues/3965)) ([70cbd25](https://github.com/shaka-project/shaka-player/commit/70cbd250044150ccb396f21015bd7fb7a79c7a72))\n* **dash:** Account for bandwidth before filtering text stream ([#3765](https://github.com/shaka-project/shaka-player/issues/3765)) ([c97438a](https://github.com/shaka-project/shaka-player/commit/c97438ae03ffd44382b2e682b9e55f311385f788)), closes [#3724](https://github.com/shaka-project/shaka-player/issues/3724)\n* **dash:** Fix performance regression ([#4064](https://github.com/shaka-project/shaka-player/issues/4064)) ([e313815](https://github.com/shaka-project/shaka-player/commit/e313815ead460f3c3bc0005252c171dcaa37a103))\n* Fix exceptions when quickly shutting down src= on Safari ([#4088](https://github.com/shaka-project/shaka-player/issues/4088)) ([8ed53a3](https://github.com/shaka-project/shaka-player/commit/8ed53a35e29041b7361dfa5d80acbe33d12026fc)), closes [#4087](https://github.com/shaka-project/shaka-player/issues/4087)\n* Fix playRangeEnd for certain content ([#4068](https://github.com/shaka-project/shaka-player/issues/4068)) ([65c1a72](https://github.com/shaka-project/shaka-player/commit/65c1a7231ad9e609198f6ff527d3a4efbe01aace)), closes [#4026](https://github.com/shaka-project/shaka-player/issues/4026)\n* **performance:** Eliminate use of ES6 generators ([#4092](https://github.com/shaka-project/shaka-player/issues/4092)) ([e6912da](https://github.com/shaka-project/shaka-player/commit/e6912dac15807fca4537be080c0f917f30399d51)), closes [#4062](https://github.com/shaka-project/shaka-player/issues/4062)\n* Select first of identical audio streams ([#3869](https://github.com/shaka-project/shaka-player/issues/3869)) ([8ee0edb](https://github.com/shaka-project/shaka-player/commit/8ee0edbb8fb9a342a19253845af3e98de9db9f77))\n* **ttml:** Center subtitles by default ([#4023](https://github.com/shaka-project/shaka-player/issues/4023)) ([9944e93](https://github.com/shaka-project/shaka-player/commit/9944e93f58f860913441d718a94d6d5411771f71))\n* **UI:** Add cursor pointer to range elements ([#4059](https://github.com/shaka-project/shaka-player/issues/4059)) ([c71ca9c](https://github.com/shaka-project/shaka-player/commit/c71ca9c3c76df006ae1aad617176da71b9bff8f3)), closes [#3220](https://github.com/shaka-project/shaka-player/issues/3220)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.5 (#4056)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a1ffd6ca63ac8d88f4c4",
    "number": 4055,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.2.5](https://github.com/shaka-project/shaka-player/compare/v3.2.4...v3.2.5) (2022-03-22)\n\n\n### Bug Fixes\n\n* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/shaka-project/shaka-player/issues/3965)) ([70cbd25](https://github.com/shaka-project/shaka-player/commit/70cbd250044150ccb396f21015bd7fb7a79c7a72))\n* Select first of identical audio streams ([#3869](https://github.com/shaka-project/shaka-player/issues/3869)) ([8ee0edb](https://github.com/shaka-project/shaka-player/commit/8ee0edbb8fb9a342a19253845af3e98de9db9f77))\n* **ttml:** Center subtitles by default ([#4023](https://github.com/shaka-project/shaka-player/issues/4023)) ([9944e93](https://github.com/shaka-project/shaka-player/commit/9944e93f58f860913441d718a94d6d5411771f71))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a200d6ca63ac8d88f4c5",
    "number": 4054,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.1.7](https://github.com/shaka-project/shaka-player/compare/v3.1.6...v3.1.7) (2022-03-22)\n\n\n### Bug Fixes\n\n* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/shaka-project/shaka-player/issues/3965)) ([b292fb3](https://github.com/shaka-project/shaka-player/commit/b292fb39fca86735ef1aa67ba46fafb72193a992))\n* Select first of identical audio streams ([#3869](https://github.com/shaka-project/shaka-player/issues/3869)) ([4174693](https://github.com/shaka-project/shaka-player/commit/41746933ad4bd3e477435510d97bc7eb4b487049))\n* **ttml:** Center subtitles by default ([#4023](https://github.com/shaka-project/shaka-player/issues/4023)) ([483966c](https://github.com/shaka-project/shaka-player/commit/483966c37a724ab6090d895bb489f3df4f87ffaf))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.1.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a201d6ca63ac8d88f4c6",
    "number": 4053,
    "body": ":robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n### [3.3.3](https://github.com/shaka-project/shaka-player/compare/v3.3.2...v3.3.3) (2022-04-25)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/shaka-project/shaka-player/issues/3965)) ([7281e0f](https://github.com/shaka-project/shaka-player/commit/7281e0f229bcc004b64ad3b899ad16131541036b))\r\n* **cmcd:** Fix Symbol usage in CMCD on Xbox One ([#4073](https://github.com/shaka-project/shaka-player/issues/4073)) ([c638b4f](https://github.com/shaka-project/shaka-player/commit/c638b4fe882da5b0331ec0ad3ba3648fa63cb786)), closes [#4072](https://github.com/shaka-project/shaka-player/issues/4072)\r\n* **dash:** Account for bandwidth before filtering text stream ([#3765](https://github.com/shaka-project/shaka-player/issues/3765)) ([edd58fc](https://github.com/shaka-project/shaka-player/commit/edd58fc9a5e0461d69fed635433fc7d0ea7e31ee)), closes [#3724](https://github.com/shaka-project/shaka-player/issues/3724)\r\n* **dash:** Fix performance regression ([#4064](https://github.com/shaka-project/shaka-player/issues/4064)) ([bfac645](https://github.com/shaka-project/shaka-player/commit/bfac645e589190d002f91a57b68941ab68584941))\r\n* Fix exceptions when quickly shutting down src= on Safari ([#4088](https://github.com/shaka-project/shaka-player/issues/4088)) ([2e10748](https://github.com/shaka-project/shaka-player/commit/2e107484e3975f17b9d9a99f6074b804aab05f04)), closes [#4087](https://github.com/shaka-project/shaka-player/issues/4087)\r\n* Fix playRangeEnd for certain content ([#4068](https://github.com/shaka-project/shaka-player/issues/4068)) ([11f998d](https://github.com/shaka-project/shaka-player/commit/11f998d97254a1b9ca27b2a461bf850db2c76eaa)), closes [#4026](https://github.com/shaka-project/shaka-player/issues/4026)\r\n* **performance:** Eliminate use of ES6 generators ([#4092](https://github.com/shaka-project/shaka-player/issues/4092)) ([5bb5502](https://github.com/shaka-project/shaka-player/commit/5bb5502a194154c6277ac7fb48addd314c37ebdb)), closes [#4062](https://github.com/shaka-project/shaka-player/issues/4062)\r\n* Select first of identical audio streams ([#3869](https://github.com/shaka-project/shaka-player/issues/3869)) ([603fdc1](https://github.com/shaka-project/shaka-player/commit/603fdc16014fad6a0cde520675b4c2359877c62b))\r\n* **ttml:** Center subtitles by default ([#4023](https://github.com/shaka-project/shaka-player/issues/4023)) ([02604ab](https://github.com/shaka-project/shaka-player/commit/02604abb3d831d33cbe14f6b8a7808e29f419cbf))\r\n* **UI:** Add cursor pointer to range elements ([#4059](https://github.com/shaka-project/shaka-player/issues/4059)) ([2ca947e](https://github.com/shaka-project/shaka-player/commit/2ca947ecad3ca208a379185e916cef7189b605bf)), closes [#3220](https://github.com/shaka-project/shaka-player/issues/3220)\r\n\r\n---\r\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.3 (#4053)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a202d6ca63ac8d88f4c7",
    "number": 4052,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.3.3](https://github.com/shaka-project/shaka-player/compare/v3.3.2...v3.3.3) (2022-03-22)\n\n\n### Bug Fixes\n\n* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/shaka-project/shaka-player/issues/3965)) ([7281e0f](https://github.com/shaka-project/shaka-player/commit/7281e0f229bcc004b64ad3b899ad16131541036b))\n* Select first of identical audio streams ([#3869](https://github.com/shaka-project/shaka-player/issues/3869)) ([603fdc1](https://github.com/shaka-project/shaka-player/commit/603fdc16014fad6a0cde520675b4c2359877c62b))\n* **ttml:** Center subtitles by default ([#4023](https://github.com/shaka-project/shaka-player/issues/4023)) ([02604ab](https://github.com/shaka-project/shaka-player/commit/02604abb3d831d33cbe14f6b8a7808e29f419cbf))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a203d6ca63ac8d88f4c8",
    "number": 4051,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.3.3](https://github.com/shaka-project/shaka-player/compare/v3.3.2...v3.3.3) (2022-03-22)\n\n\n### Bug Fixes\n\n* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/shaka-project/shaka-player/issues/3965)) ([7281e0f](https://github.com/shaka-project/shaka-player/commit/7281e0f229bcc004b64ad3b899ad16131541036b))\n* Select first of identical audio streams ([#3869](https://github.com/shaka-project/shaka-player/issues/3869)) ([603fdc1](https://github.com/shaka-project/shaka-player/commit/603fdc16014fad6a0cde520675b4c2359877c62b))\n* **ttml:** Center subtitles by default ([#4023](https://github.com/shaka-project/shaka-player/issues/4023)) ([02604ab](https://github.com/shaka-project/shaka-player/commit/02604abb3d831d33cbe14f6b8a7808e29f419cbf))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.3.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a204d6ca63ac8d88f4c9",
    "number": 4050,
    "body": "Integration of MPEG-5 Part-2 LCEVC into Shaka Player.\r\n\r\nA config must be enabled and a canvas element must be provided.\r\n\r\nThe Shaka Player UI will automatically provide an appropriate canvas.\r\n\r\n# Description\r\nIntegration of MPEG-5 Part-2 LCEVC into Shaka Player workflow as a config option to be enabled and the necessary configurations and elements to be passed through the constructor.\r\n![image](https://user-images.githubusercontent.com/36663769/158939481-bd3a639c-e5c1-4b60-9228-79adf0cab63f.png)\r\n# Documentation\r\nAll integration related documentation is available at [docs/design/lcevc-integration.md](https://github.com/v-novaltd/shaka-player/blob/v-nova_Lcevc/docs/design/lcevc-integration.md)\r\n# Executed Tasks\r\n- [ ] Signed Google CLA\r\n- [ ] Builds `build/all.py` successfully\r\n- [ ] Runs `build/test.py` successfully",
    "head_branch": "v-nova_Lcevc",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: LCEVC Integration (#4050)\n\nIntegration of MPEG-5 Part-2 LCEVC into Shaka Player.\r\n\r\nA config must be enabled and a canvas element must be provided.\r\n\r\nThe Shaka Player UI will automatically provide an appropriate canvas.\r\n\r\nCo-authored-by: Vinod Balakrishnan <vinod.balakrishnan@v-nova.com>\r\nCo-authored-by: Vinod <36663769+vinod-balakrishnan@users.noreply.github.com>\r\nCo-authored-by: Vinod <vinod.balakrishnan111@gmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a205d6ca63ac8d88f4ca",
    "number": 4049,
    "body": "A couple of steps were in the wrong order.  We must compute tags and\r\nsubdomains before the \"prep\" step, which wipes out .git.",
    "head_branch": "fix-appspot-deployment",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix appspot deployment failure (#4049)\n\nA couple of steps were in the wrong order.  We must compute tags and\r\nsubdomains before the \"prep\" step, which wipes out .git."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a206d6ca63ac8d88f4cb",
    "number": 4048,
    "body": "This option will get us a full history upfront, so there is no need\r\nfor git fetch.",
    "head_branch": "full-checkout",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Use fetch-depth option to actions/checkout (#4048)\n\nThis option will get us a full history upfront, so there is no need\r\nfor git fetch."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a207d6ca63ac8d88f4cc",
    "number": 4047,
    "body": "When an automated feature release is created, we should also create\r\nthe corresponding release branch.\r\n\r\nCloses #3970",
    "head_branch": "auto-branch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Auto-create release branch for feature release (#4047)\n\nWhen an automated feature release is created, we should also create\r\nthe corresponding release branch."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a208d6ca63ac8d88f4cd",
    "number": 4046,
    "body": "The \"if\" fields do not need to use expression syntax (`${{ }}`), and\r\nsome conditionals will be easier to read if we omit that.\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "workflow-expressions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Use simplified expression syntax (#4046)\n\nThe \"if\" fields do not need to use expression syntax (`${{ }}`), and\r\nsome conditionals will be easier to read if we omit that.\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a209d6ca63ac8d88f4ce",
    "number": 4045,
    "body": "I had set these backwards (name as email and vice-versa).  Oops!\r\n",
    "head_branch": "bot-email",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix release PR name and email (#4045)\n\nI had set these backwards (name as email and vice-versa).  Oops!"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a209d6ca63ac8d88f4cf",
    "number": 4044,
    "body": "This release-please config file is a temporary measure until our first\r\nautomated feature release from main.  So we have to explicitly state\r\nthe version number for this first release, and keep it up-to-date.\r\n\r\nAfter the release, we should be able to remove this file and let the\r\nworkflow decide on version numbers automatically based on commit\r\nmessages.\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "release-please",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Next release from main will be v4.0.0 (#4044)\n\nThis release-please config file is a temporary measure until our first\r\nautomated feature release from main.  So we have to explicitly state\r\nthe version number for this first release, and keep it up-to-date.\r\n\r\nAfter the release, we should be able to remove this file and let the\r\nworkflow decide on version numbers automatically based on commit\r\nmessages.\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a20ad6ca63ac8d88f4d0",
    "number": 4043,
    "body": "This adds CI tests for Docker builds, to make sure they keep working.\r\n\r\nThis also simplifies the Docker build by removing things related to \"pip\", which we do not use.",
    "head_branch": "docker-build",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Test Docker build (#4043)\n\nThis also simplifies the Docker build by removing things related to\r\n\"pip\", which we do not use."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a20bd6ca63ac8d88f4d1",
    "number": 4042,
    "body": "Minimist is vulnerable to prototype pollution, and is no longer\r\nreceiving updates.  Details of the vulnerability can be found here:\r\nhttps://github.com/advisories/GHSA-xvch-5gv4-984h\r\n\r\nThis updates our indirect dep on json5 to remove its minimist dep.\r\n\r\nJimp, Karma, and WD all rely on v0 of mkdirp, which uses minimist.\r\nThis forces them to use v1 of mkdirp, a rewrite which doesn't use\r\nminimist.",
    "head_branch": "security",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Drop indirect dep on vulnerable minimist module (#4042)\n\nMinimist is vulnerable to prototype pollution, and is no longer\r\nreceiving updates.  Details of the vulnerability can be found here:\r\nhttps://github.com/advisories/GHSA-xvch-5gv4-984h\r\n\r\nThis updates our indirect dep on json5 to remove its minimist dep.\r\n\r\nJimp, Karma, and WD all rely on v0 of mkdirp, which uses minimist.\r\nThis forces them to use v1 of mkdirp, a rewrite which doesn't use\r\nminimist."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a20cd6ca63ac8d88f4d2",
    "number": 4039,
    "body": "Adds initData and initDataType field to all LICENSE-type requests.\r\n\r\nBased on comments here: https://github.com/shaka-project/shaka-player/issues/4001#issuecomment-1050655197",
    "head_branch": "initdata-license-request",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(DRM): add initData and initDataType to license requests (#4039)\n\nAdds initData and initDataType field to all LICENSE-type requests.\r\n\r\nBased on comments here: https://github.com/shaka-project/shaka-player/issues/4001#issuecomment-1050655197"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a20dd6ca63ac8d88f4d3",
    "number": 4038,
    "body": "This imports our appspot code into the repo, updates all of it to\r\nPython 3, and adds GitHub Actions for deployment.\r\n\r\nCloses #3969",
    "head_branch": "appspot-deployment",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Deploy demo to appspot nightly and on releases (#4038)\n\nThis imports our appspot code into the repo and updates all of it to\r\nPython 3."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a20fd6ca63ac8d88f4d4",
    "number": 4037,
    "body": "This was causing issues with older versions of npm.\r\n",
    "head_branch": "package-lock-urls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Remove SSH URLs from package-lock.json (#4037)\n\nThis was causing issues with older versions of npm."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a210d6ca63ac8d88f4d5",
    "number": 4035,
    "body": "# Description\r\nIntegration of MPEG-5 Part-2 LCEVC into Shaka Player workflow as a config option to be enabled and the necessary configurations and elements to be passed through the constructor.\r\n\r\n![image](https://user-images.githubusercontent.com/36663769/158939481-bd3a639c-e5c1-4b60-9228-79adf0cab63f.png)\r\n\r\n# Documentation\r\nAll integration related documentation is available at docs/design/lcevc-integration.md\r\n\r\n# Executed Tasks\r\n\r\n- [x] Signed Google CLA\r\n- [x] Builds `build/all.py` successfully\r\n- [x] Runs `build/test.py` successfully\r\n",
    "head_branch": "v-nova_Lcevc",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a210d6ca63ac8d88f4d6",
    "number": 4034,
    "body": "This makes the HLS parser read the EXT-X-PROGRAM-DATE-TIME value\r\non manifests, and use it to make sure that segments are inserted at\r\nthe correct place in the timeline, when in sequence mode.\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "pdtBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(hls): Read EXT-X-PROGRAM-DATE-TIME (#4034)\n\nThis makes the HLS parser read the EXT-X-PROGRAM-DATE-TIME value\r\non manifests, and use it to make sure that segments are inserted at\r\nthe correct place in the timeline, when in sequence mode.\r\n\r\nIssue #2337"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a211d6ca63ac8d88f4d7",
    "number": 4033,
    "body": "This has been secretly in our demo on appspot since April 2019, but it\r\nwas being inserted on-the-fly by our appspot code on the server-side.\r\n\r\nNow that we are transitioning all of our infrastructure into GitHub\r\nActions, we're simplifying things by making this public and adding it\r\nto the repo for the first time.\r\n\r\nEnjoy!\r\n\r\nhttps://shaka-player-demo.appspot.com/demo/#uilang=sjn\r\n",
    "head_branch": "sjn",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Public release of Sindarin (sjn) translation easter egg (#4033)\n\nThis has been secretly in our demo on appspot since April 2019, but it\r\nwas being inserted on-the-fly by our appspot code on the server-side.\r\n\r\nNow that we are transitioning all of our infrastructure into GitHub\r\nActions, we're simplifying things by making this public and adding it\r\nto the repo for the first time.\r\n\r\nEnjoy!\r\n\r\nhttps://shaka-player-demo.appspot.com/demo/#uilang=sjn"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a212d6ca63ac8d88f4d8",
    "number": 4031,
    "body": "This was originally supposed to help resolve \"too many open file\"\r\nerrors in the test runner, but we could not prove that this made any\r\ndifference.  Still, it doesn't seem to hurt.  Tests start up ~6%\r\nfaster (several seconds difference on my workstation).\r\n",
    "head_branch": "trim-globs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Minimize file globs served by test runner (#4031)\n\nThis was originally supposed to help resolve \"too many open file\"\r\nerrors in the test runner, but we could not prove that this made any\r\ndifference.  Still, it doesn't seem to hurt.  Tests start up ~6%\r\nfaster (several seconds difference on my workstation)."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a213d6ca63ac8d88f4d9",
    "number": 4030,
    "body": "Adds drmInfo field to all LICENSE-type requests.\r\n\r\nBased on comments here: https://github.com/shaka-project/shaka-player/issues/4001#issuecomment-1050655197",
    "head_branch": "drminfo-license-request",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(DRM): add drmInfo to license requests (#4030)\n\nAdds drmInfo field to all LICENSE-type requests.\r\n\r\nBased on comments here: https://github.com/shaka-project/shaka-player/issues/4001#issuecomment-1050655197"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a214d6ca63ac8d88f4da",
    "number": 4029,
    "body": "This adds 3 new methods to FairPlayUtils:\r\n\r\n- isFairPlaySupported --> Closes PR #3562\r\n- spcFairPlayRequest --> This method adds basic spc FairPlay request filter\r\n- commonFairPlayResponse --> This method adds a basic FairPlay response filter that supports a lot of DRM providers.",
    "head_branch": "update-fairplay-utils",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: add new methods to FairPlayUtils (#4029)\n\nThis adds 3 new methods to FairPlayUtils:\r\n\r\n- isFairPlaySupported --> Closes PR #3562\r\n- spcFairPlayRequest --> This method adds basic spc FairPlay request filter\r\n- commonFairPlayResponse --> This method adds a basic FairPlay response filter that supports a lot of DRM providers."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a215d6ca63ac8d88f4db",
    "number": 4028,
    "body": "In #3991, I changed the syntax of our colors to a modern rgba syntax.\r\nFor example, rgba(255, 255, 255, 0.85) would become rgba(255 255 255 /\r\n85%). However, less v3 seems not to understand that properly, and\r\nperforms division on the last two parts, resulting in output of\r\nrgba(255 255 3%), which is indeed invalid.\r\n\r\nThis fixes the issue by upgrading to less v4, which understands the\r\nnew rgba syntax and leaves it alone. The output for that will now\r\nmatch the input.\r\n\r\nTo work around an issue with less v4, this uses a prerelease version\r\nwith a fix for https://github.com/less/less.js/issues/3693 . See also\r\nhttps://github.com/tomas/needle/issues/391\r\n\r\nThis doesn't affect any release branches, since #3991 hasn't been\r\ncherry-picked.\r\n\r\nCloses #4027\r\n",
    "head_branch": "css-color-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore(deps): Upgrade less to v4 (prerelease) (#4028)\n\nIn #3991, I changed the syntax of our colors to a modern rgba syntax.\r\nFor example, rgba(255, 255, 255, 0.85) would become rgba(255 255 255 /\r\n85%). However, less v3 seems not to understand that properly, and\r\nperforms division on the last two parts, resulting in output of\r\nrgba(255 255 3%), which is indeed invalid.\r\n\r\nThis fixes the issue by upgrading to less v4, which understands the\r\nnew rgba syntax and leaves it alone. The output for that will now\r\nmatch the input.\r\n\r\nTo work around an issue with less v4, this uses a prerelease version\r\nwith a fix for https://github.com/less/less.js/issues/3693 . See also\r\nhttps://github.com/tomas/needle/issues/391\r\n\r\nThis doesn't affect any release branches, since #3991 hasn't been\r\ncherry-picked.\r\n\r\nCloses #4027"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a216d6ca63ac8d88f4dc",
    "number": 4023,
    "body": "Closes: https://github.com/shaka-project/shaka-player/issues/4015",
    "head_branch": "subtitles-not-centered",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ttml): Center subtitles by default (#4023)\n\nCloses: https://github.com/shaka-project/shaka-player/issues/4015"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a217d6ca63ac8d88f4dd",
    "number": 4022,
    "body": "Now Shaka use package-lock.json, and it's so fast to run npm install, so there is no need to have custom way to check if node_modules is up to date.",
    "head_branch": "update-node-modules",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a218d6ca63ac8d88f4de",
    "number": 4019,
    "body": "This PR removes the check for **npm** command version.  v6 is implicitly required by the `npm ci` command.",
    "head_branch": "npm-version",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "refactor: remove node version check (#4019)\n\nThis PR removes the check for **npm** command version.  v6 is implicitly required by the `npm ci` command."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a219d6ca63ac8d88f4df",
    "number": 4018,
    "body": "The fix we needed has now been released there.\r\n\r\n",
    "head_branch": "release-please-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Revert to upstream release-please-action (#4018)\n\nThe fix we needed has now been released there."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a21ad6ca63ac8d88f4e0",
    "number": 4016,
    "body": "I was thinking about migrating Shaka player to JS only tooling, and re-ignited when @joeyparrish [said](https://github.com/shaka-project/shaka-player/issues/3188) that he is open to TypeScript idea. Then I found that **googl.module** might ease the migration. Below is an excerpt from goog.module documentation.\r\n\r\n> Presently goog.module is recommended over goog.provide for new Closure files\r\n\r\nShort plan:\r\n1. Migrate everything to goog.module, more like ES6 module export/import. See https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.\r\n4. remove goog.module.declareLegacyNamespace(), and make sure everything works as expected.\r\n\r\nThen it's easier to migrate to ES6 (using TypeScript in JSDoc) with https://github.com/google/closure-compiler/wiki/Migrating-from-goog.modules-to-ES6-modules.\r\n\r\n@joeyparrish could you please review the code and plan",
    "head_branch": "goog-module",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a21bd6ca63ac8d88f4e1",
    "number": 4009,
    "body": ":robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n## [4.0.0](https://github.com/shaka-project/shaka-player/compare/v3.3.0...v4.0.0) (2022-04-30)\r\n\r\n\r\n### ⚠ BREAKING CHANGES\r\n\r\n* Remove small/large gap config, always jump gaps (#4125)\r\n* **config:** `manifest.dash.defaultPresentationDelay` has been replaced by `manifest.defaultPresentationDelay` (deprecated in v3.0.0)\r\n* **config:** Configuration of factories should be plain factory functions, not constructors; these will not be invoked with `new` (deprecated in v3.1.0)\r\n* **player:** `shaka.Player.prototype.addTextTrack()` has been replaced by `addTextTrackAsync()`, which returns a `Promise` (deprecated in v3.1.0)\r\n* **ui:** `shaka.ui.TrackLabelFormat` has been renamed to `shaka.ui.Overlay.TrackLabelFormat` (deprecated in v3.1.0)\r\n* **ui:** `shaka.ui.FailReasonCode` has been renamed to `shaka.ui.Overlay.FailReasonCode` (deprecated in v3.1.0)\r\n* **offline:** `shaka.offline.Storage.prototype.store()` returns `AbortableOperation` instead of `Promise` (deprecated in v3.0.0)\r\n* **offline:** `shaka.offline.Storage.prototype.getStoreInProgress()` has been removed; concurrent operations are supported, so callers don't need to check this (deprecated in v3.0.0)\r\n* `shaka.util.Uint8ArrayUtils.equal` has been replaced by `shaka.util.BufferUtils.equal`, which can handle multiple types of buffers (deprecated in v3.0.0)\r\n* **manifest:** `shaka.media.SegmentIndex.prototype.destroy()` has been replaced by `release()`, which is synchronous (deprecated in v3.0.0)\r\n* **manifest:** `shaka.media.SegmentIterator.prototype.seek()`, which mutates the iterator, has been replaced by `shaka.media.SegmentIndex.getIteratorForTime()` (deprecated in v3.1.0)\r\n* **manifest:** `shaka.media.SegmentIndex.prototype.merge()` has become private; use `mergeAndEvict()` instead (deprecated in v3.2.0)\r\n* **plugin:** `AbrManager` plugins must implement the `playbackRateChanged()` method (deprecated in v3.0.0)\r\n* **plugin:** `shaka.extern.Cue.prototype.spacer` has been replaced by the more clearly-named `lineBreak` (deprecated in v3.1.0)\r\n* **plugin:** `IUIElement` plugins must have a `release()` method (not `destroy()`) (deprecated in v3.0.0)\r\n* Remove deprecated features, update upgrade guides (#4089)\r\n* Remove support for Safari 12 and iOS 12 (#4112)\r\n* **hls:** HLS disabled in old browsers/platforms due to incompatibilities (#3964)\r\n\r\n### Features\r\n\r\n* `shaka.util.Uint8ArrayUtils.equal` has been replaced by `shaka.util.BufferUtils.equal`, which can handle multiple types of buffers (deprecated in v3.0.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* Add Dockerfile and docker build instructions ([925de19](https://github.com/shaka-project/shaka-player/commit/925de1995eeb22863e8d4e92d720465834619288))\r\n* add modern EME support for FairPlay ([#3776](https://github.com/shaka-project/shaka-player/issues/3776)) ([6d76a13](https://github.com/shaka-project/shaka-player/commit/6d76a135e5128dfd47653acea025d0a264d121d5))\r\n* add new methods to FairPlayUtils ([#4029](https://github.com/shaka-project/shaka-player/issues/4029)) ([f1eeac1](https://github.com/shaka-project/shaka-player/commit/f1eeac1efb618aa7202b17b67c43056714f8da2f))\r\n* add option for segment-relative VTT timings ([#4083](https://github.com/shaka-project/shaka-player/issues/4083)) ([f382cc7](https://github.com/shaka-project/shaka-player/commit/f382cc702be6cc28266fe61a33e43573cb22be57))\r\n* Add separate audio and video MIME types to Track API ([#3892](https://github.com/shaka-project/shaka-player/issues/3892)) ([74c491d](https://github.com/shaka-project/shaka-player/commit/74c491d2e0042f62385813f04e74517cf00fcade)), closes [#3888](https://github.com/shaka-project/shaka-player/issues/3888)\r\n* Allow WebP and AVIF image streams ([#3856](https://github.com/shaka-project/shaka-player/issues/3856)) ([9f3fb46](https://github.com/shaka-project/shaka-player/commit/9f3fb46d371d52f58bc9a7fc5beefe51890879ed)), closes [#3845](https://github.com/shaka-project/shaka-player/issues/3845)\r\n* **config:** `manifest.dash.defaultPresentationDelay` has been replaced by `manifest.defaultPresentationDelay` (deprecated in v3.0.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **config:** Configuration of factories should be plain factory functions, not constructors; these will not be invoked with `new` (deprecated in v3.1.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **dash:** Construct ClearKey PSSH based on MPD ContentProtection ([#4104](https://github.com/shaka-project/shaka-player/issues/4104)) ([b83b412](https://github.com/shaka-project/shaka-player/commit/b83b4120f46ae94e3ce194f43b13517b7a736f07))\r\n* **dash:** Parse ClearKey license URL in MPD ([#4066](https://github.com/shaka-project/shaka-player/issues/4066)) ([19e24b1](https://github.com/shaka-project/shaka-player/commit/19e24b1d741b4ba6946011748be8b759b4b71773))\r\n* **demo:** Add Apple Advanced HLS Stream (TS) with raw AAC ([#3933](https://github.com/shaka-project/shaka-player/issues/3933)) ([1becadf](https://github.com/shaka-project/shaka-player/commit/1becadfc93ca06d64d0c9ace37c80213268a1675))\r\n* **demo:** Added demo asset with raw AAC. ([014c7b3](https://github.com/shaka-project/shaka-player/commit/014c7b302b292a22f62d4e01230b927b33bc51da)), closes [#2337](https://github.com/shaka-project/shaka-player/issues/2337)\r\n* **DRM:** add drmInfo to license requests ([#4030](https://github.com/shaka-project/shaka-player/issues/4030)) ([abe846e](https://github.com/shaka-project/shaka-player/commit/abe846e1a3456b029822ea42eb0520dec547fda6))\r\n* **DRM:** add initData and initDataType to license requests ([#4039](https://github.com/shaka-project/shaka-player/issues/4039)) ([bdc5ea7](https://github.com/shaka-project/shaka-player/commit/bdc5ea767ebe55bb0b18dd106e269ab3fecd6d00))\r\n* **HLS:** Containerless format support ([36d0b54](https://github.com/shaka-project/shaka-player/commit/36d0b5484fad68dc1d640fbddf2fae3e1eb7169b)), closes [#2337](https://github.com/shaka-project/shaka-player/issues/2337)\r\n* **hls:** HLS disabled in old browsers/platforms due to incompatibilities ([#3964](https://github.com/shaka-project/shaka-player/issues/3964)) ([0daa00f](https://github.com/shaka-project/shaka-player/commit/0daa00fc7f074c1c86968ed0fcd84bc30254ee6d))\r\n* **hls:** make a head request if hls subtitles have no extension ([#4140](https://github.com/shaka-project/shaka-player/issues/4140)) ([19e12b5](https://github.com/shaka-project/shaka-player/commit/19e12b5e282e661a9a17a6bfbb87c565faf2bc6e))\r\n* **hls:** parse EXT-X-GAP ([#4134](https://github.com/shaka-project/shaka-player/issues/4134)) ([42eecc8](https://github.com/shaka-project/shaka-player/commit/42eecc84f992ca6a680c3a5fd46d1c300fe92a72))\r\n* **HLS:** Re-add TS support to Safari ([#4097](https://github.com/shaka-project/shaka-player/issues/4097)) ([8a3bed7](https://github.com/shaka-project/shaka-player/commit/8a3bed710c104c9729fec2072318e50f9fe15ab2))\r\n* **hls:** Read EXT-X-PROGRAM-DATE-TIME ([#4034](https://github.com/shaka-project/shaka-player/issues/4034)) ([89409ce](https://github.com/shaka-project/shaka-player/commit/89409cee3eaeb6764dbc191b7408bf45eecdced3)), closes [#2337](https://github.com/shaka-project/shaka-player/issues/2337)\r\n* **manifest:** `shaka.media.SegmentIndex.prototype.destroy()` has been replaced by `release()`, which is synchronous (deprecated in v3.0.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **manifest:** `shaka.media.SegmentIndex.prototype.merge()` has become private; use `mergeAndEvict()` instead (deprecated in v3.2.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **manifest:** `shaka.media.SegmentIterator.prototype.seek()`, which mutates the iterator, has been replaced by `shaka.media.SegmentIndex.getIteratorForTime()` (deprecated in v3.1.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **offline:** `shaka.offline.Storage.prototype.getStoreInProgress()` has been removed; concurrent operations are supported, so callers don't need to check this (deprecated in v3.0.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **offline:** `shaka.offline.Storage.prototype.store()` returns `AbortableOperation` instead of `Promise` (deprecated in v3.0.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **offline:** improve the speed of offline downloads ([#4168](https://github.com/shaka-project/shaka-player/issues/4168)) ([73f6de3](https://github.com/shaka-project/shaka-player/commit/73f6de3e01ae4ed3b86302add7ee16c86c3b9b78))\r\n* only polyfill MCap for non Android-based Cast devices. ([#4170](https://github.com/shaka-project/shaka-player/issues/4170)) ([11321d8](https://github.com/shaka-project/shaka-player/commit/11321d8f26b01412fa5173aa6efcf777186fa7a0))\r\n* **player:** `shaka.Player.prototype.addTextTrack()` has been replaced by `addTextTrackAsync()`, which returns a `Promise` (deprecated in v3.1.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **plugin:** `AbrManager` plugins must implement the `playbackRateChanged()` method (deprecated in v3.0.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **plugin:** `IUIElement` plugins must have a `release()` method (not `destroy()`) (deprecated in v3.0.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **plugin:** `shaka.extern.Cue.prototype.spacer` has been replaced by the more clearly-named `lineBreak` (deprecated in v3.1.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* Public release of Sindarin (sjn) translation easter egg ([#4033](https://github.com/shaka-project/shaka-player/issues/4033)) ([9029d06](https://github.com/shaka-project/shaka-player/commit/9029d0677e0e0325e0dbe939907ba60ecec74c92))\r\n* Remove deprecated features, update upgrade guides ([#4089](https://github.com/shaka-project/shaka-player/issues/4089)) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* Remove small/large gap config, always jump gaps ([#4125](https://github.com/shaka-project/shaka-player/issues/4125)) ([0fd1999](https://github.com/shaka-project/shaka-player/commit/0fd19997dde7b03bad7464a82dc86d7b2cd8a304))\r\n* Remove support for Safari 12 and iOS 12 ([#4112](https://github.com/shaka-project/shaka-player/issues/4112)) ([8bb7044](https://github.com/shaka-project/shaka-player/commit/8bb70449d33c31a0e7fc312260dc001cc9e3a792))\r\n* **ui:** `shaka.ui.FailReasonCode` has been renamed to `shaka.ui.Overlay.FailReasonCode` (deprecated in v3.1.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **ui:** `shaka.ui.TrackLabelFormat` has been renamed to `shaka.ui.Overlay.TrackLabelFormat` (deprecated in v3.1.0) ([ac5acc8](https://github.com/shaka-project/shaka-player/commit/ac5acc80cb8d2bcb58455e8f66f7e1c2d18b0a3a))\r\n* **ui:** Add quality selection for audio-only content ([#3649](https://github.com/shaka-project/shaka-player/issues/3649)) ([adc3502](https://github.com/shaka-project/shaka-player/commit/adc3502d55f39eaca30f3c42e17961ec7d681c80)), closes [#2071](https://github.com/shaka-project/shaka-player/issues/2071)\r\n* **UI:** Add video fullscreen support for iOS ([#3853](https://github.com/shaka-project/shaka-player/issues/3853)) ([8d1b5e6](https://github.com/shaka-project/shaka-player/commit/8d1b5e6b07e979bd641da0b2b53c5f8e872422ad)), closes [#3832](https://github.com/shaka-project/shaka-player/issues/3832)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* Add explicit release() for FakeEventTarget ([#3950](https://github.com/shaka-project/shaka-player/issues/3950)) ([f1c1585](https://github.com/shaka-project/shaka-player/commit/f1c1585afb2cfa3eb6b7465c8b32c9bad8e62d15))\r\n* Add missing module export in generated typescript defs ([feefd7b](https://github.com/shaka-project/shaka-player/commit/feefd7b7d1cc318800c8d83de8cce81c57939f7d))\r\n* Avoid WebCrypto randomUUID when CMCD disabled ([4731c76](https://github.com/shaka-project/shaka-player/commit/4731c7677f4f179f19ae647d3bb1edfda40dac53))\r\n* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/shaka-project/shaka-player/issues/3965)) ([2687b95](https://github.com/shaka-project/shaka-player/commit/2687b95d5830179c53914a7e903ecfbaced429cc))\r\n* Clear buffer on seek if mediaState is updating ([#3795](https://github.com/shaka-project/shaka-player/issues/3795)) ([9705639](https://github.com/shaka-project/shaka-player/commit/9705639f4514d8d2dbfe5d81a31388f99e6be507)), closes [#3299](https://github.com/shaka-project/shaka-player/issues/3299)\r\n* **cmcd:** Fix Symbol usage in CMCD on Xbox One ([#4073](https://github.com/shaka-project/shaka-player/issues/4073)) ([4005754](https://github.com/shaka-project/shaka-player/commit/400575498f34cf252aaba0bc1367953b8cf44537)), closes [#4072](https://github.com/shaka-project/shaka-player/issues/4072)\r\n* **css:** Fix missing % in calculation ([#4157](https://github.com/shaka-project/shaka-player/issues/4157)) ([1c86195](https://github.com/shaka-project/shaka-player/commit/1c8619582319c46c524807aa4bdff1191b2efc91))\r\n* **dash:** Account for bandwidth before filtering text stream ([#3765](https://github.com/shaka-project/shaka-player/issues/3765)) ([0b04aec](https://github.com/shaka-project/shaka-player/commit/0b04aecdd7ad4184a72b8cf562318b28128344bf)), closes [#3724](https://github.com/shaka-project/shaka-player/issues/3724)\r\n* **dash:** Fix performance regression ([#4064](https://github.com/shaka-project/shaka-player/issues/4064)) ([298b604](https://github.com/shaka-project/shaka-player/commit/298b60481d34bd9d776874fe1b9a8eea05b533d9))\r\n* **dash:** Fix playback of Dolby Atmos ([#4173](https://github.com/shaka-project/shaka-player/issues/4173)) ([d51fe23](https://github.com/shaka-project/shaka-player/commit/d51fe23b7fab99501818c18cc76586e1ec4abcdd)), closes [#4171](https://github.com/shaka-project/shaka-player/issues/4171)\r\n* Fix broken deps file generation on Windows ([#4086](https://github.com/shaka-project/shaka-player/issues/4086)) ([9660ce8](https://github.com/shaka-project/shaka-player/commit/9660ce85df48856b964eebc330c28beba2e3068a)), closes [#4085](https://github.com/shaka-project/shaka-player/issues/4085)\r\n* Fix CMCD property mangling ([#3842](https://github.com/shaka-project/shaka-player/issues/3842)) ([fa5932c](https://github.com/shaka-project/shaka-player/commit/fa5932ca8f604952590734bf8bdc27ad8e69e8d8)), closes [#3839](https://github.com/shaka-project/shaka-player/issues/3839)\r\n* Fix CMCD top bitrate reporting ([#3852](https://github.com/shaka-project/shaka-player/issues/3852)) ([922778a](https://github.com/shaka-project/shaka-player/commit/922778a5ebd2d58ca0c1e804745ca40cda1228bc)), closes [#3851](https://github.com/shaka-project/shaka-player/issues/3851)\r\n* Fix compiler error introduced in [#3864](https://github.com/shaka-project/shaka-player/issues/3864) ([#3906](https://github.com/shaka-project/shaka-player/issues/3906)) ([0635e2c](https://github.com/shaka-project/shaka-player/commit/0635e2c055c13a405048c7696389c1dfc039902f))\r\n* Fix download of some HLS assets ([#3934](https://github.com/shaka-project/shaka-player/issues/3934)) ([36ca820](https://github.com/shaka-project/shaka-player/commit/36ca820877965db8bcc8b9c4b2a428317301bb95))\r\n* Fix duplicate CMCD parameters in HLS live content ([#3875](https://github.com/shaka-project/shaka-player/issues/3875)) ([f27401c](https://github.com/shaka-project/shaka-player/commit/f27401cc151a435ae8fb12be4e86d672c331e1e5)), closes [#3862](https://github.com/shaka-project/shaka-player/issues/3862)\r\n* Fix encryption detection to work around broken platforms ([#4169](https://github.com/shaka-project/shaka-player/issues/4169)) ([c5f474e](https://github.com/shaka-project/shaka-player/commit/c5f474ef983169e6ff29f1594d15a9b50b12d316))\r\n* Fix exception in StreamingEngine for EMSG with HLS ([#3887](https://github.com/shaka-project/shaka-player/issues/3887)) ([48433ab](https://github.com/shaka-project/shaka-player/commit/48433abe74c5f603cf06097e391ffdfa22d64256)), closes [#3886](https://github.com/shaka-project/shaka-player/issues/3886)\r\n* Fix exceptions when quickly shutting down src= on Safari ([#4088](https://github.com/shaka-project/shaka-player/issues/4088)) ([ca08230](https://github.com/shaka-project/shaka-player/commit/ca08230fbe85d66176c7fa1fb4f9782d0ab364fc)), closes [#4087](https://github.com/shaka-project/shaka-player/issues/4087)\r\n* Fix MediaCapabilities polyfill on Safari ([0201f2b](https://github.com/shaka-project/shaka-player/commit/0201f2b7604e76062b68b8b1acbf098faf71d019)), closes [#3696](https://github.com/shaka-project/shaka-player/issues/3696) [#3530](https://github.com/shaka-project/shaka-player/issues/3530)\r\n* Fix memory leak in DASH live streams with inband EventStream ([#3957](https://github.com/shaka-project/shaka-player/issues/3957)) ([b7f04cb](https://github.com/shaka-project/shaka-player/commit/b7f04cb36bda664ec9cf23a081d237793907eaae))\r\n* Fix misdetection of HEVC support on MS Edge ([#3897](https://github.com/shaka-project/shaka-player/issues/3897)) ([dfb3699](https://github.com/shaka-project/shaka-player/commit/dfb369935b9e84fe69a7d38c7904fb0e00dc064a)), closes [#3860](https://github.com/shaka-project/shaka-player/issues/3860)\r\n* Fix missing throughput in CMCD for HLS live ([#3874](https://github.com/shaka-project/shaka-player/issues/3874)) ([df55944](https://github.com/shaka-project/shaka-player/commit/df55944e8f49bdf8e34a679219cd6596ba46c777)), closes [#3873](https://github.com/shaka-project/shaka-player/issues/3873)\r\n* Fix playback failure due to rounding errors ([1cc99c1](https://github.com/shaka-project/shaka-player/commit/1cc99c1241c89b5fb5a989dd52ff0b9a9753b65f)), closes [#3717](https://github.com/shaka-project/shaka-player/issues/3717)\r\n* Fix playRangeEnd for certain content ([#4068](https://github.com/shaka-project/shaka-player/issues/4068)) ([5c81f3b](https://github.com/shaka-project/shaka-player/commit/5c81f3bddb9e48431556f4d622364043fee4ea80)), closes [#4026](https://github.com/shaka-project/shaka-player/issues/4026)\r\n* Fix support for TTAF1 namespace (old version of TTML) ([#3864](https://github.com/shaka-project/shaka-player/issues/3864)) ([771619f](https://github.com/shaka-project/shaka-player/commit/771619ff0ef8ba0e3da9569ded3894b428d03c58)), closes [#3009](https://github.com/shaka-project/shaka-player/issues/3009)\r\n* Fix usage of Shaka without polyfills ([dfc44cb](https://github.com/shaka-project/shaka-player/commit/dfc44cbca6b95eb137882075cb8bf02cfc73a9d3))\r\n* **hls:** Fixed buffering issue with live HLS ([#4002](https://github.com/shaka-project/shaka-player/issues/4002)) ([c438e85](https://github.com/shaka-project/shaka-player/commit/c438e857f2f122eb45899148e067d68ffec3477c))\r\n* **HLS:** skip whitespace in attributes ([#3884](https://github.com/shaka-project/shaka-player/issues/3884)) ([ea6c02a](https://github.com/shaka-project/shaka-player/commit/ea6c02aece1510598a898c235e66335d20eabedb))\r\n* **hls:** Support playing media playlists directly ([#4080](https://github.com/shaka-project/shaka-player/issues/4080)) ([48dd205](https://github.com/shaka-project/shaka-player/commit/48dd20562c2226f61cc753a922629e44c1866f6d)), closes [#3536](https://github.com/shaka-project/shaka-player/issues/3536)\r\n* **image:** Fix HLS image track issues ([264c842](https://github.com/shaka-project/shaka-player/commit/264c84249684ee809f53fd4117f9aab4e0a599ac)), closes [#3840](https://github.com/shaka-project/shaka-player/issues/3840)\r\n* **image:** Fix thumbnails issues ([#3858](https://github.com/shaka-project/shaka-player/issues/3858)) ([087a9b4](https://github.com/shaka-project/shaka-player/commit/087a9b489b030aa0dc80011ca4e0a0c7a4124ecd))\r\n* **offline:** Clean up orphaned segments on abort ([#4177](https://github.com/shaka-project/shaka-player/issues/4177)) ([c07447f](https://github.com/shaka-project/shaka-player/commit/c07447f00e9095020890366695561b71b045e55a))\r\n* **offline:** Speed up offline storage by ~87% ([#4176](https://github.com/shaka-project/shaka-player/issues/4176)) ([c1c9613](https://github.com/shaka-project/shaka-player/commit/c1c96135120480afc9615713812eecc4a51f153b)), closes [#4166](https://github.com/shaka-project/shaka-player/issues/4166)\r\n* **performance:** Eliminate use of ES6 generators ([#4092](https://github.com/shaka-project/shaka-player/issues/4092)) ([57c7324](https://github.com/shaka-project/shaka-player/commit/57c73241a0e8ce1615f7b3aca4c3ad8f69b7e8c2)), closes [#4062](https://github.com/shaka-project/shaka-player/issues/4062)\r\n* Revert \"Add missing module export in generated typescript defs\" ([#4175](https://github.com/shaka-project/shaka-player/issues/4175)) ([fe4f5c6](https://github.com/shaka-project/shaka-player/commit/fe4f5c6e19214d6cf4d42da9430de03040532bab)), closes [#4167](https://github.com/shaka-project/shaka-player/issues/4167)\r\n* Select first of identical audio streams ([#3869](https://github.com/shaka-project/shaka-player/issues/3869)) ([a6d8610](https://github.com/shaka-project/shaka-player/commit/a6d8610241dc7c8abd56cf7f0d48993d6139dcae))\r\n* Support multiple chapter tracks with same language ([#3868](https://github.com/shaka-project/shaka-player/issues/3868)) ([8c626ae](https://github.com/shaka-project/shaka-player/commit/8c626aec238c01ebad7ccd06c9313e4f2e99d383)), closes [#3597](https://github.com/shaka-project/shaka-player/issues/3597)\r\n* **text:** Fix caption overlap. ([bf67d87](https://github.com/shaka-project/shaka-player/commit/bf67d87387b1dfc4d3d8e0661bfe4efb1e4083b2)), closes [#3850](https://github.com/shaka-project/shaka-player/issues/3850) [#3741](https://github.com/shaka-project/shaka-player/issues/3741)\r\n* **text:** Fix webvtt offset in sequence mode ([#3955](https://github.com/shaka-project/shaka-player/issues/3955)) ([a4e9267](https://github.com/shaka-project/shaka-player/commit/a4e926772e1b754fe968ee6f97490f08a40fe535)), closes [#2337](https://github.com/shaka-project/shaka-player/issues/2337)\r\n* **text:** Inherit alignment from regions. ([e9df8fb](https://github.com/shaka-project/shaka-player/commit/e9df8fb10c3752cb833e89c8ac793241497e29b6))\r\n* **text:** Made nested cues inherit region ([#3837](https://github.com/shaka-project/shaka-player/issues/3837)) ([3ff48cb](https://github.com/shaka-project/shaka-player/commit/3ff48cba9b28a29e8decc11898e326d7918bc8f4)), closes [#3743](https://github.com/shaka-project/shaka-player/issues/3743)\r\n* **text:** Remove caption wrapper bgColor ([#3838](https://github.com/shaka-project/shaka-player/issues/3838)) ([0117441](https://github.com/shaka-project/shaka-player/commit/0117441bb06e0325b84666d2a5a76c0c2de81725)), closes [#3745](https://github.com/shaka-project/shaka-player/issues/3745)\r\n* **ttml:** Center subtitles by default ([#4023](https://github.com/shaka-project/shaka-player/issues/4023)) ([f2f24d5](https://github.com/shaka-project/shaka-player/commit/f2f24d528f71e59c81d6172c24da2f412ca18d70))\r\n* **UI:** Add cursor pointer to range elements ([#4059](https://github.com/shaka-project/shaka-player/issues/4059)) ([33e8400](https://github.com/shaka-project/shaka-player/commit/33e84009dc9f6d48884ecfc2f66eeb285f60d05a)), closes [#3220](https://github.com/shaka-project/shaka-player/issues/3220)\r\n* **UI:** Fix text UI not updating when text is disabled ([#3867](https://github.com/shaka-project/shaka-player/issues/3867)) ([9f53d39](https://github.com/shaka-project/shaka-player/commit/9f53d394279066f29a2d391b6964cba11c4a3e1e)), closes [#3728](https://github.com/shaka-project/shaka-player/issues/3728)\r\n\r\n---\r\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--main",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(main): release 4.0.0 (#4009)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a21cd6ca63ac8d88f4e2",
    "number": 4008,
    "body": null,
    "head_branch": "move",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update URLs after moving projects (#4008)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a21dd6ca63ac8d88f4e3",
    "number": 4003,
    "body": "This is an automated sync of common workflows for this organization.\nThe upstream source is:\nhttps://github.com/shaka-project/shaka-github-tools/commit/b39597e92d44c25ae64ab15a963ec74a4c7269ed\n",
    "head_branch": "sync-common-workflows",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Sync common workflows (#4003)\n\nThis is an automated sync of common workflows for this organization.\nThe upstream source is:\nhttps://github.com/shaka-project/shaka-github-tools/commit/b39597e92d44c25ae64ab15a963ec74a4c7269ed\n\nCo-authored-by: Shaka Bot <shaka-bot@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a21ed6ca63ac8d88f4e4",
    "number": 4002,
    "body": "HLS now appends segments in sequence mode. In order to handle seeks,\r\nwe set the timestampOffset property on SourceBuffer to the startTime of\r\nthe segment. This is done after every seek, or on startup.\r\n\r\nFor non-sequence-mode content (DASH), we normally set timestampOffset\r\nbased on the Period structure.  This should be suppressed in sequence\r\nmode, though, where only the reference startTime matters.\r\n\r\nThe buffering issue was caused by two things in combination:\r\n\r\n1. The HLS parser set meaningless timestampOffset values that would\r\nchange when a playlist was updated\r\n2. We would use those timestampOffset values in setStreamProperties,\r\neven though this should be skipped in sequence mode\r\n\r\nThese two things in combination would lead MediaSourceEngine to start\r\ninserting segments near the start of the presentation, rather than at\r\nthe live edge.\r\n\r\nThis changes MediaSourceEngine so that in sequence mode, timestampOffset\r\nis ignored in setStreamProperties.  This also cleans up the HLS parser\r\nto set each reference's timestampOffset to 0, since they should be\r\nignored anyway.\r\n\r\n<!--\r\nPlease remember to:\r\n\r\n1. Use Conventional Commits syntax (fix: ..., feat: ..., etc.) in commits and\r\n   PR title (https://www.conventionalcommits.org/)\r\n2. Tag any related or fixed issues (\"Issue #123\", \"Closes #420\")\r\n3. Sign the Google CLA if you haven't (https://cla.developers.google.com)\r\n\r\nYou may delete this comment from the PR description.\r\n-->\r\n",
    "head_branch": "sequenceModeLiveFixBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Fixed buffering issue with live HLS (#4002)\n\nHLS now appends segments in sequence mode. In order to handle seeks,\r\nwe set the timestampOffset property on SourceBuffer to the startTime of\r\nthe segment. This is done after every seek, or on startup.\r\n\r\nFor non-sequence-mode content (DASH), we normally set timestampOffset\r\nbased on the Period structure.  This should be suppressed in sequence\r\nmode, though, where only the reference startTime matters.\r\n\r\nThe buffering issue was caused by two things in combination:\r\n\r\n1. The HLS parser set meaningless timestampOffset values that would\r\nchange when a playlist was updated\r\n2. We would use those timestampOffset values in setStreamProperties,\r\neven though this should be skipped in sequence mode\r\n\r\nThese two things in combination would lead MediaSourceEngine to start\r\ninserting segments near the start of the presentation, rather than at\r\nthe live edge.\r\n\r\nThis changes MediaSourceEngine so that in sequence mode, timestampOffset\r\nis ignored in setStreamProperties.  This also cleans up the HLS parser\r\nto set each reference's timestampOffset to 0, since they should be\r\nignored anyway."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a21fd6ca63ac8d88f4e5",
    "number": 3997,
    "body": "This is an automated sync of common workflows for this organization.\nThe upstream source is:\nhttps://github.com/joeyparrish/shaka-github-tools/commit/82c303a994400013debc05aa30e988ddbefbbb36\n",
    "head_branch": "sync-common-workflows",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Sync common workflows (#3997)\n\nThis is an automated sync of common workflows for this organization.\r\nThe upstream source is:\r\nhttps://github.com/joeyparrish/shaka-github-tools/commit/82c303a994400013debc05aa30e988ddbefbbb36\r\n\r\nCo-authored-by: Shaka Bot <shaka-bot@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a220d6ca63ac8d88f4e6",
    "number": 3996,
    "body": "Now that we are building tools to keep common workflows in sync across\r\nrepos, we should use the same names across repos.  This brings Shaka\r\nPlayer workflow names in line with everything else.\r\n\r\nSee https://github.com/joeyparrish/shaka-github-tools/pull/5",
    "head_branch": "rename-workflows",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Rename workflows (#3996)\n\nNow that we are building tools to keep common workflows in sync across\r\nrepos, we should use the same names across repos.  This brings Shaka\r\nPlayer workflow names in line with everything else.\r\n\r\nSee https://github.com/joeyparrish/shaka-github-tools/pull/5"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a221d6ca63ac8d88f4e7",
    "number": 3995,
    "body": "These projects have vulnerable dependencies, but are not being\r\nproperly maintained.  This replaces both with forks that have upgraded\r\ntheir deps.\r\n\r\nThis brings the NPM audit vulnerability count from 6 to 0.",
    "head_branch": "deps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Replace less-plugin-clean-css and htmlhint with forks (#3995)\n\nThese projects have vulnerable dependencies, but are not being\r\nproperly maintained.  This replaces both with forks that have upgraded\r\ntheir deps.\r\n\r\nThis brings the NPM audit vulnerability count from 6 to 0."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a222d6ca63ac8d88f4e8",
    "number": 3994,
    "body": "This updates the jsdoc fork to one based on the latest jsdoc.  (The\r\nfork adds features for tutorial sorting.)\r\n\r\nWe also have an in-repo fork of the default jsdoc template from 2019.\r\nThe newer default template no longer includes the same dependencies,\r\nso three deps we used to get transitively from jsdoc are now explicit\r\nat the shaka-player level: open-sans-fonts, code-prettify, and\r\ncolor-themes-for-google-code-prettify.  This is appropriate, since the\r\ndependency comes from our in-repo fork of the default template.\r\n\r\nThis upgrade brings our NPM audit vulnerabilities from 10 to 6.",
    "head_branch": "deps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Update jsdoc fork (#3994)\n\nThis updates the jsdoc fork to one based on the latest jsdoc.  (The\r\nfork adds features for tutorial sorting.)\r\n\r\nWe also have an in-repo fork of the default jsdoc template from 2019.\r\nThe newer default template no longer includes the same dependencies,\r\nso three deps we used to get transitively from jsdoc are now explicit\r\nat the shaka-player level: open-sans-fonts, code-prettify, and\r\ncolor-themes-for-google-code-prettify.  This is appropriate, since the\r\ndependency comes from our in-repo fork of the default template.\r\n\r\nThis upgrade brings our NPM audit vulnerabilities from 10 to 6."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a222d6ca63ac8d88f4e9",
    "number": 3993,
    "body": "The old template is bulky and does not reflect the new workflows we\r\nhave on GitHub.  All that is really critical is that users start using\r\nConventional Commits syntax and tag issue numbers.",
    "head_branch": "templates",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Simplify PR template (#3993)\n\nThe old template is bulky and does not reflect the new workflows we\r\nhave on GitHub.  All that is really critical is that users start using\r\nConventional Commits syntax and tag issue numbers."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a223d6ca63ac8d88f4ea",
    "number": 3992,
    "body": "1. When release-please creates release PRs, it removes the -uncompiled\r\ntag in the version number in lib/player.js.  This adds a step to the\r\nworkflow to maintain the player.js version manually.\r\n\r\n2. This also adds a new job that tags the master branch after a\r\nrelease PR is merged.  We maintain the -master tags on the master\r\nbranch corresponding to each release so that it is easier to manage\r\nthe range of commits for cherry-picks.\r\n\r\n3. The \"npm ci\" step was failing because our package-lock.json was not\r\ncompatible with v12 of NodeJS.  This updates our workflow to use v16.\r\nThe npm release workflow has now been tested in a fork up until the\r\npublish step.\r\n\r\n4. The tagging and GitHub release publication parts of the workflow\r\nwere previously failing due to an issue with release-please parsing\r\nthe branch name.  This has now been fixed, and is awaiting an upstream\r\nmerge.  For now, we can use my forked version.\r\n\r\nCloses #3968 (branch parsing failure)\r\nIssue #3969 (npm release is now tested up to the publish step)\r\nCloses #3971 (master branch tags)\r\nCloses #3974 (missing -uncompiled in lib/player.js)",
    "head_branch": "releases",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix several release workflow bugs (#3992)\n\n1. When release-please creates release PRs, it removes the -uncompiled\r\ntag in the version number in lib/player.js.  This adds a step to the\r\nworkflow to maintain the player.js version manually.\r\n\r\n2. This also adds a new job that tags the master branch after a\r\nrelease PR is merged.  We maintain the -master tags on the master\r\nbranch corresponding to each release so that it is easier to manage\r\nthe range of commits for cherry-picks.\r\n\r\n3. The \"npm ci\" step was failing because our package-lock.json was not\r\ncompatible with v12 of NodeJS.  This updates our workflow to use v16.\r\nThe npm release workflow has now been tested in a fork up until the\r\npublish step.\r\n\r\n4. The tagging and GitHub release publication parts of the workflow\r\nwere previously failing due to an issue with release-please parsing\r\nthe branch name.  This has now been fixed, and is awaiting an upstream\r\nmerge.  For now, we can use my forked version.\r\n\r\nCloses #3968 (branch parsing failure)\r\nIssue #3969 (npm release is now tested up to the publish step)\r\nCloses #3971 (master branch tags)\r\nCloses #3974 (missing -uncompiled in lib/player.js)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a224d6ca63ac8d88f4eb",
    "number": 3991,
    "body": "The new version requires additional configuration for less syntax, and\r\nhas new default rules we were out of compliance with.\r\n\r\nI disabled rules about avoiding explicit vendor prefixes (such as\r\n\"-webkit\") because we are not using any auto-prefixer tools.  Other\r\nviolations have been fixed:\r\n\r\n - kebab-case for element ids\r\n - quotes around URLs\r\n - double quotes instead of single quotes\r\n - disable class selector pattern matching for MDL (external)\r\n - use modern rgb/rgba syntax\r\n - no quotes on font families\r\n - no long-hand when short-hand will do\r\n\r\nThis brings our NPM audit vulnerabilities from 20 down to 10.\r\n",
    "head_branch": "deps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Upgrade CSS linter (#3991)\n\nThe new version requires additional configuration for less syntax, and\r\nhas new default rules we were out of compliance with.\r\n\r\nI disabled rules about avoiding explicit vendor prefixes (such as\r\n\"-webkit\") because we are not using any auto-prefixer tools.  Other\r\nviolations have been fixed:\r\n\r\n - kebab-case for element ids\r\n - quotes around URLs\r\n - double quotes instead of single quotes\r\n - disable class selector pattern matching for MDL (external)\r\n - use modern rgb/rgba syntax\r\n - no quotes on font families\r\n - no long-hand when short-hand will do\r\n\r\nThis brings our NPM audit vulnerabilities from 20 down to 10."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a225d6ca63ac8d88f4ec",
    "number": 3982,
    "body": "Downgrade less to v3.  v4 is failing on macOS for some reason.  See\r\nless/less.js#3693\r\n\r\nThis also makes some less/CSS changes that are useful for future\r\nupgrades:\r\n\r\n - wrap all calculations in calc(), which is required in less v4\r\n - remove unneeded @transparent variable\r\n\r\nFinally, this fixes an erroneous error message that said \"extern\r\ngeneration failed\" instead of \"CSS compilation failed\".\r\n\r\nCloses #3981\r\n",
    "head_branch": "deps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Downgrade less (#3982)\n\nDowngrade less to v3.  v4 is failing on macOS for some reason.  See\r\nless/less.js#3693\r\n\r\nThis also makes some less/CSS changes that are useful for future\r\nupgrades:\r\n\r\n - wrap all calculations in calc(), which is required in less v4\r\n - remove unneeded @transparent variable\r\n\r\nFinally, this fixes an erroneous error message that said \"extern\r\ngeneration failed\" instead of \"CSS compilation failed\".\r\n\r\nCloses #3981"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a226d6ca63ac8d88f4ed",
    "number": 3980,
    "body": "The new version requires additional configuration for less syntax, and\r\nhas new default rules we were out of compliance with.\r\n\r\nI disabled rules about avoiding explicit vendor prefixes (such as\r\n\"-webkit\") because we are not using any auto-prefixer tools.\r\n\r\nThis also fixes several issues with less, which used to automatically\r\ncompute things like \"@thumb-width / 2\", and which now requires these\r\nto be wrapped in calc().\r\n\r\nThis brings our NPM audit vulnerabilities from 20 down to 10.\r\n",
    "head_branch": "deps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a227d6ca63ac8d88f4ee",
    "number": 3979,
    "body": "This updates babel and its various plugins and associated modules,\r\nwhich brings our NPM audit vulnerability count from 24 to 20.\r\n",
    "head_branch": "deps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Update babel (#3979)\n\nThis updates babel and its various plugins and associated modules,\r\nwhich brings our NPM audit vulnerability count from 24 to 20."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a228d6ca63ac8d88f4ef",
    "number": 3977,
    "body": "Also fixes linter errors found by the new versions\r\n",
    "head_branch": "deps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Update eslint (#3977)\n\nAlso fixes linter errors found by the new versions"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a229d6ca63ac8d88f4f0",
    "number": 3976,
    "body": "This updates the compiler and closure library to the latest releases.\r\nThis required a few small tweaks:\r\n\r\n - Drop custom extern for WebCrypto (now built into the compiler)\r\n - Remove require() in cea parser, only used in `throws` annotations\r\n - Hack around a typing issue in a fake version of TextTrack in tests\r\n",
    "head_branch": "deps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Update Closure Compiler (#3976)\n\nThis updates the compiler and closure library to the latest releases.\r\nThis required a few small tweaks:\r\n\r\n - Drop custom extern for WebCrypto (now built into the compiler)\r\n - Remove require() in cea parser, only used in `throws` annotations\r\n - Hack around a typing issue in a fake version of TextTrack in tests"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a22ad6ca63ac8d88f4f1",
    "number": 3973,
    "body": "Most dependencies are not used in Shaka Player itself, but in our\r\nbuild and test infra or in our demo app.  Still, GitHub reported 29\r\npotential vulnerabilities in these deps, and NPM reported 37.\r\n\r\nThe changes below being NPM's audit report from 37 down to 24\r\nvulnerabilities.\r\n\r\nDetailed updates:\r\n - Dropped explicit deps for transitive dependencies that we no longer\r\n   need to update for ourselves:\r\n   - ua-parser-js (via karma)\r\n - Dropped because we no longer need them:\r\n   - karma-ie-launcher\r\n - Updated to latest versions:\r\n   - awesomplete\r\n   - core-js\r\n   - dialog-polyfill\r\n   - htmlhint\r\n   - jimp\r\n   - karma*\r\n   - less\r\n   - pwacompat\r\n   - rimraf\r\n   - tippy.js\r\n   - which\r\n - Updated as far as possible without code or config changes in Shaka:\r\n   - mux.js\r\n   - stylelint*\r\n - Still needs an update:\r\n   - *babel*\r\n   - eslint\r\n   - eslint-config-google\r\n   - google-closure-compiler\r\n   - google-closure-library\r\n\r\nSome of the vulnerabilities stem from stylelint, babel, and others\r\nthat haven't been updated yet, so follow-up work is needed to address\r\nthose with breaking updates.\r\n\r\nmux.js is actually used at runtime (optional), so it was only updated\r\nto the latest non-breaking release.",
    "head_branch": "deps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Update most dev dependencies (#3973)\n\nMost dependencies are not used in Shaka Player itself, but in our\r\nbuild and test infra or in our demo app.  Still, GitHub reported 29\r\npotential vulnerabilities in these deps, and NPM reported 37.\r\n\r\nThe changes below being NPM's audit report from 37 down to 24\r\nvulnerabilities.\r\n\r\nDetailed updates:\r\n - Dropped explicit deps for transitive dependencies that we no longer\r\n   need to update for ourselves:\r\n   - ua-parser-js (via karma)\r\n - Dropped because we no longer need them:\r\n   - karma-ie-launcher\r\n - Updated to latest versions:\r\n   - awesomplete\r\n   - core-js\r\n   - dialog-polyfill\r\n   - htmlhint\r\n   - jimp\r\n   - karma*\r\n   - less\r\n   - pwacompat\r\n   - rimraf\r\n   - tippy.js\r\n   - which\r\n - Updated as far as possible without code or config changes in Shaka:\r\n   - mux.js\r\n   - stylelint*\r\n - Still needs an update:\r\n   - *babel*\r\n   - eslint\r\n   - eslint-config-google\r\n   - google-closure-compiler\r\n   - google-closure-library\r\n\r\nSome of the vulnerabilities stem from stylelint, babel, and others\r\nthat haven't been updated yet, so follow-up work is needed to address\r\nthose with breaking updates.\r\n\r\nmux.js is actually used at runtime (optional), so it was only updated\r\nto the latest non-breaking release."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a22bd6ca63ac8d88f4f2",
    "number": 3972,
    "body": "We double-check the version in the changelog to make sure it matches\r\nthe npm and player versions.  But with our new release automation, we\r\nhave a new changelog format.  This updates the parsing so that release\r\nchecks can succeed.",
    "head_branch": "version-parsing",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Update version parsing to match new release automation (#3972)\n\nWe double-check the version in the changelog to make sure it matches\r\nthe npm and player versions.  But with our new release automation, we\r\nhave a new changelog format.  This updates the parsing so that release\r\nchecks can succeed."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a22cd6ca63ac8d88f4f3",
    "number": 3965,
    "body": "Fix a HLS error reported in https://github.com/google/shaka-player/issues/2337#issuecomment-1040389975\r\n\r\nTested with https://devstreaming-cdn.apple.com/videos/streaming/examples/bipbop_adv_example_hevc/master.m3u8",
    "head_branch": "fix-mp4-cea-parser",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(cea): make a more robust CEA MP4 parser (#3965)\n\nFix a HLS error reported in https://github.com/google/shaka-player/issues/2337#issuecomment-1040389975\r\n\r\nTested with https://devstreaming-cdn.apple.com/videos/streaming/examples/bipbop_adv_example_hevc/master.m3u8"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a22dd6ca63ac8d88f4f4",
    "number": 3964,
    "body": "In Tizen 2/3 and WebOS 3.x there is no support for SourceBuffer.mode=sequence so as a result of change https://github.com/google/shaka-player/issues/2337, it necessary disable support for the HLS parser so that the user can at least use the native one with src= .\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfeat(hls)!: HLS disabled in old browsers/platforms due to incompatibilities (#3964)\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "hls-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat!(hls): HLS disabled in old browsers/platforms due to incompatibilities (#3964)\n\nIn Tizen 2/3 and WebOS 3.x there is no support for SourceBuffer.mode=sequence so as a result of change #2337, it necessary disable support for the HLS parser so that the user can at least use the native one with src= ."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a22ed6ca63ac8d88f4f5",
    "number": 3963,
    "body": "I found that the auto-release PRs don't trigger tests for some reason.\r\nThis makes it so that we don't get the required \"validate PR title\"\r\nrun, and we also don't get automated test passes against release\r\ncandidates.\r\n\r\nThis replaces the PR triggers for both workflows with a set that\r\nincludes \"edited\" and \"ready_for_review\".  Now any PR that doesn't get\r\nproperly tested can have tests triggered by either editing the body or\r\ntaking it in and out of draft mode.\r\n",
    "head_branch": "ci",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a22fd6ca63ac8d88f4f6",
    "number": 3962,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.1.6](https://github.com/google/shaka-player/compare/v3.1.5...v3.1.6) (2022-02-16)\n\n\n### Bug Fixes\n\n* Add explicit release() for FakeEventTarget ([#3950](https://github.com/google/shaka-player/issues/3950)) ([9119535](https://github.com/google/shaka-player/commit/9119535fb37fd888f07ae24e4848c5f4262b2e6f))\n* Fix download of some HLS assets ([#3934](https://github.com/google/shaka-player/issues/3934)) ([b20dadb](https://github.com/google/shaka-player/commit/b20dadb7f367f0dc446094b23870d44a3ddb2416))\n* Fix exception in StreamingEngine for EMSG with HLS ([#3887](https://github.com/google/shaka-player/issues/3887)) ([02030bf](https://github.com/google/shaka-player/commit/02030bf4ba7e2b14bf61bbc8d1f79f4751d69551)), closes [#3886](https://github.com/google/shaka-player/issues/3886)\n* Fix memory leak in DASH live streams with inband EventStream ([#3957](https://github.com/google/shaka-player/issues/3957)) ([4389aeb](https://github.com/google/shaka-player/commit/4389aeb5212a621651741629df6d457d37dbf075))\n* **HLS:** skip whitespace in attributes ([#3884](https://github.com/google/shaka-player/issues/3884)) ([fda4b80](https://github.com/google/shaka-player/commit/fda4b8046e6ce5081c58c1be8150f095010df54c))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.1.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.1.x): release 3.1.6 (#3962)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a230d6ca63ac8d88f4f7",
    "number": 3961,
    "body": null,
    "head_branch": "ci",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Test PRs against release branches, too (#3961)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a231d6ca63ac8d88f4f8",
    "number": 3960,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n### [3.2.4](https://github.com/google/shaka-player/compare/v3.2.3...v3.2.4) (2022-02-16)\n\n\n### Bug Fixes\n\n* Add explicit release() for FakeEventTarget ([#3950](https://github.com/google/shaka-player/issues/3950)) ([edfd974](https://github.com/google/shaka-player/commit/edfd9746f52ac41b19e3ba55f3300fccac308cd3))\n* Fix download of some HLS assets ([#3934](https://github.com/google/shaka-player/issues/3934)) ([800f523](https://github.com/google/shaka-player/commit/800f52377c0bf02a7c8c3c856d7b024f45197177))\n* Fix exception in StreamingEngine for EMSG with HLS ([#3887](https://github.com/google/shaka-player/issues/3887)) ([b042358](https://github.com/google/shaka-player/commit/b0423589f7536bfbeab9a5665209407d64874c8e)), closes [#3886](https://github.com/google/shaka-player/issues/3886)\n* **HLS:** skip whitespace in attributes ([#3884](https://github.com/google/shaka-player/issues/3884)) ([095dfc7](https://github.com/google/shaka-player/commit/095dfc73607242a452f5460e98b1f58414988a30))\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--v3.2.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.2.x): release 3.2.4 (#3960)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a232d6ca63ac8d88f4f9",
    "number": 3959,
    "body": ":robot: I have created a release *beep* *boop*\r\n---\r\n\r\n\r\n### [3.3.2](https://github.com/google/shaka-player/compare/v3.3.1...v3.3.2) (2022-02-16)\r\n\r\n\r\n### Bug Fixes\r\n\r\n* Add explicit release() for FakeEventTarget ([#3950](https://github.com/google/shaka-player/issues/3950)) ([1f9dd98](https://github.com/google/shaka-player/commit/1f9dd9856eb21079ca789b2c8f7e461438cb13de))\r\n* Fix download of some HLS assets ([#3934](https://github.com/google/shaka-player/issues/3934)) ([449065c](https://github.com/google/shaka-player/commit/449065c84c5b6e4bbceba03c2345a3330ac2d1a7))\r\n* Fix exception in StreamingEngine for EMSG with HLS ([#3887](https://github.com/google/shaka-player/issues/3887)) ([ca1ca33](https://github.com/google/shaka-player/commit/ca1ca33c3caf1787c52713ccb151ea59a9285649)), closes [#3886](https://github.com/google/shaka-player/issues/3886)\r\n* **HLS:** skip whitespace in attributes ([#3884](https://github.com/google/shaka-player/issues/3884)) ([6305555](https://github.com/google/shaka-player/commit/6305555d40ca0e8be1604fc1f07dd34112b62530))\r\n\r\n---\r\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please). ",
    "head_branch": "release-please--branches--v3.3.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "chore(v3.3.x): release 3.3.2 (#3959)\n\nCo-authored-by: github-actions[bot] <41898282+github-actions[bot]@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": true,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a232d6ca63ac8d88f4fa",
    "number": 3957,
    "body": "EventStreams in DASH generate TimelineRegionInfo objects, which are\r\nthen stored in the RegionTimeline and RegionObserver classes.  But\r\nDashParser would add all regions to RegionTimeline, even if they would\r\nbe quickly removed again, and RegionObserver would cache some regions\r\nfrom the timeline without ever removing them.\r\n\r\nThis fixes the issue from both of those directions.  DashParser will\r\nnow ignore regions that are outside the DVR window (and therefore\r\nwould soon be removed from RegionTimeline), and RegionObserver listens\r\nto an event on RegionTimeline to clean up its own storage when regions\r\nfall outside the DVR window during playback.\r\n\r\nCloses #3949 (memory leak in DASH live streams with inband EventStream)",
    "head_branch": "region-leak-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix memory leak in DASH live streams with inband EventStream (#3957)\n\nEventStreams in DASH generate TimelineRegionInfo objects, which are\r\nthen stored in the RegionTimeline and RegionObserver classes.  But\r\nDashParser would add all regions to RegionTimeline, even if they would\r\nbe quickly removed again, and RegionObserver would cache some regions\r\nfrom the timeline without ever removing them.\r\n\r\nThis fixes the issue from both of those directions.  DashParser will\r\nnow ignore regions that are outside the DVR window (and therefore\r\nwould soon be removed from RegionTimeline), and RegionObserver listens\r\nto an event on RegionTimeline to clean up its own storage when regions\r\nfall outside the DVR window during playback.\r\n\r\nCloses #3949 (memory leak in DASH live streams with inband EventStream)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a233d6ca63ac8d88f4fb",
    "number": 3956,
    "body": null,
    "head_branch": "sync-labels",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix typo in dry_run parameter for sync-labels (#3956)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a234d6ca63ac8d88f4fc",
    "number": 3955,
    "body": "When running in sequence mode, we ignore the normal timestamps\r\nof video and audio segments. This lead to problems in some Apple-\r\nencoded webvtt content, which used the X-TIMESTAMP-MAP tag to account\r\nfor the timestamp offsets in their video. Thus, those subtitles would\r\nend up 10 seconds offset.\r\nThis changes the webvtt parser to ignore the X-TIMESTAMP-MAP when in\r\nsequence mode.\r\n\r\nIssue #2337\r\n\r\n## Type of change\r\n\r\n- [X] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "sequenceModeCaptions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(text): Fix webvtt offset in sequence mode (#3955)\n\nWhen running in sequence mode, we ignore the normal timestamps\r\nof video and audio segments. This lead to problems in some Apple-\r\nencoded webvtt content, which used the X-TIMESTAMP-MAP tag to account\r\nfor the timestamp offsets in their video. Thus, those subtitles would\r\nend up 10 seconds offset.\r\n\r\nThis changes the webvtt parser to ignore the X-TIMESTAMP-MAP when in\r\nsequence mode.\r\n\r\nIssue #2337"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a235d6ca63ac8d88f4fd",
    "number": 3954,
    "body": null,
    "head_branch": "sync-labels",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Add missing token parameter to sync-labels workflow (#3954)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a236d6ca63ac8d88f4fe",
    "number": 3953,
    "body": "Three classes (RegionTimeline, RegionObserver, and QualityObserver)\r\nwere all designed with callbacks instead of events.  A single callback\r\nis inflexible compared to events, which allow multiple listeners.  We\r\nalready have a long-standing and robust event system, so why not use\r\nit?\r\n\r\nIssue #3949 (memory leak in DASH live streams with inband EventStream)",
    "head_branch": "region-leak",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "refactor: Replace callbacks with events (#3953)\n\nThree classes (RegionTimeline, RegionObserver, and QualityObserver)\r\nwere all designed with callbacks instead of events.  A single callback\r\nis inflexible compared to events, which allow multiple listeners.  We\r\nalready have a long-standing and robust event system, so why not use\r\nit?\r\n\r\nIssue #3949 (memory leak in DASH live streams with inband EventStream)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a237d6ca63ac8d88f4ff",
    "number": 3951,
    "body": null,
    "head_branch": "sync-labels",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Synchronize issue labels using a central configuration (#3951)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a238d6ca63ac8d88f500",
    "number": 3950,
    "body": "## Description\r\n\r\nBefore, we would count on all event listeners for FakeEventTargets to\r\nbe cleaned up by the object that listens.  Now, FakeEventTarget\r\nimplements IReleasable, so that all listeners are removed when owners\r\ncall release().\r\n\r\nFor objects extending FakeEventTarget and also implementing\r\nIDestroyable, the destroy() methods will call out to super.release()\r\nto clean up listeners then.  The owner should use destroy() in those\r\ncases.\r\n\r\nIssue #3949 (memory leak in DASH live streams with inband EventStream)\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "release-event-listeners",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Add explicit release() for FakeEventTarget (#3950)\n\nBefore, we would count on all event listeners for FakeEventTargets to\r\nbe cleaned up by the object that listens.  Now, FakeEventTarget\r\nimplements IReleasable, so that all listeners are removed when owners\r\ncall release().\r\n\r\nFor objects extending FakeEventTarget and also implementing\r\nIDestroyable, the destroy() methods will call out to super.release()\r\nto clean up listeners then.  The owner should use destroy() in those\r\ncases.\r\n\r\nIssue #3949 (memory leak in DASH live streams with inband EventStream)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a239d6ca63ac8d88f501",
    "number": 3947,
    "body": null,
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a23ad6ca63ac8d88f502",
    "number": 3946,
    "body": "Force-pushes from automated PRs (like release-please) do not seem to\ntrigger any of the normal PR triggers (opened, edited, synchronize).\nIn fact, even an exhaustive list of types will not work.  So here we\nadd triggers for reviews, so that the validation will run after\nsomeone approves such a PR.  This is critical since this is a required\nstatus check in most of our repos.  If the workflow doesn't run, the\nrelease PR can't be merged.\n",
    "head_branch": "validate-pr-title",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Expand PR title validation triggers (#3946)\n\nForce-pushes from automated PRs (like release-please) do not seem to\r\ntrigger any of the normal PR triggers (opened, edited, synchronize).\r\nIn fact, even an exhaustive list of types will not work.  So here we\r\nadd triggers for reviews, so that the validation will run after\r\nsomeone approves such a PR.  This is critical since this is a required\r\nstatus check in most of our repos.  If the workflow doesn't run, the\r\nrelease PR can't be merged."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a23bd6ca63ac8d88f503",
    "number": 3945,
    "body": ":robot: I have created a release *beep* *boop*\n---\n\n\n## [3.4.0](https://github.com/google/shaka-player/compare/v3.3.0...v3.4.0) (2022-03-01)\n\n\n### Features\n\n* add modern EME support for FairPlay ([#3776](https://github.com/google/shaka-player/issues/3776)) ([6d76a13](https://github.com/google/shaka-player/commit/6d76a135e5128dfd47653acea025d0a264d121d5))\n* Add separate audio and video MIME types to Track API ([#3892](https://github.com/google/shaka-player/issues/3892)) ([74c491d](https://github.com/google/shaka-player/commit/74c491d2e0042f62385813f04e74517cf00fcade)), closes [#3888](https://github.com/google/shaka-player/issues/3888)\n* Allow WebP and AVIF image streams ([#3856](https://github.com/google/shaka-player/issues/3856)) ([9f3fb46](https://github.com/google/shaka-player/commit/9f3fb46d371d52f58bc9a7fc5beefe51890879ed)), closes [#3845](https://github.com/google/shaka-player/issues/3845)\n* **demo:** Add Apple Advanced HLS Stream (TS) with raw AAC ([#3933](https://github.com/google/shaka-player/issues/3933)) ([1becadf](https://github.com/google/shaka-player/commit/1becadfc93ca06d64d0c9ace37c80213268a1675))\n* **demo:** Added demo asset with raw AAC. ([014c7b3](https://github.com/google/shaka-player/commit/014c7b302b292a22f62d4e01230b927b33bc51da)), closes [#2337](https://github.com/google/shaka-player/issues/2337)\n* **HLS:** Containerless format support ([36d0b54](https://github.com/google/shaka-player/commit/36d0b5484fad68dc1d640fbddf2fae3e1eb7169b)), closes [#2337](https://github.com/google/shaka-player/issues/2337)\n* **UI:** Add video fullscreen support for iOS ([#3853](https://github.com/google/shaka-player/issues/3853)) ([8d1b5e6](https://github.com/google/shaka-player/commit/8d1b5e6b07e979bd641da0b2b53c5f8e872422ad)), closes [#3832](https://github.com/google/shaka-player/issues/3832)\n\n\n### Bug Fixes\n\n* Add explicit release() for FakeEventTarget ([#3950](https://github.com/google/shaka-player/issues/3950)) ([f1c1585](https://github.com/google/shaka-player/commit/f1c1585afb2cfa3eb6b7465c8b32c9bad8e62d15))\n* Avoid WebCrypto randomUUID when CMCD disabled ([4731c76](https://github.com/google/shaka-player/commit/4731c7677f4f179f19ae647d3bb1edfda40dac53))\n* **cea:** make a more robust CEA MP4 parser ([#3965](https://github.com/google/shaka-player/issues/3965)) ([2687b95](https://github.com/google/shaka-player/commit/2687b95d5830179c53914a7e903ecfbaced429cc))\n* Clear buffer on seek if mediaState is updating ([#3795](https://github.com/google/shaka-player/issues/3795)) ([9705639](https://github.com/google/shaka-player/commit/9705639f4514d8d2dbfe5d81a31388f99e6be507)), closes [#3299](https://github.com/google/shaka-player/issues/3299)\n* Fix CMCD property mangling ([#3842](https://github.com/google/shaka-player/issues/3842)) ([fa5932c](https://github.com/google/shaka-player/commit/fa5932ca8f604952590734bf8bdc27ad8e69e8d8)), closes [#3839](https://github.com/google/shaka-player/issues/3839)\n* Fix CMCD top bitrate reporting ([#3852](https://github.com/google/shaka-player/issues/3852)) ([922778a](https://github.com/google/shaka-player/commit/922778a5ebd2d58ca0c1e804745ca40cda1228bc)), closes [#3851](https://github.com/google/shaka-player/issues/3851)\n* Fix compiler error introduced in [#3864](https://github.com/google/shaka-player/issues/3864) ([#3906](https://github.com/google/shaka-player/issues/3906)) ([0635e2c](https://github.com/google/shaka-player/commit/0635e2c055c13a405048c7696389c1dfc039902f))\n* Fix download of some HLS assets ([#3934](https://github.com/google/shaka-player/issues/3934)) ([36ca820](https://github.com/google/shaka-player/commit/36ca820877965db8bcc8b9c4b2a428317301bb95))\n* Fix duplicate CMCD parameters in HLS live content ([#3875](https://github.com/google/shaka-player/issues/3875)) ([f27401c](https://github.com/google/shaka-player/commit/f27401cc151a435ae8fb12be4e86d672c331e1e5)), closes [#3862](https://github.com/google/shaka-player/issues/3862)\n* Fix exception in StreamingEngine for EMSG with HLS ([#3887](https://github.com/google/shaka-player/issues/3887)) ([48433ab](https://github.com/google/shaka-player/commit/48433abe74c5f603cf06097e391ffdfa22d64256)), closes [#3886](https://github.com/google/shaka-player/issues/3886)\n* Fix MediaCapabilities polyfill on Safari ([0201f2b](https://github.com/google/shaka-player/commit/0201f2b7604e76062b68b8b1acbf098faf71d019)), closes [#3696](https://github.com/google/shaka-player/issues/3696) [#3530](https://github.com/google/shaka-player/issues/3530)\n* Fix memory leak in DASH live streams with inband EventStream ([#3957](https://github.com/google/shaka-player/issues/3957)) ([b7f04cb](https://github.com/google/shaka-player/commit/b7f04cb36bda664ec9cf23a081d237793907eaae))\n* Fix misdetection of HEVC support on MS Edge ([#3897](https://github.com/google/shaka-player/issues/3897)) ([dfb3699](https://github.com/google/shaka-player/commit/dfb369935b9e84fe69a7d38c7904fb0e00dc064a)), closes [#3860](https://github.com/google/shaka-player/issues/3860)\n* Fix missing throughput in CMCD for HLS live ([#3874](https://github.com/google/shaka-player/issues/3874)) ([df55944](https://github.com/google/shaka-player/commit/df55944e8f49bdf8e34a679219cd6596ba46c777)), closes [#3873](https://github.com/google/shaka-player/issues/3873)\n* Fix playback failure due to rounding errors ([1cc99c1](https://github.com/google/shaka-player/commit/1cc99c1241c89b5fb5a989dd52ff0b9a9753b65f)), closes [#3717](https://github.com/google/shaka-player/issues/3717)\n* Fix support for TTAF1 namespace (old version of TTML) ([#3864](https://github.com/google/shaka-player/issues/3864)) ([771619f](https://github.com/google/shaka-player/commit/771619ff0ef8ba0e3da9569ded3894b428d03c58)), closes [#3009](https://github.com/google/shaka-player/issues/3009)\n* Fix usage of Shaka without polyfills ([dfc44cb](https://github.com/google/shaka-player/commit/dfc44cbca6b95eb137882075cb8bf02cfc73a9d3))\n* **hls:** Fixed buffering issue with live HLS ([#4002](https://github.com/google/shaka-player/issues/4002)) ([c438e85](https://github.com/google/shaka-player/commit/c438e857f2f122eb45899148e067d68ffec3477c))\n* **HLS:** skip whitespace in attributes ([#3884](https://github.com/google/shaka-player/issues/3884)) ([ea6c02a](https://github.com/google/shaka-player/commit/ea6c02aece1510598a898c235e66335d20eabedb))\n* **image:** Fix HLS image track issues ([264c842](https://github.com/google/shaka-player/commit/264c84249684ee809f53fd4117f9aab4e0a599ac)), closes [#3840](https://github.com/google/shaka-player/issues/3840)\n* **image:** Fix thumbnails issues ([#3858](https://github.com/google/shaka-player/issues/3858)) ([087a9b4](https://github.com/google/shaka-player/commit/087a9b489b030aa0dc80011ca4e0a0c7a4124ecd))\n* Select first of identical audio streams ([#3869](https://github.com/google/shaka-player/issues/3869)) ([a6d8610](https://github.com/google/shaka-player/commit/a6d8610241dc7c8abd56cf7f0d48993d6139dcae))\n* Support multiple chapter tracks with same language ([#3868](https://github.com/google/shaka-player/issues/3868)) ([8c626ae](https://github.com/google/shaka-player/commit/8c626aec238c01ebad7ccd06c9313e4f2e99d383)), closes [#3597](https://github.com/google/shaka-player/issues/3597)\n* **text:** Fix caption overlap. ([bf67d87](https://github.com/google/shaka-player/commit/bf67d87387b1dfc4d3d8e0661bfe4efb1e4083b2)), closes [#3850](https://github.com/google/shaka-player/issues/3850) [#3741](https://github.com/google/shaka-player/issues/3741)\n* **text:** Fix webvtt offset in sequence mode ([#3955](https://github.com/google/shaka-player/issues/3955)) ([a4e9267](https://github.com/google/shaka-player/commit/a4e926772e1b754fe968ee6f97490f08a40fe535)), closes [#2337](https://github.com/google/shaka-player/issues/2337)\n* **text:** Inherit alignment from regions. ([e9df8fb](https://github.com/google/shaka-player/commit/e9df8fb10c3752cb833e89c8ac793241497e29b6))\n* **text:** Made nested cues inherit region ([#3837](https://github.com/google/shaka-player/issues/3837)) ([3ff48cb](https://github.com/google/shaka-player/commit/3ff48cba9b28a29e8decc11898e326d7918bc8f4)), closes [#3743](https://github.com/google/shaka-player/issues/3743)\n* **text:** Remove caption wrapper bgColor ([#3838](https://github.com/google/shaka-player/issues/3838)) ([0117441](https://github.com/google/shaka-player/commit/0117441bb06e0325b84666d2a5a76c0c2de81725)), closes [#3745](https://github.com/google/shaka-player/issues/3745)\n* **UI:** Fix text UI not updating when text is disabled ([#3867](https://github.com/google/shaka-player/issues/3867)) ([9f53d39](https://github.com/google/shaka-player/commit/9f53d394279066f29a2d391b6964cba11c4a3e1e)), closes [#3728](https://github.com/google/shaka-player/issues/3728)\n\n---\nThis PR was generated with [Release Please](https://github.com/googleapis/release-please). See [documentation](https://github.com/googleapis/release-please#release-please).",
    "head_branch": "release-please--branches--master",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a23cd6ca63ac8d88f504",
    "number": 3944,
    "body": "CI for Firefox on Linux is failing because of (I suspect) an outdated\r\npackage index in Ubuntu.  This addresses it by updating the package\r\nlist before installing ffmpeg.\r\n",
    "head_branch": "ff",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Fix ffmpeg install failure for Linux+Firefox (#3944)\n\nCI for Firefox on Linux is failing because of (I suspect) an outdated\r\npackage index in Ubuntu.  This addresses it by updating the package\r\nlist before installing ffmpeg."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a23dd6ca63ac8d88f505",
    "number": 3943,
    "body": "https://github.com/joeyparrish/webdriver-installer/pull/8\r\n",
    "head_branch": "deps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix failing WebDriver installations (#3943)\n\nhttps://github.com/joeyparrish/webdriver-installer/pull/8"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a23ed6ca63ac8d88f506",
    "number": 3942,
    "body": "This includes a temporary config file to bootstrap the workflow for\r\nthe master branch, whose commit and branch history is too confusing\r\nfor the tool to handle with defaults.  After v3.4.0 is released from\r\nthe master branch, these configs can be deleted.",
    "head_branch": "release",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Add workflow for automated release PRs (#3942)\n\nThis includes a temporary config file to bootstrap the workflow for\r\nthe master branch, whose commit and branch history is too confusing\r\nfor the tool to handle with defaults.  After v3.4.0 is released from\r\nthe master branch, these configs can be deleted."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a23fd6ca63ac8d88f507",
    "number": 3941,
    "body": "## Volume Gesture Control\r\n\r\n\r\nIn the build folder, I've added a volumeControl.py file. It is done so that one can with the use of gestures, may regulate the volume. I'm having some trouble integrating it with the project; I've installed the python-shell npm package, but I'm not sure how to proceed further. It would be wonderful if someone could look into it.\r\n  \r\n  Fixes #2239 \r\n\r\n\r\n<!--\r\n## Screenshots (optional)\r\n-->\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [X] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [X] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a240d6ca63ac8d88f508",
    "number": 3940,
    "body": "Change-Id: I73027d6f7dd11df2ec21d8dad7d601d3badda72e\r\n\r\n## Description\r\n\r\nInstead of loading all javascript files in all node modules, this only loads files from\r\nthe relevant modules. This ideally should fix the recurring problems with loading `less.js`,\r\nbut I have been unable to reproduce those problems locally or in my branch so I am not 100%\r\nsure that will be the case.\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [X] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fixKarmaLoading",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a240d6ca63ac8d88f509",
    "number": 3939,
    "body": "This tool can now be shared among projects.\r\n\r\n",
    "head_branch": "centralize-tools",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Migrate update-issues tool to a central location (#3939)\n\nThis tool can now be shared among projects"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a241d6ca63ac8d88f50a",
    "number": 3938,
    "body": "This is recommended by npm to allow CI to get stable results when installing packages locally.",
    "head_branch": "ci-lock",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Commit package-lock.json for CI stability (#3938)\n\nThis is recommended by npm to allow CI to get stable results when\r\ninstalling dependencies."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a242d6ca63ac8d88f50b",
    "number": 3937,
    "body": "This will allow automated generation of changelogs and releases based\r\non PR titles.",
    "head_branch": "pr-titles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Require PRs in conventional commits syntax (#3937)\n\nThis will allow automated generation of changelogs and releases based\r\non PR titles."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a243d6ca63ac8d88f50c",
    "number": 3936,
    "body": "Instead of waiting for the playhead to reach a specific time that we\r\nknow to be the end, then expecting ended to be true, we can use the\r\npurpose-built waiter that waits for the ended event.\r\n\r\nWe also need to set the timeout explicitly, so that we have enough\r\ntime to play through to the end.\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "flake",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix flaky player integration test (#3936)\n\nInstead of waiting for the playhead to reach a specific time that we\r\nknow to be the end, then expecting ended to be true, we can use the\r\npurpose-built waiter that waits for the ended event.\r\n\r\nWe also need to set the timeout explicitly, so that we have enough\r\ntime to play through to the end."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a244d6ca63ac8d88f50d",
    "number": 3934,
    "body": "Fix download of https://devstreaming-cdn.apple.com/videos/streaming/examples/img_bipbop_adv_example_ts/master.m3u8\r\n\r\nThe filterManifestByMediaCapabilities method is async, but the code doesn't wait for it to finish before continuing the download process. This PR fix it.",
    "head_branch": "missing-await",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix download of some HLS assets (#3934)\n\nFix download of https://devstreaming-cdn.apple.com/videos/streaming/examples/img_bipbop_adv_example_ts/master.m3u8\r\n\r\nThe filterManifestByMediaCapabilities method is async, but the code doesn't wait for it to finish before continuing the download process. This PR fix it.\r\n\r\nThis also fixes a hidden compiler issue caused by the use of an alias for StreamUtils."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a245d6ca63ac8d88f50e",
    "number": 3933,
    "body": "Issue https://github.com/google/shaka-player/issues/2337",
    "head_branch": "raw-asset",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(demo): Add Apple Advanced HLS Stream (TS) with raw AAC (#3933)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a246d6ca63ac8d88f50f",
    "number": 3931,
    "body": "Issue #2337\r\n\r\nChange-Id: I909a1c09cac270cd4127a2ddd2ce5506d6ef0f35\r\n\r\n## Description\r\n\r\nWe were not probing MediaSource for containerless format support before.\r\nThis meant that, among other things, the demo did not register the new raw AAC asset as playable.\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [X] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "probeContainerlessSupport",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "demo: Probe for containerless format support (#3931)\n\nIssue #2337"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a247d6ca63ac8d88f510",
    "number": 3930,
    "body": "This updates the roadmap for v3.2 and v3.3 (out) and v3.4 (upcoming).\r\nThis also trims down our current priorities to what the team at Google\r\nwill be addressing in the near term.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update roadmap (#3930)\n\nThis updates the roadmap for v3.2 and v3.3 (out) and v3.4 (upcoming).\r\nThis also trims down our current priorities to what the team at Google\r\nwill be addressing in the near term."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a248d6ca63ac8d88f511",
    "number": 3929,
    "body": "Issue #2337\r\n\r\n## Description\r\n\r\nAdds an integration test for sequence mode content, which we did not have before.\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [X] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "sequenceModeTest",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Added integration test for sequence mode (#3929)\n\nIssue #2337"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a249d6ca63ac8d88f512",
    "number": 3928,
    "body": "## Grammatical Errors in Design Docs\r\n\r\n\r\n  Many of the .md files in the design document folder had punctuation and grammatical errors,\r\n which I've fixed. Please review the changes; if any modification is required, I'll be pleased to make them.\r\n\r\n\r\n<!--\r\n## Screenshots (optional)\r\n\r\n\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n-->\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a24ad6ca63ac8d88f513",
    "number": 3927,
    "body": "For HLS live manifest, we used to keep updating all the streams.\r\nInstead, we can defer creating the segmentIndex of the streams until\r\nStreamingEngine chooses the streams, and update only the streams that\r\nhave segment indexes. This would save bandwidth consumption during for\r\nlive streaming.\r\n\r\nIssue #3363\r\n\r\nChange-Id: Ic3e9509bd957fff911b013ebc9c39620798c5c62\r\n\r\n## Description\r\n\r\nRequest to release this feature in version 3.2.x or 3.3.x we need this urgently.\r\n\r\n<!--\r\n  Give the PR a helpful title that summarizes what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also, include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\nFor HLS live manifest, we used to keep updating all the streams.\r\nInstead, we can defer creating the segmentIndex of the streams until\r\nStreamingEngine chooses the streams, and update only the streams that\r\nhave segment indexes. This would save bandwidth consumption during for\r\nlive streaming.\r\n\r\nIssue #3363\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [ x] Bug fix (non-breaking change which fixes an issue)\r\n- [ x] New feature (non-breaking change which adds functionality)\r\n- [ x] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "backup-michellezhuo-update-active-streams-only",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a24bd6ca63ac8d88f514",
    "number": 3921,
    "body": "This will enable WebDriver-based screenshot tests in local test runs.\r\n\r\nSince GitHub Actions tests in Edge on Mac, this also adds screenshots for that combination.\r\n\r\nCloses #3415",
    "head_branch": "local-wd",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Switch local Chrome, Edge, Firefox, and Safari launchers to WebDriver-based (#3921)\n\n* test: Switch local Chrome, Edge, Firefox, and Safari launchers to WebDriver-based\r\n\r\nThis will enable WebDriver-based screenshot tests in local test runs.\r\n\r\n* test: Add screenshots for Edge on Mac"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a24cd6ca63ac8d88f515",
    "number": 3916,
    "body": "## Description\r\n\r\nInstead of pixel-wise comparison with a change threshold, we now use a\r\nstructural similarity (ssim) module to decide how much a screenshot\r\nhas changed.  This better tolerates small rendering differences due to\r\ndifferences in GPUs across machines.\r\n\r\n\r\n## Type of change\r\n\r\nChanges to tests only.\r\n\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [X] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "ssim",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Make screenshot comparisons more tolerant (#3916)\n\nInstead of pixel-wise comparison with a change threshold, we now use a\r\nstructural similarity (ssim) module to decide how much a screenshot\r\nhas changed.  This better tolerates small rendering differences due to\r\ndifferences in GPUs across machines."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a24dd6ca63ac8d88f516",
    "number": 3915,
    "body": "## Description\r\n\r\nThis fixes some missing cues in screenshot tests for native rendering in Safari.\r\n\r\n## Type of change\r\n\r\nChanges to tests only.\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [X] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "screenshot-flake",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix flake in screenshot tests around native captions (#3915)\n\nThis fixes some missing cues in screenshot tests for native rendering in Safari."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a24ed6ca63ac8d88f517",
    "number": 3914,
    "body": "## Description\r\n\r\nThe screenshot review page now has options to organize screenshots either by test or by platform.  Previously, it was only by test.  This is useful if you want to review many anomalous screenshots for a particular device.\r\n\r\n## Type of change\r\n\r\nChange to a test tool only.\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [X] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "screenshot-review",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Review screenshots by test or by platform (#3914)\n\nThe screenshot review page now has options to organize screenshots either by test or by platform. Previously, it was only by test. This is useful if you want to review many anomalous screenshots for a particular device."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a24fd6ca63ac8d88f518",
    "number": 3906,
    "body": "The current master branch is broken due an error introduced in https://github.com/google/shaka-player/commit/771619ff0ef8ba0e3da9569ded3894b428d03c58",
    "head_branch": "fix-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix compiler error introduced in #3864 (#3906)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a24fd6ca63ac8d88f519",
    "number": 3904,
    "body": "The tool isn't (yet) intended to maintain PR labels, and the workflow\r\ndoesn't have permissions to update PRs.",
    "head_branch": "update-issues",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Filter out PRs from update-issues tool (#3904)\n\nThe tool isn't (yet) intended to maintain PR labels, and the workflow\r\ndoesn't have permissions to update PRs."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a250d6ca63ac8d88f51a",
    "number": 3900,
    "body": "This ports over internal tests suggested in #3889.",
    "head_branch": "update-issues-tests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: Add tests for new update-issues tool (#3900)\n\nThis ports over internal tests suggested in #3889."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a251d6ca63ac8d88f51b",
    "number": 3897,
    "body": "Fixes: https://github.com/google/shaka-player/issues/3860\r\n\r\nThe proposed solution checks that all variants, apart from being checked in `mediaCapabilities.decodingInfo`, are also checked with `MediaSource.isTypeSupported`\r\n\r\nThere are some browser implementations that return a true `mediaCapabilities.decodingInfo` for unknown mimetypes and codecs and that can cause an application-level problem. For example, EDGE on Windows 10 returns true to HEVC even if you don't have the extension installed to support HEVC, instead `MediaSource.isTypeSupported` does take this into account\r\n\r\n\r\n",
    "head_branch": "hevc-error-edge",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix misdetection of HEVC support on MS Edge (#3897)\n\nThe proposed solution checks that all variants, apart from being checked in mediaCapabilities.decodingInfo, are also checked with MediaSource.isTypeSupported\r\n\r\nThere are some browser implementations that return a true mediaCapabilities.decodingInfo for unknown mimetypes and codecs and that can cause an application-level problem. For example, EDGE on Windows 10 returns true to HEVC even if you don't have the extension installed to support HEVC, instead MediaSource.isTypeSupported does take this into account\r\n\r\nFixes: #3860"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a252d6ca63ac8d88f51c",
    "number": 3892,
    "body": "Fixes: https://github.com/google/shaka-player/issues/3888",
    "head_branch": "audio-video-mime-type",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add separate audio and video MIME types to Track API (#3892)\n\nFixes: #3888"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a253d6ca63ac8d88f51d",
    "number": 3889,
    "body": "This replaces an internal tool that we have been running on a private\r\nJenkins server.",
    "head_branch": "update-issues",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "ci: New workflow to update issues (#3889)\n\nThis replaces an internal tool that we have been running on a private\r\nJenkins server."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a254d6ca63ac8d88f51e",
    "number": 3887,
    "body": "## Description\r\n\r\nAdd null check for emsgSchemeIdUris when EMSG boxes are parsed, as this value is null for HLS streams\r\nFixes #3886\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "bugfix/fixParseEmsgTypeError",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix exception in StreamingEngine for EMSG with HLS (#3887)\n\nAdd null check for emsgSchemeIdUris when EMSG boxes are parsed, as this value is null for HLS streams\r\n\r\nFixes #3886"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a255d6ca63ac8d88f51f",
    "number": 3884,
    "body": "## Description\r\n\r\nExample manifest:\r\n`#EXT-X-STREAM-INF:PROGRAM-ID=1, BANDWIDTH=1000000, RESOLUTION=1920x1080`\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "space",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): skip whitespace in attributes (#3884)\n\nExample:\r\n`#EXT-X-STREAM-INF:PROGRAM-ID=1, BANDWIDTH=1000000, RESOLUTION=1920x1080`\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a256d6ca63ac8d88f520",
    "number": 3883,
    "body": "This adds a new test configuration flag, `--spec-hide-passed`, which (if the test reporter is `spec`) causes passing tests to not produce any logs. This configuration flag is set on GitHub actions runs, so that the logs from them aren't so overwhelmingly long.",
    "head_branch": "noSuccessBranch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Hide passing tests in GitHub actions runs (#3883)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a257d6ca63ac8d88f521",
    "number": 3881,
    "body": "We've been seeing this specific error a lot in the Github Actions test runs, where less.js occasionally fails to load in the tests for whatever reason. This causes a bunch of errors that are not really the fault of the PR.\r\nThis filters the test if less.js was not loaded.\r\n\r\nThis is identical to #3861, which I accidentally closed after making a mistake rebasing the fork.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a258d6ca63ac8d88f522",
    "number": 3880,
    "body": "## Description\r\n\r\nPart of #850. Use with mux.js:\r\n\r\n```\r\n<script src=\"https://cdn.jsdelivr.net/npm/mux.js@6.0.1/dist/mux.min.js\"></script>\r\n```\r\n\r\nThese demo videos can play:\r\nhttps://playertest.longtailvideo.com/adaptive/oceans_aes/oceans_aes.m3u8 (No IV)\r\nhttps://bitmovin-a.akamaihd.net/content/art-of-motion_drm/m3u8s/11331.m3u8 (Const IV)\r\n\r\nKey rotation (and maybe discontinuity) is not supported. (Existing TODO: May still need changes to support key rotation)\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "aes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a259d6ca63ac8d88f523",
    "number": 3875,
    "body": "## Description\r\nUse `goog.Uri` to append CMCD query data to avoid duplicate query params\r\n\r\nFixes #3862\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [X] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [X] I have made corresponding changes to the documentation\r\n- [X] I have added tests that prove my fix is effective or that my feature works\r\n- [X] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "issue/3862-CMCD-hls-live-multiple",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix duplicate CMCD parameters in HLS live content (#3875)\n\nUse goog.Uri to append CMCD query data to avoid duplicate query params\r\n\r\nFixes #3862\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a25ad6ca63ac8d88f524",
    "number": 3874,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\nUse dynamic reference to abrManager\r\n\r\nFixes #3873\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "issue/3873-CMCD-missing-mtp",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix missing throughput in CMCD for HLS live (#3874)\n\n* Use dynamic reference to abrManager\r\n\r\nFixes #3873\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a25bd6ca63ac8d88f525",
    "number": 3869,
    "body": "## Description\r\n\r\nIf a manifest lists 2 audio streams, select the first acceptable stream instead of the last one. For example below, previously the 2nd stream was selected, and now the first stream will be selected. Other players like roku, video.js and exoplayer select the first one.\r\n\r\n```\r\n#EXT-X-MEDIA:TYPE=AUDIO,URI=\"stream_1.m3u8\",GROUP-ID=\"default-audio-group\",NAME=\"128k\",AUTOSELECT=YES,CHANNELS=\"2\"\r\n#EXT-X-MEDIA:TYPE=AUDIO,URI=\"stream_2.m3u8\",GROUP-ID=\"default-audio-group\",NAME=\"64k\",CHANNELS=\"2\"\r\n(video streams snipped)\r\n```\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "audio",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Select first of identical audio streams (#3869)\n\nIf a manifest lists 2 audio streams, select the first acceptable stream instead of the last one. For example below, previously the 2nd stream was selected, and now the first stream will be selected. Other players like roku, video.js and exoplayer select the first one.\r\n\r\n```\r\n#EXT-X-MEDIA:TYPE=AUDIO,URI=\"stream_1.m3u8\",GROUP-ID=\"default-audio-group\",NAME=\"128k\",AUTOSELECT=YES,CHANNELS=\"2\"\r\n#EXT-X-MEDIA:TYPE=AUDIO,URI=\"stream_2.m3u8\",GROUP-ID=\"default-audio-group\",NAME=\"64k\",CHANNELS=\"2\"\r\n(video streams snipped)\r\n```"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a25cd6ca63ac8d88f526",
    "number": 3868,
    "body": "Related to https://github.com/google/shaka-player/issues/3597#issuecomment-1014686707",
    "head_branch": "chapters-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Support multiple chapter tracks with same language (#3868)\n\nIssue #3597"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a25dd6ca63ac8d88f527",
    "number": 3867,
    "body": "Fixes https://github.com/google/shaka-player/issues/3728",
    "head_branch": "wrong-caption-selection",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(UI): Fix text UI not updating when text is disabled (#3867)\n\nCloses #3728"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a25ed6ca63ac8d88f528",
    "number": 3864,
    "body": "Fixes https://github.com/google/shaka-player/issues/3009",
    "head_branch": "ttaf1-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix support for TTAF1 namespace (old version of TTML) (#3864)\n\nFixes #3009"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a25fd6ca63ac8d88f529",
    "number": 3861,
    "body": "We've been seeing this specific error a lot in the Github Actions test runs, where less.js occasionally fails to load in the tests for whatever reason. This causes a bunch of errors that are not really the fault of the PR.\r\nThis filters the test if less.js was not loaded.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a260d6ca63ac8d88f52a",
    "number": 3858,
    "body": "The commit https://github.com/google/shaka-player/commit/264c84249684ee809f53fd4117f9aab4e0a599ac introduce 2 issues:\r\n- `stream.segmentIndex` is not always constructed (eg: DASH)\r\n- In Image track the size of the thumbnail itself is returned and not the size of the complete image, so it is necessary to return the size of the complete image in `getThumbnails` so that later the UI can correctly place the image if the layout is different to 1x1.",
    "head_branch": "thumbnails-issue",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(image): Fix thumbnails issues (#3858)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a261d6ca63ac8d88f52b",
    "number": 3856,
    "body": "Fixes: https://github.com/google/shaka-player/issues/3845",
    "head_branch": "webp-avif",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Allow WebP and AVIF image streams (#3856)\n\nFixes: #3845"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a262d6ca63ac8d88f52c",
    "number": 3853,
    "body": "Fixes: https://github.com/google/shaka-player/issues/3832",
    "head_branch": "video-fullscreen",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Add video fullscreen support for iOS (#3853)\n\nCloses #3832"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a263d6ca63ac8d88f52d",
    "number": 3852,
    "body": "## Description\r\nFix incorrect top bitrate CMCD reporting by:\r\n- Honoring the player's current bitrate/size ABR constraints.\r\n- Only reporting the bandwidth for that segments type (audio, video, muxed).\r\n\r\nFixes #3851\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "issue/3851-CMCD-tb",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix CMCD top bitrate reporting (#3852)\n\nThe tb (top bitrate) property should honor bitrate/size ABR constraints and only report the top playable bitrate.\r\n\r\nThe tb property should only report the bandwidth for that segments type (audio, video, muxed).\r\n\r\nFix incorrect top bitrate CMCD reporting by:\r\n\r\nHonoring the player's current bitrate/size ABR constraints.\r\nOnly reporting the bandwidth for that segments type (audio, video, muxed).\r\n\r\nFixes #3851\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a264d6ca63ac8d88f52e",
    "number": 3849,
    "body": "The test StreamingEngine \"can handle seeks behind availability window\" was\r\nfrequently failing on macOS Chrome. This makes the test a bit more\r\npermissive.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Made the seek test more permissive (#3849)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a265d6ca63ac8d88f52f",
    "number": 3847,
    "body": "## Description\r\n\r\nAdd mac/Safari, mac/Edge to GitHub Actions workflow\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "mac-gha",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Add mac/Safari, mac/Edge to GitHub Actions workflow (#3847)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a266d6ca63ac8d88f530",
    "number": 3842,
    "body": "## Description\r\nMove CMCD type definition to externs to avoid minifying property names\r\n\r\nFixes #3839\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "issue/3839-cmcd-property-mangling",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix CMCD property mangling (#3842)\n\nMove CMCD type definition to externs to avoid minifying property names\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>\r\n\r\nFixes #3839"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a267d6ca63ac8d88f531",
    "number": 3841,
    "body": "Allows Github Action tests to run integration tests on macOS.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Re-enable macOS integration tests for GitHub Actions (#3841)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a267d6ca63ac8d88f532",
    "number": 3838,
    "body": "Fixes: https://github.com/google/shaka-player/issues/3745",
    "head_branch": "captions-use-the-entire-screen",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(text): Remove caption wrapper bgColor (#3838)\n\nCloses #3745"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a268d6ca63ac8d88f533",
    "number": 3837,
    "body": "Fixes: https://github.com/google/shaka-player/issues/3743",
    "head_branch": "style-nested-cues",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(text): Made nested cues inherit region (#3837)\n\nCloses #3743"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a269d6ca63ac8d88f534",
    "number": 3833,
    "body": "Adds GitHub actions support to Shaka Player, to do automated test runs. This includes both manual runs (using `workflow_dispatch`), and automatic runs for PRs.\r\nAt the moment this handles Chrome, Firefox, and Edge. It runs on Ubuntu, MacOS, and Windows. Sadly, I could not get Safari working.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: Added Github actions to test PRs (#3833)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a26ad6ca63ac8d88f535",
    "number": 3827,
    "body": "Fixes https://github.com/google/shaka-player/issues/3766",
    "head_branch": "ttml-comment-cue",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(text): Allow comments in the TTML parser (#3827)\n\nCloses #3766"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a26bd6ca63ac8d88f536",
    "number": 3809,
    "body": "Fixes https://github.com/google/shaka-player/issues/3739",
    "head_branch": "current-time-height-safari",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix(UI): Fix time element height on Safari (#3809)\n\nCloses #3739"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a26cd6ca63ac8d88f537",
    "number": 3808,
    "body": "## Description\r\nFixes #3582 \r\n\r\nAdd Playstation 5 detection to the Media Capabilities Polyfill install method.\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "issue/3582-ps5-media-capabilities-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Update media capability polyfill to account for Playstation 5 (#3808)\n\nAdd Playstation 5 detection to the Media Capabilities Polyfill install method.\r\n\r\nFixes #3582\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a26dd6ca63ac8d88f538",
    "number": 3807,
    "body": "Close: https://github.com/google/shaka-player/issues/3767",
    "head_branch": "forced-subtitles-dash",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DASH): Support \"forced-subtitle\" role (#3807)\n\nPreviously, Shaka Player only supported \"forced_subtitle\",\r\nwhich was the working name before the role was finalized.\r\n\r\nCloses #3767"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a26ed6ca63ac8d88f539",
    "number": 3805,
    "body": null,
    "head_branch": "src-dash",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Add DASH MIME type mapping for src= playback (#3805)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a26fd6ca63ac8d88f53a",
    "number": 3801,
    "body": "## Description\r\nFixes #3783\r\n\r\nEmbedded CEA-608 captions don't work on multi period live DASH DAI streams after new periods appear in the manifest because commas are appended the streams originalId string, which disrupts some stream matching code in text_engine.js\r\n\r\nThe problem has been resolved by preventing makeTextStreamsForClosedCaptions() from altering the PeriodCombiner.textStreams_ array.\r\n\r\n## Screenshots (optional)\r\nNA\r\n\r\n## Type of change\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [NA] I have made corresponding changes to the documentation\r\n- [No] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fixMissingCcForLiveDai",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix #3783 captions not working after a period transition on live DASH streams (#3801)\n\nEmbedded CEA-608 captions don't work on multi period live DASH DAI streams after new periods appear in the manifest because commas are appended the streams originalId string, which disrupts some stream matching code in text_engine.js\r\n\r\nThe problem has been resolved by preventing makeTextStreamsForClosedCaptions() from altering the PeriodCombiner.textStreams_ array.\r\n\r\nFixes #3783"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a270d6ca63ac8d88f53b",
    "number": 3795,
    "body": "\r\n\r\n## Description\r\n\r\nEnsure buffer is cleared on an unbuffered seek, for media states that are mid-update even if they have no buffer yet. This prevents the update operation from appending buffer for the old time and potentially getting one media state stuck buffering to catch up to the target seek position.\r\n\r\nFixes #3299\r\n\r\n## Screenshots (optional)\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "bugfix/ensureBufferClearedOnSeekForUpdatingMediaState",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Clear buffer on seek if mediaState is updating (#3795)\n\nPreviously, we only cleared the buffer if the media state had\r\nsomething buffered. This ensured that we did not pointlessly clear the\r\nbuffer when nothing was there.\r\nHowever, this lead to problems if a seek was performed early during the\r\nloading process, before the source buffer is initialized. During that\r\ntime, nothing is buffered, so we would not clear the buffer on a seek.\r\nThis lead to us accidentally fetching content from the beginning of the\r\npresentation, rather than starting from the new clock time.\r\nThis changes the streaming engine to also clear the buffer if\r\nmediaState.performingUpdate is true, to avoid that situation.\r\n\r\nCloses #3299"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a271d6ca63ac8d88f53c",
    "number": 3776,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\nClose #3346\r\nClose #2999\r\n\r\nAdd support for HLS `com.apple.streamingkeydelivery` through MSE/EME implementation.\r\nAdd support for FairPlay encryption into DASH manifests through MSE/EME implementation.\r\n\r\n## Tests\r\nTested on:\r\n- Mac 11.6 Safari 15.2\r\n- iOS 15.2 Safari 15.2\r\n- Mac 11.6 Chrome 96 (for potential regressions on Widevine keySystem)\r\n\r\n| Mode | DRM API | TS | CMAF (mono-key and multi-keys)\r\n|---|---|---|---|\r\n| file | EME | ✅  | ✅  |\r\n| file | Legacy-prefixed | ✅   | ✅   |\r\n| media-source | EME | **mux-js**: `encrypted` never fired<br />**real MSE**: `encrypted` event received, but with incorrect `sinf` initData (*1)  | ✅  |\r\n| media-source | Legacy-prefixed | **mux-js**: `webkitneedkey` never fired<br/>**real MSE**: TBD  | 🔴 fails to append media segment to SourceBuffer (init segment ok) `(video:4) – \"failed fetch and append: code=3015\"` |\r\n\r\n## Support table \r\n| Mode | DRM API | TS | CMAF (mono-key and multi-keys)\r\n|---|---|---|---|\r\n| file | EME | ✅  | ✅  |\r\n| file | Legacy-prefixed | ✅   | ✅   |\r\n| media-source | EME | 🚫 `4040: HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED`  | ✅  |\r\n| media-source | Legacy-prefixed | 🚫 `4041: HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED`  |🚫 `4041: HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED` |\r\n\r\n⚠️ Use EME APIs with multi-keys CMAF makes the video stalling with the audio continuing alone after a short time (~3 minutes in the stream, could be shorter, could be longer). Didn't find an explanation to that yet. I've observed the same behaviour with hls.js code so I don't think this is a player issue.\r\n\r\n#### *1\r\n\r\n```\r\newogICJjb250IiA6ICJtcHRzIiwKICAiY29kYyIgOiAyMDUzMjA3NjUxLAogICJtdHlwIiA6IDE5ODY2MTg0NjkKfQ==\r\n\r\n{\r\n  \"cont\" : \"mpts\",\r\n  \"codc\" : 2053207651,\r\n  \"mtyp\" : 1986618469\r\n}\r\n```\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "feat-apple-fps",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: add modern EME support for FairPlay (#3776)\n\nAdd support for HLS com.apple.streamingkeydelivery through MSE/EME implementation.\r\n\r\nClose #3346\r\n\r\n## Tests\r\nTested on:\r\n- Mac 11.6 Safari 15.2\r\n- iOS 15.2 Safari 15.2\r\n- Mac 11.6 Chrome 96 (for potential regressions on Widevine keySystem)\r\n\r\n| Mode | DRM API | TS | CMAF (mono-key and multi-keys)\r\n|---|---|---|---|\r\n| file | EME | ✅  | ✅  |\r\n| file | Legacy-prefixed | ✅   | ✅   |\r\n| media-source | EME | **mux-js**: `encrypted` never fired<br />**real MSE**: `encrypted` event received, but with incorrect `sinf` initData (*1)  | ✅  |\r\n| media-source | Legacy-prefixed | **mux-js**: `webkitneedkey` never fired<br/>**real MSE**: TBD  | 🔴 fails to append media segment to SourceBuffer (init segment ok) `(video:4) – \"failed fetch and append: code=3015\"` |\r\n\r\n## Support table \r\n| Mode | DRM API | TS | CMAF (mono-key and multi-keys)\r\n|---|---|---|---|\r\n| file | EME | ✅  | ✅  |\r\n| file | Legacy-prefixed | ✅   | ✅   |\r\n| media-source | EME | 🚫 `4040: HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED`  | ✅  |\r\n| media-source | Legacy-prefixed | 🚫 `4041: HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED`  |🚫 `4041: HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED` |\r\n\r\n⚠️ Use EME APIs with multi-keys CMAF makes the video stalling with the audio continuing alone after a short time (~3 minutes in the stream, could be shorter, could be longer). Didn't find an explanation to that yet. I've observed the same behaviour with hls.js code so I don't think this is a player issue."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a272d6ca63ac8d88f53d",
    "number": 3773,
    "body": "## Description\r\n\r\nProvides an update to the chrome.cast.SessionRequest to support the androidReceiverCompatible flag to enable casting from Shaka Player to an Android Cast Receiver app.\r\n\r\nhttps://developers.google.com/cast/docs/reference/web_sender/chrome.cast.SessionRequest\r\n\r\nFixes #3772\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "feature/castAndroidReceiverCompatible",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a273d6ca63ac8d88f53e",
    "number": 3771,
    "body": "## Description\r\n\r\nCorrectly obtain value of DEFAULT tag so variants can be tagged as primary, to avoid arbitrary audio language selection in multi-variant playlists.\r\n\r\nFixes #3769\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "bugfix/fixParsingOfHlsDefaultTag",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Fixes parsing of HLS 'DEFAULT' attribute (#3771)\n\nCloses #3769"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a274d6ca63ac8d88f53f",
    "number": 3765,
    "body": "## Description\r\n\r\nFixes #3724\r\n\r\nFix dedup stream logic adding `bandwidth` in the `filterOutTextStreamDuplicates` condition.\r\n\r\nAnother possible solution could be add the `originalId` in the all the filter conditions: #3725  \r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix-dedup-stream-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(dash): Account for bandwidth before filtering text stream (#3765)\n\nWe filter out text streams that are duplicates, before persenting\r\nthem to the end user. A duplicate is detected by checking if\r\nvarious values on the streams are the same.\r\nHowever, we were not checking for bandwidth. This could lead to a\r\ntext stream being marked as a duplicate if it had the same language,\r\nlabel, etc as another, even if they did not contain the same text.\r\nThis changes the utility to also check bandwidth.\r\n\r\nCloses #3724"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a275d6ca63ac8d88f540",
    "number": 3758,
    "body": "Fix 'Tears of Steel (live, DASH, Server Side ads)'\r\n\r\nSee: https://developers.google.com/interactive-media-ads/docs/sdks/html5/dai/streams",
    "head_branch": "dai-asset",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(demo): Fix 'Tears of Steel (live, DASH, Server Side ads)' (#3758)\n\nThis updates the IMA Asset Key associated with the asset, to match the key being\r\nchanged upstream."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a276d6ca63ac8d88f541",
    "number": 3754,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\nOur VOD delivery provider is upgrading their workflow and will output a different codec for stpp text streams, which they think Shaka should be able to handle.\r\n\r\n> The change we've implemented is to default to the IMSC1 text or image profile when packaging TTML input into an ISO BMFF (MP4) track, if no profile is signaled in the TTML document (which is the case for your content). Text will be selected if text is present, images if images are present. The end result of this is that for TTML packaged into ISO BMFF (.ismt or .cmft) using our latest beta, Origin will output 'stpp.ttml.im1t' if the TTML contains text.\r\n\r\n> However, this change will not change the output for TTML documents you have already packaged into ISO BMFF. I have discussed this problem internally and we've come to the conclusion that Shaka's failure to handle 'sttp.ttml' is a bug on their end. My plan was to raise this as a bug on their tracker before responding to you so I could link to it, but I haven't found the time to do so yet. I now have this scheduled for tomorrow and will update you once it's done.\r\n\r\n> The reason we consider this a bug on Shaka's end is because the change in behavior we've implemented aligns our output closer to what's recommended by the specification (see ISO 14496-30, paragraph 5.8), and according to that specification a player should be able to handle this.\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\nStream to test: https://origin.vod.staging.salto.fr/benchmark/output/f/d/7/fd7db07dc85e6e2c94d8a45a56e65526cd976697de35394f4c200177f9ffd03d/static/c364010_web_clear_540p_dash_v10.mpd\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "feat-stpp-ttml",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(text): support stpp.ttml codec in Mp4TtmlParser (#3754)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a277d6ca63ac8d88f542",
    "number": 3751,
    "body": "## Description\r\n\r\n### Fixes for \"On\"/\"Off\"\r\nCurrent Russian translation for \"On\" and \"Off\" are incorrect and misleading.\r\n\r\nCurrent translation (`Включить`) for `Off` means `Turn on`.\r\nCurrent translation (`Отключить`) for `On` means `Turn off`.\r\n\r\nCurrent translation works in context of \"Picture in picture\", but completly incorrect in context of captions.\r\n\r\nIs context of captions it looks like this:\r\n```\r\n(translation from Russian)\r\nCaptions:\r\n- English\r\n- Russian\r\n- Turn on (but it's \"Off\" in original)\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/974924/141246460-f38c69bf-2f8f-456a-b2d5-dd0394522a52.png)\r\n\r\nAs you see, last item doing exactly opposite (turning subtitles off) of what Russian translation says.\r\n\r\nNew translations `Выкл.` for `Off` and `Вкл.` for `On`  works in all cases. By the way, same spellings are used on popular video services such as YouTube:\r\n![image](https://user-images.githubusercontent.com/974924/141247462-8a96ac45-b721-4c72-ac4b-81480a0b3219.png)\r\n\r\n\r\n### Fix for \"Captions\"\r\nCurrent translation (`Титры`) typically means credits at the start/end of the movie and it looks odd in that context. I changed translation to `Субтитры` (subtitles, closed captions). I know \"subtitles\" and \"captions\" are a bit different in English, but in Russian `Субтитры` are used for both cases. YouTube and other videos services also uses `Субтитры` (you can see it on the previous screenshot)\r\n\r\n### Fix for \"Ad\"\r\nCurrent translation for `Ad` (`Объявление`) typically used about ads or announcements in newspapers or other paper mediums. It's rarely used in context of Internet Ads and especially in context of video ads. You typically see `Реклама` (new translation, means `Ad, Advertising`) in context of Internet Ads. \r\n\r\n \r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ui): Fix Russian translation (#3751)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a278d6ca63ac8d88f543",
    "number": 3748,
    "body": "Some test are failing in Safari and Firefox due to the missing goog.require.",
    "head_branch": "fix-test-uncompiled",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Fix tests in uncompiled mode (#3748)\n\nMissing require for randomUUID polyfill"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a279d6ca63ac8d88f544",
    "number": 3737,
    "body": "## Description\r\n\r\n\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [ ] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "ravi/claro_scrubbing_fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a27ad6ca63ac8d88f545",
    "number": 3730,
    "body": "## Description\r\n\r\nFixes #3729\r\n\r\nIf the video variant stream contains information about `hdr`, then we now use that to provide a value for `transferFunction`, when constructing the [`VideoConfiguration`](https://w3c.github.io/media-capabilities/#videoconfiguration) object used to get decoding info from media capabilities API.\r\n\r\nThe following applies:\r\n```js\r\nswitch (video.hdr) {\r\n  case 'SDR':\r\n    mediaDecodingConfig.video.transferFunction = 'srgb';\r\n    break;\r\n  case 'PQ':\r\n    mediaDecodingConfig.video.transferFunction = 'pq';\r\n    break;\r\n  case 'HLG':\r\n    mediaDecodingConfig.video.transferFunction = 'hlg';\r\n    break;\r\n}\r\n```\r\n\r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "pass-hdr-information-when-getting-decoding-info-from-media-capabilities",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Pass HDR information when getting decoding info from media capabilities (#3730)\n\nFixes #3729\r\n\r\nIf the video variant stream contains information about `hdr`, then we now use that to provide a value for `transferFunction`, when constructing the [`VideoConfiguration`](https://w3c.github.io/media-capabilities/#videoconfiguration) object used to get decoding info from media capabilities API.\r\n\r\nThe following applies:\r\n```js\r\nswitch (video.hdr) {\r\n  case 'SDR':\r\n    mediaDecodingConfig.video.transferFunction = 'srgb';\r\n    break;\r\n  case 'PQ':\r\n    mediaDecodingConfig.video.transferFunction = 'pq';\r\n    break;\r\n  case 'HLG':\r\n    mediaDecodingConfig.video.transferFunction = 'hlg';\r\n    break;\r\n}\r\n```"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a27bd6ca63ac8d88f546",
    "number": 3727,
    "body": "## Description\r\nFixes #3726\r\n\r\nNow we parse value of descriptor for `urn:mpeg:mpegB:cicp:TransferCharacteristics` in `AdaptationSet` to indicate `hdr` property on `shaka.extern.Stream` which seems equivalent to HLS definition given in `VIDEO-RANGE` attribute within [`EXT-X-STREAM-INF`](https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.6.2).\r\n\r\nThis is done by reading the supplemental / essential property in the parsing of `AdaptationSet`, then mutating the `hdr` property on `shaka.extern.Stream` if no `hdr` exists after `parseRepresentation_`.\r\n\r\nThe alternative considered was to parse all essential / supplemental properties on any `shaka.dash.DashParser.InheritanceFrame` and then carrying that through to the `parseRepresentaiton_` function; this can be seen [here](https://github.com/google/shaka-player/compare/master...theRealRobG:extract-hdr-signalling-via-dash-essential-or-supplemental-property). The problem with the alternative approach was that the essential property in the adaptation set would have had to have been \"let through\" on the assumption that we would parse it within the `parseRepresentation_` method... But this to me seemed somewhat risky to change, and also looks messy with the empty `else if` condition, plus was a much larger change (with more calls to XmlUtils, though not familiar with how that is implemented, so not sure if there was any penalty because of that).\r\n\r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "dash-hdr-signalling-via-essential-or-supplemental-property",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Dash hdr signalling via essential or supplemental property (#3727)\n\nNow we parse value of descriptor for urn:mpeg:mpegB:cicp:TransferCharacteristics in AdaptationSet to indicate hdr property on shaka.extern.Stream which seems equivalent to HLS definition given in VIDEO-RANGE attribute within EXT-X-STREAM-INF.\r\n\r\nThis is done by reading the supplemental / essential property in the parsing of AdaptationSet, then mutating the hdr property on shaka.extern.Stream if no hdr exists after parseRepresentation_.\r\n\r\nThe alternative considered was to parse all essential / supplemental properties on any shaka.dash.DashParser.InheritanceFrame and then carrying that through to the parseRepresentaiton_ function; this can be seen here. The problem with the alternative approach was that the essential property in the adaptation set would have had to have been \"let through\" on the assumption that we would parse it within the parseRepresentation_ method... But this to me seemed somewhat risky to change, and also looks messy with the empty else if condition, plus was a much larger change (with more calls to XmlUtils, though not familiar with how that is implemented, so not sure if there was any penalty because of that).\r\n\r\n* Test expectation for HDR signalling via property\r\n\r\nThe test sets the expectation that we should be able to extract the\r\ninformation of the TransferCharacteristics from the DASH\r\nAdaptationSet. This should then get converted to the nomenclature\r\nused in HLS for the VIDEO-RANGE attribute on EXT-X-STREAM-INF.\r\n\r\n* Implement signalling of HDR capability through property descriptor\r\n\r\nAccording to DASH-IF IOP v4.3 6.2.5.1. the transfer characteristics\r\ncan be declared at the AdaptationSet level via a supplemental or\r\nessential property. In HLS the transfer characteristics are used to\r\ndetermine the value of the VIDEO-RANGE attribute on the\r\nEXT-X-STREAM-INF attribute, which is already used to indicate the\r\nhdr property on the shaka.extern.Stream object. Therefore for\r\nconsistency we also add the same identification to the DASH parser.\r\n\r\n* Added entry in AUTHORS and CONTRIBUTORS\r\n\r\nFixes #3726"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a27bd6ca63ac8d88f547",
    "number": 3725,
    "body": "## Description\r\n\r\nFixes #3724\r\n\r\nFix dedup stream logic adding `originalId` in the filter out condition.\r\nTo make it consistent I also added the same for `Video`, `Audio` and `Image`.\r\n\r\nAnother possible solution could be just add the `bandwidth` in the `filterOutTextStreamDuplicates` condition: #3765 \r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix-dedup-stream",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a27cd6ca63ac8d88f548",
    "number": 3721,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\nFixes #3717\r\n\r\nWe have encountered fatal playback failure due to phantom media segment requests caused by small floating points being ceiled in Shaka. This PR fixes the issue by limiting the argument passed to `Math.ceil()`.\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "phantom-segment",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a27dd6ca63ac8d88f549",
    "number": 3716,
    "body": "Close: https://github.com/google/shaka-player/issues/3712",
    "head_branch": "fix-offline-cmcd",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(offline): Do not apply CMCD query args to offline URIs (#3716)\n\nCloses #3712"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a27ed6ca63ac8d88f54a",
    "number": 3714,
    "body": "## Description\r\n\r\nFixed `skdUri` variable name in code example\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "coldshine-patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Fix typo in Fairplay tutorial (#3714)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a27fd6ca63ac8d88f54b",
    "number": 3713,
    "body": "## Description\r\n\r\nSolution to loss of (bg)color for nested captions via simpler CSS (`.less` file) update:\r\n- separation of default subtitle settings into colors and sizing/display properties.\r\n- unchanged application of the latter (NOT for `shaka-text-wrapper` classed spans)\r\n- change of application of the colors to be NOT for `shaka-text-wrapper` classed spans OR descendents of `shaka-text-wrapper` classed spans.\r\nFixes #3521 \r\n\r\n## Screenshots (optional)\r\n![Screenshot 2021-10-24 at 14 32 52](https://user-images.githubusercontent.com/37144605/138596483-1be9bfd2-8ebd-4cfc-a4ec-3e5928b1d8ab.png)\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix/3521/css-solution",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a280d6ca63ac8d88f54c",
    "number": 3706,
    "body": "Close: https://github.com/google/shaka-player/issues/3422",
    "head_branch": "abr-advanced",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Adds advanced ABR config options (#3706)\n\nCloses #3422"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a281d6ca63ac8d88f54d",
    "number": 3703,
    "body": "## Description\r\nEnsure on track changes that all remaining cues are removed from the DOM regardless of whether there are any in the cue map.\r\nFixes #3701\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n<img width=\"776\" alt=\"Screenshot 2021-10-16 at 17 14 26\" src=\"https://user-images.githubusercontent.com/37144605/137595235-b88f2e1d-3c9e-4f87-aa29-1244da49f0ba.png\">\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix/3701/master/remove-all-children-on-text-track-change",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a282d6ca63ac8d88f54e",
    "number": 3702,
    "body": "## Description\r\n\r\nEnsure on track changes that all remaining cues are removed from the DOM regardless of whether there are any in the cue map.\r\nFixes #3701\r\n\r\n\r\n\r\n## Screenshots (optional)\r\n<img width=\"776\" alt=\"Screenshot 2021-10-16 at 17 14 26\" src=\"https://user-images.githubusercontent.com/37144605/137594655-85ec3974-291e-463a-ba6e-d5f063cbed9a.png\">\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix/3701/ui-text-displayer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a283d6ca63ac8d88f54f",
    "number": 3700,
    "body": "## Description\r\nFixes #3431 \r\n\r\nWhen measuring quality of experience we like to know when media quality metrics like width, height, framerate and bitrate change at the playhead.\r\n\r\nWe have implemented this by capturing media quality information in the InitSegmentReference during manifest parsing, and added a QualityObserver that captures the playback position of quality changes when init segments are appended to the source buffer and emits MediaQualityChanged events when the play head advances over a quality change point.\r\n\r\nThis is implemented only for DASH at this point.\r\n\r\n## Screenshots (optional)\r\nNA\r\n\r\n## Type of change\r\n\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] This change requires a documentation update\r\n\r\n## QUESTIONS FOR SHAKA TEAM\r\nDo we need to support HLS? If yes are the relevant metrics available when creating InitSegmentReferences?\r\n\r\nDo we need to support this feature for offline storage and playback?\r\n\r\nI think we should add a config field to enable/disable this feature, since it does use CPU cycles observing the playhead at relatively high frequency. Is it OK to add that?\r\n\r\nI would like to include the current audio and video MediaQualityInfo values in the getStats() response. Is it OK to add that?\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [  ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [ x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "ReportMediaQualityChanges",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add media quality change events (#3700)\n\nCloses ##3431"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a284d6ca63ac8d88f550",
    "number": 3695,
    "body": "## Description\r\nLinear streams accumulate init data over time because the init data is pushed to an array regardless of whether or not it already exists as part of the logic to combine periods. This PR will dedupe the init data based on keyId to help reduce memory usage over extended playouts.\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "dedupe-init-data",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Dedupe DRM init data (#3695)\n\nLinear streams accumulate init data over time because the init data is pushed to\r\nan array regardless of whether or not it already exists as part of the logic to\r\ncombine periods. This PR dedupes the init data based on keyId to help reduce\r\nmemory usage over extended playouts."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a285d6ca63ac8d88f551",
    "number": 3669,
    "body": "Related to: https://github.com/google/shaka-player/pull/3662",
    "head_branch": "random-uuid-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add randomUUID polyfill (#3669)\n\nRelated to: #3662"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a286d6ca63ac8d88f552",
    "number": 3668,
    "body": "Close: https://github.com/google/shaka-player/issues/3530",
    "head_branch": "shaka-media-capabilities",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Work around override of MediaCapabilities polyfill in Apple browsers (#3668)\n\nSee also #3696\r\n\r\nCloses #3530"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a287d6ca63ac8d88f553",
    "number": 3665,
    "body": "Fix: https://github.com/google/shaka-player/commit/7b2a17276b495c7961fac1fdcbf944b613c542d1\r\n\r\nThe previous commit, when using the `detach` function, `this.adManager_` is destroyed and there is nowhere where it will be recreated. But this is not necessary, only with the call to `release` the dependencies of the video are eliminated, and the object is reusable.",
    "head_branch": "fix-dispose-ad-manager",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix: Don't destroy ad manager on detach (#3665)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a288d6ca63ac8d88f554",
    "number": 3664,
    "body": "  Fixes #3571 \r\n## Description\r\n\r\nAdded a new get function ` getSeekRangeStartTime() `  in `lib/media/presentation_timeline.js` .\r\nAnd changed the function to call  `getSeekRangeStartTime()` instead of `getSeekRangeStart()` in `lib/player.js`. \r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n\r\n### Please provide me appropriate feedback/review so that I can continue working on this.\r\n\r\n\r\n",
    "head_branch": "seekRange_3571",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a289d6ca63ac8d88f555",
    "number": 3662,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\nAdd support for including Common Media Client Data (CMCD) in outgoing requests.\r\n\r\nFixes https://github.com/google/shaka-player/issues/3619. \r\n\r\n> **NOTE**: The following fields have not been implemented:  `rtp`, `nrr`, `nor`, `dl`\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "issue/3619-cmcd",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add Common Media Client Data (CMCD) logging support (#3662)\n\nAdd support for including Common Media Client Data (CMCD) in outgoing requests.\r\n\r\nFixes #3619\r\n\r\nNOTE: The following fields have not been implemented: rtp, nrr, nor, dl\r\n\r\nCo-authored-by: Dan Sparacio <daniel.sparacio@cbsinteractive.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a28ad6ca63ac8d88f556",
    "number": 3660,
    "body": "## Description\r\nThis change allows polyfills to be installed individually e.g. `shaka.polyfill.MediaCapabilities.install()` instead of `shaka.polyfill.installAll()`\r\n\r\nRelated to #2625\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [X] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [X] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "chore-export-polyfill-install-methods",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Add @export annotations to polyfill install methods (#3660)\n\nThis change allows polyfills to be installed individually e.g. shaka.polyfill.MediaCapabilities.install() instead of shaka.polyfill.installAll()\r\n\r\nRelated to #2625"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a28bd6ca63ac8d88f557",
    "number": 3653,
    "body": "Close: https://github.com/google/shaka-player/issues/3348",
    "head_branch": "dispatch-all-emsg-boxes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add a config to dispatch all emsg boxes. (#3653)\n\nCloses #3348"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a28cd6ca63ac8d88f558",
    "number": 3652,
    "body": "Close: https://github.com/google/shaka-player/issues/3638",
    "head_branch": "cs-ad-dimensions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ads): Add ResizeObserver to CS ad manager. (#3652)\n\nCloses: #3638"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a28dd6ca63ac8d88f559",
    "number": 3651,
    "body": null,
    "head_branch": "hls-default-codecs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(hls): Make default HLS audio/video codecs configurable (#3651)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a28ed6ca63ac8d88f55a",
    "number": 3650,
    "body": "The present pull request aims to provide a solution to a minor visual bug present in the control panel displaying unaligned \"sub-menu\" buttons (i.e: `quality`, `language`, `playback_rate`). \r\n\r\nIn the following example, the green and orange rectangles are exactly the same size and dimensions for both images. Note how the alignment of both rectangles and the size of the red areas change between the before (top) and after (bottom) images.\r\n\r\n## Example\r\n\r\n<p align=center>\r\n  <img src=\"https://nbcl.github.io/images/buttons.png\" width=900>\r\n</p>\r\n\r\n## How to preview\r\n\r\nInitialize the client with a config that contains sub-menu buttons (i.e: `quality`, `language`, `playback_rate`) and control panel buttons (i.e: `fast_forward`, `fullscreen`, `overflow_menu`) in the `controlPanelElements`.\r\n\r\n ```js\r\nconst config = {\r\n  'controlPanelElements': ['quality', 'loop', 'fast_forward', 'language', \r\n                           'playback_rate', 'fullscreen', 'overflow_menu'],\r\n}\r\nui.configure(config);\r\n```\r\n\r\n## Changelog\r\n\r\n<details>\r\n  <summary><code>ui/less/containers.less</code></summary>\r\n\r\nFixes the line-height of elements inside of the control panel, which specifically adjusts the vertical alignment of \"sub-menu\" buttons.\r\n</details>\r\n\r\n## Checklist\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code\r\n- [x] I have made the corresponding changes to the documentation\r\n- [x] My changes generate no new warnings\r\n- [x] I have run ./build/all.py and the build passes\r\n- [x] I have run ./build/test.py and all tests pass",
    "head_branch": "fix-3465-align",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ui): Control panel alignment (#3650)\n\nFixes the alignment of buttons inside the control panel."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a28fd6ca63ac8d88f55b",
    "number": 3649,
    "body": "The present pull request aims to provide a solution to #2071 (Quality selection UI for audio-only content) by replacing the resolution selection menu with a quality selection menu in audio-only content.\r\n\r\nFixes: #2071\r\n\r\n## How to preview\r\n\r\nInitialize the client with a config that contains `quality` in the `controlPanelElements` and load the player with an audio-only manifest.\r\n\r\n ```js\r\nconst config = {\r\n  'controlPanelElements': ['quality'],\r\n}\r\nui.configure(config);\r\n\r\nawait player.load('https://storage.googleapis.com/shaka-demo-assets/dig-the-uke-clear/dash.mpd');\r\n```\r\n\r\n## Changelog\r\n\r\n<details>\r\n  <summary><code>test/ui/ui_integration.js</code></summary>\r\n\r\nRemoves the integration test that checks for a hidden resolution button in audio-only content.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>test/ui/ui_unit.js</code></summary>\r\n\r\nExpects the correct version of the resolution button and appropriate bandwidth parsing for an audio-only manifest.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/locales/en.json</code></summary>\r\n\r\nAdds the `quality` locale as reference in English.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/locales/source.json</code></summary>\r\n\r\nAdds a description and meaning for the `quality` locale.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/resolution_selection.js</code></summary>\r\n\r\nRemoves `TODO` fix that hid resolution button for audio-only content by adding the removal of duplicates, sorting and naming of available tracks flows for either video or audio-only content.\r\n</details>\r\n",
    "head_branch": "feat-2071-quality",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ui): Add quality selection for audio-only content (#3649)\n\nReplaces resolution menu with audio quality menu when content is audio-only.\r\n\r\nFixes: #2071"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a290d6ca63ac8d88f55c",
    "number": 3646,
    "body": "Close: https://github.com/google/shaka-player/issues/3510",
    "head_branch": "getVariantTracks-has-no-active-tracks",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Don't forget active track after new period is added to live stream.\n\nThe algorithm in shaka.Player.getVariantTracks assumed that the variants in the\r\nmanifest would never change, and thus used object equality to see if a track\r\nshould be marked as active or not.\r\nHowever, the (relatively) new Shaka Player period combiner system now\r\ncauses all of the variants to be re-built whenever the manifest was updated.\r\nThis change makes shaka.Player.getVariantTracks continue to recognize\r\nthe previously active variant, even if it is not literally equal to the old one.\r\n\r\nCloses: #3510"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a291d6ca63ac8d88f55d",
    "number": 3645,
    "body": "Close: https://github.com/google/shaka-player/issues/3451",
    "head_branch": "jump-gap-autoplay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Don't gap jump at start of video if autoplay is not set (#3645)\n\nBefore, the video would automatically gap jump at the start, even if the video\r\nwas not yet playing. This meant that videos with a gap at the start would jump\r\nahead and get rid of the video poster, even if autoplay was set to false.\r\n\r\nCloses: #3451"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a292d6ca63ac8d88f55e",
    "number": 3644,
    "body": "Close: https://github.com/google/shaka-player/issues/3518",
    "head_branch": "seeking--time-0-src",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix: Avoid seeking on src when start time is 0 (#3644)\n\nCloses #3518"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a293d6ca63ac8d88f55f",
    "number": 3641,
    "body": "## Description\r\nThis pull request fixes the issue: #3640 \r\n\r\nBasically I just added response status to response filter, it can be useful for someone who needs to check response status and based on that do some actions.\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(net): Add response HTTP status to Networking engine responses (#3641)\n\nCloses #3640"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a294d6ca63ac8d88f560",
    "number": 3639,
    "body": "Close: https://github.com/google/shaka-player/issues/2596",
    "head_branch": "cs-non-linear",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ads): Integrate with non-linear IMA CS ads (#3639)\n\nCloses: #2596"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a295d6ca63ac8d88f561",
    "number": 3633,
    "body": null,
    "head_branch": "yarn-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a296d6ca63ac8d88f562",
    "number": 3631,
    "body": "`content_workarounds.js` was introduced for Tizen and Xbox platforms. We found that that meant a regression where certain streams were unable to be played.\r\n\r\nThis PR adds ac-3 into the content workarounds in the same was as ec-3 to ensure these streams can be played once more.\r\n\r\nRelated to https://github.com/google/shaka-player/pull/3625\r\n",
    "head_branch": "ac3-content-workarounds",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix DRM workaround for Tizen and Xbox with ac-3 boxes (#3631)\n\ncontent_workarounds.js was introduced for Tizen and Xbox platforms. We found that that meant a regression where certain streams were unable to be played.\r\n\r\nThis PR adds ac-3 into the content workarounds in the same was as ec-3 to ensure these streams can be played once more.\r\n\r\nIssue #3589"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a297d6ca63ac8d88f563",
    "number": 3625,
    "body": "## Description\r\n\r\n`content_workarounds.js` was introduced for Tizen and Xbox platforms.  We found that that meant a regression where certain streams were unable to be played.\r\n\r\nThis PR adds avc3 into the content workarounds in the same was as avc1 to ensure these streams can be played once more.\r\n\r\nFixes #3589 \r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix/3589/avc3-content-workarounds",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix DRM workaround for Tizen and Xbox with avc3 boxes (#3625)\n\nThe workaround previously only matched avc1 boxes.  This adds avc3 to the workaround, fixing content that uses this box on Tizen and Xbox."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a298d6ca63ac8d88f564",
    "number": 3617,
    "body": "When an external subtitle track is added and you are using DAI, the external track does not take into account the ads that the video has, so this PR makes this internally take into account when generating the external track.",
    "head_branch": "ss-external-tracks",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Account for server-side ad cue points in external text tracks. (#3617)\n\nWhen an external subtitle track is added and you are using DAI, the external track does not take into account the ads that the video has, so this PR makes this internally take into account when generating the external track."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a299d6ca63ac8d88f565",
    "number": 3611,
    "body": "This change causes the safe SS-DAI settings to be reset when a stream is unloaded.",
    "head_branch": "fix-server-side-stop",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ads): Fix stopping of Server Side Ad manager (#3611)\n\nThis change causes the safe SS-DAI settings to be reset when a stream is unloaded."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a29ad6ca63ac8d88f566",
    "number": 3610,
    "body": "## Description\r\n\r\nThis PR fixes two issues:\r\n\r\n1. CEA-608 subtitles not showing up\r\n2. Decoder error (Code 3016) occasionally thrown by Chromium VDA\r\n\r\nFor issue 1, the root cause is incorrect MP4 TKHD unboxing. Track ID should be 4 bytes instead of 8. That causes a mismatch in track ID and timescale mappings. Timescale value will then fallback to default (90,000) and parse to MDAT unboxing. All CC packets will use the wrong timescale for calculating the timestamp.\r\n\r\nFor issue 2, it's caused by the method of removing emulation prevention bytes from MP4 H.264 SEI NALU packets. Removing the byte by shifting all elements will cause Chromium VDA to complain about conformance (likely it has a lower tolerance than other browsers). Note that Safari and Firefox seem to allow such modification.\r\n\r\nThis is solved by creating a new byte array with that byte removed. \r\n\r\n\r\n## Screenshots (optional)\r\n\r\nN/A\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "cea608-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix CC parsing of EPB and v1 TKHD boxes (#3610)\n\nWhen unboxing TKHD, the reader read int64 as trackId instead of int32. Thus unable to find matching timescale when doing TFHD unboxing. Therefore when parsing MDAT, the default timescale will be used which is 90000. All CC timestamps will then be incorrect.\r\n\r\nThis also fixes \"Shaka Error MEDIA.VIDEO_ERROR (3,,PIPELINE_ERROR_DECODE: Failed to parse H.264 stream)\" error when playing DASH MP4 H.264 streams with CEA-608 CC embedded.  It's likely that the VDA bundled in Chromium-based browsers have already included EPB detection & prevention. If we let the player to remove the byte, VDA will complain about stream conformance.\r\n\r\nCloses #3502"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a29bd6ca63ac8d88f567",
    "number": 3609,
    "body": "## Description\r\nFixes #3608 \r\nAdded check for empty caption packets in closed_caption_parser.\r\nAdded a unit test that verifies the closed_caption_parser now works with a video segment that contains empty caption packets.\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [X] I have added tests that prove my fix is effective or that my feature works\r\n- [X] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "HandleEmptyCaptionPackets",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(cea): Fix BUFFER_READ_OUT_OF_BOUNDS error when CEA caption packets are empty (#3609)\n\nAdded check for empty caption packets in closed_caption_parser.\r\n\r\nAdded a unit test that verifies the closed_caption_parser now works with a video segment that contains empty caption packets.\r\n\r\nFixes #3608"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a29cd6ca63ac8d88f568",
    "number": 3605,
    "body": "## Description\r\n\r\nFixes #3079\r\n\r\nWhen running custom asset tests with the custom license server parameter, it is easy to make mistakes on the argument value. The `--test-custom-license-server` option expects the user to pass in a key-value pair of `KEYSYSTEM_ID=LICENSE_SERVER_URL`. This change checks if the provided value has `KEYSYSTEM_ID` as its key through a custom argparse type.\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "validate-test-custom-license-server",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Validate custom license server option in test.py (#3605)\n\nFixes #3079\r\n\r\nWhen running custom asset tests with the custom license server parameter, it is easy to make mistakes on the argument value. The `--test-custom-license-server` option expects the user to pass in a key-value pair of `KEYSYSTEM_ID=LICENSE_SERVER_URL`. This change checks if the provided value has `KEYSYSTEM_ID` as its key through a custom argparse type."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a29dd6ca63ac8d88f569",
    "number": 3602,
    "body": "## Description\r\nTypo: misspelling 'default'\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>",
    "head_branch": "fix-typo-default",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "style: Fix misspelling default (#3602)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a29dd6ca63ac8d88f56a",
    "number": 3601,
    "body": "## Description\r\nCurrently, we do not have an external way to tell shaka-player (re)render text on player.\r\n\r\nEven for internal, I've write a module that need to interact with text-displayer engine, but https://github.com/google/shaka-player/blob/master/lib/text/ui_text_displayer.js#L192\r\nis not an exposed api (when I try calling from different module - it said property not defined).\r\n\r\nHence this proposition.\r\n\r\n## Type of change\r\n- [x] New feature (non-breaking change which adds functionality)\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "feat-export-update-captions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a29ed6ca63ac8d88f56b",
    "number": 3588,
    "body": "Related to: #3530\r\n\r\nErrors found in Apple browsers about MediaCapabilities \r\n- HLS is not supported using file type.\r\n- TS is not supporting using media-source type.",
    "head_branch": "mediacapabilities-appple",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix: Always polyfill MediaCapabilities for Apple browsers (#3588)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a29fd6ca63ac8d88f56c",
    "number": 3587,
    "body": "## Description\r\n\r\nThis is for fixing a case in geo-redundant streams failover:\r\n\r\n1. ShakaPlayer identifies DASH period based on period id\r\n1. Period ids generated by two synchronized packager could be inconsistent temporarily in some negative scenarios\r\n1. After the scenario the packagers resync at the live edge, but the inconsistency is preserved in the manifest for the length of the DVR window\r\n1. When ShakaPlayer receives a new mpd with inconsistent period ids (i.e. jumping between mpds from two packagers), it might result in\r\n    - Wrong presentation time\r\n    - Wrong buffer ahead estimation\r\n    - Old segment references added into segment index\r\n1. Consequently, playback gets stalled and requires end-user to refresh the player (i.e. VPF)\r\n\r\n\r\n## Screenshots (optional)\r\n\r\nN/A\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "geo-failover-robustness",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge branch 'geo-failover-robustness' of https://github.com/harmonicinc-com/shaka-player\n\nChange-Id: I200cd2a53e28e2d3d8d99e4d8d242e7c90fb5a94"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2a0d6ca63ac8d88f56d",
    "number": 3586,
    "body": "Close: https://github.com/google/shaka-player/issues/1481",
    "head_branch": "blob-url-tutorial",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add blob-url tutorial (#3586)\n\nCloses #1481"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2a1d6ca63ac8d88f56e",
    "number": 3583,
    "body": "Related to https://github.com/google/shaka-player/pull/3401",
    "head_branch": "blob-url",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Feat: Add blob-url support (#3583)\n\nIssue #1481"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2a2d6ca63ac8d88f56f",
    "number": 3579,
    "body": "The present pull request aims to provide a solution to #3443 (How to Customise PlayBackRate or Fast_Forward rate) by adding optional custom rates for playback, fast forward and rewind.\r\n\r\nFixes: #3443\r\n\r\n## Example\r\n\r\n<p align=center>\r\n<img src=\"https://nbcl.github.io/images/rates.png\" width=600>\r\n</p>\r\n\r\n## How to preview\r\n\r\nInitialize the client with a `config` that contains `playback_rate`, `fast_forward` and `rewind` in the `controlPanelElements` and select a list of rates for `playbackRates`, `fastForwardRates` and `rewindRates`.\r\n\r\n ```js\r\nconst config = {\r\n  'controlPanelElements': ['playback_rate', 'fast_forward', 'rewind'],\r\n  'playbackRates': [0.5, 1, 1.5, 2, 4.321],\r\n  'fastForwardRates': [2, 4, 8, 1],\r\n  'rewindRates': [-1, -2, -4, -8],\r\n}\r\nui.configure(config);\r\n```\r\n\r\n## Changelog\r\n\r\n<details>\r\n  <summary><code>docs/tutorials/ui-customization.md</code></summary>\r\n\r\nAdds a brief description and example for the `playbackRates`, `fastForwardRates` and `rewindRates` configuration.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/externs/ui.js</code></summary>\r\n\r\n`playbackRates`, `fastForwardRates` and `rewindRates` are added as configurable options in the UI.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/fast_forward_button.js</code></summary>\r\n\r\n`this.fastForwardRates_` is added to load the configured rates. On every click, the next rate in the array is selected until the end is reached, where the rate is set back to the initial value at `this.fastForwardRates_[0]`.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/playback_rate_selection.js</code></summary>\r\n\r\nThe original `this.playbackRates_` map is built through a configurable array of numbers (`playbackRates`) and which also generates the text value ('1.25x' for 1.25). \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/rewind_button.js</code></summary>\r\n\r\n`this.rewindRates_` is added to load the configured rates. On every click, the next rate in the array is selected until the end is reached, where the rate is set back to the initial value at `this.rewindRates_[0]`.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/ui.js</code></summary>\r\n\r\nAdds default values for `playbackRates`, `fastForwardRates` and `rewindRates`.\r\n</details>\r\n\r\n\r\n## Checklist\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code\r\n- [x] I have made the corresponding changes to the documentation\r\n- [x] My changes generate no new warnings\r\n- [x] I have run ./build/all.py and the build passes\r\n- [x] I have run ./build/test.py and all tests pass",
    "head_branch": "feat-3443-rates",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ui): Add configurable rates (#3579)\n\nAdds configurable options for playback, fast forward and rewind rates.\r\nCloses: #3443"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2a3d6ca63ac8d88f570",
    "number": 3578,
    "body": "Add Loop and PIP to context menu and add Statistics to overflow menu",
    "head_branch": "ui-buttons",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ui): Added Loop and PIP to context menu, and Statistics to overflow menu (#3578)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2a4d6ca63ac8d88f571",
    "number": 3573,
    "body": "Maybe related to: #3530\r\n\r\nNote: In iOS, since there is no support for MediaSource, if the type is 'media-source' it always returns false, but if the type is 'file' it is checked whether it is supported or not.\r\n\r\nMediaCapabilities support: https://caniuse.com/mdn-api_mediacapabilities",
    "head_branch": "ios-mediacapabilities-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix: Add Support to iOS 12 in MediaCapabilities polyfill (#3573)\n\nIn iOS, there is no support for MediaSource, and we should have  'file' as the type of the MediaiDecodingConfig, to check whether the content is supported or not. We should only require MediaSource support in the polyfill when the type of MediaiDecodingConfig is 'media-source'. \r\nIssue: #3530 ."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2a5d6ca63ac8d88f572",
    "number": 3572,
    "body": "The present pull request aims to provide a solution to #3269 (Add hover tooltips to control panel buttons) by adding configurable tooltips to control panel buttons.\r\n\r\nFixes: #3269\r\n\r\n## Example\r\n\r\n<p align=center>\r\n<img src=\"https://nbcl.github.io/images/tooltips.png\" width=600>\r\n</p>\r\n\r\n## How to preview\r\n\r\nInitialize the client with a `config` that sets the `enableTooltips` option to `true`.\r\n\r\n```js\r\nconst config = {\r\n    'enableTooltips': true\r\n};\r\nui.configure(config);\r\n``` \r\n\r\n## Changelog\r\n\r\n<details>\r\n  <summary><code>docs/tutorials/ui-customization.md</code></summary>\r\n\r\nAdds a brief description and example for the `enableTooltips` configuration.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/airplay_button.js</code>, <code>ui/fullscreen_button.js</code>, \r\n          <code>ui/cast_button.js</code>, <code>ui/loop_button.js</code>, \r\n          <code>ui/mute_button.js</code>, <code>ui/overflow_menu.js</code>, \r\n          <code>ui/small_play_button.js</code></summary>\r\n\r\nAdds a regular tooltip, based on the `aria-label` attribute of the button.\r\n</details>\r\n\r\n\r\n<details>\r\n  <summary><code>ui/audio_language_selection.js</code>, <code>ui/fast_forward_button.js</code>\r\n          <code>ui/playback_rate_selection.js</code>, <code>ui/resolution_selection.js</code>, \r\n          <code>ui/rewind_button.js</code>, <code>ui/text_selection.js</code></summary>\r\n\r\nAdds a status tooltip, based on the `aria-label` and `shaka-status` attributes of the button.\r\n\r\nAs defined on `ui/less/tooltip.less`, the `content` of the tooltip will be displayed as \"`aria-label` (`shaka-status`)\", with the status attribute updated every time a different selection on the button is made.\r\n\r\nOn same cases, a selection is not made by default, so a default `shaka-status` is added.\r\n</details>\r\n\r\n\r\n<details>\r\n  <summary><code>ui/controls.js</code></summary>\r\n\r\nAdds the `.shaka-tooltips-on` class to the control panel when `enableTooltips` is set to true.\r\n</details>\r\n\r\n\r\n<details>\r\n  <summary><code>ui/controls.less</code></summary>\r\n\r\nImports the new `tooltip.less` file.\r\n</details>\r\n\r\n\r\n<details>\r\n  <summary><code>ui/externs/ui.js</code></summary>\r\n\r\nAdds the `enableTooltips` option to the configuration.\r\n</details>\r\n\r\n\r\n<details>\r\n  <summary><code>ui/tooltip.less</code></summary>\r\n\r\nA new tooltip class is added.\r\n\r\nIt uses the `aria-label` and `shaka-status` attributes as content inside the `after` pseudo-element, and is positioned centered on top of the recipient buttons on `hover`, `focus-visible` and `active`.\r\n\r\n`button:first-child` and `button:last-child` selectors are adapted to maintain the first and last tooltips inside the control panel margin, overriding the original centering on top.\r\n\r\nTooltips are only present when `enableTooltips` is set to true, and have `.shaka-tooltips-on` as a parent, and will not appear in the overflow menu. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/ui.js</code></summary>\r\n\r\nDefaults the `enableTooltips` configuration option to false.\r\n</details>\r\n\r\n\r\n## Checklist\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code\r\n- [x] I have made the corresponding changes to the documentation\r\n- [x] My changes generate no new warnings\r\n- [x] I have run ./build/all.py and the build passes\r\n- [x] I have run ./build/test.py and all tests pass",
    "head_branch": "feat-3269-tooltip",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ui): Add tooltips to control panel buttons (#3572)\n\nAdds configurable tooltips that display the function of buttons in the control panel.\r\nCloses: #3269"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2a6d6ca63ac8d88f573",
    "number": 3570,
    "body": "Maybe related to: #3530",
    "head_branch": "file-mediacapabilites-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix: Add support to file type in mediaCapabilities implementation (#3570)\n\nIf it's srcEquals, the 'type' element of the input object when querying mediaCapabilities should be 'file'. Otherwise it should be 'media-source' .\r\nIssue: #3530"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2a7d6ca63ac8d88f574",
    "number": 3569,
    "body": "Maybe related to: https://github.com/google/shaka-player/issues/3530",
    "head_branch": "file-decodingInfo",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Add support to file type in MediaCapabilities polyfill (#3569)\n\nIssue: #3530"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2a8d6ca63ac8d88f575",
    "number": 3568,
    "body": "This are few errors which I found in the readme file\r\nI am looking forward to be a part of this community.\r\n\r\n## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Small grammar change in README.md (#3568)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2a9d6ca63ac8d88f576",
    "number": 3566,
    "body": "## Description\r\n\r\nAvoiding faking `vp09` as `vp9` codec on LG webOS to ensure such streams can still be played.\r\n\r\nFixes #3540\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\nN/A\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix/3540/polyfill-vp09-webOS",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix vp09 playback on webOS (#3566)\n\nSkip the vp09 polyfill for isTypeSupported on this platform."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2aad6ca63ac8d88f577",
    "number": 3562,
    "body": "## Description\r\n\r\nFixes: #3541\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "DaveOkpare-patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2abd6ca63ac8d88f578",
    "number": 3556,
    "body": "## Description\r\nFixes #3555 \r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix_captions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Display captions with forward slashes (#3556)\n\nCloses #3555 ."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2acd6ca63ac8d88f579",
    "number": 3548,
    "body": "The present pull request aims to provide a solution to #2607 (Add stats for nerds to UI (in the same way as youtube)) by adding a right-click context menu and the statistics button to the UI.\r\n\r\n## Example\r\n\r\n<p align=center>\r\n<img src=\"https://nbcl.github.io/images/stats.png\" width=600>\r\n</p>\r\n\r\n## How to preview\r\n\r\nInitialize the client with a `config` that that assigns `true` to the `customContextMenu` option, contains `statistics` in the `contextMenuElements` array and sets an `statisticsList` array with the desired statistics.\r\n\r\n```js\r\nconst config = {\r\n    'customContextMenu': true,\r\n    'contextMenuElements': ['statistics']\r\n    'statisticsList': [... 'playTime', 'pauseTime', 'width', 'height', ...]\r\n};\r\nui.configure(config);\r\n``` \r\n\r\n## Changelog\r\n\r\n<details>\r\n  <summary><code>build/types/ui</code></summary>\r\n\r\nAdds the `statistics_button.js` and `context_menu.js` paths to the UI types file. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>docs/tutorials/ui-customization.md</code></summary>\r\n\r\nA description of the `statistics` and `customContextMenu` configuration options is provided together with an example on how to include them in `ui.configure()`.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>shaka-player.uncompiled.js</code></summary>\r\n\r\nAdds the require for `StatisticsButton` and `ContextMenu` for the uncompiled version of the library.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>test/ui/ui_unit.js</code></summary>\r\n\r\nAdds tests for both components.\r\n\r\nOn the second test for the statistics context menu, although there is a delay of 0.2, only a buffering time of 0.1 is expected (`expect(bufferingTime).toBeGreaterThanOrEqual(0.1);`), this is due to the `shaka.util.Timer` on the button only ticking every 0.1. The equality margin could be needed in some cases (Shaka Bot on `Chrome 91.0.4472.114 (Linux x86_64)`) and is explained in #3494.\r\n</details>\r\n\r\n\r\n<details>\r\n  <summary><code>ui/context_menu.js</code></summary>\r\n\r\nA new context menu element is added to the UI. The structure to build the context menu is exactly the same as the currently existing overflow menu, replicating the use of the existing `registerElement()`, `createChildren_()` and `release()` functionalities for factories, children and release handling.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/controls.js</code></summary>\r\n\r\nFollowing the same structure of other boolean UI elements (like `addBigPlayButton` or `addBigPlayButton`), the context menu \r\n is added in the controls when `customContextMenu` is true.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/enums.js</code></summary>\r\n\r\nAdds two additional Material Design Icons to be used in the statistics button.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/externs/ui.js</code></summary>\r\n\r\nThe new `statisticsList` property is added, giving the option to select specific statistics for the button.\r\n\r\nThe new `contextMenuElements` property is added, giving the option to select elements to appear inside the context menu. Currently, this array can only contain `'statistics'`, as there are no other elements for the menu. \r\n\r\nThe new `customContextMenu` boolean is added, giving the option to display a custom context menu. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/less/container.less</code></summary>\r\n\r\nA new `.shaka-context-menu` class is created to declare the styles of the context menu.\r\n\r\nA new `.shaka-statistics-container` class is created to declare the styles of the container that displays the statistics.\r\n\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/locales/en.json</code></summary>\r\n\r\nThe statistics button name is added only in `en.json` as an example. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/locales/source.json</code></summary>\r\n\r\nThe statistics button name and description are added to the locales source. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/statistics_button.js</code></summary>\r\n\r\nUsing `shaka.util.Timer`, `player.get_stats()` is called repeatedly when the statistics container is displayed.\r\n\r\nStatistics recovered from the Stats extern are assigned a specific unit category on `parseFrom_`, which connects to a function defined in `parseTo_` that parses the current value to an easily readable output.\r\n\r\n`generateComponent_(name)` receives the name of the statistic and creates a div with the name and parsed current value (i.e: width: 1080px) that is added to the statistics container on `onTimerTick_()`.\r\n\r\nAll of the `value` spans are stored in `this.displayedElements_` and are later updated directly to avoid performance loss.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/ui.js</code></summary>\r\n\r\nThe default configuration of `statisticsList` is added, displaying almost all of the available statistics, with the exception of `stateHistory` and `switchHistory`. Additionally, they are displayed in an order that when later parsed in the container, visually groups together the statistics of the same unit category.\r\n\r\nThe default `contextMenuElements` configuration includes `statistics` only, as it is the only button available in the context menu. \r\n\r\nThe `customContextMenu` boolean is false by default to avoid affecting existing applications.\r\n</details>\r\n\r\n\r\n## Checklist\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code\r\n- [x] I have made the corresponding changes to the documentation\r\n- [x] My changes generate no new warnings\r\n- [x] I have run ./build/all.py and the build passes\r\n- [x] I have run ./build/test.py and all tests pass",
    "head_branch": "feat-2607-context",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ui): Add right-click context menu, statistics button (#3548)\n\nCloses #2607"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2add6ca63ac8d88f57a",
    "number": 3547,
    "body": "add docker-compose.yml and Dockerfile to compile shaka inside container; reference it on docs;\r\n\r\n## Description\r\n\r\nMany devs using Shaka and wishing to compile the library are required to install all prerequisites on their machine. For docker devs, this is extremely bad as it requires installing Java and Python on OS.\r\nThis commit adds a basic configuration for quick compilation via Docker, without requiring any other prerequisites. Improvements can be made in order to allow all Shaka workflow inside Docker.\r\nSuggested in #181\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works [not applicable/not auto-testable]\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n\r\nBEGIN_COMMIT_OVERRIDE\r\nfeat: Add Dockerfile and docker build instructions\r\nEND_COMMIT_OVERRIDE",
    "head_branch": "docker-compiler",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add Dockerfile and docker build instructions (#3547)\n\nMany devs using Shaka and wishing to compile the library are required to install all prerequisites on their machine. For docker devs, this is extremely bad as it requires installing Java and Python on OS.\r\nThis commit adds a basic configuration for quick compilation via Docker, without requiring any other prerequisites. Improvements can be made in order to allow all Shaka workflow inside Docker.\r\n\r\nSuggested in #181"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2aed6ca63ac8d88f57b",
    "number": 3545,
    "body": "## Description\r\nPreviously we ban Element.chidren in https://github.com/google/shaka-player/commit/b641a24acf8482cf901d47908283b0d692a66299\r\n\r\nBecause we have dropped support for IE, we can bring this back ? cc @theodab \r\n\r\nI see that in https://github.com/google/shaka-player/blob/master/lib/text/vtt_text_parser.js#L507-L516\r\nI think what he want is `Element.children` and since we ban that, he have to hack around that limitation (cc @avelad)\r\n\r\n## Checklist:\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n",
    "head_branch": "patch-4",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2afd6ca63ac8d88f57c",
    "number": 3531,
    "body": "Related to https://github.com/google/shaka-player/issues/3530",
    "head_branch": "fix-m3u8-check",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix: FairPlay playback (#3531)\n\nFix the URI in onInitializeSrcEqualsDrm_ ."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b0d6ca63ac8d88f57d",
    "number": 3527,
    "body": "Add goToLive method to the Player. This new method is very useful in live streams.",
    "head_branch": "go-to-live-method",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add goToLive method (#3527)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b1d6ca63ac8d88f57e",
    "number": 3525,
    "body": "## Description\r\nFixes #3524 by ignorning a parent cue with an infinite time range and just processsing its nested children so their respective time ranges are respected.\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n![image](https://user-images.githubusercontent.com/37144605/125613698-1b0a6bb0-0080-42e2-bfd3-71b4c72bbffe.png)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix/nested-cues-infinite-range-parent",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b2d6ca63ac8d88f57f",
    "number": 3522,
    "body": "## Description\r\nTTML Parser can produce multiple depth nested cues where colors set at one level need to be applied down further.\r\nFixes #3521 by ensuring the `parentCue` is considered for bg/color in the Text Displayer passing null at the top layer and the parent down whenever processing nesting of cues.\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n<img width=\"728\" alt=\"Screenshot 2021-07-13 at 19 55 45\" src=\"https://user-images.githubusercontent.com/37144605/125509341-b3fbe898-5ebe-4c7c-ab26-86ce5ba50cf3.png\">\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "3521/fix/double-nested-color-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b3d6ca63ac8d88f580",
    "number": 3516,
    "body": "## Description\r\n Fix Y position calculation for the `getThumbnails` funtion.\r\n Fixes #3511 \r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "thumbnail-position-calculation",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix thumbnail position calculation (#3516)\n\nFix Y position calculation for the `getThumbnails` function of Player.\r\n\r\nFixes #3511"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b3d6ca63ac8d88f581",
    "number": 3515,
    "body": "Close: https://github.com/google/shaka-player/issues/3495",
    "head_branch": "replay-button-rewind",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix(UI): Update Play icon after seeking from end (#3515)\n\nWe change the \"play\" button icon to become \"rewind\" when the video ends.\r\nHowever, previously we did not update the icon again when seeking.\r\nThis would lead to the icon still looking like a \"rewind\" button if\r\nthe user seeks back from the end of the video.\r\nThis fixes that, by making the button listen to \"seeking\" events."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b4d6ca63ac8d88f582",
    "number": 3514,
    "body": "Close: https://github.com/google/shaka-player/issues/3511",
    "head_branch": "getThumbnails-y-position",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b5d6ca63ac8d88f583",
    "number": 3513,
    "body": "Close: https://github.com/google/shaka-player/issues/3512",
    "head_branch": "replay-aria-label",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix: Fix ARIA label on replay button (#3513)\n\nClose: #3512"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b6d6ca63ac8d88f584",
    "number": 3497,
    "body": "Close: https://github.com/google/shaka-player/issues/3376",
    "head_branch": "manifest-transition",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix DASH transition from dynamic to static (#3497)\n\nClose: #3376"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b7d6ca63ac8d88f585",
    "number": 3494,
    "body": "The present pull request provides a solution to #2607 (Add stats for nerds to UI (in the same way as YouTube)) by adding a new statistics button to the UI.\r\n\r\n## Example\r\n\r\n<p align=center>\r\n<img src=\"https://nbcl.github.io/images/statistics.png\" width=600>\r\n</p>\r\n\r\n## How to preview\r\n\r\nInitialize the client with a `config` that includes `statistics` on either the `controlPanelElements` or `overflowMenuButtons` sections and optionally, select the desired `statisticsList` to display, as follows.\r\n\r\n```js\r\nconst config = {\r\n    'controlPanelElements': [... 'statistics', ...],\r\n    'statisticsList': [... 'playTime', 'pauseTime', 'width', 'height', ...]\r\n};\r\nui.configure(config);\r\n``` \r\n\r\n## Changelog\r\n\r\n<details>\r\n  <summary><code>build/types/ui</code></summary>\r\n\r\nAdded the `statistics_button.js` path to the UI types file. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>docs/tutorials/ui-customization.md</code></summary>\r\n\r\nThe `statistics` button was added to both `controlPanelElements` and `overflowMenuButtons` lists, and an aditional section was added to explain the list configuration.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>shaka-player.uncompiled.js</code></summary>\r\n\r\nAdds `shaka.ui.StatisticsButton` for the uncompiled version of the library.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>test/ui/ui_unit.js</code></summary>\r\n\r\nAdds tests to the button. On the second test, although there is a delay of 0.2, only a buffering time of 0.1 is expected (`expect(bufferingTime).toBeGreaterThan(0.1);`), this is due to the `shaka.util.Timer` on the button only ticking every 0.1.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/enums.js</code></summary>\r\n\r\nAdds two additional Material Design Icons to be used in the statistics button.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/externs/ui.js</code></summary>\r\n\r\nThe new `statisticsList` is added, giving the option to select specific statistics for the button.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/less/container.less</code></summary>\r\n\r\nA new `.shaka-statistics-container` class is created to declare the styles of the container.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/locales/en.json</code></summary>\r\n\r\nThe statistics button name is added to `en.json` as an example. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/locales/source.json</code></summary>\r\n\r\nThe statistics button name and description are added to the `locales` source. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/statistics_button.js</code></summary>\r\n\r\nUsing `shaka.util.Timer`, `player.get_stats()` is called periodically when the statistics container is displayed.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/ui.js</code></summary>\r\n\r\nThe default configuration of `statisticsList` is added, displaying almost all of the available statistics, with the exception of `stateHistory` and `switchHistory`. Additionally, they are displayed in alphabetical order with the exception of `width` and `height`, which were moved to the top.\r\n</details>\r\n\r\n\r\n## Checklist\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code\r\n- [x] I have made the corresponding changes to the documentation\r\n- [x] My changes generate no new warnings\r\n- [x] I have run ./build/all.py and the build passes\r\n- [x] I have run ./build/test.py and all tests pass",
    "head_branch": "feat-2607",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b8d6ca63ac8d88f586",
    "number": 3491,
    "body": "## Description\r\nImplements #3434\r\n\r\nAdded method `Player.setStartTime(startTime: number)` which can be used to update the stream start position in the `manifestparsed` event handler based on information obtained from the manifest, such as the position and duration of ad breaks. This is done in a way that avoids unnecessary fetching of segments at the beginning of the stream prior to  fetching segments at the desired start position.\r\n\r\nThis change reduces our VOD DAI stream start times from ~4.5 to ~3.5 seconds, which has a measurable effect on our QOS metrics.\r\n\r\nNote that I tried to implement this by setting the value of `player.getMediaElement().currentTime` in the `manifestparsed` event handler, but that did not work with Safari. \r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [x] This change requires a documentation update - new function Player.setStartTime(startTime:number)\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "setStartTimeInManifestParsed",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Feat(player): Add updateStartTime method to play (#3491)\n\nThis provides a way to decide on a start time after the manifestparsed event,\r\nbut before the load process ends."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2b9d6ca63ac8d88f587",
    "number": 3489,
    "body": "Related to: https://github.com/google/shaka-player/issues/3378",
    "head_branch": "setAttribute-aria",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix(UI): Stop using setAttribute for ARIA (#3489)\n\n* Stop using setAttribute for ARIA\r\n* Remove references to shaka.ui.Constants.ARIA_LABEL"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2bad6ca63ac8d88f588",
    "number": 3485,
    "body": "\r\n## Description\r\nimplements #3434 \r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass - except for Safari\r\n",
    "head_branch": "setCurrentTimeInManifestParsed",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2bbd6ca63ac8d88f589",
    "number": 3483,
    "body": "Close: https://github.com/google/shaka-player/pull/3332",
    "head_branch": "frequentManifestUpdates",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Support frequent updates during streaming (#3483)\n\nClose: #3332"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2bcd6ca63ac8d88f58a",
    "number": 3480,
    "body": "\r\n## Description\r\nImplements #3339\r\n\r\nAdded support for efficient preprocessing of DASH manifest after they have been parsed into an XMLDocument\r\n\r\nThis is configure with the new manifest.dash.manifestPreprocessor  setting.\r\n\r\nThis is need to efficiently repair manifests that are not compatible with Shaka player.\r\n\r\n## Type of change\r\n\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] This change requires a documentation update\r\n\r\nDocumentation for DashManifestConfiguration changes\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "dashManifestPreprocessor",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add callback for apps to pre-process DASH manifests (#3480)\n\nAdded support for efficient preprocessing of DASH manifest after they have been parsed into an XMLDocument\r\n\r\nThis is configured with the new manifest.dash.manifestPreprocessor setting.\r\n\r\nThis is need to efficiently repair manifests that are not compatible with Shaka Player.\r\n\r\nCloses #3339"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2bdd6ca63ac8d88f58b",
    "number": 3479,
    "body": "## Description\r\n\r\nFixes #3384 \r\n\r\nstreaming_engine maintains a reference to ongoing fetch operations for\r\nvideo, audio and text segments. Using these references, the fetch\r\noperations may be cancelled (e.g. due to a seek).\r\nImmediately following a seek, fetch operations were started for init\r\nsegments and media segments. Upon completion of the init segment\r\noperation the reference to the media segment operation was overwritten\r\nwith null, so could not be cancelled.\r\n\r\nThis was particularly evident on platforms where the seek bar is\r\ndragged, as this produces multiple seeks. When dragging backwards it\r\nwas possible for the buffer to contain segments beyond the play head.\r\n\r\nThe solution is to await completion of the init segment fetch before\r\nstarting the media segment fetch.\r\n## Type of change\r\n\r\n- [X ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x ] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ x] I have verified my change on multiple browsers on different platforms\r\n- [ x] I have run `./build/all.py` and the build passes\r\n- [ x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix-dragback-seek",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix hung playback on rapid seek (#3479)\n\nstreaming_engine maintains a reference to ongoing fetch operations for\r\nvideo, audio and text segments. Using these references, the fetch\r\noperations may be cancelled (e.g. due to a seek).\r\nImmediately following a seek, fetch operations were started for init\r\nsegments and media segments. Upon completion of the init segment\r\noperation the reference to the media segment operation was overwritten\r\nwith null, so could not be cancelled.\r\n\r\nThis was particularly evident on platforms where the seek bar is\r\ndragged, as this produces multiple seeks. When dragging backwards it\r\nwas possible for the buffer to contain segments beyond the play head.\r\n\r\nThe solution is to await completion of the init segment fetch before\r\nstarting the media segment fetch.\r\n\r\nFixed #3384"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2bed6ca63ac8d88f58c",
    "number": 3477,
    "body": "Close: https://github.com/google/shaka-player/issues/3450",
    "head_branch": "clear-buffer-selectVariantTrack",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix: Fix clearing buffer when requested for already-selected variant (#3477)\n\nClose: #3450"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2bfd6ca63ac8d88f58d",
    "number": 3476,
    "body": "Close: https://github.com/google/shaka-player/issues/3463",
    "head_branch": "cc-rapid-seek",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix: Show captions with rapid seek when ignoreTextStreamFailures is true (#3476)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c0d6ca63ac8d88f58e",
    "number": 3472,
    "body": "When sending a video to an AirPlay target, such as an Apple TV or a TV\r\nwith AirPlay built in, it can become impossible to change from one\r\naudio language, to a second audio language, then return to the first\r\naudio language.\r\n\r\nWhen enabling a new audio track, it is assumed that\r\nall other tracks will be disabled. However, while sending media to the\r\nAirPlay target, no tracks are automatically disabled. As a result, it\r\nwould become impossible to reselect certain audio tracks as the player\r\nwould keep playing an enabled track, even if it isn't the most recently\r\nenabled track.\r\n\r\nIssue #3125\r\n\r\n## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [X] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [X] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "bugfix/issue-3125",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix audio language switching while using AirPlay (#3472)\n\nWhen sending a video to an AirPlay target, such as an Apple TV or a TV\r\nwith AirPlay built in, it can become impossible to change from one\r\naudio language, to a second audio language, then return to the first\r\naudio language.\r\n\r\nWhen enabling a new audio track, it is assumed that\r\nall other tracks will be disabled. However, while sending media to the\r\nAirPlay target, no tracks are automatically disabled. As a result, it\r\nwould become impossible to reselect certain audio tracks as the player\r\nwould keep playing an enabled track, even if it isn't the most recently\r\nenabled track.\r\n\r\nCloses #3125"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c1d6ca63ac8d88f58f",
    "number": 3465,
    "body": "The present pull request aims to provide a solution to #2676 (Add overflowMenuButtons to the UI bar) by making the Quality, Language, Playback and Captions buttons available in the UI control panel.\r\n\r\n## Preview\r\n\r\n<p align=center>\r\n<img src=\"https://nbcl.github.io/images/menu.png\" width=400>\r\n</p>\r\n\r\n## Configuration\r\n\r\nInitialize the client with a `config` that includes `captions`, `language`, `captions` and `quality` on `controlPanelElements`, as follows.\r\n\r\n```js\r\nconst config = {\r\n    'controlPanelElements': [... 'playback_rate', 'language', 'captions', 'quality', ...],\r\n};\r\nui.configure(config);\r\n``` \r\n\r\n## Changelog\r\n\r\n<details>\r\n  <summary><code>docs/tutorials/ui-customization.md</code></summary>\r\nThe new buttons were added to the `controlPanelElements` list in the documentation. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>test/ui/ui_unit.js</code></summary>\r\nAdditional unit tests were provided to check the submenus functionality.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/audio_language_selection.js</code></summary>\r\nExposes the language button as a control panel option. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/controls.js</code></summary>\r\nA click event listener is present to hide settings menus when clicking in the control panel, now that new buttons that open said menus are present in the control panel, this measure must be prevented to avoid an \"instant open-close\" behavior.\r\n\r\nAn additional event listener was added to close other submenus when opening one.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/enums.js</code></summary>\r\nNew `CLOSE` and `CLOSED_CAPTIONS_OFF` icons were added, to be used in `ui/settings_menu.js` and `ui/text_selection.js` respectively.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/overflow_menu.less</code></summary>\r\nPreviously, the captions button reflected the toggle status with a color change between black and grey. Now that the button is available on the control panel, this styles were removed as the change is signalized with an icon change to maintain the white color present in the other buttons of the panel. \r\n\r\nAnother possible option would be changing between the \"Material Icons Outlined\" and \"Material Icons Round\" fonts which would require importing the former as new font.   \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/overflow_menu.js</code></summary>\r\nButtons that open submenus are initially built with a \"Close\" option. When present in the overflow menu, that option is replaced with a \"Back\" option to return to the main menu.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/playback_rate.js</code></summary>\r\nExposes the `playback_rate` button as a control panel option. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/resolution_selection.js</code></summary>\r\nExposes the `quality` button as a control panel option. \r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/settings_menu.js</code></summary>\r\nTwo CSS classes were added,`shaka-overflow-menu-only` (pre-existing) that hides the text label when present in the control panel, and `shaka-overflow-button` (new) which denies the \"open-close\" behavior described in `ui/controls.js`.\r\n\r\nSettings menu are now also built with a close button by default, which is then replaced with a back button, in `ui/overflow_menu.js`, exclusively if they are part of the overflow menu.\r\n</details>\r\n\r\n<details>\r\n  <summary><code>ui/text_selecion.js</code></summary>\r\nExposes the captions button as a control panel option, and replaces the previously existing color change on-toggle.\r\n</details>",
    "head_branch": "feat-2676-submenus",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ui): Add Quality, Language, Playback, Captions buttons to control panel (#3465)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c2d6ca63ac8d88f590",
    "number": 3459,
    "body": "## Description\r\nfix https://github.com/google/shaka-player/issues/3448\r\n\r\nin 2.5.1, we can pick variant track from manifest alone.\r\n\r\nthis functionality is broken from v3.\r\n\r\nthis patch allowed user to pick variant track from streaming event.\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n",
    "head_branch": "patch-3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix choosing tracks from streaming event (#3459)\n\nIn v2.5, we could choose a track explicitly from the \"streaming\" event.  In v3, this was broken.  Now the player will not choose any tracks automatically if explicit tracks were chosen by the app during the \"streaming\" event.\r\n\r\nCloses #3448"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c3d6ca63ac8d88f591",
    "number": 3442,
    "body": "## Description\r\nFAQ docs on how to disable Range header requests at start of HLS playback. Which speeds up start of playback when your server has problems with Range header requests\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: how to disable Range header requests at start of HLS playback (#3442)\n\nCo-authored-by: Artur Finger <artur.finger@nangu.tv>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c4d6ca63ac8d88f592",
    "number": 3438,
    "body": "Prepare step to create canvas text displayer\r\n\r\n## Description\r\nPrepare commit to build a canvas text displayer\r\n\r\nTouch https://github.com/google/shaka-player/issues/3432\r\n\r\n## Type of change\r\n- [x] New feature (non-breaking change which adds functionality)\r\n\r\n## Checklist:\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n",
    "head_branch": "patch-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c4d6ca63ac8d88f593",
    "number": 3428,
    "body": "Related to: https://github.com/google/shaka-player/issues/3422#issuecomment-847291183",
    "head_branch": "hls-average-bandwidth",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(HLS): Prioritize AVERAGE-BANDWIDTH over BANDWIDTH (#3428)\n\nRelated to conversation in #3422"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c5d6ca63ac8d88f594",
    "number": 3427,
    "body": "## Description\r\nThe fake encryption solution implemented for Xbox seems to be failing for streams that have EC-3 tracks so I've added an encryption box for that as well\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "ec3-fake-encryption",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix EC-3 box support in DRM workaround on smart TVs (#3427)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c6d6ca63ac8d88f595",
    "number": 3426,
    "body": "There are measurements that use absolute values in pixels after a conversion. By making this change we force to update the subtitles that are being shown to have the correct dimensions.\r\n\r\nRelated to: https://github.com/google/shaka-player/pull/3414",
    "head_branch": "resize-observer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Force update captions when element resizes (#3426)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c7d6ca63ac8d88f596",
    "number": 3425,
    "body": "## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\nNotice when debug non relevent issue.\r\n\r\nIf we always force update captions, then the logic inside updateCaptions_ does not make sense (as we keep delete/insert cue at lightning speed with every tick update)",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Don't force update captions by default (#3425)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c8d6ca63ac8d88f597",
    "number": 3424,
    "body": "Currently a full chain comparison is done, but in video codecs, you may want H.265/VP9 with no profile preference, with this change it is possible to do this.\r\nExamples:\r\n'hvc1' instead of 'hvc1.1.2.L123.80' and 'hvc1.1.2.L153.80'\r\n'vp09' instead of 'vp09.00.40.08.00.02.02.02.00'\r\n\r\nIssue: #2179",
    "head_branch": "fix-preferred-video-codecs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(CodecPreference): Improve preferredVideoCodecs & preferredAudioCodecs (#3424)\n\nCurrently a full chain comparison is done, but in video and audio codecs, you may want H.265/VP9 with no profile preference, with this change it is possible to do this.\r\nExamples:\r\n'hvc1' instead of 'hvc1.1.2.L123.80' and 'hvc1.1.2.L153.80'\r\n'vp09' instead of 'vp09.00.40.08.00.02.02.02.00'"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2c9d6ca63ac8d88f598",
    "number": 3421,
    "body": "Adds a new autoShowText config to allow apps to choose the behavior of text visibility on startup.\r\n\r\nThe default is the old behavior (`AutoShowText.IF_SUBTITLES_MAY_BE_NEEDED`), which is to auto-enabled text only if we think subtitles may be needed.  This is when the user's preferred audio language is unavailable, but the preferred text language **is** available.\r\n\r\nA new option has been added (`AutoShowText.IF_PREFERRED_TEXT_LANGUAGE`) that will only consider the user's preferred text language.  If a match is found, text is visible on startup.\r\n\r\nFinally, we add two additional options that are extremely simple: `AutoShowText.ALWAYS` and `AutoShowText.NEVER`.  Applications that want complete control over text visibility without any \"smart\" choices made by the player can use these options.",
    "head_branch": "fix-start-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: New autoShowText config to change initial text visibility behavior (#3421)\n\nAdds a new autoShowText config to allow apps to choose the behavior of text visibility on startup.\r\n\r\nThe default is the old behavior (`AutoShowText.IF_SUBTITLES_MAY_BE_NEEDED`), which is to auto-enabled text only if we think subtitles may be needed.  This is when the user's preferred audio language is unavailable, but the preferred text language **is** available.\r\n\r\nA new option has been added (`AutoShowText.IF_PREFERRED_TEXT_LANGUAGE`) that will only consider the user's preferred text language.  If a match is found, text is visible on startup.\r\n\r\nFinally, we add two additional options that are extremely simple: `AutoShowText.ALWAYS` and `AutoShowText.NEVER`.  Applications that want complete control over text visibility without any \"smart\" choices made by the player can use these options.\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@google.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2cad6ca63ac8d88f599",
    "number": 3419,
    "body": "## Description\r\n\r\nFixes #3354\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n\r\nTesting on other platforms is in still in progress, but I would like to get some early feedback on the proposed changes.\r\n\r\nCould use some guidance on building unit tests for this. I don't currently see any tests the timer based extension and evictions of references for live segment template indexes. \r\n\r\nNote one automated test is failing on Safari, but I don't think it has anything to do with my changes\r\nSafari 14.1 (Mac OS 10.15.7) CastUtils serialize/deserialize TimeRanges deserialize into equivalent objects FAILED\r\n\tError: Timeout - Async function did not complete within 120000ms (set by jasmine.DEFAULT_TIMEOUT_INTERVAL) in node_modules/jasmine-core/lib/jasmine-core/jasmine.js (line 7525)\r\n\t<Jasmine>\r\n\tExpected 0 to be greater than 0.\r\n\t<Jasmine>\r\n\ttest/cast/cast_utils_unit.js:257:9 <- test/cast/cast_utils_unit.js:367:48\r\n\t<Jasmine>\r\n\r\n",
    "head_branch": "dashSegmentTemplatePeriodEnd",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2cbd6ca63ac8d88f59a",
    "number": 3414,
    "body": "There are measurements that use absolute values in pixels after a conversion. By making this change we force to update the subtitles that are being shown to have the correct dimensions.",
    "head_branch": "fullscreenchange-uitextdisplayer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Force update captions with fullscreen (#3414)\n\nThere are measurements that use absolute values in pixels after a conversion. By making this change, we force to update the subtitles that are being shown to have the correct dimensions."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2ccd6ca63ac8d88f59b",
    "number": 3413,
    "body": "This PR adds align and vertical settings to WebVttGenerator",
    "head_branch": "align-vertical-webvtt-generator",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add align and vertical settings to WebVttGenerator (#3413)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2cdd6ca63ac8d88f59c",
    "number": 3412,
    "body": "This PR is only to improve the code health",
    "head_branch": "text-extensions-to-mime-types",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "cleanup: Refactor text extension to mime type map (#3412)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2ced6ca63ac8d88f59d",
    "number": 3411,
    "body": "Close: https://github.com/google/shaka-player/issues/3380",
    "head_branch": "avc1-xbox",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix:Filter unsupported H.264 streams in Xbox (#3411)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2cfd6ca63ac8d88f59e",
    "number": 3409,
    "body": "## Description\r\n\r\nAdded a reference to README to an Github repo that shows how to integrate Shaka Player with Angular\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n- [ X] Slight change to the README.md of the project \r\n\r\n## Checklist:\r\n\r\n- [ X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ X] My code follows the style guidelines of this project\r\n- [ X] I have made corresponding changes to the documentation\r\n- [ X] I have added tests that prove my fix is effective or that my feature works\r\n- [ X] I have verified my change on multiple browsers on different platforms\r\n- [ X] I have run `./build/all.py` and the build passes\r\n- [ X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "add-angular-example",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: add Angular integration link (#3409)\n\nCo-authored-by: Patrick Kalkman <patrick.kalkman@exlrt.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2d0d6ca63ac8d88f59f",
    "number": 3405,
    "body": "## Description\r\nFixes #3404 \r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix-append-buffer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(LL-DASH): Append segment chunk strictly in order (#3405)\n\nAn async process handles the appending of partial segments for LL-DASH.  This fixes the caller to wait on the results, so that partial segments are always appended in order.\r\n\r\nFixes #3404"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2d1d6ca63ac8d88f5a0",
    "number": 3403,
    "body": "## Description\r\nFixes #3402 \r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix-media-out-of-bound",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(LL-DASH): Fix index out of bound issue when parsing mp4 segment (#3403)\n\nFixes #3402"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2d2d6ca63ac8d88f5a1",
    "number": 3401,
    "body": "## Description\r\n\r\nFixes: https://github.com/google/shaka-player/issues/1481\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2d3d6ca63ac8d88f5a2",
    "number": 3399,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\nThe preferredTextRole isn't read again between construction and loading (unlike the preferredTextLanguage), so the configured preferredTextRole is not used to select the text stream at startup.\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "fix-configure-text-role",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: choose the configured preferred text role at start (#3399)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2d4d6ca63ac8d88f5a3",
    "number": 3396,
    "body": "There are currently two errors: STORAGE_LIMIT_REACHED and DOWNLOAD_SIZE_CALLBACK_ERROR.\r\n\r\nThe first error was never thrown because the catch threw the second error. This PR fixes that error.",
    "head_branch": "fix-storage-limit-reached-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix STORAGE_LIMIT_REACHED error masked by DOWNLOAD_SIZE_CALLBACK_ERROR (#3396)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2d5d6ca63ac8d88f5a4",
    "number": 3392,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\ncloses #3389 \r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n\r\n- [x] New feature (non-breaking change which adds functionality)\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "bufferfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add a buffer fullness method (#3392)\n\nCloses #3389"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2d6d6ca63ac8d88f5a5",
    "number": 3387,
    "body": "Close: https://github.com/google/shaka-player/issues/3385",
    "head_branch": "abr-user-preference",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Ignore network changes if ABR is disabled (#3387)\n\nClose: #3385"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2d7d6ca63ac8d88f5a6",
    "number": 3373,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n#3357 \r\n\r\nThis PR adds fast-forward button to the right side of the video and a rewind button to the left side of the video both having a width of 40%. they are hidden and are only shown when the user double taps on the video(left or right side), which seeks the video by 5s forward or backward. it keeps seeking +5 or -5 if the user keeps tapping\r\n\r\nThe changes have been tested in chrome and firefox on windows 8.1. \r\n\r\nThe only glitch I can see is if the browser triggers both `dblclick` and `touchstart` events at once which seeks the video and also makes it go fullscreen. I don't know if any browser does that.\r\n\r\nBoth the buttons are configurable. By default, it is set to true, but can be prevented from getting added.\r\n\r\nThe video can be controlled this way only on touch screen devices because I don't think anyone uses the mouse to double click on a video to forward or rewind. But these buttons could also be added to run on mouse click by few minor changes.\r\n\r\nThe below video shows the working of buttons.\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\nhttps://user-images.githubusercontent.com/71056993/116399181-7ce62280-a7dd-11eb-8f21-e8a527617bb2.mp4\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "addingbuttons",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2d8d6ca63ac8d88f5a7",
    "number": 3372,
    "body": "## Description\r\n\r\n<!--\r\n  All the changes done fixes the issue of not similar cards in the UI. A little of less solves it.\r\n\r\ninitially `mdl-card-wide` has no defined height and width which leads to non similar  cards.\r\nI removed description from the home page in card because it makes a difference in home page and all content page. I think we can create an icon for that.\r\n\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n![oooooo](https://user-images.githubusercontent.com/58463645/116308688-72b82a00-a7c5-11eb-8d19-66ff9ee57dce.PNG)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n![nnnnnn](https://user-images.githubusercontent.com/58463645/116308752-81064600-a7c5-11eb-8138-662088007d8e.PNG)\r\n\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2d9d6ca63ac8d88f5a8",
    "number": 3368,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\nCorrection of typo in project README.\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ x] This change requires a documentation update\r\nThis change is a documentation update\r\n## Checklist:\r\n\r\n- [x ] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ x] My code follows the style guidelines of this project\r\n- [ x] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "Typo-corrections",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(docs): corrects typo in project README (#3368)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2dad6ca63ac8d88f5a9",
    "number": 3365,
    "body": "Close: https://github.com/google/shaka-player/issues/2429",
    "head_branch": "hls-thumbnails",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add support to HLS Image Media Playlists (#3365)\n\nClose: #2429"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2dad6ca63ac8d88f5aa",
    "number": 3358,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\nFixes #1906\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n\r\n\r\nWorks when running alone but doesn't when running with all the other tests (same thing on master)\r\n> Chrome 89.0.4389.128 (Mac OS 10.15.7) Offline stores, plays, and deletes protected content with a persistent license FAILED",
    "head_branch": "feat-server-certificate-uri",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: add serverCertificateUri in DRM advanced config (#3358)\n\nFixes #1906"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2dbd6ca63ac8d88f5ab",
    "number": 3352,
    "body": "## Description\r\n\r\n<!--\r\n  initially X button(drawer-close-button) in the shaka player demo config is not at the center \r\nand no hover effect on settings icon these changes bring drawer-close button to the center\r\nand gives a simplistic hover effect to setting icon\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #3319\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n![o](https://user-images.githubusercontent.com/58463645/115313294-a0332100-a190-11eb-971b-97cbead6c2d1.PNG)\r\n\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n![n](https://user-images.githubusercontent.com/58463645/115313402-d40e4680-a190-11eb-883f-418c6deaeb93.PNG)\r\n\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue             \r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(demo): Fix centering of icons, add hover effect on settings (#3352)\n\nCo-authored-by: Anshgoyal <anshgo01yal@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2dcd6ca63ac8d88f5ac",
    "number": 3350,
    "body": "## Description\r\n\r\nAddition of StreamShark (MetaCDN) HLS and DASH sample content for 180 degree and HD video.\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "metacdn-demo-content",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(demo): DASH and HLS demo content from MetaCDN (#3350)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2ddd6ca63ac8d88f5ad",
    "number": 3349,
    "body": "## Description\r\n\r\nAddition of StreamShark (MetaCDN) HLS and DASH sample content for 180 degree and HD video.\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "asset-addition",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2ded6ca63ac8d88f5ae",
    "number": 3347,
    "body": "Related to: https://github.com/google/shaka-player/issues/3346",
    "head_branch": "fairplay-drm-updates",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Progress toward FairPlay DRM w/ MSE (#3347)\n\nRelated to: #3346"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2dfd6ca63ac8d88f5af",
    "number": 3342,
    "body": "## Description\r\n\r\n<!--\r\n  I have Fixed minor punctuation and grammatical errors\r\n-->\r\n\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Fixed punctuation errors in doc\r\n\r\n## Checklist:\r\n\r\n- [Yes] I have signed the Google CLA <https://cla.developers.google.com>\r\n\r\n",
    "head_branch": "myfront",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fixed minor punctuation and grammatical errors (#3342)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2e0d6ca63ac8d88f5b0",
    "number": 3340,
    "body": "",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Fixed a typo (#3340)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2e1d6ca63ac8d88f5b1",
    "number": 3337,
    "body": "When configuring offline storage in initStorage in initialising storage, an OfflineConfig was used instead of a player config, which worked in v2.5 but not in ~v3.5~ v3.0. Because of this when the final code was run the progress bar wouldn't work properly as progressCallback was not set.\r\n\r\n## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Fix offline tutorial to use the correct config (#3337)\n\nWhen configuring offline storage in initStorage in initialising storage, an OfflineConfig was used instead of a player config, which worked in v2.5 but not in v3.0. Because of this when the final code was run the progress bar wouldn't work properly as progressCallback was not set."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2e2d6ca63ac8d88f5b2",
    "number": 3332,
    "body": "## Description\r\nSupport Frequent Manifest Updates\r\n\r\nI am writing a RTSP manifest plugin, where media samples are pushed to\r\nthe client. I found that there are hard-coded assumptions that manifests\r\nshould not be polled for changes more often than once a second. These\r\nhard-coded assumptions prevent us from achieving the lowest end-to-end\r\nlatency when using partial segments.\r\n\r\nChanges\r\n1) Added a new parameter to the PresentationTimeline constructor,\r\nupdateIntervalSeconds, which is the interval at which the streaming\r\nengine should check the manifest for updates, in seconds. The default\r\nvalue is 1, which matches existing behavior. Added a function,\r\ngetUpdateIntervalSeconds() to retrieve this value. Added unit tests to\r\nverify default value of 1 and the ability to set below 1, and to verify\r\nthat the value is 1 for HLS and Dash.\r\n2) Replaced the hard-coded 1-second assumption in the streaming engine\r\nwith PresentationTimeline.getUpdateIntervalSeconds().\r\n\r\nTesting Procedure\r\n1) Verify that existing manifest plugins are unaffected by this change.\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [X] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [X] My code follows the style guidelines of this project\r\n- [X] I have made corresponding changes to the documentation\r\n- [X] I have added tests that prove my fix is effective or that my feature works\r\n- [X] I have verified my change on multiple browsers on different platforms\r\n- [X] I have run `./build/all.py` and the build passes\r\n- [X] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "raych/frequentManifestUpdates",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2e3d6ca63ac8d88f5b3",
    "number": 3331,
    "body": "## Description\r\nIssue 1030: Fix broken Typescript type declarations\r\n\r\nPartially fixes #1030. The issue was created to track a problem using\r\nShaka from a Typescript project. Inside the issue, a fix was contributed\r\nby @alexandercerutti, although it was acknowledged that the fix was not\r\na complete fix. Event types are still missing, for instance. Having said\r\nthat, it seems the main reason that @alexandercerutti's partial fix\r\nwasn't applied is that @joeyparrish expressed a desire for a small\r\nTypescript sample to be added as an automated test to verify that this\r\nworks.\r\n\r\nChanges\r\n1) Modified generateTsDefs.py to apply the partial fix by\r\n@alexandercerutti.\r\n2) While testing, I discovered that the Windows build produces a broken\r\n.d.ts, because the bytes on Windows (b'?_?.clutz.') are different\r\nthan Linux (b'\\xe0\\xb2\\xa0_\\xe0\\xb2\\xa0.clutz.'). Fixed by adding a\r\nsecond replace pattern for Windows. Since the two are mutually\r\nexclusive, I just run them serially without condition.\r\n3) While verifying, I noticed some unreplaced clutz namespaces. These\r\noccur because instead of \".clutz.\" the pattern is \".clutz \". I looked\r\ninto a couple, they seem to have been supplied because the Closure\r\ncompiler lacks declarations. Added Linux and Windows replacement lines\r\nto assign these to the \"shakaExterns\" namespace.\r\n4) Added a simple Typescript compilation test. I structured the\r\ntsconfig.json to look like a typical usage case where shaka-player is\r\nimported as a node module. Note that if we set skipLibCheck to false,\r\nthis leads to the errors described in Issue #3185, eg. error TS2694:\r\nNamespace 'google.ima.dai.api' has no exported member 'StreamRequest'\r\n(also mentioned in Issue #1030). NOTE that when this test fails, I\r\ncouldn’t figure out how to get the compiler output on-screen, so instead\r\nI provide instructions for re-running the test interactively, which will\r\nproduce the error on-screen.\r\n\r\nTesting Procedure\r\n1) python build/test.py. Confirm pass.\r\n2) Verify that some of the previously unreplaced clutz namespaces, such\r\nas ಠ_ಠ.clutz.AirPlayEvent, are no longer under the ಠ_ಠ.clutz prefix\r\nand instead are under the shakaExterns namespace, and\r\nthat you can compile successfully.\r\n3) Repeat both of the above steps under both Linux and Windows. Confirm\r\nthat the produced .d.ts files differ only in the comments, where the\r\nsource file path is stated.\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [X] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [X] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "raych/issue1030_typescriptTypings",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2e4d6ca63ac8d88f5b4",
    "number": 3330,
    "body": "Related to https://github.com/google/shaka-player/pull/3309#discussion_r612023547",
    "head_branch": "webkit-writing-mode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(UI): Fix writing-mode support in old versions of Tizen and WebOS (#3330)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2e5d6ca63ac8d88f5b5",
    "number": 3329,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [ ] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [ ] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2e6d6ca63ac8d88f5b6",
    "number": 3328,
    "body": "Close: https://github.com/google/shaka-player/issues/3312",
    "head_branch": "cors-issue-external-text",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ios): Fix CORS errors with side-loaded text in src= mode (#3328)\n\nLoading an external VTT text track in src= mode (the only mode on iOS) may require `crossorigin=\"anonymous\"` to be set on the media element.  This will now be done automatically by Shaka Player.\r\n\r\nCloses #3312"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2e7d6ca63ac8d88f5b7",
    "number": 3326,
    "body": "## Description\r\n\r\ncontrols were covering the SkipAd button.\r\nthis commit lifts up the shaka-client-side-ad-container.\r\nalso the shaka-server-side-ad-container was overflowing outside shaka-controls-container, now its shrinkable.\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\n\r\nrefer to #3284 \r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "patch-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ads): Fix the skip ad button not being clickable #3284 (#3326)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2e8d6ca63ac8d88f5b8",
    "number": 3325,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n--> #3142 \r\n\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Assume MP4 if MIME type can't be deduced (#3325)\n\nFixes #3142"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2e9d6ca63ac8d88f5b9",
    "number": 3321,
    "body": "## Description\r\n\r\n\r\n  Related to #2453. Added ```bufferingprogress()``` to ```time_range_utils.js``` which returns the buffered amount as a number. The function could be called while designing the UI.\r\n\r\n\r\n\r\n## Type of change\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] This change may require a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "bufferingprogress",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2ead6ca63ac8d88f5ba",
    "number": 3317,
    "body": "Use target latency in service description to fix long start time in HMS-5920\r\n",
    "head_branch": "fix-long-start-time",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2ebd6ca63ac8d88f5bb",
    "number": 3310,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->the dark mode floating through video panel\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [ ] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [ ] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2ecd6ca63ac8d88f5bc",
    "number": 3309,
    "body": "Related to https://github.com/google/shaka-player/issues/2339\r\n\r\nNote: I do not consider that the issue is closed, because I could have forgotten some section.",
    "head_branch": "remove-ie",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Remove support for IE 11 (#3309)\n\nIssue #2339"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2edd6ca63ac8d88f5bd",
    "number": 3308,
    "body": "Related to: https://github.com/google/shaka-player/issues/1495",
    "head_branch": "test-playready-recomendation",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(drm): add 'com.microsoft.playready.recommendation' to probeSupport (#3308)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2eed6ca63ac8d88f5be",
    "number": 3307,
    "body": "Closes: https://github.com/google/shaka-player/issues/3305",
    "head_branch": "muted-icon",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ui)Update icon doesn't work for 'muted' attribute. (#3307)\n\n* Update icon doesn't work for 'muted' attribute.\r\n\r\n* Fix comment\r\n\r\n* Update PR"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2efd6ca63ac8d88f5bf",
    "number": 3301,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n-->\r\nFollowing #2750 , I've stripped everything talking about playready recommendation and kept only the sessionType override\r\n\r\n> Added a new field in the DRM AdvancedConfig sessionType allowing to force a specific MediaKey session to be created with that sessionType. Particularly useful when we issue purchase licenses, and the whole decryption chain checks for the configuration to be nice & pretty (unlike com.microsoft.playready).\r\n\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to\r\n  not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "configurable-drm-session-type",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: make drm sessionType configurable in advanced DRM config (#3301)\n\nPrerequisite for issue #1495 (com.microsoft.playready.recommendation key system)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f0d6ca63ac8d88f5c0",
    "number": 3294,
    "body": "Closes: https://github.com/google/shaka-player/issues/3097",
    "head_branch": "image-subtitles-ttml",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(TTML): fix image subtitles parsing in TTML (#3294)\n\nTTML allows \"smpte:backgroundImage\" on both the div level and p level. Adding parsing the background images into cues on the div level.\r\n\r\nCloses: #3097\r\nCloses #3248"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f1d6ca63ac8d88f5c1",
    "number": 3288,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change. -->\r\n\r\nThe issue was caused because when the language was changed `onAudioTrackSelected_()` in `audio_language_selection` file changed the language of the track but didn't have any record of present resolution thus changing the resolution. so we could let that change happen and get the changed language and implement a way to change the track again with selected language and selected resolution in `resolution_selected. file. the ui and track change gets triggered by both language and resolution change so we must have code to handle them both in different ways so i implimented a way to change ui and set track in a different way when the varient change is triggered by language change. \r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #3262 \r\n-->\r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "resolutionchange",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f2d6ca63ac8d88f5c2",
    "number": 3287,
    "body": "## Description\r\nFixes #3260 \r\n\r\n\r\n## Type of change\r\n\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n",
    "head_branch": "docschange",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docReplace manually defined links in the doc (#3287)\n\n* REplace manually defined links in the doc\r\n\r\n* Update gsoc-ideas-list.md\r\n\r\n* Update gsoc-ideas-list.md\r\n\r\n* Update gsoc-ideas-list.md\r\n\r\n* Update faq.md\r\n\r\n* Update faq.md\r\n\r\nCo-authored-by: aditmehta9 <aditmehta9@gmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f2d6ca63ac8d88f5c3",
    "number": 3285,
    "body": "## Description\r\n\r\nFix the bug where resolution changes when language is changed.\r\nFixes #3262 \r\n\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n",
    "head_branch": "resolutionchange",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f3d6ca63ac8d88f5c4",
    "number": 3283,
    "body": "## Description\r\n\r\n<!--\r\n  Give the PR a helpful title that summaries what this PR changes. Here, include\r\n  a summary of the change and which issue is fixed. Also include relevant\r\n  motivation and context. List any dependencies that are required for this\r\n  change.\r\n\r\n  If this fixes any issues, include lines like this:\r\n  Fixes #123\r\n--> #3262 \r\n\r\n\r\n## Screenshots (optional)\r\n\r\n<!--\r\n  If you change the UI, add before and after screenshots demonstrating your\r\n  changes.\r\n-->\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] \r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n- [x] I have run `./build/test.py` and all tests pass\r\n",
    "head_branch": "resolution",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f4d6ca63ac8d88f5c5",
    "number": 3280,
    "body": "Related to: https://github.com/google/shaka-player/pull/3145",
    "head_branch": "thumbnails-download",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(thumbnails): Allow download thumbnails (for offline usage) (#3280)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f5d6ca63ac8d88f5c6",
    "number": 3278,
    "body": "## Description\r\nReplaced every manually defined link by @link tag in tutorial.\r\nFixes #3260 \r\n\r\n\r\n\r\n## Type of change\r\n\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [ ] My code follows the style guidelines of this project\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n",
    "head_branch": "updatedocs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f6d6ca63ac8d88f5c7",
    "number": 3277,
    "body": "## Description\r\nFixes bug when language is changed resolution changes.\r\nFixes #3262 \r\n\r\n## Screenshots (optional)\r\n\r\nhttps://drive.google.com/file/d/16bv0eRVwVlSKXuSuvgk3TApAqv9NmSeg/view?usp=sharing\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n## Checklist:\r\n\r\n- [x] I have signed the Google CLA <https://cla.developers.google.com>\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have verified my change on multiple browsers on different platforms\r\n- [x] I have run `./build/all.py` and the build passes\r\n\r\n\r\n",
    "head_branch": "resolutionChange",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f7d6ca63ac8d88f5c8",
    "number": 3276,
    "body": "## Description\r\n\r\nTurns out the solution I developed for PlayReady recommendation (#1495 & #2750) is way too complicated and brings too many different use cases to handle over multiple files to be considered fit to be merged, without being scared for regressions (in my own opinion). Alongside that issue, some errors due to recommendation use could be raised outside the silent try catch, making it quite difficult to debug them for developers\r\n\r\nIn that PR, I make the DASH keySystems configurable so that any developer could chose to opt-in for recommendation based on DASH DRM UUID. \r\n\r\n```js\r\nplayer.configure({\r\n  dash: {\r\n    keySystemsByURI: {\r\n      'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95': 'com.microsoft.playready.recommendation',\r\n      'urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95': 'com.microsoft.playready.recommendation',\r\n    }\r\n  }\r\n});\r\n```\r\n\r\nI'd like to have your opinion on this, and if you're favorable on such a change I would:\r\n- make it really work in the drm_engine (prevent checks to `com.microsoft.playready` only)\r\n- add docs / tests on that PR\r\n- strip #2750 from any recommendation code, and keep the sessionType override\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] My changes generate no new warnings\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "configurable-key-systems",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(drm): make dash keySystems configurable (#3276)\n\nMake the DASH keySystems configurable, so that any developer could chose to opt-in for recommendation based on DASH DRM UUID.\r\n\r\nExample:\r\nplayer.configure({\r\n  dash: {\r\n    keySystemsByURI: {\r\n      'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95': 'com.microsoft.playready.recommendation',\r\n    }\r\n  }\r\n});"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f8d6ca63ac8d88f5c9",
    "number": 3272,
    "body": "fixes the playback speed issue\r\n\r\n## Description\r\n\r\nPlease include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\r\n\r\nFixes # (issue)\r\n\r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have performed a self-review of my own code\r\n- [ ] I have commented my code, particularly in hard-to-understand areas\r\n- [ ] I have made corresponding changes to the documentation\r\n- [ ] My changes generate no new warnings\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "sradhanjan-playback_speed_issue",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2f9d6ca63ac8d88f5ca",
    "number": 3270,
    "body": "Description\r\n\r\nfor better accessibility keyboard shortcuts need to be added. This PR gives implementation of keyboard shortcut (f) which toggles fullscreen view of video. Which can be configured as existing UIConfigurations as follow.\r\nDefaults to `false`\r\n\r\n```\r\nconst config = {\r\n    toggleFullscreenOnfPress: true,\r\n };\r\n```\r\nSuch more shortcuts can be implemented for other frequent controls like Picture in Picture, Mute and Unmute, Captions etc.\r\n\r\nFixes # (partially)\r\n#3223 \r\n\r\n## Screenshots (optional)\r\n\r\n\r\n## Type of change\r\n\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- [x] My changes generate no new warnings\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2fad6ca63ac8d88f5cb",
    "number": 3267,
    "body": "## Description\r\n\r\nPlease include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\r\n\r\nchangeto() function in range_element.js file this.isChanging_ was set to true but never set to false which caused updateTimeAndseekRange() in controls.js to fail. this fixes the bug\r\n\r\nthe second bug was caused because the video.currenttime was set to this.bar.max. I don't know why but the video doesn't get loaded at its max time and after starting to buffer at its max time it never stops buffering. I don't know why it doesn't buffer at its max time but instead of setting video.currenttime to the max value, we could set it to (max-0.125) this wouldn't make any difference because the time difference is very small but it does prevent that bug and video being stuck at buffer state.\r\n\r\nFixes # (issue)\r\n#3234 \r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "seekbar",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ui): Fix holding keyboard controls (#3267)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2fbd6ca63ac8d88f5cc",
    "number": 3266,
    "body": "Creates style tags for cues with underline/italics/bold in WebVttGenerator. Also add support for nestedCues in WebVttGenerator.",
    "head_branch": "styles-webvtt-generator",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(text): Creates style tags for underline/italics/bold in WebVttGenerator (#3266)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2fcd6ca63ac8d88f5cd",
    "number": 3265,
    "body": "With this change it is possible to run the tests in Edge Chromium by default.\r\n\r\nKarma needs to be updated to allow wildcard scoped packages to be used by default, see: https://github.com/karma-runner/karma/pull/3659\r\n\r\nTest results on macOS:\r\n```\r\n./build/test.py\r\n[WARNING] Using default browsers: ['Chrome', 'Edge', 'Firefox', 'Safari']\r\n[INFO] Generating Closure dependencies...\r\n[INFO] Compiling the library (ui, release)...\r\n[INFO] Running test (1 / 1, 0 failed so far)...\r\nChrome 89.0.4389.90 (Mac OS 10.15.7): Executed 2058 of 2096 (skipped 38) SUCCESS (7 mins 14.056 secs / 7 mins 4.732 secs)\r\nEdge 89.0.774.54 (Mac OS 10.15.7): Executed 2011 of 2096 (skipped 85) SUCCESS (7 mins 12.33 secs / 7 mins 4.255 secs)\r\nFirefox 86.0 (Mac OS 10.15): Executed 2011 of 2096 (skipped 85) SUCCESS (7 mins 18.377 secs / 7 mins 9.345 secs)\r\nSafari 14.0.3 (Mac OS 10.15.7): Executed 2011 of 2096 (skipped 85) SUCCESS (7 mins 17.412 secs / 7 mins 6.846 secs)\r\nTOTAL: 8091 SUCCESS\r\n[INFO] Run complete\r\n[INFO] Result (exit code): 0\r\n```",
    "head_branch": "karma-edge",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "test: Allow testing with Edge Chromium in Karma (#3265)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2fdd6ca63ac8d88f5ce",
    "number": 3263,
    "body": "## Description\r\nfor better accessibility keyboard shortcuts need to be added. This PR gives implementation of keyboard shortcut (f) which toggles fullscreen view of video. Which can be configured as existing UIConfigurations as follow.\r\n```\r\nconst config = {\r\n    toggleFullscreenOnfPress: true,\r\n };\r\n```\r\nSuch more shortcuts can be implemented for other frequent controls like Picture in Picture, Mute and Unmute, Captions etc. \r\n\r\nFixes # (issue)\r\n#3223\r\n\r\n## Screenshots (optional)\r\n\r\nhttps://user-images.githubusercontent.com/57591621/111948015-7b517c80-8b04-11eb-9559-5a6f9a650682.mp4\r\n\r\n\r\n\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- [x] My changes generate no new warnings\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2fed6ca63ac8d88f5cf",
    "number": 3259,
    "body": "## Description\r\n\r\nPlease include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\r\n\r\nFixes # (issue)\r\n#3234 \r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\nadded a function onControlsKeyUp()\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n\r\n- [x] My changes generate no new warnings\r\n\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "keyup",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix tracking of pressed keys in the UI (#3259)\n\nIn 77054d21, we made some changes to UI keyboard events that introduced a new bug.  It broke our tracking of pressed keys in the UI, which allows us to observe keyboard navigation through the UI and maintain focus when tabbing through overflow menus.\r\n\r\nThis fixes the tracking of pressed keys by properly removing them from the set on keyup, not keydown events."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a2ffd6ca63ac8d88f5d0",
    "number": 3258,
    "body": "## Description\r\n\r\nPlease include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\r\n\r\nFixes # (issue)\r\n\r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)\r\n- [ ] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] My changes generate no new warnings\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a300d6ca63ac8d88f5d1",
    "number": 3256,
    "body": "## Description\r\n\r\nUpdate in links having event and formatting\r\n\r\n\r\n## Type of change\r\n\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have made corresponding changes to the documentation\r\n- [x] My changes generate no new warnings\r\n",
    "head_branch": "docs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "doc: Update links for event and formatting (#3256)\n\nUpdated JsDoc links for the events of Ads."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a301d6ca63ac8d88f5d2",
    "number": 3255,
    "body": "## Description\r\n\r\nThe present pull request provides a partial solution to #2676 (Add overflowMenuButtons to the UI bar) by making the Picture-in-picture, Loop, Cast and AirPlay buttons available in the UI control panel.\r\n\r\nThe final result is achieved using the [CSS display none approach](https://github.com/google/shaka-player/issues/2676#issuecomment-801642557) suggested by @joeyparrish, and looks as follows:\r\n\r\n<p align=center>\r\n<img src=\"https://nbcl.github.io/images/new_loop.png\" width=400>\r\n</p>\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] This change includes a documentation update\r\n\r\n## Checklist:\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code\r\n- [x] I have made the corresponding changes to the documentation\r\n- [x] My changes generate no new warnings\r\n",
    "head_branch": "feat-2676-display",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ui): Add Loop, PIP, Cast, AirPlay buttons to control panel (#3255)\n\nThese menu items are now available to be placed in the control panel of the UI.\r\n\r\nIssue #2676"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a302d6ca63ac8d88f5d3",
    "number": 3253,
    "body": "## Description\r\nAddition of replay icon after ending of video\r\n\r\nFixes #3247 \r\n\r\n## Screenshots\r\n![image](https://user-images.githubusercontent.com/49227499/111819413-50013e80-8906-11eb-80cd-19182057551e.png)\r\n\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] Breaking change (fix or feature that would cause existing functionality to not work as expected)\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n",
    "head_branch": "replay-icon",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ui): Show replay icon instead of play when video ends (#3253)\n\nFixes #3247\r\n\r\nCo-authored-by: aditmehta9 <aditmehta9@gmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a303d6ca63ac8d88f5d4",
    "number": 3252,
    "body": "## Description\r\n\r\nThis is a fix for an issue where subtitles can appear at the top left and off screen because of miscalculation/scaling of the `percentage` of `origin` and `extent` placement.\r\n- Unit tests separated for a more atomic nature\r\n- New UT added for specific coverage of the fix\r\n- addressing the problem where UT failed after an interaction clash with another fix.\r\n\r\nI have revisited the [previous (closed) pull request](https://github.com/google/shaka-player/pull/3044) after recently rebasing to v3.0.10.\r\nI realised what the reason for the failure on the first attempt, this is now fixed on this branch, so please consider this for inclusion.\r\n\r\nFixes # 3029\r\n\r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "3029-fix-extent-origin-percent",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a304d6ca63ac8d88f5d5",
    "number": 3249,
    "body": "## Description\r\n\r\nCurrently, player buttons clickable area are 24px by 32px which is not close to WCAG guidelines(44px by 44px)\r\n\r\nFixes # (issue)\r\nSolution would be moving margins around buttons to paddings since padding rendered as touchable area. This makes player buttons 34*32px. (and makes focus indicators look nicer too :)\r\n\r\n## Screenshots (optional)\r\n![buttons-touchable-area](https://user-images.githubusercontent.com/29239/111704336-42cd4c80-883f-11eb-98b3-e56c07b7a592.png)\r\n\r\n## Type of change\r\n\r\nTwo CSS changes in the 'containers.less' file and 'general.less' file.\r\n\r\n\r\n- [*] Bug fix (non-breaking change which fixes an issue)\r\n\r\n\r\n## Checklist:\r\n\r\n- [*] My code follows the style guidelines of this project\r\n- [*] I have performed a self-review of my own code\r\n- [*] My changes generate no new warnings\r\n",
    "head_branch": "button-touchable-area",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ui): Widen touchable button area (#3249)\n\nCurrently, player buttons clickable area are 24px by 32px which is not close to WCAG guidelines(44px by 44px)\r\n\r\nSolution would be moving margins around buttons to paddings since padding rendered as touchable area. This makes player buttons 34*32px. (and makes focus indicators look nicer too :)\r\n\r\nCo-authored-by: Joey Parrish <joeyparrish@users.noreply.github.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a305d6ca63ac8d88f5d6",
    "number": 3245,
    "body": "## Description\r\n\r\nPlease include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\r\n\r\nthe issue mentioned in #3234 is fixed.\r\n\r\nhttps://user-images.githubusercontent.com/71056993/111549665-d157a600-8739-11eb-933d-1f6719edfab3.mp4\r\n\r\n.\r\nFixes # (issue)\r\n#3234 \r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n- [x] New feature (non-breaking change which adds functionality)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- [x] My changes generate no new warnings\r\n- [x] I have added tests that prove my fix is effective or that my feature works\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "working",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a306d6ca63ac8d88f5d7",
    "number": 3240,
    "body": "Xlink processing is very slow on some TVs and streaming will probably never use it, so a configuration parameter is created to disable this.",
    "head_branch": "disable-xlink-processing",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add config to disableXlinkProcessing (#3240)\n\nXlink processing is very slow on some TVs.\r\n\r\nThis adds a configuration parameter to disable that feature, for platforms that won't use it."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a306d6ca63ac8d88f5d8",
    "number": 3239,
    "body": "## Description\r\n\r\nAddition of link, and change in formatting in docs.\r\n\r\n## Screenshot\r\n\r\n1st mistake\r\n![image](https://user-images.githubusercontent.com/35133994/111426047-09e78780-871a-11eb-863e-b277116b3422.png)\r\n2nd mistake\r\n![image](https://user-images.githubusercontent.com/35133994/111426156-34d1db80-871a-11eb-9cdf-19b70f3b2f4d.png)\r\n\r\n\r\n## Type of change\r\n\r\n- [x] This change requires a documentation update\r\n",
    "head_branch": "docs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a307d6ca63ac8d88f5d9",
    "number": 3237,
    "body": "## Description\r\n\r\nWas going through the documentation and found some minor fixes related to grammar, formatting etc on different pages.\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] This change requires a documentation update\r\n\r\n\r\n",
    "head_branch": "docs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a308d6ca63ac8d88f5da",
    "number": 3235,
    "body": "Fixes #2863 \r\n\r\n![ezgif-3-410a53c283e6](https://user-images.githubusercontent.com/9411252/111317972-a104fe80-868a-11eb-8ae8-d665db158c07.gif)\r\n\r\ncc @joeyparrish @michellezhuogg \r\n\r\n",
    "head_branch": "accessibility",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a309d6ca63ac8d88f5db",
    "number": 3233,
    "body": "Earlier Play and Pause were implemented on Space but were not working in the original source code. So fixed it.",
    "head_branch": "Space_Play_Pause",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a30ad6ca63ac8d88f5dc",
    "number": 3231,
    "body": "Made some minor changes in UI:\r\n1)As Outline of icons were a quite bit confusing for user when clicking it get's selected which might get user feel that he/she is selecting various options at the time of video streaming. So removed it.\r\n2)Solved Overflow issue.\r\nAlso want to know if instead of giving play button explicitly we can make video streamed on image click is a good approach or not?\r\n\r\n![image](https://user-images.githubusercontent.com/67452891/111205141-eb37a280-85ec-11eb-8c60-252a7e514b1a.png)\r\n\r\n![image](https://user-images.githubusercontent.com/67452891/111205063-cfcc9780-85ec-11eb-90ae-d8e56f545ed2.png)\r\n",
    "head_branch": "UI-change",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a30bd6ca63ac8d88f5dd",
    "number": 3229,
    "body": "As Outline of icons were a quite bit confusing for user when clicking it get's selected which might get user feel that he/she is selecting various options at the time of video streaming. So removed it.\r\nAlso want to know if instead of giving play button explicitly we can make video streamed on image click is a good approach or not?\r\n\r\n![image](https://user-images.githubusercontent.com/67452891/111190548-31850580-85dd-11eb-884d-4557802289ec.png)\r\n\r\n",
    "head_branch": "Outline",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a30cd6ca63ac8d88f5de",
    "number": 3228,
    "body": "## Description\r\n\r\nPlease include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\r\n\r\nFixes # (issue)\r\n\r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n- [ ] New feature (non-breaking change which adds functionality)\r\n- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)\r\n- [x] This change requires a documentation update\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have performed a self-review of my own code\r\n- [ ] I have commented my code, particularly in hard-to-understand areas\r\n- [x] I have made corresponding changes to the documentation\r\n- [ ] My changes generate no new warnings\r\n- [ ] I have added tests that prove my fix is effective or that my feature works\r\n- [ ] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "patch-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a30dd6ca63ac8d88f5df",
    "number": 3227,
    "body": "Closes: https://github.com/google/shaka-player/issues/1582",
    "head_branch": "network-stall-detection",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Network stall detection (#3227)\n\nCloses: #1582"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a30ed6ca63ac8d88f5e0",
    "number": 3226,
    "body": "Closes: https://github.com/google/shaka-player/issues/2813",
    "head_branch": "hdr-metadata-dash",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(Dash): Extract HDR metadata from DASH manifests (#3226)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a30fd6ca63ac8d88f5e1",
    "number": 3225,
    "body": "Issue #1391",
    "head_branch": "media-source-media-cap",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a310d6ca63ac8d88f5e2",
    "number": 3224,
    "body": "Issue #1391",
    "head_branch": "spatial-rendering-media-cap",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(MediaCap): Check spatialRendering against MediaCapabilities (#3224)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a311d6ca63ac8d88f5e3",
    "number": 3222,
    "body": "## Description\r\n\r\nMinor changes in order to improve the documentation.\r\n\r\n## Screenshot\r\n\r\n![Screenshot from 2021-03-15 07-56-34](https://user-images.githubusercontent.com/9411252/111095711-0a3e2200-8564-11eb-84c2-e0c220a768bd.png)\r\n\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] This change requires a documentation update\r\n\r\ncc @michellezhuogg \r\n",
    "head_branch": "documentation",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "doc: minor enhancements (#3222)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a312d6ca63ac8d88f5e4",
    "number": 3220,
    "body": "\r\n## Description\r\n\r\nsome UI improvement for the player:\r\n1) The range element is a special input element so changed cursor changes to pointer when it hovers over any range input element.\r\n2) fixed overflow menu overlapping other controls issue\r\n\r\nFixes #3217\r\n\r\n## Screenshots (optional)\r\ncursor changes to pointer on range elements.\r\n\r\n![fix #1](https://user-images.githubusercontent.com/57630117/111062653-2db78d00-84d0-11eb-8e29-107eb3418e0c.jpeg)\r\n\r\n\r\nfixed overflow menu overlapping other controls issue\r\n\r\n\r\n![Screenshot (165)](https://user-images.githubusercontent.com/57630117/111062666-3dcf6c80-84d0-11eb-8251-6f084c4c55e4.png)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- [x] My changes generate no new warnings\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "minor-ui-improvement",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a312d6ca63ac8d88f5e5",
    "number": 3219,
    "body": "\r\n\r\n## Description\r\n\r\nsome UI improvement for the player:\r\n1) The range element is a special input element so changed cursor changes to pointer when it hovers over any range input element.\r\n2) fixed overflow menu overlapping other controls issue\r\n\r\nFixes #3217\r\n\r\n## Screenshots (optional)\r\ncursor changes to pointer on range elements.\r\n\r\n![fix #1](https://user-images.githubusercontent.com/57630117/111062653-2db78d00-84d0-11eb-8e29-107eb3418e0c.jpeg)\r\n\r\n\r\nfixed overflow menu overlapping other controls issue\r\n\r\n\r\n![Screenshot (165)](https://user-images.githubusercontent.com/57630117/111062666-3dcf6c80-84d0-11eb-8251-6f084c4c55e4.png)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- [x] My changes generate no new warnings\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "minor-ui-improvement",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a313d6ca63ac8d88f5e6",
    "number": 3218,
    "body": "## Description\r\n\r\nWhen overflow menu buttons hover over, we are changing the colors. However, we aren't changing the mouse pointer to indicate action. So this PR will add mouse pointer when they are not disabled from an aria-disabled attribute.\r\n\r\nFixes # (issue)\r\n\r\nAdding 'cursor: pointer' property to the buttons (not disabled from an aria-disabled) will fix half of the problem. Since we have 'labels' inside buttons, we have to apply cursor property to them as well.\r\n\r\n## Screenshots (optional)\r\n![without_cursor_pointer](https://user-images.githubusercontent.com/29239/111053495-98cb7a00-8464-11eb-9ae5-b9e294c0283f.png)\r\n![with_cursor_pointer](https://user-images.githubusercontent.com/29239/111053497-9c5f0100-8464-11eb-87c1-1989c593ebef.png)\r\n\r\n\r\n## Type of change\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n## Checklist:\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n- [x] I have commented my code, particularly in hard-to-understand areas\r\n- [x] My changes generate no new warnings\r\n",
    "head_branch": "overflow-menu",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(UI): Display cursors as pointers on overflow menu buttons(#3218)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a314d6ca63ac8d88f5e7",
    "number": 3214,
    "body": "## Description\r\n\r\nPlease include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\r\n\r\nissue #2985 occurs in windows . replacing '\\\\' with '/' fixes the error for windows but impling the changes to all platforms may result in errors so an if condition is added to replace slashes only in windows . \r\n\r\nthere was a ';' inside check.py which i believe was a syntax error so removed it .\r\nFixes # (issue)\r\n\r\n#2985 \r\n\r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] Bug fix (non-breaking change which fixes an issue)\r\n\r\n\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [x] My code follows the style guidelines of this project\r\n- [x] I have performed a self-review of my own code\r\n\r\n\r\n- [x] My changes generate no new warnings\r\n\r\n- [x] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(build): Fix stylelint on Windows (#3214)\n\nFixes #2985"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a315d6ca63ac8d88f5e8",
    "number": 3211,
    "body": "## Description\r\n\r\nPlease include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\r\nModule named io is imported and io.open() is used instead of open() for fixing encoding error which occurs in python2 .\r\nadded encoding type as utf-8 in line 251 for fixing UnicodeDecodeError\r\nFixes # (issue)\r\n#3208\r\n#3204\r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have performed a self-review of my own code\r\n\r\n\r\n\r\n- [ ] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fixed windows build error (#3211)\n\nCloses #3208\r\nCloses #3204"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a316d6ca63ac8d88f5e9",
    "number": 3210,
    "body": "## Description\r\n\r\nPlease include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\r\nModule named io is imported and io.open() is used instead of open() for fixing encoding error which occurs in python2 .\r\nadded encoding type as utf-8 in line 251 for fixing UnicodeDecodeError\r\nFixes # (issue)\r\n#3208\r\n#3204\r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have performed a self-review of my own code\r\n\r\n\r\n\r\n- [ ] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a317d6ca63ac8d88f5ea",
    "number": 3209,
    "body": "## Description\r\n\r\nPlease include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change.\r\nModule named io is imported and io.open() is used instead of open() for fixing encoding error which occurs in python2 .\r\nadded encoding type as utf-8 in line 251 for fixing UnicodeDecodeError\r\nFixes # (issue)\r\n#3208 \r\n#3204\r\n## Screenshots (optional)\r\n\r\n## Type of change\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [ ] Bug fix (non-breaking change which fixes an issue)\r\n\r\n\r\n\r\n## Checklist:\r\n\r\n<!--Please delete options that are not relevant.-->\r\n\r\n- [ ] My code follows the style guidelines of this project\r\n- [ ] I have performed a self-review of my own code\r\n- [ ] New and existing unit tests pass locally with my changes\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a318d6ca63ac8d88f5eb",
    "number": 3208,
    "body": "fixes #3204 \r\n\r\nAdded `encoding='utf8' to the arguments of open() which no longer shows an error and works fine`",
    "head_branch": "encodefix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a319d6ca63ac8d88f5ec",
    "number": 3207,
    "body": "Fixes: #3201 \r\nPull Request template still does not show up.\r\n\r\nIn PR #3202 , the PR template was added in the wrong folder directory.\r\nGitHub by default load the file `.github/pull_request_template.md` as the PR template. \r\nThe PR earlier was added in `.github/ISSUE_TEMPLATE/pull_request_template.md` due to which it is'nt showing up :)",
    "head_branch": "pr_template_fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fixed Pull Request template folder directory (#3207)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a31ad6ca63ac8d88f5ed",
    "number": 3206,
    "body": "Corrected some typos & corrected some spellings",
    "head_branch": "typos",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Fixed outdated info in \"contributing\" doc(#3206)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a31bd6ca63ac8d88f5ee",
    "number": 3202,
    "body": "#3201\r\n\r\nAdd a pull request template.\r\n\r\nComes in handy to guide contributors to fill PR descriptions to the point.",
    "head_branch": "PR-template",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Added PR Template (#3202)\n\nCloses #3201"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a31cd6ca63ac8d88f5ef",
    "number": 3200,
    "body": "#2316 ",
    "head_branch": "close_button",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a31dd6ca63ac8d88f5f0",
    "number": 3198,
    "body": "The entries in the emsg v1 box are in media time units. \r\nHowever the 'emsg' event is supposed to have the start/end times in presentation time units.\r\nThe current code works when timestamps start at 0 but fails when timestamps start at non-zero timestamps.",
    "head_branch": "emsg_timestamp",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix v1 emsg box start/end times (#3198)\n\nThe start/end times of emsg event must be in presentation time units.\r\nFix the bug where times are incorrect when the timestamps do not start at 0.\r\nFor emsg v1 the entries in the box are in media time units.\r\nConvert them back to presentation time units by subtracing the offset before raising the event."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a31ed6ca63ac8d88f5f1",
    "number": 3183,
    "body": "",
    "head_branch": "support-webvtt-default-text-color",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Support WebVTT default text color and default text background color (#3182)\n\nCloses #3182"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a31fd6ca63ac8d88f5f2",
    "number": 3170,
    "body": "Closes: https://github.com/google/shaka-player/issues/3154",
    "head_branch": "dai-dash-live",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add DAI live DASH example to DEMO app (#3170)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a320d6ca63ac8d88f5f3",
    "number": 3166,
    "body": "Closes: https://github.com/google/shaka-player/issues/3163",
    "head_branch": "increase-threshold",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Make gap detection threshold configurable (#3166)\n\nCloses: #3163\r\nRelated to: #3165"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a321d6ca63ac8d88f5f4",
    "number": 3165,
    "body": "Add a configuration to resolve: https://github.com/google/shaka-player/issues/3163",
    "head_branch": "useLargeThreshold",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a322d6ca63ac8d88f5f5",
    "number": 3160,
    "body": "Adding examples for:\r\n- Vue.js - https://github.com/davidjamesherzog/shaka-player-vuejs\r\n- Nuxt.js - https://github.com/davidjamesherzog/shaka-player-nuxtjs\r\n- video.js - https://github.com/davidjamesherzog/videojs-shaka",
    "head_branch": "vue-nuxt-videojs-examples",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(docs): Add vue.js, nuxt.js and video.js integration examples (#3160)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a323d6ca63ac8d88f5f6",
    "number": 3152,
    "body": "This PR solves issue #3151.\r\n\r\nWe've seen some SmartTVs show one subtitle without removing the previous one.\r\n\r\nI think this is happening because two different subtitles may meet the condition of \"greater or equal than\" and \"lower or equal than\" at the same time. After changing the greater than or equal with a greater than subtitles were fixed.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix subtitle display in timing edge case (#3152)\n\nWe've seen some SmartTVs show one subtitle without removing the previous one.\r\n\r\nI think this is happening because two different subtitles may meet the condition of \"greater or equal than\" and \"lower or equal than\" at the same time. After changing the greater than or equal with a greater than subtitles were fixed.\r\n\r\n@joeyparrish will add a regression test after this fix.\r\n\r\nCloses #3151"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a324d6ca63ac8d88f5f7",
    "number": 3148,
    "body": "Useful for Media Capabilities: https://w3c.github.io/media-capabilities/#dom-audioconfiguration-spatialrendering",
    "head_branch": "spatial-audio",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Parse spatial audio from manifest (#3148)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a325d6ca63ac8d88f5f8",
    "number": 3147,
    "body": "Adds support to parse version 1 of 'emsg' boxes.\r\nThe structure of 'emsg' box is described in the DASH-IF spec at\r\nhttps://dashif-documents.azurewebsites.net/Events/master/event.html#emsg-format\r\nAdded unit test to ensure the box is correctly parsed.",
    "head_branch": "emsg_v1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: support version 1 emsg box (#3147)\n\nAdds support to parse v1 of 'emsg' boxes.\r\n\r\nThe structure of emsg box is described in the DASH-IF specs at\r\nhttps://dashif-documents.azurewebsites.net/Events/master/event.html#emsg-format\r\n\r\nCloses #1539"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a326d6ca63ac8d88f5f9",
    "number": 3145,
    "body": "Closes: https://github.com/google/shaka-player/issues/559\r\n\r\nMissing things (in order of priority):\r\n- [x] Agree with the Shaka team that the API at the application level is correct.\r\n- [x] Fix when there are multiple image tracks (maybe the problem is in the parseSegmentInfo)\r\n- [x] Tests",
    "head_branch": "thumbnails-dash",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(dash): Add support for thumbnail tracks (#3145)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a326d6ca63ac8d88f5fa",
    "number": 3135,
    "body": "Sets the type of the google.ima.settings object extern to\r\n`google.ima.ImaSdkSettings` to avoid duplicating the defined methods.\r\nAlso adds the setVpaidMode method and VpaidMode enum to the\r\ngoogle.ima.ImaSdkSettings class extern.\r\n\r\nResolves #3134 ",
    "head_branch": "vpaid-externs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ads): Add setVpaidMode to the ima externs (#3135)\n\nSets the type of the google.ima.settings object extern to\r\n`google.ima.ImaSdkSettings` to avoid duplicating the defined methods.\r\nAlso adds the setVpaidMode method and VpaidMode enum to the\r\ngoogle.ima.ImaSdkSettings class extern."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a327d6ca63ac8d88f5fb",
    "number": 3116,
    "body": "Related to: https://github.com/google/shaka-player/issues/2813\r\n\r\nMore info: https://tools.ietf.org/html/draft-pantos-hls-rfc8216bis-08 , section 4.4.6.2. (VIDEO-RANGE)",
    "head_branch": "hdr-metadata-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Extract HDR metadata from HLS manifests (#3116)\n\nIn our isTypeSupported polyfill for Cast, we use the HEVC profile (\"hevc1.2\") as\r\nan indication of the HDR transfer function, which is not always accurate.\r\nThe polyfill should stop assuming that 10-bit color HEVC means HDR, and remove\r\nthe extra eotf=\"smpte2084\" parameter. Instead, the manifest parser should\r\nextract HDR profile information from the DASH manifest and pass that info along\r\nthrough the Stream object.\r\n\r\nIssue #3116 ."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a328d6ca63ac8d88f5fc",
    "number": 3115,
    "body": "Closes: https://github.com/google/shaka-player/issues/2834",
    "head_branch": "ignoreMaxSegmentDuration",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: add ignoreMaxSegmentDuration config for DASH manifest (#3115)\n\nAdding a new Configuration to ignore the maxSegmentDuration from the DASH manifest.\r\nCloses: #2834"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a329d6ca63ac8d88f5fd",
    "number": 3111,
    "body": "Closes: https://github.com/google/shaka-player/issues/3099",
    "head_branch": "m4f-file-extension",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add support for \"m4f\" in HLS (#3111)\n\nCloses #3099"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a32ad6ca63ac8d88f5fe",
    "number": 3110,
    "body": "Closes: https://github.com/google/shaka-player/issues/1782",
    "head_branch": "error-code-addTextTrack",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Clear error code needed for bad MIME type in addTextTrack (#3110)\n\nCloses #1782"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a32bd6ca63ac8d88f5ff",
    "number": 3109,
    "body": "Closes: https://github.com/google/shaka-player/issues/2915",
    "head_branch": "attach-drmengine",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix DRM initialization on WebOS 3.0 (#3109)\n\nCloses: #2915"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a32cd6ca63ac8d88f600",
    "number": 3105,
    "body": "Listen to the `google.ima.AdErrorEvent.Type.AD_ERROR` event from the\r\nIMA SDK AdsLoader instead of the `google.ima.AdEvent.Type.AD_ERROR` in\r\norder to properly catch some ad errors that are currently being missed.\r\n\r\nResolves #3095 ",
    "head_branch": "ad-error-event",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ads): Use the correct AdsLoader AD_ERROR event (#3105)\n\nListen to the `google.ima.AdErrorEvent.Type.AD_ERROR` event from the\r\nIMA SDK AdsLoader instead of the `google.ima.AdEvent.Type.AD_ERROR` in\r\norder to properly catch some ad errors that are currently being missed.\r\n\r\nCloses #3095"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a32dd6ca63ac8d88f601",
    "number": 3098,
    "body": "tested with Webpack mode=production which caused the issue. \r\nSolve #3092",
    "head_branch": "issue-3092",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix memory leak in Webpack-bundled version (#3098)\n\ntested with Webpack mode=production which caused the issue\r\n\r\nCloses #3092"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a32ed6ca63ac8d88f602",
    "number": 3091,
    "body": "",
    "head_branch": "read_ttml_trun",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a32fd6ca63ac8d88f603",
    "number": 3087,
    "body": "There's probably some closure config somewhere that would fix this but I don't know closure what so ever, this does however align more with how the rest of the code references imports.",
    "head_branch": "fix/closure_compilation_issue",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix trick mode tracks in DASH (work around compiler bug) (#3087)\n\nCloses #3085"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a330d6ca63ac8d88f604",
    "number": 3072,
    "body": "avc1: 240, 360, 480, 720, 1080\r\nvp9: 240, 360, 480, 720, 1080, 1440, 2160 (average bandwidth is higher, more variants)\r\n\r\nBefore:\r\nBest codecs: avc1 (incorrect)\r\n\r\nAfter:\r\nBest codecs: vp9 (correct)\r\n\r\nDetails: #3056\r\n\r\nRemove variants where the height is not found in all codec groups.\r\n",
    "head_branch": "hcodes_4k",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix codec choice when resolutions differ (#3072)\n\nBefore this change, our codec choice only worked when all codecs had the same resolutions available.\r\n\r\nWhen one codec had a different set of resolutions available, we might end up choosing the wrong one.  This is because our choice was based on the average bandwidth of all resolutions for that codec.  So a \"better\" codec with higher resolutions available would also end up having a higher average bitrate, and would be avoided.\r\n\r\nThis fixes the issue by only considering the resolutions that all codecs have in common, then taking the average bitrate among those to choose a codec."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a331d6ca63ac8d88f605",
    "number": 3071,
    "body": "Add support to WebVTT style blocks",
    "head_branch": "webvtt-style",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add support for WebVTT style blocks (#3071)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a332d6ca63ac8d88f606",
    "number": 3069,
    "body": "I saw https://github.com/google/shaka-player/commit/56bb045ff68325d6b9de7cb3d56265ce3162f164, try it again on master it said:\r\n\r\n```\r\n...\r\n[INFO] Generating Closure dependencies...\r\n[INFO] Linting JavaScript...\r\nTraceback (most recent call last):\r\n  File \"/tmp/shaka-player/build/all.py\", line 150, in <module>\r\n    shakaBuildHelpers.run_main(main)\r\n  File \"/tmp/shaka-player/build/shakaBuildHelpers.py\", line 369, in run_main\r\n    sys.exit(main(sys.argv[1:]))\r\n  File \"/tmp/shaka-player/build/all.py\", line 103, in main\r\n    if check.main(check_args) != 0:\r\n  File \"/tmp/shaka-player/build/check.py\", line 348, in main\r\n    if not step(parsed_args):\r\n  File \"/tmp/shaka-player/build/check.py\", line 88, in check_js_lint\r\n    return linter.lint(fix=args.fix, force=args.force)\r\n  File \"/tmp/shaka-player/build/compiler.py\", line 325, in lint\r\n    eslint = shakaBuildHelpers.get_node_binary('eslint')\r\n  File \"/tmp/shaka-player/build/shakaBuildHelpers.py\", line 299, in get_node_binary\r\n    if type(bin_data) is str or type(bin_data) is unicode:\r\nNameError: name 'unicode' is not defined\r\n```\r\n\r\nchange `unicode` to `str`\r\n\r\nsuggested by https://stackoverflow.com/questions/19877306/nameerror-global-name-unicode-is-not-defined-in-python-3",
    "head_branch": "patch-3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a333d6ca63ac8d88f607",
    "number": 3065,
    "body": "Width should be used for calculation x, and height for calculation y.",
    "head_branch": "fix_calc_cue_region_viewport_anchor",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ttml): Calculate viewport anchors for cue region (#3065)\n\nWidth should be used for calculation x, and height for calculation y."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a334d6ca63ac8d88f608",
    "number": 3063,
    "body": "Add SubViewer (SBV) support\r\n\r\nMore info: https://support.google.com/youtube/answer/2734698?hl=en\r\n\r\n![image](https://user-images.githubusercontent.com/8983024/103198314-4f996e80-48e8-11eb-9f21-9fae4269aa8f.png)\r\n",
    "head_branch": "subviewer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add SubViewer (SBV) support (#3063)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a335d6ca63ac8d88f609",
    "number": 3062,
    "body": "Adapt to a list of supported namespaces and iterate through them.",
    "head_branch": "3061-extend-support-to-2013",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ttml): Add support for SMPTE namespace 2013 (#3062)\n\nWe have TTML SMPTE XML Namespaces support for 2010.\r\nAdd SMPTE namespace support for 2013.\r\n\r\nCloses #3061 ."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a336d6ca63ac8d88f60a",
    "number": 3060,
    "body": "Add SubStation Alpha (SSA) support\r\n\r\nFormat info: https://en.wikipedia.org/wiki/SubStation_Alpha\r\n\r\nNote: SSA and ASS are supported",
    "head_branch": "substation-alpha",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add SubStation Alpha (SSA) support (#3060)\n\nFormat info: https://en.wikipedia.org/wiki/SubStation_Alpha"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a337d6ca63ac8d88f60b",
    "number": 3058,
    "body": "Closes: https://github.com/google/shaka-player/issues/2695\r\n\r\nSupport is restricted to Safari 14 or higher due to previous versions having problems and it is not usable.",
    "head_branch": "ts-safari",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a338d6ca63ac8d88f60c",
    "number": 3057,
    "body": "Closes: https://github.com/google/shaka-player/issues/2873",
    "head_branch": "mpeg-channel-configuration-scheme",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(dash): Add support for mpegB:cicp:ChannelConfiguration (#3057)\n\nCloses: #2873"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a338d6ca63ac8d88f60d",
    "number": 3052,
    "body": "Please note this is not a PR for merging - this is only to help recreate an issue I have seen.\r\n\r\nHere is a rough cut of the changes I have made.\r\n\r\nI successfully get to a set of variants with a mix of `allowedByKeySystem:true` and `allowedByKeySystem:false`.\r\n\r\nI can see a variant selected that is `allowedByKeySystem:true`.\r\n\r\nI can see buffers are full. Seeking keeps the buffers loading.\r\n\r\nWhat would trigger the actual playback?\r\n\r\nbtw - I haven't started to think about the offline considerations.\r\n",
    "head_branch": "playready_multikey_restrictions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a339d6ca63ac8d88f60e",
    "number": 3050,
    "body": "Related to: https://github.com/google/shaka-player/issues/2900",
    "head_branch": "storage-estimate-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add navigator.storage.estimate polyfill (#3050)\n\nIssue #2900"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a33ad6ca63ac8d88f60f",
    "number": 3049,
    "body": "Closes: https://github.com/google/shaka-player/issues/2900",
    "head_branch": "download-size-callback",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add downloadSizeCallback before storing offline (#3049)\n\nWhen downloading content for storage, it's useful to know how much storage space\r\nwill be needed before storing. This is extremely important for mobile devices\r\nthat have limited space. See google/shaka-player-embedded#167.\r\n\r\nUse the info in the manifest and make HEAD requests to determine the\r\nsize of the content we're downloading.\r\n\r\nAdd a downloadSizeCallback that will be called with the size once we know it.\r\nThe callback determine if the content can be downloaded due to its estimated\r\nsize.\r\n\r\nCloses #3049 ."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a33bd6ca63ac8d88f610",
    "number": 3047,
    "body": "Closes: https://github.com/google/shaka-player/issues/3037",
    "head_branch": "skip-drm-probe-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add parameter to probeSupport to skip DRM tests (#3047)\n\nCloses: #3037"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a33cd6ca63ac8d88f611",
    "number": 3044,
    "body": "",
    "head_branch": "3029-fix-extent-origin-percent",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(TTML): Fix TTML extent and origin percentage calculations (#3044)\n\nCloses #3044 ."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a33dd6ca63ac8d88f612",
    "number": 3043,
    "body": "",
    "head_branch": "3011-fix-local-scope-whitespace-preserve",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Support localized whitespace preservation in TTML (#3043)\n\nCloses #3011"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a33ed6ca63ac8d88f613",
    "number": 3042,
    "body": "Closes: https://github.com/google/shaka-player/issues/2982",
    "head_branch": "source-buffer-remove",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(media): SourceBuffer remove error on some platforms (#3042)\n\nFixes #2982"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a33fd6ca63ac8d88f614",
    "number": 3041,
    "body": "The compareClosestPreferMinimalAbsDiff_ was missing a * in the\r\njsdoc comment; closure compiler was complaining with\r\n\r\n    > WARNING - Parse error. Non-JSDoc comment has annotations.\r\n    > Did you mean to start it with '/**'?",
    "head_branch": "mb/periods",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Add missing * in jsdoc comment in periods (#3041)\n\nThe compareClosestPreferMinimalAbsDiff_ was missing a * in the\r\njsdoc comment. Fixing to avoid closure compiler was complaint."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a340d6ca63ac8d88f615",
    "number": 3039,
    "body": "Issue : https://github.com/google/shaka-player/issues/3038\r\n\r\nWe found the issue within our app with the latest Chromecast CAF receiver update (November 22, 2020) that use Shaka 3.0.x. With our live stream containing 90 minutes of buffer, we notice high level of buffering issue with our customer.\r\n\r\n### Here some results after around 1 hour of playback :\r\n\r\n| Before | After |\r\n| ------ | ----- |\r\n| ![shaka-demo-app-leak-before](https://user-images.githubusercontent.com/475632/101791560-ac67ed00-3ad1-11eb-806b-017f22cf6a6c.png) | ❌  |\r\n|  ![Screen Shot 2020-12-09 at 2 46 14 PM](https://user-images.githubusercontent.com/475632/101791653-c86b8e80-3ad1-11eb-8e8e-8dd4f848258b.png) | ![Screen Shot 2020-12-09 at 2 45 34 PM](https://user-images.githubusercontent.com/475632/101791683-d02b3300-3ad1-11eb-803d-de1053f46459.png) |\r\n\r\n\r\nI builded a custom version of Shaka player into my Chromecast receiver app and here the usedJSHeapSize results.\r\n\r\n#### Before\r\n```Javascript\r\n09:49:15.562 Shaka test /// usedJSHeapSize: 97.607819 MB  /// lower usedJSHeapSize: 27.552935 /// higher usedJSHeapSize: 98.064532\r\n09:49:15.564 Shaka test /// usedJSHeapSize increased 70 MB in 344 seconds since beginning of live playback session\r\n```\r\n\r\n\r\n#### After\r\n```Javascript\r\n09:39:57.263 Shaka test /// usedJSHeapSize: 34.529496 MB  /// lower usedJSHeapSize: 27.120771 /// higher usedJSHeapSize: 40.800786\r\n09:39:57.264 Shaka test /// usedJSHeapSize increased 7 MB in 508 seconds since beginning of live playback session\r\n```\r\n\r\n\r\n\r\n\r\n",
    "head_branch": "dash-live-memory-leak",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DASH): fix memory leak with SegmentTimeline (#3039)\n\nWe found the issue within our app with the latest Chromecast CAF receiver update (November 22, 2020) that use Shaka 3.0.x. With our live stream containing 90 minutes of buffer, we notice high level of buffering issue with our customer.\r\n\r\nIt seems that the createUris callback was holding onto a parsing context in each reference.\r\n\r\nCloses #3038"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a341d6ca63ac8d88f616",
    "number": 3036,
    "body": "Add LyRiCs (LRC) support\r\n\r\nFormat info: https://en.wikipedia.org/wiki/LRC_(file_format)",
    "head_branch": "lrc",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(text): Add LyRiCs (LRC) support (#3036)\n\nFormat info: https://en.wikipedia.org/wiki/LRC_(file_format)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a342d6ca63ac8d88f617",
    "number": 3032,
    "body": "Proposed fix for issue #3029 ",
    "head_branch": "3029-fix-extent-origin-percent",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a343d6ca63ac8d88f618",
    "number": 3028,
    "body": "Proposed fix  for issue #3011 ",
    "head_branch": "3011-fix-local-scope-whitespace-preserve",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a344d6ca63ac8d88f619",
    "number": 3026,
    "body": "",
    "head_branch": "gap_handling_config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a345d6ca63ac8d88f61a",
    "number": 3025,
    "body": "Closes: https://github.com/google/shaka-player/issues/1389",
    "head_branch": "force-https",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Optionally force HTTPS content URIs (#3025)\n\nCloses: #1389"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a346d6ca63ac8d88f61b",
    "number": 3024,
    "body": "Closes: https://github.com/google/shaka-player/issues/1578\r\n\r\nWe are having problems with Chromecast-CAF and since it uses ShakaPlayer it is necessary to change this here by default.",
    "head_branch": "timeout-network-requests",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Change default network request timeout (#3024)\n\nThe old default was 0 (effectively infinite, no timeout).  The new default is 30s.\r\n\r\nCloses: #1578"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a347d6ca63ac8d88f61c",
    "number": 3023,
    "body": "This new version supports CEA-708",
    "head_branch": "muxjs-5.7.0",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "chore: Update mux.js (#3023)\n\nThis new version supports CEA-708"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a348d6ca63ac8d88f61d",
    "number": 3022,
    "body": "Closes: https://github.com/google/shaka-player/issues/2947",
    "head_branch": "management-forced-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Config to prefer forced subtitles (#3022)\n\nCloses: #2947"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a349d6ca63ac8d88f61e",
    "number": 3021,
    "body": "Closes: https://github.com/google/shaka-player/issues/2999",
    "head_branch": "unprefixed-eme-safari",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Prefer unprefixed EME for Safari (#3021)\n\nCloses: #2999"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a34ad6ca63ac8d88f61f",
    "number": 2997,
    "body": "This adds default support for the `com.apple.fps.3_0` keySystem, as long as this part of the dash manifest `ContentProtection`, and you give correct licenseURI / serverCertificate in the advancedConfig.\r\n\r\nI still have issues with my DRM Provider, which doesn't seem to read the keyId well in the license request data.",
    "head_branch": "feat-fairplay-3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a34bd6ca63ac8d88f620",
    "number": 2992,
    "body": "Resolves https://github.com/google/shaka-player/issues/2978",
    "head_branch": "trick-mode-dash",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DASH): Fix trick-mode tracks associated with multiple regular tracks (#2992)\n\nIn DASH, a trick mode track can be associated with multiple regular tracks.\r\n\r\nThis fixes the parser to respect the whitespace-separated list of IDs instead of assuming just one ID.\r\n\r\nResolves #2978"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a34cd6ca63ac8d88f621",
    "number": 2984,
    "body": "Resolves: https://github.com/google/shaka-player/issues/2846",
    "head_branch": "incompatible-codecs-trickmode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(media): Ignore incompatible TrickMode streams (#2984)\n\nResolves: #2846"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a34dd6ca63ac8d88f622",
    "number": 2977,
    "body": "fix #2973 \r\n\r\nOnly 3 py commands need `mkdir`, the rest are self-contained already",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "build: add mkdir to make all py commands self-contained (#2977)\n\nFixes #2973"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a34ed6ca63ac8d88f623",
    "number": 2972,
    "body": "Add the following methods:\r\n- addChaptersTrack\r\n- getChapters\r\n- getChaptersTracks\r\n\r\nThe following formats are supported: WebVTT and SRT",
    "head_branch": "chapters-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Add chapters support (#2972)\n\nAdd the following methods:\r\n - addChaptersTrack\r\n - getChapters\r\n - getChaptersTracks\r\n\r\nThe following formats are supported: WebVTT and SRT"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a34ed6ca63ac8d88f624",
    "number": 2971,
    "body": "The commit https://github.com/google/shaka-player/commit/dc32bd88baa398712d1c0604c6640709af1e2143#diff-7abf4aa2639707ce10a19703663841fae6c5638809faf4dfb2f1894791f154ddL2175-R2175 introduce a regression for DAI HLS in Safari.",
    "head_branch": "metadata-dai",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(player): Fix metadata track in src= (#2971)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a34fd6ca63ac8d88f625",
    "number": 2970,
    "body": "Fixes https://github.com/google/shaka-player/issues/2956\r\n\r\nThe fix involves keeping a reference of each stream's segmentIterator on the streaming engine, instead of only keeping the current stream's iterator and reseting it on every switch.\r\n\r\nThe fix and the previous erroneous behaviour can be tested/reproduced running Shaka's demo app, e.g.:\r\n\r\n* change to the repo's root\r\n* run python -m SimpleHTTPServer 80\r\n* browse to http://localhost/demo\r\n* on the demo UI go to settings and set Adaptation->Switch Interval->0.2, and set the log level to Debug\r\n* play the \"Big Buck Bunny: the Dark Truths\" asset, and at the start throttle to 500k/100k and then back to Online\r\n* on the web inspector's console filter by switching to to observe the bitrate changes, and look for quick switches like video: 5 -> video: 6 -> video: 5 (which causes the issue without the fix).\r\n\r\nAdding a bit more knowledge to help people review this...\r\n\r\nShaka's streaming engine is the unit which owns the logic to request media segments from the network and append them on the media source buffer, and so it keeps a state object, mediaState, for each media type it needs (typically one for video and another for audio), which then stores the current chosen stream and it's related segmentIterator (btw I wonder if the segmentIterator is not owned by the stream to allow for multiple concurrent downloads, like playing and downloading at the same time).\r\n\r\nThe problem resides in the fact that the segmentIterator is not kept on the stream object itself, but instead on the mediaState owned by the streaming engine which only keeps the segmentIterator for the current stream. Probably because of this design decision, the streaming_engine needed to set the segmentIterator to null on the start of the switch call, and then asynchronously request a new segmentIterator object (which will always start at position zero).\r\n\r\nThe major design issue here was, that it didn't foresee the possibility that with a low enough switchInterval the stream kept on the mediaState can eventually switch multiple times during an in-progress media update (e.g. fetchAndAppend) and actually return to the current stream before the append_ method ends, which was causing the uncaught error because although the stream on the mediaState is the same as the one stored on the fetchAndAppend closure, the segmentIterator can be still null falling inside a non expected failure.\r\n\r\nAdditionally, even if the segmentIterator on that same scenario, is reset before the call to `segmentIterator.next()`  is made, the streaming engine will be in a state where it will start downloading segments from the start of the stream, because although the stream is same, the segmentIterator is new (and holds zero as the currentPosition), making the logic on getSegmentReferenceNeeded work in an incorrect way.\r\n\r\nAnother option I thought at the time, was for instead of keeping the segmentIterators instances just for this edgy scenario, to change getSegmentReferenceNeeded so that it always do the segmentIterator.seek logic with the position from the lastSegmentReference, the bufferEnd or the current playhead position, but that would always require computing the segment reference from the time, instead of just asking the next segment from the index, when downloading from the same stream, which wouldn't be optimal I think.",
    "head_branch": "issue-2956",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a350d6ca63ac8d88f626",
    "number": 2966,
    "body": "Hope it will be fine this time !",
    "head_branch": "#2924",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ui): Allow apps to register a custom seek bar UI implementation (#2966)\n\n* feat(ui): Allow apps to register a custom seek bar UI element implementation\r\n\r\n- Make an external interface shaka.extern.IUISeekBar to represent the public methods of shaka.ui.SeekBar, and make SeekBar an implementation of it.\r\n- Add a new function registerSeekBar in shaka.ui.Controls to register a seek bar factory that will be used to create the seek bar in the control elements.\r\n\r\nCloses #2924"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a351d6ca63ac8d88f627",
    "number": 2963,
    "body": "",
    "head_branch": "low-latency-stream",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ll-Dash): Add new low latency DASH manifest (#2963)\n\nAdd a new low latency DASH manifest to the demo page."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a352d6ca63ac8d88f628",
    "number": 2960,
    "body": "",
    "head_branch": "chapters-tracks",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Filter chapters tracks in src= (#2960)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a353d6ca63ac8d88f629",
    "number": 2946,
    "body": "Currently, shaka throw an error if adTagUrl is not set in imaRequest.\r\nThis add the possibility to use a VAST document directly using adsResponse property instead of making a request with an ad tag url.\r\n\r\nResolves #2892",
    "head_branch": "ima-adsresponse",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(ads): allow adsResponse for making ad request (#2946)\n\nFixes #2892"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a354d6ca63ac8d88f62a",
    "number": 2942,
    "body": "Resolves https://github.com/google/shaka-player/issues/2856",
    "head_branch": "equal-init-segment-reference",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(media): Fix initSegment requests on manifest updates (#2942)\n\nFixes #2856"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a355d6ca63ac8d88f62b",
    "number": 2941,
    "body": "Resolves https://github.com/google/shaka-player/issues/2720",
    "head_branch": "permissive-vtt",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Be more permissive in vtt files (#2941)\n\nResolves #2720"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a356d6ca63ac8d88f62c",
    "number": 2939,
    "body": "",
    "head_branch": "cea608-streams",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add test streams for CEA-608 (#2939)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a357d6ca63ac8d88f62d",
    "number": 2938,
    "body": "Add support to forced subtitles in HLS, DASH and src=\r\n\r\nResolves: https://github.com/google/shaka-player/issues/2916 & https://github.com/google/shaka-player/issues/2122",
    "head_branch": "forced-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Parse forced subtitles from manifest (#2938)\n\nIssue #2122\r\nIssue #2916"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a358d6ca63ac8d88f62e",
    "number": 2935,
    "body": "\r\n- Make an external interface shaka.extern.ISeekBar to represent the public methods of shaka.ui.SeekBar, and make SeekBar an implementation of it.\r\n- Add a new function registerSeekBarFactory in shaka.ui.Controls  to register a seekBarFactory that will be used when present to create the SeekBar in the control elements.\r\n\r\nCloses #2924",
    "head_branch": "#2924",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a359d6ca63ac8d88f62f",
    "number": 2934,
    "body": "When user read about these anotation `+@complete -@polyfill`, they wonder where it came from.\r\n\r\nIt is not immediately obvious where to see it without reading the next section.\r\n\r\nI know this because I've dig into `build.py` file to realize this line: `Build files are the files found in build/types...`\r\n\r\nAnd when I comeback to read - it is in the next section, it is worth to duplicating in this case I think.",
    "head_branch": "patch-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: add link to complete list of categories (#2934)\n\nWhen user read about these anotation +@complete -@polyfill, they wonder where it came from.\r\n\r\nIt is not immediately obvious where to see it without reading the next section."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a35ad6ca63ac8d88f630",
    "number": 2932,
    "body": "Related to #2891",
    "head_branch": "modernize-addTextTrack-part2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(text): Add addTextTrackAsync (#2932)\n\nThis new method can make a HEAD request to the server to determine the MIME type.  The old method (addTextTrack) is now deprecated and will be removed in v4."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a35bd6ca63ac8d88f631",
    "number": 2931,
    "body": "Documenting for overwriting shaka-player at runtime, please help me check if I'm missing stuff.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a35cd6ca63ac8d88f632",
    "number": 2930,
    "body": "Related to https://github.com/google/shaka-player/pull/2891",
    "head_branch": "modernize-addTextTrack-part1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(text): Add error codes to addTextTrack errors (#2930)\n\nAdd new error codes for addTextTrack:\r\n - CONTENT_NOT_LOADED\r\n - TEXT_ONLY_WEBVTT_SRC_EQUALS\r\n - CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a35dd6ca63ac8d88f633",
    "number": 2921,
    "body": "Avoid pause request when play request still in process.",
    "head_branch": "issue-stall-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a35ed6ca63ac8d88f634",
    "number": 2911,
    "body": "Resolves https://github.com/google/shaka-player/issues/2908",
    "head_branch": "mono-stereo-incompatible",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Allow switching between mono and stereo tracks (#2911)\n\nResolves #2908"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a35fd6ca63ac8d88f635",
    "number": 2905,
    "body": "Resolves https://github.com/google/shaka-player/issues/2903",
    "head_branch": "split-characteristics",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(hls): Support multiple CHARACTERISTICS values in HLS (#2905)\n\nResolves #2903"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a360d6ca63ac8d88f636",
    "number": 2898,
    "body": "Previously, when seeking we do a **pause** then **continue play** after seeking. That will lead to a subtle bug.\r\n\r\nFor example: user pause a video, then seeking.\r\n\r\nThe end result user want: video is seeked but continued to be pause, that is not the current behavior (video will play when done seeking).\r\n\r\nIs there any benefit of our current approach ?",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(ui): Don't play after seeking while paused (#2898)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a361d6ca63ac8d88f637",
    "number": 2891,
    "body": "- Add new error codes\r\n- Allow make a request to get the mimetype\r\n- Return a Promise instead the track directly\r\n- Allow convert SRT to WEBVTT",
    "head_branch": "modernize-addTextTrack",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a362d6ca63ac8d88f638",
    "number": 2885,
    "body": "Title said it all :)\r\n\r\nIn a multi-period stream with the same text streams over periods, we would get back duplicates text tracks when calling `getTextTracks` player API.\r\n\r\nThat PR should fix that behaviour.",
    "head_branch": "feat-dedup-text-streams",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: deduplicate text streams in period flattening (#2885)\n\nSimilar to what was already done for audio streams."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a363d6ca63ac8d88f639",
    "number": 2878,
    "body": "",
    "head_branch": "issue-2834",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a363d6ca63ac8d88f63a",
    "number": 2874,
    "body": "",
    "head_branch": "src-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(text): Add support to side-load subtitles in src mode (#2874)\n\nThis uses the HTML5 Track element to support side-loading of WebVTT."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a364d6ca63ac8d88f63b",
    "number": 2872,
    "body": "Add SRT support\r\n\r\nSupport is done by converting SRT to WEBVTT\r\n\r\nThe main use is to side-load subtitles",
    "head_branch": "srt-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add SubRip (SRT) subtitle support (#2872)\n\nSRT can be trivially converted into WebVTT, so the SRT parser delegates to the VTT parser."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a365d6ca63ac8d88f63c",
    "number": 2861,
    "body": "It is not always known if a stream is low latency or not (for example, when adding streams from multiple providers). To avoid having to use a responseFilter, a configuration is added to enable low latency automatically.\r\n\r\nRelated to https://github.com/google/shaka-player/issues/1525\r\n",
    "head_branch": "auto-low-latency",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(lowLatency): Add autoLowLatencyMode config (#2861)\n\nWith \"lowLatencyMode\" enabled, \"rebufferingGoal\" is set to 0.001, and inaccurateManifestTolerance is set to 0 by default. However, in some cases longer rebufferingGoal helps to avoid new rebuffering.\r\nBesides  \"lowLatencyMode\", this code change adds the  \"autoLowLatencyMode\" config. When \"lowLatencyMode\" config is disabled and \"autoLowLatencyMode\" config is enabled, and the manifest provides low latency features, we automatically activate the lowLatencyMode.\r\nIf \"lowLatencyMode\" is enabled, \"autoLowLatencyMode\" has no effect.\r\n\r\nIssue #1525"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a366d6ca63ac8d88f63d",
    "number": 2860,
    "body": "Related to https://github.com/google/shaka-player/issues/2756",
    "head_branch": "tts-extent",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "cleanup(text): Remove hard-coded tts:extent namespace in TTML parser\n\nCloses #2860"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a367d6ca63ac8d88f63e",
    "number": 2857,
    "body": "Hi!\r\n\r\nThis request forces shaka-player to use `Date.now()` for time calculations.\r\n\r\nFirst point here is that this is faster than `new Date().getTime()`.\r\n\r\nSecond point is that it allows monkey-patching `Date.now()` in runtime.\r\n\r\nWe are having issues with using `Date.now()` for time calculations (`Date.now` is not monotonic because it's affected by system time changes).\r\nWe are are going to monkey-patch `Date.now()` by using offset returned by `performance.now()` so it becomes monotonic and this patch makes this change consistent in our code and shaka-player.",
    "head_branch": "ban-date-getTime",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: ban new Date.getTime() (#2857)\n\nDate.now should be used instead, to allow applications to monkey-patch it."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a368d6ca63ac8d88f63f",
    "number": 2855,
    "body": "Edge Chromium UA example: `User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.74 Safari/537.36 Edg/79.0.309.43`\r\n\r\nSince https://github.com/google/shaka-player/pull/2801, trying to play PlayReady content with Shaka on Edge Chromium would result in a MANIFEST_RESTRICTIONS_CANNOT_BE_MET error since it wasn't selected to do the endianness black magic.\r\n\r\nEdge Chromium should be detected as Edge to correctly correct the key endianness.\r\n\r\nThis affects the `v3.0.4` and `v2.5.16` releases.",
    "head_branch": "patch-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: correctly detect Edge Chromium as Edge (#2855)\n\nWithout this, #2801 is broken on the latest versions of Edge"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a369d6ca63ac8d88f640",
    "number": 2849,
    "body": "There is a race condition: it could happen that `onPollWindow_` checks falling outside the availability window before `videoElement` returns the `currentTime` correctly (it returns 0 instead) so the following calculation leads to incorrect jump forward. Now it will use `this.videoWrapper_.getTime()` which returns `startTime` in that case instead.",
    "head_branch": "bug-2848-availability-window",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Don't apply seek range while content is still loading (#2849)\n\nUp until we load some content and seek to the start time, we should avoid applying the seek range.  Otherwise, for a slow-loading live stream, we could end up seeking to the beginning of the seek range while waiting to begin playback at the end of the range.  This doesn't seem to happen on desktops, but on some smart TVs, setting video.currentTime will not be immediately reflected, leaving a race condition that only VideoWrapper will properly resolve.\r\n\r\nCloses #2848 \r\nCloses #2748"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a36ad6ca63ac8d88f641",
    "number": 2829,
    "body": "",
    "head_branch": "test/homing-action",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a36bd6ca63ac8d88f642",
    "number": 2825,
    "body": "",
    "head_branch": "roadmap-issues",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add links to the roadmap (#2825)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a36cd6ca63ac8d88f643",
    "number": 2824,
    "body": "Closes: https://github.com/google/shaka-player/issues/2783\r\n\r\n",
    "head_branch": "cea-708",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add note about CEA-708 (#2824)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a36dd6ca63ac8d88f644",
    "number": 2819,
    "body": "Closes: https://github.com/google/shaka-player/issues/2817",
    "head_branch": "uitextdisplayer-css-independent",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(text): Make UITextDisplayer CSS-independent (#2819)\n\nCloses #2817"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a36ed6ca63ac8d88f645",
    "number": 2809,
    "body": "This diff adds the ability to prefetch and download segments listed in a\r\nmpeg-dash manifest in parallel. Before this diff, the segments would be\r\ndownloaded serially.\r\n\r\nThe exact level of parallelism, or the exact number of segments to be\r\nprefetched is controlled via a configuration \"prefetchLimit\". When set to\r\nzero, it defaults back to older behaviour. When set to a positive number,\r\nshaka-player would prefetch only that many segments in parallel and\r\nthen wait until some of the ongoing downloads finish before issuing more\r\nprefetch requests.\r\n\r\nThere are some strange observations w.r.t. behaviour with range requests,\r\npre-flight OPTIONS request and chrome. In many cases every segment\r\nrequest is preceded by a OPTIONS request. With browser's cache disabled this\r\noften leads to multiple identical OPTIONS request. When cache is enabled,\r\nthat causes an undesirable behaviour with chrome. Chrome's cache has a\r\nwriter lock and it blocks any subsequent request that has the same URL\r\nas the one being currently downloaded. This, for range requests, often\r\ndefeats the purpose of the diff as it leads to serialisation of all range\r\nrequests for the same segment (same URL). Thankfully, firefox does not see\r\nthis issue.\r\n\r\nTests:\r\no Ran this version of shaka-player on my local setup and saw\r\n  segments getting prefetched in parallel.\r\no By changing the prefetchLimit, checked that the number of\r\n  segments downloads being in flight mimicked the configuration.\r\no Tested the same on chrome as well as firefox.",
    "head_branch": "parallel",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a36fd6ca63ac8d88f646",
    "number": 2807,
    "body": "This pertains to #2648 (although this is a new feature, not a replacement) and #1404. A CEA-708 decoder that follows the CEA-708-E standard, decodes closed caption data from User Data Registered by Rec. ITU-T T.35 SEI messages, and returns them as cues in Shaka's internal cue format. Furthermore, this pull request fixes and cements some of the logic surrounding CEA-608 and CEA-708 tag parsing on the Dash Manifest Parser.\r\n\r\nFormat:\r\nSimilar to the CEA-608 decoder, cues are emitted in Shaka's internal format (lib/text/cue.js). This decoder makes use of nested cues. The top level cue is always a blank cue with no text, and each nested cue inside it contains text, as well as a specific style, or linebreak cues to facilitate line breaks. This also allows for inline style (color, italics, underline) changes.\r\n\r\nDetails:\r\n- ASCII (G0), Latin-1 (G1), and CEA-708 specific charsets (G2 and G3) all supported.\r\n- Underlines, colors, and Italics supported, set as a property on each nested cue.\r\n- Positioning of text is supported. (Exception: In CEA-708 the default positioning is left, in this decoder it is centered.)\r\n- Positioning of windows not supported, but relevant fields that could be used to support this are extracted and left as a TODO.",
    "head_branch": "cea708-decoder",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(cea): CEA-708 Decoder (#2807)\n\nThis pertains to #2648 (although this is a new feature, not a replacement) and #1404. A CEA-708 decoder that follows the CEA-708-E standard, decodes closed caption data from User Data Registered by Rec. ITU-T T.35 SEI messages, and returns them as cues in Shaka's internal cue format. Furthermore, this pull request fixes and cements some of the logic surrounding CEA-608 and CEA-708 tag parsing on the Dash Manifest Parser.\r\n\r\nFormat:\r\nSimilar to the CEA-608 decoder, cues are emitted in Shaka's internal format (lib/text/cue.js). This decoder makes use of nested cues. The top level cue is always a blank cue with no text, and each nested cue inside it contains text, as well as a specific style, or linebreak cues to facilitate line breaks. This also allows for inline style (color, italics, underline) changes.\r\n\r\nDetails:\r\n- ASCII (G0), Latin-1 (G1), and CEA-708 specific charsets (G2 and G3) all supported.\r\n- Underlines, colors, and Italics supported, set as a property on each nested cue.\r\n- Positioning of text is supported. (Exception: In CEA-708 the default positioning is left, in this decoder it is centered.)\r\n- Positioning of windows not supported, but relevant fields that could be used to support this are extracted and left as a TODO."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a370d6ca63ac8d88f647",
    "number": 2801,
    "body": "",
    "head_branch": "playready-little-endian",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: PlayReady only has little-endian key IDs on Edge & IE (#2801)\n\nRather than list all the platforms that have big-endian PlayReady key IDs, we should list the ones that seem to have little-endian key IDs."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a371d6ca63ac8d88f648",
    "number": 2800,
    "body": "This fixes the case sensitivity in the `DrmEngine` `willSupport` method. This comparison should be case insensitive, particularly for codec profiles described in hex which may be either lower or upper case. The change normalizes both the stored content types and the method arguments.\r\n\r\nedit: Will likely target this for 2.5 as this release is the one directly affecting me. \r\n\r\nCloses #2799",
    "head_branch": "fix/drm-content-type-case-sensitivity-bug",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix case sensitivity for drm content type (#2800)\n\nThis fixes the case sensitivity in the `DrmEngine` `willSupport` method. This comparison should be case insensitive, particularly for codec profiles described in hex which may be either lower or upper case. The change normalizes both the stored content types and the method arguments.\r\n\r\nCloses #2799"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a372d6ca63ac8d88f649",
    "number": 2798,
    "body": "I wanted to push this up for review.  Have not signed CLA yet and need legal to review etc.  So maybe we can just push this patch into 3.0.3 on Shaka side.  \r\n\r\nIt allows us to guard against the endianness flip on some device platforms.  This is for WPE, user agent for Comcast X1 devices and mimics what we do for Tizen and Webos.   ",
    "head_branch": "tag/v2.5.14-cbs-fork",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a373d6ca63ac8d88f64a",
    "number": 2796,
    "body": "Related to https://github.com/google/shaka-player/pull/1359",
    "head_branch": "initdata-offline",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a374d6ca63ac8d88f64b",
    "number": 2795,
    "body": "",
    "head_branch": "edge-chromium",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: Add info about Edge Chromium (#2795)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a375d6ca63ac8d88f64c",
    "number": 2794,
    "body": "Related to: https://github.com/google/shaka-player/issues/2783\r\n\r\nNote: to resolve the complete issue it would be necessary to add CEA-708 to the list of supported when the support is added.",
    "head_branch": "cea608-docs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "doc: Add note about CEA-608/708 (#2794)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a376d6ca63ac8d88f64d",
    "number": 2790,
    "body": "Closes #2789",
    "head_branch": "bugfix/keyIdToLowerCase_2789",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(DRM): Check KEYID format in lowercase (#2790)\n\n\r\nCloses #2789"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a377d6ca63ac8d88f64e",
    "number": 2787,
    "body": "- Add PlayReady support to HLS\r\n- Add a new table for Manifest-DRM compatibility\r\n- Add notes about WebOS and Xbox",
    "head_branch": "readme-updates",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Readme updates (#2787)\n\n - Add PlayReady support to HLS\r\n - Add a new table for Manifest-DRM compatibility\r\n - Add notes about WebOS and Xbox\r\n\r\nIssue #2783"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a378d6ca63ac8d88f64f",
    "number": 2784,
    "body": "Currently we anchor a region's top-left position to a provided viewport. However, there may be a better way to do this.\r\n\r\nAs described in the code below, and inspired by: https://www.speechpad.com/captions/webvtt.\r\nRegion and viewport anchors are similar to pinning a paper on a board. A region anchor is analogous to where the pin goes on the paper, where the paper is the region. A viewport anchor is analogous to where the paper goes on the board, where the board is the video.\r\n\r\nThis pull request implements the logic described by the paragraph above.",
    "head_branch": "ui-region-rendering",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a379d6ca63ac8d88f650",
    "number": 2779,
    "body": "Also pertains to #2648.",
    "head_branch": "simpletextdisplayer-styling",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(text): Render bold/italics/underline on SimpleTextDisplayer (#2779)\n\nRelated to #2648, #2357, and #2776"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a37ad6ca63ac8d88f651",
    "number": 2778,
    "body": "",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Recognize \"wvtt\" codec in HLS WebVTT tracks (#2778)\n\nCo-authored-by: Espen Aa Ljosland <espen@ljosland.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a37ad6ca63ac8d88f652",
    "number": 2777,
    "body": "Related to: https://github.com/google/shaka-player/commit/4ba162797b9c43759b61106e57a6c6317668e1c6",
    "head_branch": "src-webos",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix src= playback on WebOS (#2777)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a37bd6ca63ac8d88f653",
    "number": 2776,
    "body": "Continues the work of #2724, changing the implementation according to https://github.com/google/shaka-player/pull/2724#issuecomment-667409089\r\n\r\nSolve #2348",
    "head_branch": "vtt-style-tags-v2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(VTT): Adds VTT tag rendering for <b>, <i> and <u> (#2776)\n\nCloses #2348"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a37cd6ca63ac8d88f654",
    "number": 2763,
    "body": "Fixes false redirect detection in Dash parser.\r\n\r\nProblem: with the current approach each time the manifest URL has changed it will be added to the list of manifestUris_.  In the scenarios when the application changes the manifest URL in request filters manifestUris_ will contain all the previous URL too. \r\nThis behavior may not affect the playback, but the retry mechanism will be not working correctly. When the request for the manifest will be failed, the manifest with the previous URL will be requested during the retry flow. \r\n\r\nAccording to the DASH IF IOP 4.3 chapter 3.2.15.3. Client Requirements and Recommendations:\r\n\r\n> If the HTTP request results in an HTTP redirect using a 3xx response code, the redirected URL replaces the original manifest URL\r\n\r\nhttps://dashif.org/docs/DASH-IF-IOP-v4.3.pdf\r\n\r\nSo new manifest should not be 'added' to the list of manifestUris_, but replace the redirected URL.\r\n\r\nThis will also fix the behavior when manifest with the original URI will be requested in the retry flow, when the manifest request would be failed. The problem is described in https://github.com/google/shaka-player/issues/2216.\r\n\r\n\r\n**Note: Application that uses custom HTTP plugin should return expected response - <shaka.extern.Response>**\r\nhttps://shaka-player-demo.appspot.com/docs/api/shaka.extern.html#.Response\r\n**And return originalUri in order to have a sticky redirect.**.\r\nThese changes are needed in order to have correct detection for the redirect.\r\n\r\nCloses https://github.com/google/shaka-player/issues/2216\r\n\r\nThanks.",
    "head_branch": "manifest-redirect",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a37dd6ca63ac8d88f655",
    "number": 2750,
    "body": "Following #818 and #1495, firstly and silently try to request a media key access with the `com.microsoft.playready.recommendation` keySytem, and fallback to the legacy one `com.microsoft.playready` if it fails.\r\n\r\nSee PlayReady playback tests https://github.com/google/shaka-player/issues/1495#issuecomment-667029582\r\n\r\nAlso added a new field in the DRM AdvancedConfig `sessionType` allowing to force a specific MediaKey session to be created with that sessionType. Particularly useful when we issue purchase licenses, and the whole decryption chain checks for the configuration to be nice & pretty (unlike `com.microsoft.playready`).\r\n\r\nWe need this whenever content right-holders request hardware decryption for HD content.\r\n\r\nCloses #1495 ",
    "head_branch": "feat-playready-recommendation",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a37ed6ca63ac8d88f656",
    "number": 2731,
    "body": "This pertains to #2648. A CEA-608 decoder that decodes CEA-608 (Line 21) data from User Data Registered by Rec. ITU-T T.35 SEI messages and returns them as cues in Shaka's internal cue format. This allows us to separately maintain our own decoder, and removes our dependency on the Mux.js caption decoder.\r\n\r\nFormat:\r\nCues are emitted in Shaka's internal format (lib/text/cue.js). This decoder makes use of nested cues. The top level cue is always a blank cue with no text, and each nested cue inside it contains text, as well as a specific style, or linebreak cues to facilitate line breaks. This also allows for inline style (color, italics, underline) changes.\r\n\r\n- Basic North American, Special North American, and Extended European Charsets supported.\r\n- Underlines, colors, and Italics supported, set as a property on each nested cue.\r\n\r\n- Text mode not emitted.\r\n- Positioning and alignment not supported.\r\n",
    "head_branch": "mp4-cea-decoder",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(text): CEA-608 Decoder (#2731)\n\nThis replaces mux.js for CEA608 decoding.  Applications will no longer need to include mux.js for CEA support, and mux.js will only be necessary for TS transmuxing.\r\n\r\nCloses #2648"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a37fd6ca63ac8d88f657",
    "number": 2724,
    "body": "It's continue  the work of https://github.com/google/shaka-player/pull/2357, resolving conflicts and fixing failed tests.\r\n\r\nResolves https://github.com/google/shaka-player/issues/2348",
    "head_branch": "vtt-style-tags",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a380d6ca63ac8d88f658",
    "number": 2719,
    "body": "Resolves https://github.com/google/shaka-player/issues/1145\r\n\r\nTest stream from: https://testweb.playready.microsoft.com/Content/Content4X\r\n\r\nDocumentation from: https://docs.microsoft.com/en-us/playready/packaging/mp4-based-formats-supported-by-playready-clients?tabs=case4",
    "head_branch": "hls-playready",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat(hls): Add HLS PlayReady support (#2719)\n\nResolves #1145"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a381d6ca63ac8d88f659",
    "number": 2701,
    "body": "Resolves https://github.com/google/shaka-player/issues/1003",
    "head_branch": "airplay-button",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add AirPlay button to overflow menu (#2701)\n\nfeat(UI): Add AirPlay button to overflow menu."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a382d6ca63ac8d88f65a",
    "number": 2693,
    "body": "related #2692\r\nresolve #2544",
    "head_branch": "then2await",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: change promise then to await (#2693)\n\nCloses #2544"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a383d6ca63ac8d88f65b",
    "number": 2692,
    "body": "related with #2544\r\n\r\n@joeyparrish\r\nI understood this issue wanna change from old syntax to modern syntax in docs.\r\nSo first, I replace `var` declaration to `let` or `const`.\r\nIf these changes are right with your intent, I'll replace `then` to `await` in the other PR :)",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "docs: change variable declaration to modern syntax (#2692)\n\nIssue #2544"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a384d6ca63ac8d88f65c",
    "number": 2683,
    "body": "This is an example (not finished yet) how you could handle dependencies from third-party libs, the initial issue is https://github.com/google/shaka-player/issues/2562. If the suggested solution is acceptable, I will proceed ",
    "head_branch": "muxjs-as-dependency",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: add dependencies module (#2683)\n\nCloses #2562"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a385d6ca63ac8d88f65d",
    "number": 2674,
    "body": "**What is the bug?**\r\nhttps://github.com/google/shaka-player/issues/2671\r\n\r\n**Why does this bug exist?**\r\nWhen the subtitles are turned off, `unloadTextStream()` on streaming engine is called, but `currentTextStream` is never set to null. When the captions are turned back on, a check in `player.js` sees that the current text stream is not null, so it assumes it exists, and is ready to go. Thus captions are never loaded.\r\n\r\n**What is the fix?**\r\nClearing (setting to null) the current stream on `unloadTextStream` ensures the text stream is properly initialized the next time it is called, and in a state so that captions can resume being parsed.\r\n\r\n**Notes**\r\nAfter further investigation, it seems that the unit tests are written in a way that assumes that the text stream is nulled when unloadTextStream is called. So this fix is definitely something that we assume already happens.",
    "head_branch": "bug-user-activate-and-deactivate",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: Fix disappearing captions with certain input patterns (#2674)\n\nWhen the subtitles are turned off, unloadTextStream() on streaming engine is called, but currentTextStream is never set to null. When the captions are turned back on, a check in player.js sees that the current text stream is not null, so it assumes it exists, and is ready to go. Thus captions are never loaded.\r\n\r\nClearing (setting to null) the current stream on unloadTextStream ensures the text stream is properly initialized the next time it is called, and in a state so that captions can resume being parsed.\r\n\r\nAfter further investigation, it seems that the unit tests are written in a way that assumes that the text stream is nulled when unloadTextStream is called. So this fix is definitely something that we assume already happens.\r\n\r\nCloses #2671"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a386d6ca63ac8d88f65e",
    "number": 2672,
    "body": "This fix also pertains to #2648.\r\n**What problem does this change fix?**\r\nThe problem is (somewhat) described by the comment (that is included in the diff) from `media_source_engine.js`. During video playback, if the user switches the caption stream (e.g. CC1 to CC3 which changes languages), the first caption in the next fragment is missing.\r\n\r\n**Why did this problem exist?**\r\nIn fragmented MP4s, the end time of a caption is determined by the start time of the next caption. Thus for the last caption in a fragment, the end time cannot be determined until the next fragment is parsed.\r\n\r\nBefore this fix: the clearing of the caption stream was being called from a chain of function calls originating from clearBuffer_() on the Media source engine. But clearing a buffer and resetting a caption stream are two independent operations. As a result, the caption parser was being reset (its buffer cleared) during video seeks, _and_ during stream switches. This makes sense for video seeks, because the end time of the last caption in the fragment can't be determined if the entire presentation timestamp changes. However for stream switches, resetting the parser doesn't make sense. Clearing the caption parser during a stream switch would actually get rid of the last caption in that fragment (which wasn't emitted since its end time wasn't determined yet), and we would lose the data, causing the problem.\r\n\r\n**What is the fix?**\r\nFor reasons mentioned previously, the fix is to reset (and hence clear) the caption parser during seeks, but not during stream switches.",
    "head_branch": "caption-stream-switch-bug",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix(CEA): Fix missing captions when switching streams (#2672)\n\nDuring video playback, if the user switches the caption stream (e.g. CC1 to CC3 which changes languages), the first caption in the next fragment is missing.\r\n\r\nIn fragmented MP4s, the end time of a caption is determined by the start time of the next caption. Thus for the last caption in a fragment, the end time cannot be determined until the next fragment is parsed.\r\n\r\nBefore this fix: the clearing of the caption stream was being called from a chain of function calls originating from clearBuffer_() on the Media source engine. But clearing a buffer and resetting a caption stream are two independent operations. As a result, the caption parser was being reset (its buffer cleared) during video seeks, and during stream switches. This makes sense for video seeks, because the end time of the last caption in the fragment can't be determined if the entire presentation timestamp changes. However for stream switches, resetting the parser doesn't make sense. Clearing the caption parser during a stream switch would actually get rid of the last caption in that fragment (which wasn't emitted since its end time wasn't determined yet), and we would lose the data, causing the problem.\r\n\r\nThe fix is to reset (and hence clear) the caption parser during seeks, but not during stream switches.\r\n\r\nIssue #2648"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a387d6ca63ac8d88f65f",
    "number": 2668,
    "body": "",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a388d6ca63ac8d88f660",
    "number": 2663,
    "body": "Resolves https://github.com/google/shaka-player/issues/1067",
    "head_branch": "network-changes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Use Network Information API to react to network changes (#2663)\n\nResolves #1067"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a389d6ca63ac8d88f661",
    "number": 2662,
    "body": "This commit is related to https://github.com/google/shaka-player/issues/1495",
    "head_branch": "com.microsoft.playready.recommendation",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a38ad6ca63ac8d88f662",
    "number": 2660,
    "body": "This commit pertains to issue #2648. This is an MP4 Parser which extracts CEA-708 packets from Fragmented MP4 streams.\r\n\r\nThe Closed Caption Parser (shaka.media.ClosedCaptionParser) will own this MP4 Parser, and will initialize it and call it as shown. As data comes in, the parser will parse this data, and the caption packets data then be returned in a callback (on708Data), as shown. Here, a theoretical decoder (future pull request, mentioned as a Todo comment) will decode and extract the parsed captions from these packets.\r\n\r\nNote: mp4_box_parsers.js has been linted and slightly modified to extract new data that is needed from boxes. The main focus of this pull request is everything under the new cea/ folder.",
    "head_branch": "mp4-cea-parser",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      " Parse CEA-708 Packets from Fragmented MP4 streams. (#2660)\n\nThis is an MP4 Parser which extracts CEA-708 packets from Fragmented MP4 streams.\r\n\r\nThe Closed Caption Parser (shaka.media.ClosedCaptionParser) will own this MP4 Parser, and will initialize it and call it as shown. As data comes in, the parser will parse this data, and the caption packets data then be returned in a callback (on708Data), as shown. Here, a theoretical decoder (future pull request, mentioned as a Todo comment) will decode and extract the parsed captions from these packets.\r\n\r\nIssue #2648"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a38bd6ca63ac8d88f663",
    "number": 2649,
    "body": "This commit is related to https://github.com/google/shaka-player/issues/2648",
    "head_branch": "mp4-boxes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Created MP4 Box parsers to parse data for common box types (#2649)\n\nIssue #2648"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a38cd6ca63ac8d88f664",
    "number": 2642,
    "body": "Resolves: https://github.com/google/shaka-player/issues/1460",
    "head_branch": "session-data",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add support for EXT-X-SESSION-DATA (#2642)\n\nResolves: #1460"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a38dd6ca63ac8d88f665",
    "number": 2628,
    "body": "@exportInterface is used by the extern generator, but ignored by the\r\ncompiler. @export should be used for shaka.util.FairPlayUtils and\r\nshaka.util.BufferUtils.\r\n\r\nCloses #2626 and #2627",
    "head_branch": "fix-exports",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix: export shaka.util.FairPlayUtils and shaka.util.BufferUtils (#2628)\n\n@exportInterface is used by the extern generator, but ignored by the\r\ncompiler. @export should be used for shaka.util.FairPlayUtils and\r\nshaka.util.BufferUtils.\r\n\r\nCloses #2626 and #2627"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a38ed6ca63ac8d88f666",
    "number": 2624,
    "body": "Resolves https://github.com/google/shaka-player/issues/2623",
    "head_branch": "background-ui-text-displayer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Background color only should apply to nested cues in UITextDisplayer"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a38fd6ca63ac8d88f667",
    "number": 2614,
    "body": "The current implementation of `pixelAspectRatio` in DASH is wrong. `@par` in DASH is \"display aspect ratio\" so the correct is populate this field with `@sar`",
    "head_branch": "storage-aspect-ratio",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Wrong pixelAspectRatio population in DASH (#2614)\n\nThe current implementation of pixelAspectRatio in DASH is wrong. `@par` in DASH is \"picture  aspect ratio\" so the correct is populate this field with `@sar`."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a390d6ca63ac8d88f668",
    "number": 2613,
    "body": "Resolves https://github.com/google/shaka-player/issues/2610",
    "head_branch": "max-segment-duration",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add maxSegmentDuration to stats (#2613)\n\nResolves #2610"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a391d6ca63ac8d88f669",
    "number": 2602,
    "body": "Adds support for nested TTML captions with an offset raised in #2601. \r\n\r\n",
    "head_branch": "nested-ttml-captions-with-an-offset",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add support for nested TTML captions with an offset (#2602)\n\nCloses #2601"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a391d6ca63ac8d88f66a",
    "number": 2582,
    "body": "Tivo Box with Opera browser and Opera Devices SDK inbuilt (Virgin Media STB in UK)\r\n",
    "head_branch": "TiVoEndianess",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix PlayReady key ID endianness for TiVo (#2582)\n\nFor Tivo Box with Opera browser and Opera Devices SDK inbuilt (Virgin Media STB in UK)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a392d6ca63ac8d88f66b",
    "number": 2580,
    "body": "",
    "head_branch": "channels-count-restriction",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a393d6ca63ac8d88f66c",
    "number": 2579,
    "body": "Using higher values in the configuration resolves https://github.com/google/shaka-player/issues/2252",
    "head_branch": "config-update-expiration",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add option to customize the polling of expiration time (#2579)\n\nA large value effectively disables use of the expiration time\r\n\r\nCloses #2252"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a394d6ca63ac8d88f66d",
    "number": 2575,
    "body": "Implementing feature from the issue https://github.com/google/shaka-player/issues/2556#issuecomment-627435317",
    "head_branch": "control-partial-segment-loading",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add new option manifest.hls.useFullSegmentsForStartTime (#2575)\n\nIf true, forces HlsParser to use a full segment request for determining\r\nstart time, in case the server does not support partial requests.\r\n\r\nCloses #2556"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a395d6ca63ac8d88f66e",
    "number": 2564,
    "body": "OPUS was disabled in Tizen at https://github.com/google/shaka-player/issues/1751 but, in new versions of Tizen, OPUS is working",
    "head_branch": "opus-tizen",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Allow OPUS on Tizen 5 or higher. (#2564)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a396d6ca63ac8d88f66f",
    "number": 2563,
    "body": "Documentation: https://developers.google.com/interactive-media-ads/docs/sdks/html5/dai/reference/js/UiSettings",
    "head_branch": "dai-uisettings",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add locale setting to AdManager (#2563)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a397d6ca63ac8d88f670",
    "number": 2561,
    "body": "",
    "head_branch": "current-ad",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a398d6ca63ac8d88f671",
    "number": 2543,
    "body": "Kind audioTrack --> https://developer.mozilla.org/en-US/docs/Web/API/AudioTrack\r\nKind textTrack --> https://developer.mozilla.org/en-US/docs/Web/API/TextTrack\r\n\r\nNote: This change has been discussed by email.",
    "head_branch": "roles-html5tracks",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add roles in text and audio tracks (src mode) using the kind parameter (#2543)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a399d6ca63ac8d88f672",
    "number": 2535,
    "body": "Resolves https://github.com/google/shaka-player/issues/2531",
    "head_branch": "preferredrole-srcmode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Setup preferredVariantRole and preferredTextRole in src mode (#2535)\n\nResolves #2531"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a39ad6ca63ac8d88f673",
    "number": 2534,
    "body": "Resolves https://github.com/google/shaka-player/issues/1598",
    "head_branch": "characteristics-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Parse HLS CHARACTERISTICS attribute (#2534)\n\nResolves #1598"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a39bd6ca63ac8d88f674",
    "number": 2522,
    "body": "This fixes toggling subtitles in compiled mode. Logic did not work because state was set after return.",
    "head_branch": "fix/subtitles-toggling",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a39cd6ca63ac8d88f675",
    "number": 2519,
    "body": "Resolves https://github.com/google/shaka-player/issues/2518",
    "head_branch": "metadata-tracks-src",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Filter metadata textracks in player APIs for src mode (#2519)\n\nResolves #2518"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a39dd6ca63ac8d88f676",
    "number": 2513,
    "body": "For webOS TV 2020 platform, like for Tizen, key IDs should not be\r\ntransformed to big-endian UUIDs, it causes `4012\r\nRESTRICTIONS_CANNOT_BE_MET` error.\r\n\r\nIssue #2512",
    "head_branch": "webos_tv",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix error `4012 RESTRICTIONS_CANNOT_BE_MET` for webOS TV platform (#2513)\n\nFor webOS TV 2020 platform, like for Tizen, key IDs should not be\r\ntransformed to big-endian UUIDs, it causes `4012\r\nRESTRICTIONS_CANNOT_BE_MET` error.\r\n\r\nCloses #2512"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a39ed6ca63ac8d88f677",
    "number": 2509,
    "body": "Resolves https://github.com/google/shaka-player/issues/1561",
    "head_branch": "hls-variable-substitution",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add variable substitution support to HLS parser (#2509)\n\nResolves #1561"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a39fd6ca63ac8d88f678",
    "number": 2508,
    "body": "Resolves https://github.com/google/shaka-player/issues/1872",
    "head_branch": "stats-livelatency",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add liveLatency to stats (only MSE) (#2508)\n\nResolves #1872"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3a0d6ca63ac8d88f679",
    "number": 2506,
    "body": "Resolves https://github.com/google/shaka-player/issues/2269",
    "head_branch": "preferredlanguage-srcmode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Setup preferredAudioLanguage and preferredTextLanguage in src mode (#2506)\n\nResolves #2269"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3a1d6ca63ac8d88f67a",
    "number": 2501,
    "body": "This work is necessary to expose metadata info to ads (SS)",
    "head_branch": "metadata-muxjs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Parse metadata in mux transmuxer (#2501)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3a2d6ca63ac8d88f67b",
    "number": 2500,
    "body": "This change include:\r\n- Remove bad pause for SS ads\r\n- Fix cuechange trigger event. Safari doesn't fire cuechange if the track mode is not hidden or showing. We force the change in several times to ensure that the change is done.\r\n\r\nNote: This change include some changes of https://github.com/google/shaka-player/pull/2476 but this PR doesn't expose any new event. Also simplify the logic to introduce metadata events from mux.js in a future",
    "head_branch": "metadata-tracks",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix metadata tracks for live server side ad streams (#2500)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3a3d6ca63ac8d88f67c",
    "number": 2499,
    "body": "Resolves: https://github.com/google/shaka-player/issues/2497",
    "head_branch": "fix-duplicating-cues",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3a4d6ca63ac8d88f67d",
    "number": 2495,
    "body": "```javascript\r\n(function(){\r\n  ...\r\n})();\r\n```\r\nThat function is now an expression position and now we can immediately invoke it. But then you've got the extra invoking parents hanging off on the end. So we can do better for the reader by wrapping the entire invocation expression in parens. \r\n\r\n```javascript\r\n(function (){\r\n  ...\r\n}());\r\n```\r\nSo now the goal is not to just get it passed to the compiler, but to give a little bit more information to the reader, so that when the reader sees a function and the closing parens wrapped in parentheses, that means something.\r\n\r\nimportant here is not the function, it's the result of the function. And just by moving the pair in one space over, we give a little bit more information to the reader and that can be helpful. ",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3a5d6ca63ac8d88f67e",
    "number": 2493,
    "body": "This is regarding the issue  #2477 \r\n\r\npercentValues_ regex works fine for \"100%\", but not for \"100.00%\"\r\nI have modified the regex to support 100.00%.\r\n\r\nI have sent mpd URL to shaka-player-issues@google.com to validate the issue.",
    "head_branch": "bitmap-subtitle-middle-of-the-screen",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix TTML position parsing (#2493)\n\nThe TTML parser would accept 100%, but not 100.0%.\r\n\r\nThis makes the parser more flexible, so even 100.00000% is valid.\r\n\r\nFixes #2477"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3a6d6ca63ac8d88f67f",
    "number": 2491,
    "body": "Need access to make a PR for below bug\r\nBitmap Subtitle is displaying middle of the screen #2477 bug",
    "head_branch": "patch-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3a7d6ca63ac8d88f680",
    "number": 2490,
    "body": "Need access to make a PR for below bug\r\nBitmap Subtitle is displaying middle of the screen #2477 bug",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3a8d6ca63ac8d88f681",
    "number": 2476,
    "body": "Resolves https://github.com/google/shaka-player/issues/1917",
    "head_branch": "cuechange-events-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Support for cuechange events in HLS playback (#2476)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3a9d6ca63ac8d88f682",
    "number": 2475,
    "body": "The implementation covers CS and SS",
    "head_branch": "load-time-ads-stats",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add loadTimeSeconds to ads stats\n\nIssue #2475"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3aad6ca63ac8d88f683",
    "number": 2474,
    "body": "Resolves https://github.com/google/shaka-player/issues/2440",
    "head_branch": "non-standard-playready-uuid",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add non-standard DASH PlayReady UUID (#2474)\n\nResolves #2440"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3abd6ca63ac8d88f684",
    "number": 2473,
    "body": "Resolves https://github.com/google/shaka-player/issues/2470",
    "head_branch": "cmaf-hls",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Recognize new CMAF file extensions cmfv, cmfa, cmft in HLS (#2473)\n\nResolves #2470"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3acd6ca63ac8d88f685",
    "number": 2464,
    "body": "This is an attempt at extending ui/ui.js with an optional external castProxy class.\r\n\r\nthere are still some open ends, but to start the discussion I started this pull request.\r\n\r\nIf there are any good idea's on how this should better be implemented, I love to hear them!",
    "head_branch": "feat/ui-custom-castproxy",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3add6ca63ac8d88f686",
    "number": 2449,
    "body": "Solves #2448 and #2447\r\n\r\nI've tested it manually on device and it works fine, not sure if this could cause any other issues though?\r\n\r\nThe check is for both Tizen 2.3 and 2.4, but I have not been able to connect a debugger to Tizen 2.3 yet. I suspect the issue is there aswell and I hope that this will fix it. As mentioned by @avelad in #2448 , this is probably the same as #813. \r\n\r\n`webkitneedkey` is fired with the same `event.initData` for the video and audio tracks, which is flagged by `newInitData` as a faulty state.\r\n\r\nI am not sure how to write tests for this, I'd be happy to take any pointers..",
    "head_branch": "tizen2.4-bugfixes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Tizen2.4 bugfixes (#2449)\n\n`'webkitneedkey'` events are fired with the same `event.initData` for the video and audio tracks, and a new session is needed for each.\r\n\r\nCloses #813 (duplicate sessions required on Tizen)\r\nCloses #2447 (polyfills broken on Tizen)\r\nCloses #2448 (PlayReady broken on Tizen)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3aed6ca63ac8d88f687",
    "number": 2445,
    "body": "Discovered issue with Closure Compiler that results in the removal of necessary code validation of the buffer. This change ensures that the necessary code is not removed by the compiler.\r\n\r\n- Added Vimeo Inc. as a contributor\r\n- Changed StringUtils to have previous solution which also ensures that code will not be truncated by Closure Compiler \r\n\r\nCloses #2433",
    "head_branch": "change-string-utils",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3aed6ca63ac8d88f688",
    "number": 2443,
    "body": "Resolves https://github.com/google/shaka-player/issues/2407\r\n\r\nWORK IN PROGRESS, not merge yet.\r\n\r\nI need https://github.com/google/shaka-player/pull/2442, so when it is closed, I will rebase the changes to this PR and then it will be ready",
    "head_branch": "ebutts-linePadding",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add ebutts:linePadding to ttml parser (#2443)\n\nhttps://tech.ebu.ch/docs/tech/tech3380v1_0_1.pdf Section 2.1\r\n\r\nResolves #2407"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b0d6ca63ac8d88f689",
    "number": 2442,
    "body": "Scope of PR:\r\n- parse ttp:cellResolution and provide it to shaka.text.Cue, so text displayers can  use it in next calculations\r\n- add support of fontSize in '%' and 'c' to ttml_text_parser\r\n- add support of font size in cell resolution units to shaka.ui.TextDisplayer\r\n- add unit tests\r\n\r\nNote:\r\n- add partial support of font size in percentages to shaka.ui.TextDisplayer\r\n\r\n**From w3c spec:*\r\n*Percentages:  if not region element, then relative to the parent element's computed font size; otherwise, relative to the Computed Cell Size.*\r\nCurrently will be calculated relative to the Computed Cell Size.\r\n\r\nSpec:\r\ntts:fontSize - https://www.w3.org/TR/ttml1/#style-attribute-fontSize\r\nttp:cellResolution - https://www.w3.org/TR/ttml1/#parameter-attribute-cellResolution\r\n<length> - https://www.w3.org/TR/ttml1/#style-value-length\r\n\r\nUseful links that helped during development and documentation investigation:\r\nhttps://www.w3.org/TR/ttml1/\r\nhttp://sandflow.com/imsc1_1/ - IMSC1 Renderer\r\nhttps://trac.videolan.org/vlc/ticket/18347 \r\n\r\nSample TTML that can be used for testing:\r\n[ttml-captions-test.zip](https://github.com/google/shaka-player/files/4289000/ttml-captions-test.zip)\r\n\r\n\r\nCloses https://github.com/google/shaka-player/issues/2403",
    "head_branch": "add-cell-resolution-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add support of fontSize in percentages and cell resolution unit for TTML captions (#2442)\n\nCloses #2403"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b0d6ca63ac8d88f68a",
    "number": 2441,
    "body": "Add a new event in the player that indicate that the load is complete.\r\n\r\nThis is necessary for SS ADS because it does the `player.load` process.",
    "head_branch": "loaded-event",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add loaded event (#2441)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b1d6ca63ac8d88f68b",
    "number": 2439,
    "body": "Improving documentation for DRM-Configuration for ClearKey\r\n#2434",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Improved ClearKey Example (#2439)\n\nImproving documentation for DRM-Configuration for ClearKey\r\n\r\nCloses #2434"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b2d6ca63ac8d88f68c",
    "number": 2425,
    "body": "Fix a bug #2237 with early text parser initialisation when switching between text tracks with different MIME types",
    "head_branch": "stpp-vtt-switching-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b3d6ca63ac8d88f68d",
    "number": 2419,
    "body": "Fix a bug #2237 with early text parser initialisation when switching between text tracks with different MIME types",
    "head_branch": "stpp-vtt-switching-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b4d6ca63ac8d88f68e",
    "number": 2412,
    "body": "This is the fix for this issue.\r\nhttps://github.com/google/shaka-player/issues/2411\r\n\r\n`shaka.dash.DashParser.processManifest` is using the `presentationTimeline.usingPresentationStartTime()` to determine if it parses UTCTiming or not.\r\n\r\nThe `usingPresentationStartTime` always returns the false when maxSegmentEndTime_ is not null.\r\n\r\nWhen the manifest has `SegmentTimeline`, it seems always setting a value to `maxSegmentEndTime_`.\r\n\r\nI added the code not to set `maxSegmentEndTime_` when `autoCorrectDrift` is false.",
    "head_branch": "feature/fixutctiming",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix the bug that UTCTiming is ignored even when autoCorrectDrift is off (#2412)\n\nCloses #2411"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b5d6ca63ac8d88f68f",
    "number": 2408,
    "body": "tts:border --> https://www.w3.org/TR/2018/REC-ttml2-20181108/#style-attribute-border\r\ntts:letterSpacing --> https://www.w3.org/TR/2018/REC-ttml2-20181108/#style-attribute-letterSpacing\r\ntts:opacity --> https://www.w3.org/TR/2018/REC-ttml2-20181108/#style-attribute-opacity\r\n",
    "head_branch": "enhance-ttml-parser",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add support to tts:border, tts:letterSpacing and tts:opacity in TTML (#2408)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b6d6ca63ac8d88f690",
    "number": 2406,
    "body": "",
    "head_branch": "offline-creationtime",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add creationTime to offline assets (#2406)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b7d6ca63ac8d88f691",
    "number": 2404,
    "body": "https://developers.google.com/web/updates/2017/12/chrome-63-64-media-updates#persistent-licenses-windows-mac",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Update offline.md (#2404)\n\nhttps://developers.google.com/web/updates/2017/12/chrome-63-64-media-updates#persistent-licenses-windows-mac"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b8d6ca63ac8d88f692",
    "number": 2400,
    "body": "The commit https://github.com/google/shaka-player/commit/c56fe7db1932f236989934bb095e161a48f82f61 introduce a regression in manifest with Playready and Widevine.\r\nThe commit doesn't filter initData that are not part of the current DRM selected for download.",
    "head_branch": "download-widevine-playready",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix download contents with Widevine and Playready in the manifest. (#2400)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3b9d6ca63ac8d88f693",
    "number": 2394,
    "body": "Bad linebreaks will now cause cues to be skipped (with a warning), rather than throwing an error.\r\n\r\nCloses #2358",
    "head_branch": "vtt-extranewlines",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feat: Allow VTT files with erroneous linebreaks (#2394)\n\nBad linebreaks will now cause cues to be skipped (with a warning),\r\nrather than throwing an error.\r\n\r\nCloses #2358\r\nCo-authored-by: Álvaro Velad Galván <ladvan91@hotmail.com>"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3bad6ca63ac8d88f694",
    "number": 2393,
    "body": "",
    "head_branch": "custom-adtagurl",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add set custom asset with Ad Tag URL (#2393)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3bbd6ca63ac8d88f695",
    "number": 2388,
    "body": "",
    "head_branch": "demo-ads-reload",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add support to play CS ads when the demo is reloaded by the user (#2388)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3bcd6ca63ac8d88f696",
    "number": 2387,
    "body": "Resolves https://github.com/google/shaka-player/issues/2383",
    "head_branch": "async-trackSelectionCallback",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Make trackSelectionCallback async (#2387)\n\nResolves #2383"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3bdd6ca63ac8d88f697",
    "number": 2386,
    "body": "Change AdsManager by AdsLoader (https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsLoader)",
    "head_branch": "fix-cs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix IMA CS detection (#2386)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3bed6ca63ac8d88f698",
    "number": 2382,
    "body": "Implements part of https://github.com/google/shaka-player/issues/2367 and https://github.com/google/shaka-player/issues/2365",
    "head_branch": "ima-dai",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add initial DAI support (#2382)\n\nThis PR ads initial logic to enable support for IMA DAI streams.\r\nAd-containing streams can now be requested from the IMA stream manager and played.\r\n\r\nIntegration with the ad UI will follow in a separate CL."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3bfd6ca63ac8d88f699",
    "number": 2381,
    "body": "Fixes #2378\r\n - register TTML handler for `stpp.ttml.im1t` codec\r\n - adjusted HLS test case to comply with rfc8216bis section 4.4.5.2\r\nThis change keeps the legacy support for codec string `stpp.TTML.im1t`. Note that while unit tests pass without this, there is good reason to assume that there is still plenty content out there using the legacy content string.\r\n\r\nTo test:\r\n - HLS: https://demo.unified-streaming.com/video/tears-of-steel/master_hls_fmp4_clear.m3u8\r\n - DASH: https://demo.unified-streaming.com/video/tears-of-steel/tears-of-steel-ttml.ism/.mpd",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Lower case codec string for IMSC1 Text profile (#2378) (#2381)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c0d6ca63ac8d88f69a",
    "number": 2375,
    "body": "Resolves the comment: https://github.com/google/shaka-player/issues/2222#issuecomment-581538019",
    "head_branch": "disambig-cs-dai",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "IMA: disambig between CS and DAI (#2375)\n\nIMA has two separate SDKs for CS and SS ad insertion.\r\nThis PR makes sure people don't try to init CS ads when they only have SS SDK\r\nincluded."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c1d6ca63ac8d88f69b",
    "number": 2372,
    "body": "Resolves: https://github.com/google/shaka-player/issues/2366",
    "head_branch": "ad-events",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Expose some events of IMA SDK to the app (#2372)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c2d6ca63ac8d88f69c",
    "number": 2371,
    "body": "Resolves https://github.com/google/shaka-player/issues/2246",
    "head_branch": "disablevideo-audioelement",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Disable video when the media element is AUDIO (#2371)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c2d6ca63ac8d88f69d",
    "number": 2368,
    "body": "For Video Futur platform, like for Tizen, key IDs should not be\r\ntransformed to big-endian UUIDs, it causes `4012\r\nRESTRICTIONS_CANNOT_BE_MET` error.\r\n\r\nIssue #2189",
    "head_branch": "bugfix/issue-2189-support-playready-videofutur",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix error `4012 RESTRICTIONS_CANNOT_BE_MET` for Video Futur platform (#2368)\n\nFor Video Futur platform, like for Tizen, key IDs should not be\r\ntransformed to big-endian UUIDs, it causes `4012\r\nRESTRICTIONS_CANNOT_BE_MET` error.\r\n\r\nIssue #2189"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c3d6ca63ac8d88f69e",
    "number": 2357,
    "body": "It's a strict tokenizer and a stack based collection-of-trees builder to make `<span>`, `<b>`, `<u>` and `<i>` elements.\r\nHonestly I've never seen voice tags used in the wild, so I didn't implement them. They can be added later by modifying `buildElement` if someone cares deeply about them.\r\n\r\nResolves #2348",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c4d6ca63ac8d88f69f",
    "number": 2332,
    "body": "Resolves: https://github.com/google/shaka-player/issues/2068",
    "head_branch": "framerate-restriction",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add framerate restriction to the config (#2332)\n\nCloses #2068"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c5d6ca63ac8d88f6a0",
    "number": 2330,
    "body": "for #2023 ",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "add manifest.dash.ignoreEmptyAdaptationSet config option (#2330)\n\nCloses #2023"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c6d6ca63ac8d88f6a1",
    "number": 2329,
    "body": "Resolves https://github.com/google/shaka-player/issues/812",
    "head_branch": "playbackRate-bandwidth",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Take into account the playbackRate in bandwidth calculations (#2329)\n\nResolves #812"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c7d6ca63ac8d88f6a2",
    "number": 2328,
    "body": "",
    "head_branch": "corruptedFrames",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add corruptedFrames to stats (#2328)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c8d6ca63ac8d88f6a3",
    "number": 2325,
    "body": "Hide the navbar on Android devices with onscreen navigation.\r\n\r\nFixes #2324\r\n\r\nDetails about this fullscreen option can be found on Fullscreen API documentation:\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/FullscreenOptions/navigationUI",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3c9d6ca63ac8d88f6a4",
    "number": 2297,
    "body": "",
    "head_branch": "license-time",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add licenseTime to stats (#2297)\n\nThis gives the cumulative time spent fetching licenses."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3cad6ca63ac8d88f6a5",
    "number": 2294,
    "body": "Parse pixelAspectRatio in DASH and expose it\r\n\r\nRelated to https://github.com/google/shaka-player/pull/2290",
    "head_branch": "pixelAspectRatio",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add pixelAspectRatio property from DASH (#2294)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3cbd6ca63ac8d88f6a6",
    "number": 2290,
    "body": "Parse audioSamplingRate in DASH and expose it",
    "head_branch": "audioSamplingRate",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add audioSamplingRate property (#2290)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3ccd6ca63ac8d88f6a7",
    "number": 2288,
    "body": "Same as https://github.com/google/shaka-player/pull/2180 but with test",
    "head_branch": "approximate-segment-size",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Calculate approximate segment size based on bandwidth (#2288)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3cdd6ca63ac8d88f6a8",
    "number": 2280,
    "body": "",
    "head_branch": "audio-video-formats",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add AV1 check and more file extensions for src mode (#2280)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3ced6ca63ac8d88f6a9",
    "number": 2278,
    "body": "Relates to #2196",
    "head_branch": "disable-text",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Allow disabling the text parsing, decoding, etc in DASH/HLS with a config (#2278)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3cfd6ca63ac8d88f6aa",
    "number": 2276,
    "body": "Filter image DASH adaptation sets until https://github.com/google/shaka-player/issues/559 is resolved\r\n\r\nSample stream https://dash.akamaized.net/akamai/bbb_30fps/bbb_with_tiled_thumbnails_2.mpd\r\n\r\nNow the error DASH_NO_SEGMENT_INFO is returned",
    "head_branch": "skip-thumbnails",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Filter image adaptation sets (#2276)\n\n* Filter image adaptation sets\r\n\r\n* Add comment about the change\r\n\r\n* Add test\r\n\r\n* Change Test  name"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d0d6ca63ac8d88f6ab",
    "number": 2274,
    "body": "Additional lower case comparison of mime type to commit 85ba5e4",
    "head_branch": "mime_type_lower_case",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d1d6ca63ac8d88f6ac",
    "number": 2273,
    "body": "Additional lower case comparison of mime type to commit https://github.com/google/shaka-player/commit/85ba5e49bb4e10d17bf082308f2ae6f5d0a9880c",
    "head_branch": "mime_type_parsing",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d2d6ca63ac8d88f6ad",
    "number": 2271,
    "body": "Resolves https://github.com/google/shaka-player/issues/2267",
    "head_branch": "starttime-srcmode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add startTime support in src= mode (#2271)\n\nCloses #2267"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d3d6ca63ac8d88f6ae",
    "number": 2260,
    "body": "Add a config to allow ignore suggestedPresentationDelay in DASH\r\n\r\nResolves: https://github.com/google/shaka-player/issues/1604",
    "head_branch": "ignoreSuggestedPresentationDelay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Allow ignoreSuggestedPresentationDelay in DASH (#2260)\n\n* Add ignoreSuggestedPresentationDelay configuration\r\n\r\n* Add test\r\n\r\n* Change test name\r\n\r\n* Add missing locale"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d4d6ca63ac8d88f6af",
    "number": 2259,
    "body": "Relates to https://github.com/google/shaka-player/pull/2196",
    "head_branch": "disable-video",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Allow disable the video parsing/decoding/.. in DASH/HLS with a config (#2259)\n\n* Add disableVideo configuration\r\n\r\n* Add missing locale"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d5d6ca63ac8d88f6b0",
    "number": 2257,
    "body": "Resolve https://github.com/google/shaka-player/issues/2177",
    "head_branch": "airplay-fairplay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "AirPlay support HLS with FairPlay (#2257)\n\nCloses #2177"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d6d6ca63ac8d88f6b1",
    "number": 2236,
    "body": "When using Shaka player inside an cross domain iframe in Firefox with 3rd party cookies blocked, `probeSupport` method throws a SecurityError.\r\n\r\nThe error is thrown in lib/offline/indexeddb/storage_mechanism.js:340, when accessing `window.indexedDB`.\r\n\r\nThe proposed solution removes `window.indexedDB` with a polyfill, using the same approach implemented for Chromecast.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Disable indexedDB support if an error is thrown (#2236)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d7d6ca63ac8d88f6b2",
    "number": 2215,
    "body": "Fix for #1946",
    "head_branch": "feature/mimetype",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Ignore MIME parameters in Content-Type check (#2215)\n\nFixes #1946"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d8d6ca63ac8d88f6b3",
    "number": 2212,
    "body": "Fix https://github.com/google/shaka-player/issues/1946",
    "head_branch": "content-type",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d8d6ca63ac8d88f6b4",
    "number": 2209,
    "body": "Add a check if platform supports picture-in-picture as in iOS the polyfill breaks native APIs, see #2199 for more details.\r\n\r\nPlease note:\r\nUnable to use static string `shaka.polyfill.PiPWebkit.PIP_MODE_` as there's a mix of ES6 features and lack of static class members support so checks fail\r\n\r\nfixes #2199",
    "head_branch": "fix/2199",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3d9d6ca63ac8d88f6b5",
    "number": 2204,
    "body": "What change does this make?\r\nAdds `goog.require('shaka.ui.Constants');` to shaka-player.uncompiled.js\r\n\r\nFixes [#2203](https://github.com/google/shaka-player/issues/2203)",
    "head_branch": "expose-constants-npm-package",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3dad6ca63ac8d88f6b6",
    "number": 2202,
    "body": "Correct misspelled words.\r\n\r\nP.s. Thanks to @joeyparrish for",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Update README.md (#2202)\n\nCorrect misspelled words"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3dbd6ca63ac8d88f6b7",
    "number": 2197,
    "body": "Resolves https://github.com/google/shaka-player/issues/2178",
    "head_branch": "dash-label",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Use label from DASH manifest AdaptationSet (#2197)\n\nFixes #2178"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3dcd6ca63ac8d88f6b8",
    "number": 2196,
    "body": "Resolves https://github.com/google/shaka-player/issues/2195",
    "head_branch": "disable-audio",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Allow disable the audio parsing/decoding/.. in DASH/HLS with a config (#2196)\n\nResolves #2195"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3ddd6ca63ac8d88f6b9",
    "number": 2194,
    "body": "Correcting misspelled words",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3ded6ca63ac8d88f6ba",
    "number": 2180,
    "body": "The logic introduced in https://github.com/google/shaka-player/issues/1051 does not work for segment references created via `createFromTimeline_`  because their size in unknown from the manifest.\r\n\r\nThe stream I am using: https://strm.yandex.ru/kal/demo_channel/manifest.mpd\r\nThe problem can be reproduced this way:\r\n1. play a stream on a good connection with abr enabled until quality rises to 1080p\r\n2. throttle connection to 3g via devtools\r\n3. abr switches quality, but 1080p chunk is still loading\r\n\r\n\r\nrework of https://github.com/google/shaka-player/pull/2174 based on @joeyparrish [review](https://github.com/google/shaka-player/pull/2174#pullrequestreview-298451296)\r\n",
    "head_branch": "approximate-segment-size",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3dfd6ca63ac8d88f6bb",
    "number": 2175,
    "body": "Include event ID in findSimilarRegion_() check so that events with same presentationTime and duration but different ID are treated as separate events.\r\n\r\nCloses #2077",
    "head_branch": "include-id-in-event-comparison",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Include event ID in findSimilarRegion_() check (#2175)\n\nInclude event ID in findSimilarRegion_() check so that events with same\r\npresentationTime and duration but different ID are treated as separate events.\r\n\r\nCloses #2077"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e0d6ca63ac8d88f6bc",
    "number": 2174,
    "body": "The logic introduced in https://github.com/google/shaka-player/issues/1051 does not work for segment references created via `createFromTimeline_`  because their size in unknown from the manifest.\r\n\r\nIn this PR we pass a size of a segment from xhr/fetch via `progressUpdated` and use this value `shouldAbortCurrentRequest_` as a `newSegmentSize`.\r\n\r\n\r\nThe stream I am using: https://strm.yandex.ru/kal/demo_channel/manifest.mpd\r\n\r\nThe problem can be reproduced this way:\r\n1. play a stream on a good connection with abr enabled until quality rises to 1080p\r\n2. throttle connection to 3g via devtools\r\n3. abr will downgrade stream quality, but the segments will still be fetched from 1080p",
    "head_branch": "shouldAbortCurrentRequest_",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e1d6ca63ac8d88f6bd",
    "number": 2164,
    "body": "This is a PR for the same thing as #2042 for solving issue #1531 . I took the comments from #2042 and created a solution based on that with the issues resolved.\r\n\r\nI test different type of contents and all works. However I know that the bot doesn't test on machine with persistent support, please review it manually also.",
    "head_branch": "offline-pssh",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Offline license support for manifests without inline init data (#2164)\n\nCloses #1531"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e2d6ca63ac8d88f6be",
    "number": 2161,
    "body": "Extracted from https://github.com/google/shaka-player/commit/6e5a0797de42a4b7ade45667552cf1b20cb0f143\r\n\r\nIt also simplifies the logic of https://github.com/google/shaka-player/pull/2042 to continue working on the functionality.",
    "head_branch": "move-normaliseInitData",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Move PatchedMediaKeysMs.normaliseInitData_ to shaka.util.Pssh.normaliseInitData (#2161)\n\nRelated to ongoing work for #1531"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e3d6ca63ac8d88f6bf",
    "number": 2160,
    "body": "Fix https://github.com/google/shaka-player/issues/2031\r\n\r\nI passed all the tests and there are no errors, but I am not sure if there are more implications that are not contemplated in the tests.",
    "head_branch": "spurious-webkitkeyerror",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e4d6ca63ac8d88f6c0",
    "number": 2158,
    "body": "In uncompiled mode, goog.define stopped exporting its value as a side effect 4 months ago, and Closure Compiler has now made it an error to not assign the result.",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e5d6ca63ac8d88f6c1",
    "number": 2134,
    "body": "",
    "head_branch": "nativeSrcChangeEvent",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add change event to audiotracks and texttracks (#2134)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e6d6ca63ac8d88f6c2",
    "number": 2126,
    "body": "Resolve the question https://github.com/google/shaka-player/issues/2124",
    "head_branch": "exportGetMaxSegmentDuration",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e7d6ca63ac8d88f6c3",
    "number": 2106,
    "body": "Fix for https://github.com/google/shaka-player/issues/2058",
    "head_branch": "playreadyPRO",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Get PlayReady PSSH from <mspr:pro> in DASH (#2106)\n\nCreates \"pssh\" init data based on the <mspr:pro> element in the DASH manifest.\r\n\r\nCloses #2058"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e8d6ca63ac8d88f6c4",
    "number": 2079,
    "body": "Reverts google/shaka-player#2042\r\n\r\nThe PR as it landed broke some test cases and functionality for storing persistent licenses, and it doesn't seem to work even for its intended use case.",
    "head_branch": "revert-2042-feature/offline-pssh",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [
      "Revert offline PSSH support for manifest that are missing inline init data\n\nThis reverts commit 6e5a0797de42a4b7ade45667552cf1b20cb0f143, #2042.\r\n\r\nThe PR as it landed broke some test cases and functionality for storing persistent licenses, and it doesn't seem to work even for its intended use case."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e9d6ca63ac8d88f6c5",
    "number": 2042,
    "body": "This is a PR for the same thing as #1600 for solving issue #1531 . I took the comments from #1600 and created a solution based on that. \r\n\r\nHowever i'm not entirely sure how to update the drmEngine in the best way, i would love some pointers and comments about how to solve that in the best way!",
    "head_branch": "feature/offline-pssh",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "feature: Offline PSSH support for manifest that are missing inline init data (#2042)\n\n* fix: Reference issue with SegmentReference createUris\r\n\r\n* test: Added Segment GetUris Test for timeline\r\n\r\n* feat: Get PSSH from segements if not initdata exists\r\n\r\n* feat: Get PSSH from segements if not initdata exists\r\n\r\n* fix: JSDoc comments and moved drmEngine update to storage\r\n\r\n* fix: Remove comments\r\n\r\n* fix: Remove unused import\r\n\r\n* fix: Lint erros and dedup initData code\r\n\r\n* fix: remove no init data test and add check for use persistent license"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3e9d6ca63ac8d88f6c6",
    "number": 2040,
    "body": "When trying to play some of our manifest Shaka was creating wrong URIs for each representation due to reference issue. This PR fixes that and replicates how it's done inside `createInitSegment_`",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix reference issue with SegmentReference createUris (#2040)\n\nIn a recent refactor that made some internals of DASH parsing async for the first time, we broke the creation of SegmentReferences by having createUris close around values that changed later.  This fixes the bug and adds a regression test."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3ead6ca63ac8d88f6c7",
    "number": 2036,
    "body": "Fixes #1918.\r\n\r\nYou're able to seek on iOS, but I'm not fully confident yet. Might be a good idea to extend the touchable surface in height in `shaka.ui.RangeElement`.",
    "head_branch": "feature/1918_iOSSeekbarBehavior",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix seek bar on iOS (#2036)\n\nUse touch events to sync the range element's value when the bar is touched.\r\n\r\nThis means you no longer have to touch the tiny ball on the seek bar on iOS.\r\n\r\nFixes #1918"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3ebd6ca63ac8d88f6c8",
    "number": 2034,
    "body": "Since #1962, any nodes with begin or end attributes with empty content would not be interpreted as cues (`<p begin=\"xx\" end=\"xxx\" smpte:backgroundImage=\"yyy\" />` for example)\r\n\r\nThis PR fixes this. \r\n\r\nTo test: Live sim TTML Image Subtitles embedded (VoD)",
    "head_branch": "fix-ttml-backgroundImage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fix ttml background image support (#2034)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3ecd6ca63ac8d88f6c9",
    "number": 2033,
    "body": "Previous:\r\n\r\n![image](https://user-images.githubusercontent.com/8983024/61199176-3d6c4600-a6dd-11e9-9334-84535fd88fa4.png)\r\n\r\nAfter:\r\n\r\n![image](https://user-images.githubusercontent.com/8983024/61199212-5b39ab00-a6dd-11e9-9a07-b999abde3d98.png)\r\n",
    "head_branch": "improve_smptett",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add background transparent if not set in SMPTE-TT subtitles (#2033)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3edd6ca63ac8d88f6ca",
    "number": 2030,
    "body": "This PR fixes the issue #2028. It trims the textContent containing the base64 code of the subtitles.",
    "head_branch": "trim-base64-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Trim base64 subtitles (#2030)\n\nThis trims the textContent containing the base64 code of the subtitles, to avoid trying to decode newlines and other whitespace as part of the base64-encoded data.\r\n\r\nFixes #2028"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3eed6ca63ac8d88f6cb",
    "number": 2029,
    "body": "This PR fixes the issue #2028. It trims the textContent conntaining the base64 code of the subtitles.",
    "head_branch": "trim-base64-subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3efd6ca63ac8d88f6cc",
    "number": 1998,
    "body": "This is regarding the issue https://github.com/google/shaka-player/issues/1983.\r\n\r\nI have added an extra function onSegmentParsed on the playerInterface passed to each manifest parser. If the manifest parser wants, it can call the function with mime type, stream id, and data (whose format may differ according to the manifest parser) whenever it encounters a new fragment in its stream.\r\n\r\nThis function right now simply emits an event 'segmentparsed' from the player when this function is called.\r\n\r\nAlso find the unit tests to go along with it. And let me know if there is any improvement to be made. :)\r\n",
    "head_branch": "user-hooks-for-hls-parser",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f0d6ca63ac8d88f6cd",
    "number": 1994,
    "body": "For stringUtil.fromCharCode when creating a new string from the given array of char codes break the array in smaller chunks to avoid stack errors on low end devices",
    "head_branch": "issue/1985",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f1d6ca63ac8d88f6ce",
    "number": 1992,
    "body": "Pull request followed up by Issue #1991",
    "head_branch": "wrong-mime-type-case",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f2d6ca63ac8d88f6cf",
    "number": 1973,
    "body": "Fixed a typo in the docs 😄 ",
    "head_branch": "fix-typo-in-docs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix a typo in the docs (#1973)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f3d6ca63ac8d88f6d0",
    "number": 1972,
    "body": "This property tracks the original request uri, which would be\r\nuseful to know in the event of a redirect.\r\n\r\nIssue #1971",
    "head_branch": "feature/requestUri_1971",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add originalUri as a property on shaka.extern.Response (#1972)\n\nThis property tracks the original request uri, which would be\r\nuseful to know in the event of a redirect.\r\n\r\nFixes #1971"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f4d6ca63ac8d88f6d1",
    "number": 1969,
    "body": "Color parser for vtt segment like that :\r\n```\r\nWEBVTT\r\nX-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0\r\n\r\n16:32:29.200 --> 16:32:31.640\r\n<c.cyan>Qui avait fait une depression.</c>\r\n\r\n16:32:32.800 --> 16:32:34.720\r\nJe me sentais tres seule.\r\n```",
    "head_branch": "parserVTT",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f5d6ca63ac8d88f6d2",
    "number": 1964,
    "body": "Live HLS subtitles working properly with color parse\r\nExemple of vtt subtitles file : \r\n\r\nWEBVTT\r\nX-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:0\r\n\r\n22:23:12.960 --> 22:23:15.320\r\nJe vais le faire.\r\n-Si c'Ã©tait Julie,\r\n\r\n22:23:15.560 --> 22:23:19.000\r\n<c.yellow>qu'est-ce que j'entendrais.</c>\r\n-Tu parles de mon cÃ´tÃ© autoritaire.\r\n\r\n\r\n",
    "head_branch": "parserVTT",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f6d6ca63ac8d88f6d3",
    "number": 1962,
    "body": "This PR adds:\r\n- a notion of nested cue, that renders inside the parent cue\r\n- a first support of spans inside paragraphs\r\n\r\nHow to test:\r\n- Live MPD w/ TTML subtitles https://irtdashreference-i.akamaihd.net/dash/live/901161/bfs/manifestARD.mpd\r\n- VoD w/ French subtitles https://e213.cdn.m6web.fr/videos/test_pixel/usp/mb_hd2/subtitle/NCIS-TEARS2_chromecast_unp_sd_dash_v1.ism/Manifest.mpd (the subtitles are not in sync w/ the video, this was only made for debugging purpose)\r\n\r\nTODO\r\n\r\n- [ ] Unit tests: text_displayer(s), ttml_text_parser\r\n- [x] Rebase branch on master\r\n- [x] Follow the Contributing guidelines fully",
    "head_branch": "enhance-ttml-display",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "enhance ttml rendering (#1962)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f7d6ca63ac8d88f6d4",
    "number": 1960,
    "body": "when using DOMParser parseFromString with an empty string it returns an errored XML document\r\nthe next part of the code is then executed and throw an unnecessary error",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix support for empty TTML data (#1960)\n\nWhen using DOMParser parseFromString with an empty string, it returns an errored XML document.  The next part of the code is then executed and throws an unnecessary error.\r\n\r\nThis adds a special case for an empty string."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f8d6ca63ac8d88f6d5",
    "number": 1944,
    "body": "Hi,\r\n\r\nI've seen that a new version of Shaka Player was mentioned in the Google I/O video about medias. I peeked very quickly at the french locale and saw two things that could be improved with a more idiomatic translation.\r\n\r\n\"Mettre en veille\" means to put your computer to sleep, and not to pause a video.\r\n\r\nThank you for putting together ShakaPlayer and explaining all the updates to Chrome media in that I/O video.",
    "head_branch": "fix-french-locale",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Improve french translations (#1944)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f8d6ca63ac8d88f6d6",
    "number": 1943,
    "body": "backToOverflowMenuButtons_ is only used in the constructor immediately after it is set.",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3f9d6ca63ac8d88f6d7",
    "number": 1932,
    "body": "This PR will fix an issue where the license request will fail in case that there are url unsafe characters in license request post body. It will make the post request parameters have spc=base64 structure instead spc:base64.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Use standard base64 encoding in FairPlay license request (#1932)\n\nCloses #1915"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3fad6ca63ac8d88f6d8",
    "number": 1931,
    "body": "This PR will fix an issue where the license request will fail in case that there are url unsafe characters in license request post body. It will make the post request parameters have spc=base64 structure instead spc:base64.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3fbd6ca63ac8d88f6d9",
    "number": 1902,
    "body": "Add PiP pollyfill for Safari\r\n\r\nBased in https://github.com/gbentaieb/pip-polyfill\r\n\r\n",
    "head_branch": "pip-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add PiP pollyfill for Safari (#1902)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3fcd6ca63ac8d88f6da",
    "number": 1899,
    "body": "G'day and thanks for ShakaPlayer, it's amazing!\r\n\r\nIn my case I have several MPEG-dash manifests, some of them contain UTCTiming, some not. If manifest I choose does not contain UTCTiming, I specify `clockSyncUri` via `configure`. The problem is to detect if manifest contains UTCTiming without extra HTTP-query. The pull request contains naive implementation. Which way is more correct in your opinion? Or, maybe the pull request could be merged? I'll appreciate any help or advice.",
    "head_branch": "detect-dash-utc-timing-manifest-usage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3fdd6ca63ac8d88f6db",
    "number": 1898,
    "body": "Allow play mp3, aac and flac files with src=",
    "head_branch": "mimetypes-shouldUseSrcEquals_",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add mp3, aac and flac mapping to src= MIME type list (#1898)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3fed6ca63ac8d88f6dc",
    "number": 1897,
    "body": "Fix return value for keySystem() and getExpiration() with src=\r\n\r\nThis shouldn't depend on the load state.",
    "head_branch": "eme-info-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a3ffd6ca63ac8d88f6dd",
    "number": 1896,
    "body": "Add a new function called getLoadMode that returns the current load mode. The possibel response is:\r\nDESTROYED, NOT_LOADED, MEDIA_SOURCE and SRC_EQUALS\r\n\r\nThis function is necessary for https://github.com/google/shaka-player/issues/1003 because AirPlay only works with SRC mode.",
    "head_branch": "loadMode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add getLoadMode function (#1896)\n\nAdd a new function called getLoadMode that returns the current load mode\r\n\r\nThe possible responses are:\r\nDESTROYED, NOT_LOADED, MEDIA_SOURCE and SRC_EQUALS\r\n\r\nThis function is necessary for #1003 because AirPlay only works with SRC_EQUALS mode,\r\nand the AirPlay events fire even in MEDIA_SOURCE mode."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a400d6ca63ac8d88f6de",
    "number": 1888,
    "body": "Return the mediaElement when using src on player getMediaElement",
    "head_branch": "mediaElement",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Return the mediaElement when using src on player getMediaElement (#1888)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a401d6ca63ac8d88f6df",
    "number": 1880,
    "body": "Resolves https://github.com/google/shaka-player/issues/1367",
    "head_branch": "sticky-manifest",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Make manifest redirections sticky for updates (#1880)\n\nCloses #1367"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a402d6ca63ac8d88f6e0",
    "number": 1859,
    "body": "Related to: https://github.com/google/shaka-player/issues/840 & https://www.smpte.org/sites/default/files/st2052-1-2010.pdf\r\n\r\nTasks:\r\n- Add sample stream\r\n- Modify ttml_text_parser.js to parse metadata elements and support smpte:backgroundImage\r\n- Modify text_displayer. to support images",
    "head_branch": "smpte-image",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add SMPTE-TT Subtitle Images (#1859)\n\nThis change adds support for images via SMPTE-TT by adding background image support to the TTML text parser. This required changing region parsing to respect global extends.\r\n\r\nIssue #840"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a403d6ca63ac8d88f6e1",
    "number": 1855,
    "body": "Add a new field to getStats. The new field is pauseTime: \"The total time spent in a paused state in seconds.\"",
    "head_branch": "pauseTime",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Track time in \"pause\" state in stats (#1855)\n\nBefore, we reported the total seconds spent in the \"playing\" and \"buffering\" states, but we did not track the total time spent in the \"paused\" state.\r\n\r\nNow that we can derive the \"total time spent in\" via `StateHistory`, we can easily fetch the total amount of time spent in the \"paused\" state (which is tracked in our state history).\r\n\r\nThis adds a new field to `shaka.extern.Stats` for `pauseTime`, defined as \"The total time spent in a paused state in seconds'."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a404d6ca63ac8d88f6e2",
    "number": 1845,
    "body": "React Native introduces its own polyfill for window.URL.createObjectURL which is not compatible with Shaka. Encapsulating a reference to the original function inside of the MediaSourceEngine circumvents this issue.\r\n\r\nIssue #1842",
    "head_branch": "react-native-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix React Native createObjectURL polyfill incompatibility (#1845)\n\nReact Native introduces its own polyfill for window.URL.createObjectURL which is not compatible with Shaka. Encapsulating a reference to the original function inside of the MediaSourceEngine circumvents this issue.\r\n\r\nCloses #1842"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a405d6ca63ac8d88f6e3",
    "number": 1844,
    "body": "The Bitly link to Dolby's Dolby Vision Profiles and levels PDF points to a document version that no longer exists. \r\n\r\nReplace it with a Bitly link to https://www.dolby.com/us/en/technologies/dolby-vision/dolby-vision-profiles-levels.pdf",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Dolby Vision fixes for Chromecast (#1844)\n\n- Fix the link to Dolby's Dolby Vision Profiles and levels PDF\r\n  - Was pointing to a document version that no longer exists\r\n- Update Dolby Vision regex to match all DV codecs\r\n  - Dolby Vision is available in 4 different (base) codecs: dvhe, dvh1, dvav, dva1\r\n  - dvh* represents HEVC-based Dolby Vision\r\n  - dva* represents AVC-based Dolby Vision.\r\n- Do not remove Dolby Vision codecs on Chromecast\r\n\r\nNo need to remove Dolby Vision codecs on Chromecast. Chromecast's canDisplayType will reject them when the cast receiver or the attached display can't play Dolby Vision.\r\n\r\nOn Dolby Vision capable cast receivers attached to a TV in Dolby Vision mode, canDisplayType does not reject Dolby Vision streams. One such device is the Chromecast Ultra. With this change, Shaka Player plays Dolby Vision on qualifying setups."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a406d6ca63ac8d88f6e4",
    "number": 1821,
    "body": "This is a dummy PR to test updates to our build bot.  Please disregard.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a407d6ca63ac8d88f6e5",
    "number": 1820,
    "body": "Fix for https://github.com/google/shaka-player/issues/1704",
    "head_branch": "1704",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix stalls on WebOS (#1820)\n\nDisable the StallDetector on WebOS, where we often mistake slowness for stalling.\r\n\r\nFix for #1704"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a408d6ca63ac8d88f6e6",
    "number": 1810,
    "body": "Fixes the problem reported in #1808 \r\n\r\nHLS parser wrongly assumes that a tag may have either a value or attributes, not both.\r\n\r\nThe RFC doesn't describe a general tag format or even give a name to what's called tag value in the Shaka Player codebase, but it clearly gives the format of EXTINF tag:\r\n\r\n`#EXTINF:<duration>,[<title>]`\r\n\r\nThis PR makes the following changes:\r\n\r\n* Removes either value or attributes validation from `shaka.hls.Tag`\r\n* Simplifies branching and adds a check for value in the list of attributes in `shaka.hls.ManifestTextParser.parseTag()`\r\n* Removes misuse of `let` in `shaka.hls.ManifestTextParser.parseTag()`, most local variables are never reassigned and can be `const`\r\n* Adds a test case to guard against regression",
    "head_branch": "bugfix/hsl-support-tags-with-both-value-and-attributes",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add support for HLS tags with both value and attributes (#1810)\n\nAdd support for HLS tags with both value and attributes\r\n\r\nAlso fixes hls.Tag.toString() to stringify numeric attributes properly."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a409d6ca63ac8d88f6e7",
    "number": 1805,
    "body": "\"corresponding\" intead of  \"corresonding\".",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Typo fix in code comment (#1805)\n\n\"corresponding\" intead of  \"corresonding\"."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a40ad6ca63ac8d88f6e8",
    "number": 1799,
    "body": "## Issue\r\n\r\nThe background is white on Safari in full screen mode. For example:\r\n\r\n<img width=\"1280\" alt=\"screen shot 2019-02-08 at 3 50 26 pm\" src=\"https://user-images.githubusercontent.com/615940/52489039-8a457100-2bc1-11e9-9823-5d21b5bc450a.png\">\r\n\r\n## Test case\r\n\r\n1. Open the test page in Safari\r\n1. Load the Angel stream\r\n1. Enter full screen mode\r\n\r\n### Expected\r\n\r\nThe background under the content is black.",
    "head_branch": "ui-fullscreen-bg",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Set background to black in fullscreen mode\n\nIssue #1799"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a40ad6ca63ac8d88f6e9",
    "number": 1797,
    "body": "\" member\" instead of \"memeber\".",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix typo in code section (#1797)\n\n\" member\" instead of \"memeber\"."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a40bd6ca63ac8d88f6ea",
    "number": 1796,
    "body": "## Test case\r\n\r\n1. Open the test page\r\n1. Load the Angel asset\r\n1. Enter full screen mode\r\n\r\n### Expected\r\n\r\nThe current time element is left-aligned and other controls are right-aligned.\r\n\r\n### Actual\r\n\r\nThe current time element isn't left-aligned but has an indentation. For example:\r\n\r\n![before](https://user-images.githubusercontent.com/615940/52403162-5e919080-2ac6-11e9-856d-321c749d86fe.png)\r\n\r\n\r\n",
    "head_branch": "ui-spacer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Make spacer growable in order to align control elements (#1796)\n\n* Make spacer growable in order to align control elements\r\n* Remove margins in order to be more flexible when shrinking"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a40cd6ca63ac8d88f6eb",
    "number": 1736,
    "body": "Changed livesim assets to new host URLs https://livesim.dashif.org.\r\nAdded SegmentTimeline with $Number$ in addition to SegmentTimeline with $Time$.\r\nAddes startOver URLS: interval [-20s, 20s] compared to wall-clock. These turn into static at interval end.\r\nCorrected some information.",
    "head_branch": "livesim-update",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Update DASH-IF livesim URLs (#1736)\n\n - Changed livesim assets to new host URLs https://livesim.dashif.org.\r\n - Added SegmentTimeline with $Number$ in addition to SegmentTimeline with $Time$.\r\n - Added startOver URLS: interval [-20s, 20s] compared to wall-clock. These turn into static at interval end.\r\n - Corrected some information."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a40dd6ca63ac8d88f6ec",
    "number": 1732,
    "body": "\r\nThis patch removes the requirement that a URI component must exist on any EXT-X-MEDIA other than SUBTITLES.  In additiona, the tests have been updated to capture the SUBTITLE requirement, while allowing AUDIO and VIDEO to be optional.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "fixes 1086 and 1730 - if an X-EXT-MEDIA asset does not contain URI, ignore when building stream list (#1732)\n\nAllow URI attribute on Media tags to be optional for every media type, but Subtitles (#1732)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a40ed6ca63ac8d88f6ed",
    "number": 1726,
    "body": "Please see the #1723 for more details.\r\nThank you",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add safeSeekOffset to StreamingConfiguration (#1726)\n\nCloses #1723"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a40fd6ca63ac8d88f6ee",
    "number": 1711,
    "body": "Hey @joeyparrish and @ismena,\r\n\r\nAs recommended in https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture#listen-pip-events, it is better to listen to Picture-in-Picture events instead of waiting for PiP related promises to resolve as PiP window can close and open not only from your media player UI.\r\nFor instance, closing PiP window from the close PiP window button didn't update shaka controls.\r\n\r\nThis PR adds support for this. \r\n\r\nHere's another example where we use PiP events: https://googlechrome.github.io/samples/picture-in-picture/\r\n\r\nNote that I had to create a `localVideo_` variable as the `video_` proxy one didn't allow me to add PiP event listeners properly. Moveover, PiP events don't make sense for remoting.\r\n\r\nIssue #1682",
    "head_branch": "pip",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Update controls when external PiP events occur. (#1711)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a410d6ca63ac8d88f6ef",
    "number": 1699,
    "body": "Resolving the problem with subtitles viewing for multi-period live DASH stream.\r\nFor issue [#1698](https://github.com/google/shaka-player/issues/1698)\r\n\r\nFor multi-period live DASH stream with subtitles when the \"CC\" button on Shaka player clicked: \r\n - subtitles stop to appear for a few seconds or did not start at all;\r\n - for a few seconds later the playback will be stopped for about 10 to 30s then continue to play.\r\n\r\nThe problem is relate to the different video and text period numbers. \r\nThe problem arises when we start to load the text from current period. \r\nWe managed to improve the situation when we start to load the text from the active period. \r\nAnother problem has arisen with the text stream updating after the start of subtitles loading. The period of playheadTime is compared with zero mediaState.resumeAt property. So we find the period of Text stream for playheadTime but it is less then the period of current Video stream. And we get an assertion failure here. \r\nTo save the current period number we offer to set the resumeAt property of mediaState to the start time of the active period.\r\nThe described changes help solve the problem, but there is a delay before the subtitles appear. The delay value is the difference between the active and current periods time.\r\n\r\n",
    "head_branch": "feature/multi-period_dash_with_subtitles",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a411d6ca63ac8d88f6f0",
    "number": 1660,
    "body": "Fixes #1658",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add missing require for shaka.util.XmlUtils (#1660)\n\nFixes #1658"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a412d6ca63ac8d88f6f1",
    "number": 1644,
    "body": "This PR is based off https://github.com/google/shaka-player/pull/1010.  It closes #484 and parses license urls from `<ms:laurl>` and `<mspr:pro>` in the DASH manifest.  I believe I have addressed all the suggestions made in the original PR.\r\n\r\n/cc @forbesjo",
    "head_branch": "parse-license-url",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add license url parsing (#1644)\n\nThis adds parsing license URLs to the DASH parser so the URL can be embedded in the manifest.\r\n\r\nFixes #484"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a413d6ca63ac8d88f6f2",
    "number": 1639,
    "body": "**Library**: Call setServerCertificate before store and delete operations, when serverCertificate exists:\r\nIn case of store(), it can be configured by the application.\r\nIn case of delete(), it is retrieved from the stored manifest.\r\n\r\n**Demo application**: before store(), request and configure the certificate, when a certificateUri is given in asset.\r\n\r\nFixes #1623.",
    "head_branch": "bugfix/offline_1623",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Set server certificate before Store and Delete (#1639)\n\nCall setServerCertificate before store and\r\ndelete operations, when serverCertificate\r\nexists.\r\nIn demo application, request and\r\nconfigure certificate when certificateUri\r\nis given in asset.\r\n\r\nFixes #1623"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a414d6ca63ac8d88f6f3",
    "number": 1624,
    "body": "hi,\r\n\r\nIn this fix I am taking the certificateUri from an originalAsset [if one is] found in the shakaAssets array.\r\nThis is an intermediate fix.\r\n\r\nA better solution would be to store the certificateUri in storage \r\ntogether with the original license server uri.\r\nI will open another issue for that, as I intend to suggest to store also a separate releaseLicenseServerUri.\r\n",
    "head_branch": "bugfix/demo_offline_1623",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a415d6ca63ac8d88f6f4",
    "number": 1609,
    "body": "Fixes #1608 ",
    "head_branch": "bugfix/offlineTutorialSample_1608",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Bugfix/offline tutorial sample (#1609)\n\n* Fix tracks sorting in Offline tutorial sample code\r\n\r\nSort bandwidths numerically.\r\n\r\nFixes #1608"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a416d6ca63ac8d88f6f5",
    "number": 1602,
    "body": "I noticed that some of our VOD HLS streams don't start playback from 0 position when using shaka player. What is more you can't even seek to 0 position. After some debugging I found out that seekable range isn't correct (e.g. for one content the range was from 4200 seconds to 2700 seconds, 2700 seconds was the duration of the content and shaka player immediately seeked to this position & only played a few seconds before the end). I noticed that presentation timelines first segment start time is set before segments are offset back to 0 in hls parser. Calling notifySegments after applying the offset instead of before fixes this issue for me. One warning at this point... we just started using shaka player & I'm not familiar with the codebase... which means that I'm not sure if this can affect anything else.",
    "head_branch": "bugfix/hls-vod-seekable-range",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a417d6ca63ac8d88f6f6",
    "number": 1600,
    "body": "This is an initial implementation to manually parse the first media segments to extract the PSSH data from the moov atom to support offline storage of content that does not include inline PSSH init data. \r\n\r\nPer ticket #1531\r\n> When we store content, we need to create an EME offline session so we can play the encrypted content later. To create the session we need the init data, which is usually PSSH data. If it is in the manifest, we can just pass it to EME to create the offline session. But if we don't have it, we need to get it from the media.\r\n\r\n> In a streaming situation, we pass the media to the browser and it gives us an encrypted event with the PSSH data in it. But when we are storing content, we can't give it to the browser since we don't want to create a <video> element and have to deal with MSE.\r\n\r\nThe implementation manually fetches the first segments of the stream and then parses them using the existing shaka mp4 atom parser and re-used logic from the 'shaka.polyfill.PatchedMediaKeysMs' to correctly extract the PSSH value which is then inserted into the DrmEngine.",
    "head_branch": "feature/1531",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a418d6ca63ac8d88f6f7",
    "number": 1581,
    "body": "EDIT: pull request updated to add manifest.dash.ignoreMinBufferTime\r\n\r\n~~i'm not really satisfied of adding a defaultRebufferingGoal to config but at least changes in code are very light~~\r\n\r\nsee #1547 ",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add config field to ignore manifest minBufferTime #1547  (#1581)\n\nAdd the config field manifest.dash.ignoreMinBufferTime, which will default to false. If true, the DASH parser will ignore minBufferTime in the manifest, such that streaming.rebufferingGoal is the only factor in play.\r\n\r\nCloses #1547"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a419d6ca63ac8d88f6f8",
    "number": 1537,
    "body": "In commit 78142719eb3fa71315012b6ad0d634157bed1f50, the method\r\nFakeNetworkingEngine#setResponseMapAsText was removed, and every\r\ninstance of its usage (except one) was replaced with\r\nsetResponseText. This change fixes the one missed case.\r\n\r\nCloses #1536",
    "head_branch": "fakeNetEngineError_1536",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a41ad6ca63ac8d88f6f9",
    "number": 1532,
    "body": "Previously, HttpFetchPlugin would treat any non-Shaka error as\r\nHTTP_ERROR when there were potentially other circumstances which\r\ncould have produced a non-Shaka error.\r\n\r\nThis change catches errors from fetch sooner, so that there is no\r\nneed to do a fuzzy check for error.severity. It also clears the\r\nrequest timeout regardless of whether fetch throws or not.\r\n\r\nCloses #1519",
    "head_branch": "fetchCatch_1519",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Refactor HttpFetchPlugin to clarify error outcomes (#1532)\n\nPreviously, HttpFetchPlugin would treat any non-Shaka error as\r\nHTTP_ERROR when there were potentially other circumstances which\r\ncould have produced a non-Shaka error.\r\n\r\nThis change catches errors from fetch sooner, so that there is no\r\nneed to do a fuzzy check for error.severity. It also clears the\r\nrequest timeout regardless of whether fetch throws or not.\r\n\r\nCloses #1519"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a41bd6ca63ac8d88f6fa",
    "number": 1507,
    "body": "Closes #1506",
    "head_branch": "bugfix/noInvalidThis_1506",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Correct Casing On Constructor Function Name (#1507)\n\nIn \"test/net/http_plugin_unit.js\" we had a constructor that did not conform to proper standards causing some ESLint issues with some configurations (but not the project's current config).\r\n\r\nSince the project style guide says that constructors/classes should start with a capital letter, this will be accepted regardless of the config not failing.\r\n\r\nCloses #1506"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a41cd6ca63ac8d88f6fb",
    "number": 1489,
    "body": "Adds shaka.net.NetworkingEngine.RequestType.TIMING for identification of clock sync requests in networking filters. Fixes #1488.",
    "head_branch": "bugfix/addRequestTypeForClockSync",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add new request type TIMING for clock sync requests (#1489)\n\nFixes #1488"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a41dd6ca63ac8d88f6fc",
    "number": 1465,
    "body": "",
    "head_branch": "updateReadmeCeaSupport",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Move CEA-608/708 to list of supported HLS features (#1465)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a41ed6ca63ac8d88f6fd",
    "number": 1446,
    "body": "To support require in nodejs of shaka-player to fix this issue\r\n\r\nhttps://github.com/google/shaka-player/issues/1445\r\n\r\nI have added a check for window",
    "head_branch": "bug/fix_issue_with_imports",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Added check for window (#1446)\n\nIf nodejs, use global as scope, else use window.\r\n\r\nCloses #1445"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a41fd6ca63ac8d88f6fe",
    "number": 1409,
    "body": "For details about content see https://github.com/Axinom/dash-test-vectors#live-clear\r\n\r\nThe HLS variant is currently experiencing excessive caching on the CDN, so it is likely to fail to play. I am working on sorting that out.",
    "head_branch": "axinom-live",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Added Axinom Live test video (#1409)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a420d6ca63ac8d88f6ff",
    "number": 1398,
    "body": "I came across the following issue while using Shaka as a dependency of another pre-bundled player library that was delivered to my company as a single, minified UMD-wrapped package without a package.json and therefore no resolvable dependencies. Due to the nature of a UMD library, all dependencies are wrapped inside it so that it can be used as a `<script>` tag without the need for a build process. I anticipate many other video players may deliver Shaka to customers like this to avoid complexity for  their customers.\r\n\r\nI will be following up with the authors of the player to see if they can provide a commonjs build instead with a resolvable list of dependencies, but I can't see any downside of adding the suggested changes below and making Shaka more robust in the process.\r\n\r\nThanks!\r\n\r\n#### Description\r\n\r\nShaka assumes that `this` within the top-level IIFE will be bound to `window` in a browser environment.\r\n\r\n```js\r\n(function() {\r\n    console.log(this); // window\r\n})()\r\n```\r\n\r\nThis works correctly as long as Shaka is a top-level dependency (node_module) of an ES6+ project and therefore ignored from babel transpilation. However, when it is part of some other bundle which is transpiled from ES6 to ES5 before being consumed, this process will add the following:\r\n\r\n```js\r\nfunction() { // wrapping webpack module closure\r\n    'use strict';\r\n    ...\r\n    (function() { // shaka UMD module\r\n        console.log(this); // undefined\r\n    })()\r\n}\r\n```\r\nAs per the strict-mode specification, `this` is `undefined` within an implicitly called IIFE.\r\n\r\nShaka is then broken, as various pieces of code such as `window.console` become lookups on undefined.\r\n\r\nTo address this, we can explicitly bind the IIFE to the window, and Shaka will function correctly regardless of whether it is being evaluated in a strict mode context or not.\r\n\r\n```js\r\n(function() {\r\n    console.log(this); // window\r\n}).call(window)\r\n```\r\n\r\n\r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Explicitly bind to window for ES5 strict mode compatibility (#1398)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a421d6ca63ac8d88f700",
    "number": 1390,
    "body": "~~This CL simply makes sure we don't use `//` and also adds playsinline which is almost always mandatory in iOS world~~\r\n\r\nThis CL simply makes sure we don't use protocol relative URLs.\r\n\r\n> Now that SSL is encouraged for everyone and doesn’t have performance concerns, this technique is now an anti-pattern. If the asset you need is available on SSL, then always use the https:// asset.\r\n> \r\n> Allowing the snippet to request over HTTP opens the door for attacks like the recent Github Man-on-the-side attack. It’s always safe to request HTTPS assets even if your site is on HTTP, however the reverse is not true.\r\n> \r\n\r\nSource: See https://www.paulirish.com/2010/the-protocol-relative-url/ and https://google.github.io/styleguide/htmlcssguide.html#Protocol.\r\n",
    "head_branch": "patch-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a421d6ca63ac8d88f701",
    "number": 1388,
    "body": "As of 04-02-2018 VDMS manifest servers are no longer passing\r\ndata via cookies.  As such the servers are no longer setting \r\n 'Access-Control-Allow-Credentials' header in the response.  \r\nThe demo player is currently configured to set include credentials\r\nfor the VDMS assets and without the Allow Credentials error we get\r\na CORS error when attempting playback:\r\n\r\n The value of the 'Access-Control-Allow-Credentials' header in the response is '' which must be 'true' when the request's credentials mode is 'include'. Origin 'https://shaka-player-demo.appspot.com' is therefore not allowed access\r\n\r\nThis change updates the VDMS asset callback to ensure that the credential\r\nmode is no longer 'include'. ",
    "head_branch": "vdms_tests_no_credentials",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "VDMS manifest servers no longer set cookies, and so players (#1388)\n\nWe should no longer set \"include credentials\" on VDMS license\r\nrequests.  Doing so results in a CORS error. This change fixes\r\nplayback of a couple assets in the demo player."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a422d6ca63ac8d88f702",
    "number": 1374,
    "body": "WIP. This extends previous PR from @chrisfillmore by providing utility scripts for automating plugin usage, addressing some build issues and tweaking the plugin registration model a bit.",
    "head_branch": "feature/appPluginInterface_1198",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a423d6ca63ac8d88f703",
    "number": 1359,
    "body": "Hi,\r\nThe purpose of this pull request is to provide renewal license api for stored content.\r\nIt gets an offline uri (e.g \"`offline:manifest/9`\") and returns the offline manifest object (with the new expiration timestamp).\r\n\r\nThe flow is pretty much as I described [here](https://github.com/google/shaka-player/issues/1347)\r\n\r\nMy two main concerns are:\r\n1. I exposed two properties in drm_engine (maybe there is a better way to do it - active_sessions + mediaKeys).\r\n2. is there a simpler way to create the new manifest? what i am running the whole '`loadInternals`' flow, cause i guess i need the initData etc.\r\n\r\nwould be happy to hear what you think.\r\n\r\nThanks,\r\nOded",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a424d6ca63ac8d88f704",
    "number": 1350,
    "body": "Updating contributors to use my person email instead of my corp email.",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a425d6ca63ac8d88f705",
    "number": 1346,
    "body": "",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a426d6ca63ac8d88f706",
    "number": 1334,
    "body": "",
    "head_branch": "2.3.3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a427d6ca63ac8d88f707",
    "number": 1324,
    "body": "Closes #1319 ",
    "head_branch": "expiredDocs_1319",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Update docs for 6014 EXPIRED (#1324)\n\nCloses #1319"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a428d6ca63ac8d88f708",
    "number": 1318,
    "body": "Warn if parsing the date from the UTC timing element fails, instead of silently failing to do time synchronization.\r\n\r\n",
    "head_branch": "warnbaddate",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Warn if parsing the date from the UTC timing element fails (#1318)\n\nCloses #1317"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a429d6ca63ac8d88f709",
    "number": 1313,
    "body": "I added resume and pause methods to the Storage object.\r\n\r\nWe wanted to add the ability for the user / application to pause a download and resume it (e.g. upon closing the window).\r\nPausing a download is done on the local storage object. Resuming a download is done with the offline manifest URI (i assumed it will be saved by the application and not by Shaka).\r\n\r\nThe pause method signals the download manager and adds `downloadStatus = paused` to the manifest object. The `downloadSegment_` function was changed to support this flag. After pause is triggered, it will populate the manifest with the segment with the `dataKey` set to ` null` (and ` startByte, endByte, position`).\r\n\r\nThe resume method retrieves the manifest from the indexdb. \r\nIt adds all the downloaded segments (those with `dataKey != null`) to the new manifestDB object.\r\nAll the pending segments are added to the `segments_` object in the `download_manager`.\r\n\r\nI also changed the demo offline section to demonstrate the feature ability.\r\n\r\nI still haven't changed and added tests - i will add them if you think i'm on the right track in implementing this methods.",
    "head_branch": "feature/addPauseAndResumeFunctionalityToOfflineStorage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a42ad6ca63ac8d88f70a",
    "number": 1303,
    "body": "Also wrap mock XHR event handlers in try-catch blocks in\r\nhttp_plugin_unit to avoid regression.\r\n\r\nResolves #1302",
    "head_branch": "bugfix/xhrThrow_1302",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Catch BAD_HTTP_STATUS error thrown by makeResponse in xhr.onload (#1303)\n\nCatch BAD_HTTP_STATUS error thrown by makeResponse in xhr.onload\r\n\r\nAlso wrap mock XHR event handlers in try-catch blocks in\r\nhttp_plugin_unit to avoid regression.\r\n\r\nResolves #1302"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a42bd6ca63ac8d88f70b",
    "number": 1296,
    "body": "The motivation for this change is to allow the client app to\r\nshare Shaka's support detection.\r\n\r\nThis should enable #1075.",
    "head_branch": "feature/isFetchSupported",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Move Fetch API support detection into public method. (#1296)\n\nThe motivation for this change is to allow the client app to\r\nshare Shaka's support detection.\r\n\r\nThis should enable #1075."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a42cd6ca63ac8d88f70c",
    "number": 1295,
    "body": "Fixes #1294 . You may read the details in the ticket. Also, I have not completed the tests so far. I am still working on. I will push them when they are ready. Meanwhile, I will appreciate if I can get some feedback. Thank you.",
    "head_branch": "feature/createsPsshforMsPro",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a42dd6ca63ac8d88f70d",
    "number": 1288,
    "body": "Closes #1284",
    "head_branch": "removeBadLogging_1284",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Remove misleading logging in DrmEngine#fillInDrmInfoDefaults_ (#1288)\n\nCloses #1284"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a42ed6ca63ac8d88f70e",
    "number": 1279,
    "body": "Closes #1268",
    "head_branch": "feature/pollForEmsgRegions_1268",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a42fd6ca63ac8d88f70f",
    "number": 1274,
    "body": "",
    "head_branch": "patch-4",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix typo in shakaExterns.Track docs (#1274)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a430d6ca63ac8d88f710",
    "number": 1273,
    "body": "Implements a node-based build tool to generate TypeScript type definitions based on the generated externs file and the externs defined in `externs/shaka/`.\r\nFixes issue #1030 \r\n",
    "head_branch": "feature/generate-typescript-typedefs",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a431d6ca63ac8d88f711",
    "number": 1272,
    "body": "The comment for the definition of `shakaExtern.ManifestParser.PlayerInterface` misses a word, adding it here.\r\n\r\nAlso fixes a typo in another comment.",
    "head_branch": "patch-3",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix documentation typos (#1272)\n\n* Add a missing word in ManifestParser comments\r\n* Fix a typo in a comment in mp4_parser.js"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a432d6ca63ac8d88f712",
    "number": 1267,
    "body": "A very small change, I acknowledge, but while writing type definitions for using shaka-player with our TypeScript codebase, I came accross this one.\r\nTimelineRegionAdded, TimelineRegionEnter and TimelineRegionExit are the only events to miss the \"Event\" suffix.\r\n\r\nAs this is indeed a very small change I do not think this justifies opening an issue next to this pull request.",
    "head_branch": "improvement/consistent-event-names",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Rename Timeline events to include the \"Event\" suffix (#1267)\n\nRight now, the timeline related events are the only events defined without an \"Event\"-suffix in the name. Their naming should follow the naming used throughout the rest of the project."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a433d6ca63ac8d88f713",
    "number": 1264,
    "body": "#1263 ",
    "head_branch": "nocarryr-patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix Wrong Year in CHANGELOG\n\nFix Wrong Year in CHANGELOG\r\n\r\nIt looks like 2017 was such a great year for Shaka Player\r\nthat we did not want it to end, so in our CHANGELOG we\r\ndecided to start 2017 all over again.\r\n\r\nThis change updated the two entries to say 2018 instead of\r\n2017.\r\n\r\nCloses #1263"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a434d6ca63ac8d88f714",
    "number": 1254,
    "body": "Closes #1253",
    "head_branch": "feature/requestTypeWithError_1253",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Provide RequestType in error data from HttpPlugin. (#1254)\n\n\r\nCloses #1253"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a435d6ca63ac8d88f715",
    "number": 1235,
    "body": "The DEFAULT_SUGGESTED_PRESENTATION_DELAY_ in DashParser is useful to have configurable\r\nwhen the stream provider isn't able to add `suggestedPresentationDelay` in the manifest.\r\n\r\nFixes #1234",
    "head_branch": "feature/dash_presentation_delay_config",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Change so that default presentation delay for DASH is configurable (#1235)\n\nIt is useful to have the default presentation delay configurable when the stream provider isn't able to add `suggestedPresentationDelay` in the manifest\r\n\r\nFixes #1234"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a436d6ca63ac8d88f716",
    "number": 1231,
    "body": "WIP demo of an app plugin.",
    "head_branch": "feature/appPluginInterface_1198",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a436d6ca63ac8d88f717",
    "number": 1217,
    "body": "As you may read more details in #1094 , this PR fixes the issue that occurs when live stream switches from unencrypted content to encrypted content during playback.This issue can be fixed by drm configuration setup as you may find it in this PR. So, I tried to keep simple as possible as I can although there are a couple more ways to implement a fix that is based on drm configuration, but those ways require little bit more changes which I did not want it. I will also explain some minor drawbacks under the code changes with this fix. Also, a note that I could not add an integration test because I could not find any public sample live stream that switches from clear content to encrypted content. \r\n\r\nOn the other hand, I have considered to reinitialize drmEngine when player receives encrypted content if drmEngine is not activated. Although this seems more proper fix, I could not get it work. You may see this workaround in this link [drmReinitialization](https://github.com/google/shaka-player/compare/master...SemihGk:feature/drmReinitialization) . I just left the major changes in this branch comparization to just show how it can be handled. However, browser is crashed when live stream switches to encrypted content. Therefore, I cannot receive any error or cannot troubleshoot the issue although I debugged the all player lifecycle. Anyway, if you consider this solution rather than drmConfiguration based fix, I may need more help on this since I have no idea what is wrong. This bug became very urgent. Thus, I would be grateful if you can help me to fix this issue soon. Thank you.\r\n  \r\n  \r\n  ",
    "head_branch": "feature/switchingEncryptedToClearContent",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "DRM content is now implied by DRM config (#1217)\n\nIn some cases with dynamic, multi-period DASH manifests and insertion\r\nof clear ad periods, it is not known from the manifest if the content\r\nwill be encrypted.  From now on, if an application configures license\r\nservers, DRM content will be implied and MediaKeys will be set up,\r\nregardless of what is in the manifest.\r\n\r\nCloses #1094"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a437d6ca63ac8d88f718",
    "number": 1216,
    "body": "A feature in demo app to be able to select language with a drop down in the player. \r\n\r\nTested with various assets, for example:\r\nhttps://vm2.dashif.org/dash/vod/testpic_2s/multi_subs.mpd\r\n",
    "head_branch": "subtitle-select-box-demo",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a438d6ca63ac8d88f719",
    "number": 1211,
    "body": "",
    "head_branch": "HlsMinTimestamp",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a439d6ca63ac8d88f71a",
    "number": 1209,
    "body": "on #248",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fixing Typo in upgrade-v1 docs\n\nFixing a typo in docs/tutorials/upgrade-v1.md"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a43ad6ca63ac8d88f71b",
    "number": 1208,
    "body": "Those externs are referenced in other parts of documentation",
    "head_branch": "missing_export_doc",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Added missing @exportDoc annotations (#1208)\n\n* Added missing @exportDoc annotations\r\n* Fixed typo in TimelineRegionExit event description"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a43bd6ca63ac8d88f71c",
    "number": 1203,
    "body": "# #1200 ",
    "head_branch": "segment_reference_improvements",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add getters to SegmentReference and InitSegmentReference (#1203)\n\nCloses #1200"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a43cd6ca63ac8d88f71d",
    "number": 1199,
    "body": "",
    "head_branch": "feature/fairplay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a43dd6ca63ac8d88f71e",
    "number": 1181,
    "body": "Very simple change: remove a duplicated entry in testMimeTypes.",
    "head_branch": "fix-repeated-codec",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Remove duplicated mime types (#1181)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a43ed6ca63ac8d88f71f",
    "number": 1168,
    "body": "This is a workaround for Chrome bug https://crbug.com/690583.\r\n\r\nResolves #1093",
    "head_branch": "chromeUpdateWorkaround_1093",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Don't wait for sessions to close on DrmEngine#destroy (#1168)\n\nThis is a workaround for Chrome bug https://crbug.com/690583\r\n\r\nResolves #1093"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a43fd6ca63ac8d88f720",
    "number": 1163,
    "body": "Multiperiod MPD with VTT subtitles doesn't add the presentationTimeOffset\r\n#1164  Multiperiod MPD with VTT subtitles presentationTimeoffset\r\n",
    "head_branch": "multiperiod-vtt-offsets",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a440d6ca63ac8d88f721",
    "number": 1156,
    "body": "A couple of VDMS multi drm (widevine + playready) samples to add to the demo app.  This merge request addresses issue #1140 ",
    "head_branch": "vdms_playready_sample_assets",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add VDMS multi-DRM assets to the demo player (#1156)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a441d6ca63ac8d88f722",
    "number": 1154,
    "body": "The goal of this PR is to introduce an optional parameter that allows the buffer to be cleared but not entirely.\r\n\r\nThe idea is to keep a safe margin that avoids rebuffering events but allows for fast switches. The value of this parameter should be computed and provided by a custom ABR manager. Nothing changes if the value is not provided of course (e.g. SimpleAbrManager).\r\n\r\nSince the buffer could be busy, another parameter had to be introduced to save the value of the safe margin when the call to clear the buffer is deferred to a later update.\r\n\r\nSomething similar was present in Shaka v1, but it was removed with the redesign.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add safe margin parameter to avoid rebuffering interruptions when clearing the buffer (#1154)\n\nA new optional parameter called safeMargin is introduced to avoid clearing the buffer entirely. The value of such offset should be computed in a custom ABR manager and provided to the player and the streaming engine. Since the buffer could be busy when clearBuffer is called, another parameter had to be introduced to save the value of the safe margin when the call to clear the buffer is deferred to a later update."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a442d6ca63ac8d88f723",
    "number": 1141,
    "body": "Add VDMS multi DRM demo assets.  Provide test assets encrypted with AES CTR 16 Byte IVs and AES CTR 8 Byte IVs.  This merge request addresses issue #1140.",
    "head_branch": "vdms_multidrm_demo_assets",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a443d6ca63ac8d88f724",
    "number": 1139,
    "body": "",
    "head_branch": "fix-build-readme-typo",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix build/README.md typo (#1139)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a444d6ca63ac8d88f725",
    "number": 1136,
    "body": "Resolves #1135",
    "head_branch": "feature/certUrlField_1135",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add certificate field in the custom asset section of the demo. (#1136)\n\nFixes #1135"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a445d6ca63ac8d88f726",
    "number": 1124,
    "body": "",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Correct name of init function. (#1124)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a446d6ca63ac8d88f727",
    "number": 1049,
    "body": "Resolves #1035",
    "head_branch": "feature/eventOnCdmUpdate_1035",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Publish an event from DrmEngine if the CDM accepts the license. (#1049)\n\nCloses #1035"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a447d6ca63ac8d88f728",
    "number": 1040,
    "body": "",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a447d6ca63ac8d88f729",
    "number": 1039,
    "body": "",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a448d6ca63ac8d88f72a",
    "number": 1026,
    "body": "",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a449d6ca63ac8d88f72b",
    "number": 1021,
    "body": "In order to allow playback of a so-called \"hybrid-DASH\" format which also allows for its MP4 fragments to be distributed as SmoothStreaming media at the same time (therefore having PlayReady boxes in the custom UUID fashion, and in the standard CENC fashion in there) on Edge and IE we need to remove the UUID box before inserting it into the clients' SourceBuffer as it causes these browsers internal media engine to crash apparently. \r\n\r\nThis format allows for only fragmenting and storing media once, while distributing to CENC DASH compliant clients as well as legacy SmoothStreaming PlayReady clients.\r\n\r\nWe want to keep this format, while allowing for distributing it to Edge/IE in CENC DASH format. Apparently these clients have a problem when both CENC (tenc/senc) boxes and uuid custom boxes are present for DRM info.\r\n\r\nThe general approach is to overwrite the box type with a \"free\" type so that it will be skipped. This works very well.\r\n\r\nWe are unsure if the current way of inserting the MP4 filtering is the best. It may be better situated in the NetworkingEngine level?\r\n\r\nWe can adapt on this, but it would be great to have this supported (at least optionnaly) to apply such filtering or pre-processing to media on the client side before inserting into the client's SourceBuffer.\r\n\r\n",
    "head_branch": "edge-smooth-hybrid-dash",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a44ad6ca63ac8d88f72c",
    "number": 1010,
    "body": "This PR closes #484 and parses license urls from `<ms:laurl>` and `<mspr:pro>` in the manifest. ",
    "head_branch": "feat/parse-ms",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a44bd6ca63ac8d88f72d",
    "number": 1008,
    "body": "\r\nThis PR adds suggestions for audio and video robustness fields which may be obscure to newcomers especially if they didn't read https://shaka-player-demo.appspot.com/docs/api/tutorial-drm-config.html yet.\r\n\r\n![screenshot 2017-09-06 at 10 54 24 am](https://user-images.githubusercontent.com/634478/30103088-de422a2e-92f1-11e7-87da-f8bea4f17ac8.png)\r\n\r\n",
    "head_branch": "fix-robustness",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add robustness suggestions for Widevine (#1008)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a44cd6ca63ac8d88f72e",
    "number": 1001,
    "body": "FIX: #996",
    "head_branch": "select-offline-asset-automatically",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Demo: auto-select offline copy of asset after storing (#1001)\n\nCloses #996"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a44dd6ca63ac8d88f72f",
    "number": 995,
    "body": "Using `title` on `storeDelete` button in the demo is not helpful on a mobile device. This CL improves it by moving it in a separate `<span>` element.\r\n\r\n",
    "head_branch": "fix-store-delete-title",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Improve store/delete button UX on mobile (#995)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a44ed6ca63ac8d88f730",
    "number": 993,
    "body": "",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Document lack of support for IE11 on Windows 7 (#993)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a44fd6ca63ac8d88f731",
    "number": 978,
    "body": "",
    "head_branch": "contributors",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add contributor (#978)\n\nAdding contributor entry for GitHub user bhh1988."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a450d6ca63ac8d88f732",
    "number": 977,
    "body": "",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add contributor (#977)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a451d6ca63ac8d88f733",
    "number": 965,
    "body": "Update",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a452d6ca63ac8d88f734",
    "number": 953,
    "body": "Replacement of deprecated Playready test license server in Shaka Demo App.\r\n\r\ncloses #945 ",
    "head_branch": "PlayreadyLAURLUpdate",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Update Playready test LAURL (#953)\n\nReplacing of deprecated Playready test license server in Shaka Demo App.\r\n\r\ncloses #945"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a453d6ca63ac8d88f735",
    "number": 950,
    "body": "Previously, selecting a new audio track with selectAudioLanguage(), with\r\nthe same language but different role, would only set the variants to\r\nswitch to for ABR, but wouldn't actually switch to any of those variants\r\nat the moment of selection due to a bug in chooseStreams_(), which was\r\nstill looking at only audio language as a differentiating mechanism.\r\nThis change honors the role as well, so that a switch to the correct\r\nvariants immediately happens.\r\n\r\nCloses #948",
    "head_branch": "select_audio_role",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a454d6ca63ac8d88f736",
    "number": 949,
    "body": "This fixes a bug where two audio tracks with the same language but\r\ndifferent roles might be switched in and out due to ABR.\r\n\r\nTechnically the DASH spec requires that the player not adapt in/out of a\r\nsingle AdaptationSet, but since the \"variant\" concept does not track the\r\nAdaptationSet that its component streams originate from, the closest\r\nthing we can go by is the \"role\", since two streams with different roles\r\ncertainly come from different adaptation sets.\r\n\r\nIssue #947",
    "head_branch": "audio_variants",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a455d6ca63ac8d88f737",
    "number": 907,
    "body": "Taking note of https://github.com/google/shaka-player/issues/745, I'd like to give a first shot at how we could deal with adaptation related to device capabilities. \r\n\r\nWe have added such a thing to our product, but it would be great to contribute this upstream to have it in a great shape and well maintained. Also I think the more general purpose we make this solution, the better it will probably work for us as well.\r\n\r\nWe added an object called `DroppedFramesDetector`. It takes a `StatsProvider` to call upon the `getStats` function of the `Player` or get dropped-frames in some way. It periodically checks the current dropped-frames-per-seconds average on a given time-window.\r\n\r\nA lot of magic constants and opinions can be found in there, all of this could be made configurable i.e is subject to feedback. It's kept very simple intentionally. One could specify more complex detection algorithms and override it in the future, in the same way as it is done for bandwidth estimation elsewhere.\r\n\r\nThe key is to quantify somehow the device capacity to decode frames in time with a scalar. \r\n\r\nThen we map this scalar back to a maximum pixel height, which is then applied to the ABR manager's restrictions. \r\n\r\nIn case a level-down is detected, we are doing a flushing switch to immediatly help the resources catch up with the workload and eventually lower the total pixels to decode.\r\n\r\nThe way the mapping is done, and how the levels are determined could be customizable. But I guess it would be important to find a good ground that generally will work.\r\n\r\nNow, also one might want to have a cool-down period as sometimes a CPU might get overflowed with work and frames will get dropped, even if it's a device with good resources. Therefore to optimize the QoE one would want to switch up again after the average dropped-fps have not exceeded the heat-up threshold for the given cooldown period.\r\n\r\nSimilar to other ABR settings for bandwidth estimation, one can choose a low cooldown period and may have a better average quality, but might risk to switch up too high qualities for the CPU capacity, as an analogy to bandwidth estimation where one may smooth more or less the estimation.\r\n\r\nFinally, I would say it is important to deactivate the cooldown when playback is buffering or paused! \r\nAnd especially stop the whole detection of average dropped frames when paused or buffering in fact.\r\nOtherwise it will take a decision based on decoding zero fps, which would be wrong :)\r\n\r\nFor the last point, we need an interface to the ABR manager where it detects playhead state (buffering/playing/paused...) in order to ensure this.\r\n\r\n\r\n\r\n\r\n",
    "head_branch": "dropped-frames-detector",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a456d6ca63ac8d88f738",
    "number": 878,
    "body": "Carrying on from the discussion in Issue #873 \r\n\r\nCurrently only ChromeOS truly supports offline storage and playback.\r\n\r\nThis change allows other browsers to support offline storage of media only. A remote/temporary license request will be made during playback, so the user must still be online.\r\n\r\nThis will help users to pre-download content before traveling to a location with a patchy/expensive internet connection.",
    "head_branch": "offline-data-online-license",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Support for offline data with a temporary license (#878)\n\nBased on app configuration, we could store protected content offline\r\nwithout a persistent license.  The offline content would then require\r\na network connection, but only briefly for licensing.  This makes\r\nsense in a lot of commuter or airplane WiFi scenarios.\r\n\r\nCloses #873"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a457d6ca63ac8d88f739",
    "number": 874,
    "body": "Instead of catching all unhandled play() promises, we may want to use `video_.load()` to keep user gesture token.\r\n\r\nR: @joeyparrish \r\n\r\nBackground thread: https://bugs.chromium.org/p/chromium/issues/detail?id=728294#c26\r\n\r\n",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a458d6ca63ac8d88f73a",
    "number": 846,
    "body": "related to #823, #785",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "add video and audio stream IDs for getStats().switchHistory (#846)\n\nCloses #785, #823"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a459d6ca63ac8d88f73b",
    "number": 843,
    "body": "Add video and audio stream IDs for `getStats().switchHistory`\r\nRelated to #823, #785",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a45ad6ca63ac8d88f73c",
    "number": 842,
    "body": "Do not infinitely retry on top of the retry-policy already defined by\r\nRetryParameters, especially for VOD. For live video the previous retry\r\nlogic is still useful to be robust against clock-sync or asset\r\navailability issues. This commit adds a boolean configuration parameter,\r\ninfiniteRetriesForLiveStreams, to allow the user to turn this behavior\r\noff even for live video.\r\n\r\nFixes #830 and #762",
    "head_branch": "network_retries",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Stop infinitely retrying on network errors for VOD (#842)\n\nDo not infinitely retry on top of the retry-policy already defined by\r\nRetryParameters, especially for VOD. For live video the previous retry\r\nlogic is still useful to be robust against clock-sync or asset\r\navailability issues. This commit adds a boolean configuration parameter,\r\ninfiniteRetriesForLiveStreams, to allow the user to turn this behavior\r\noff even for live video.\r\n\r\nFixes #830 and #762"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a45ad6ca63ac8d88f73d",
    "number": 839,
    "body": "Ocassionally, when playing a multiple-period DASH with text stream on and off, I got \"Assertion failed: All MediaStates should need the same Period be performing updates.\" and player stuck after a few seconds.\r\n\r\nThe log show that there is a jump-back of the \"timeNeeded\" for text stream. The jump-back was due to resetting of the \"resumeAt\" variable between updates of the media state. After removing the line that resets \"mediaState.resumeAt\", the issue was resolved.\r\n\r\n```\r\n19:16:25.582 streaming_engine.js:888 (text:2820) timeNeeded=657.4734833\r\n19:16:25.582 streaming_engine.js:900 (text:2820) update_: playheadTime=645.597443 bufferedAhead=11.8760403\r\n19:16:25.583 streaming_engine.js:924 (text:2820) need Period 44 playheadTime=645.597443 timeNeeded=657.4734833 currentPeriodIndex=43\r\n19:16:25.583 streaming_engine.js:1680 (text:2820) all need Period 44\r\n19:16:25.583 streaming_engine.js:1708 (text:2820) calling onChooseStreams()...\r\n19:16:25.584 player.js:2185 onChooseStreams_ Object {startTime: 657.4734833, textStreams: Array(0), variants: Array(1)}\r\n19:16:25.584 player.js:2201 onChooseStreams_, variants and text streams:  [Object] []\r\n19:16:25.586 streaming_engine.js:1755 (text:2820) calling onCanSwitch()...\r\n19:16:29.677 player.js:2185 onChooseStreams_ Object {startTime: 661.5775833, textStreams: Array(0), variants: Array(1)}\r\n19:16:29.678 player.js:2201 onChooseStreams_, variants and text streams:  [Object] []\r\n19:16:33.769 player.js:2185 onChooseStreams_ Object {startTime: 664.664, textStreams: Array(4), variants: Array(1)}\r\n19:16:33.770 player.js:2201 onChooseStreams_, variants and text streams:  [Object] (4) [Object, Object, Object, Object]\r\n19:16:33.770 player.js:2108 Choosing new streams for (3) [\"video\", \"audio\", \"text\"]\r\n19:16:33.771 player.js:2206 onChooseStreams_, chosen= Object {video: Object, audio: Object, text: Object}\r\n19:16:33.772 streaming_engine.js:1879 (text:4470) updating in 0 seconds\r\n19:16:33.774 streaming_engine.js:888 (text:4470) timeNeeded=664.664\r\n19:16:33.774 streaming_engine.js:900 (text:4470) update_: playheadTime=653.789963 bufferedAhead=3.6835203000000547\r\n19:16:33.775 streaming_engine.js:1054 (text:4470) next position unknown: nothing buffered\r\n19:16:33.775 streaming_engine.js:1094 (text:4470) looking up segment: presentationTime=657.4734833 currentPeriod.startTime=664.664\r\n19:16:33.775 streaming_engine.js:1143 (text:4470) segment is not available: currentPeriod.startTime=664.664 reference.startTime=0.7197344 reference.endTime=2.8028000000000475 availabilityStart=481.93099999427795 availabilityEnd=661.930999994278\r\n19:16:33.776 streaming_engine.js:1879 (text:4470) updating in 1 seconds\r\n19:16:34.777 streaming_engine.js:888 (text:4470) timeNeeded=654.792894\r\n19:16:34.777 streaming_engine.js:900 (text:4470) update_: playheadTime=654.792894 bufferedAhead=2.6805892999999514\r\n19:16:34.777 streaming_engine.js:924 (text:4470) need Period 43 playheadTime=654.792894 timeNeeded=654.792894 currentPeriodIndex=46\r\n19:16:34.778 streaming_engine.js:1665 (text:4470) not all MediaStates need Period 43\r\n```",
    "head_branch": "fix-time-needed-jump-back",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a45bd6ca63ac8d88f73e",
    "number": 838,
    "body": "I observed quite a lot of assertion failure `Assertion failed: SegmentReferences are incorrect` for a multiple period DASH, and encountered some rare player stuck.\r\n\r\nBefore the stuck happen, there was console log that suggest the stuck is due to not being able to find segment from position number:\r\n`segment doest not exist: currentPeriod.startTime=1216.3484667 position=5`\r\n\r\nI found that the issue was caused by incorrect position number of segment references after segment merge on manifest update.\r\n\r\nWhen the segment reference from the newer manifest get merged, the position number is left untouched. However, it may have changed due to removal of previous segments from the period. Please see the attached diagram, the segment number changed from 5 to 1 after manifest update. Consequently, any attempt to locate the next segment by position would fail.\r\n![shaka-segment-does-not-exist](https://cloud.githubusercontent.com/assets/2263504/26670080/da9cecde-46e2-11e7-89a8-4c151741a24d.png)\r\n\r\nAfter patching the player with corrected position number, the assert failures no longer occur.\r\n\r\nThe segments in my manifest are not aligning close to the period boundaries, so may be a corner case that other users may not see the same issue.\r\n\r\nPlease check my code diff, thanks.",
    "head_branch": "fix-segment-merge-position",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix incorrect segment position after manifest update (#838)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a45cd6ca63ac8d88f73f",
    "number": 832,
    "body": "based on https://stackoverflow.com/questions/12830742/javascript-math-round-bug-in-ie\r\nThe issue is that the url that the dash utils provide sometimes wrong due to the Math.round on IE.\r\nhttps://github.com/google/shaka-player/blob/master/lib/dash/mpd_utils.js#L101\r\n\r\n",
    "head_branch": "fix-math-round-ie",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix math round when number > 2^52 on IE11 (#832)\n\nDon't use math round on ie11 if number > 2^52."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a45dd6ca63ac8d88f740",
    "number": 831,
    "body": "",
    "head_branch": "add-label-attribute",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add label attribute to text track (#831)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a45ed6ca63ac8d88f741",
    "number": 827,
    "body": "Hey\r\n\r\nWe thought it would be useful for users to see a percentage indication of re-buffering progress in certain cases. It creates a better awareness for available network bandwidth and overall a more transparent user experience. But also for analytics and internal player metrics reasons, it may be useful to be able to track the actual network buffers throughput (as much as browsers will allow it).\r\n\r\nHope this doesn't disrupt any architectural grand lines. Here is a summary of changes:\r\n\r\n* Makes NetworkingEngine an EventTarget\r\n* Introduces new event: `ProgressEvent`, with similar interface as the standard DOM ProgressEvent, see: https://developer.mozilla.org/en-US/docs/Web/API/ProgressEvent\r\n* Listenening to the networking engines' events should allow for measuring download progress of segments (or any other item downloaded)\r\n* Event data allows to track various transactions by their inner target, which my be an underlying XHR object (several transactions may happen concurrently, listeners can differentiate between their progress events)\r\n* Extension on the SchemePlugin interface\r\n* Updated testst\r\n\r\n\r\nTODO: \r\n\r\n- [ ] Write tests\r\n\r\nBefore I write tests I'd like to make sure this is a viable approach with the other parties here on the project.\r\n\r\nCheers",
    "head_branch": "progress-event",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a45fd6ca63ac8d88f742",
    "number": 815,
    "body": "Resolves #814",
    "head_branch": "feature/tizenSupport_playreadyMessage",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Check if PlayReady license message is wrapped (#815)\n\nCloses #814"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a460d6ca63ac8d88f743",
    "number": 811,
    "body": "",
    "head_branch": "add-label-attribute",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add support for DASH label and HLS NAME attributes (#811)\n\n* add support for non-standard DASH label attribute\r\n* add support for HLS NAME attribute\r\n\r\nCloses #825"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a461d6ca63ac8d88f744",
    "number": 798,
    "body": "Testing new CI job.",
    "head_branch": "pr-test",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a462d6ca63ac8d88f745",
    "number": 781,
    "body": "I have added a response filter for VDMS manifest responses, as well as a license request filter for VDMS license requests.  I then add a couple of test assets that utilize these filters and point to the VDMS widevine and clearkey license proxies.",
    "head_branch": "add_vdms_demo_assets",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add VDMS streams in demo app (#781)\n\nCloses #780"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a463d6ca63ac8d88f746",
    "number": 777,
    "body": "",
    "head_branch": "feature/fix-fullscreen-polyfill",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix fullscreen polyfill for MSIE 11 (#777)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a464d6ca63ac8d88f747",
    "number": 731,
    "body": "I know you guys have been working on gap jumping as a workaround for the PTS/DTS bug, which should go a long way for many use cases. We have our own gap jumping implementation, but it has some limitations. Specifically: transitions to new periods are not smooth, and content with a correctly set base_media_decode_time (DTS) will not start because it ends up with a negative presentation start time.\r\n\r\nThis approach fixes the underlying problem, but requires uniform and predictable frame rates and bframe counts.\r\n\r\nI think it is a relatively unobtrusive solution that goes a long way towards achieving smooth multi-period playback for most use cases.\r\n\r\nTake a look and let me know what you think. If it is something you'd consider I can clean it up and fix tests.\r\n\r\n----\r\n\r\nWIP: pending discussion, will add/fix tests\r\n\r\nThis change introduces a configuration option that adjusts the timestampOffset and appendWindowEnd to address the PTS/DTS bug in Chrome. It assumes that the number of bframes is known, and constant. It also assumes that the manifest provides an accurate framerate.\r\n\r\nFull explanation at: https://github.com/baconz/shaka-player/blob/bframe-adjustment-for-chrome/externs/shaka/player.js#L474",
    "head_branch": "bframe-adjustment-for-chrome",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a465d6ca63ac8d88f748",
    "number": 723,
    "body": "In some cases it may be necessary to get access to the HTML Media Element (the one that is passed in during initialization of a player) from a player instance when you no longer have a reference to what it was initialized with. In this case it would be helpful to have a method to do so (and not have to access player.video_ directly, which could change at any point not reflected by semver as it's not an official API). \r\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "add official method for accessing HTML media element (#723)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a466d6ca63ac8d88f749",
    "number": 721,
    "body": "This pull request will use sample duration values in the TRUN box to calculate the start/end times for MP4 wrapped VTT cues. \r\n\r\nI believe this should also address issue #699 \r\nhttps://github.com/google/shaka-player/issues/699 \r\n\r\nI've gone through the CONTRIBUTING.md file, and I believe I have met all the criteria. Our corporate CLA was signed and accepted as of 3/9/2017",
    "head_branch": "trun_for_cues",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a467d6ca63ac8d88f74a",
    "number": 706,
    "body": "This PR solves #690 (and replaces PR #702)\r\n\r\nWith the following SegmentTimeline snippet\r\n\r\n    <SegmentTemplate timescale=\"10000000\"  media=\"$Time$.mp4\">\r\n      <SegmentTimeline>\r\n        <S t=\"5369174623790086\" d=\"40000000/>\r\n      <S d=\"40000000\" />\r\n    </SegmentTimeline>\r\nthe second segment erroneously gets the wrong timestamp 5369174663790087 due to rounding errors.\r\n\r\nThis is because the calculation is done using values scaled to seconds as follows:\r\n\r\n (5369174623790086 / 10000000 + 40000000 / 10000000) * 10000000 = 5369174663790087\r\n\r\nThe problem with this rounding error is that the timestamp is used in the $Time$.mp4 URL template, and results in an HTTP 404 error when requesting the segment from the server.\r\n\r\nSomewhat higher precision (roughly 1 more bit) can be achieved by avoiding the scaling and just do an integer addition like:\r\n\r\n5369174623790086 + 40000000 = 5369174663790086\r\n\r\nThis is fixed in this PR by storing the unscaled values unscaledStart and unscaledPresentationOffset and using them for generating the timeReplacement for the segment request URL.\r\n\r\nA lot of other calculations use times scaled to seconds as before, but since they don't need to be fully accurate, no change is needed.\r\n\r\nUnfortunately, we haven't found a good way to add a unit or functional test for this PR, but no existing tests are broken. The fix solves the issue we have seen and makes our streams play in shaka player as they do in dash.js. We don't have reliable public URL, though.",
    "head_branch": "Fix-incorrect-timeReplacement-when-large-timescale",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Improvement of segment timeline $Time$ accuracy (#706)\n\nFix incorrect timeReplacement when large timescale\r\n\r\nThe current code essentially does this\r\n\r\n    timeReplacement =\r\n\t(startTime / timescale + presentationTimeOffset) * timescale\r\n\r\nWhen timescale is large enough (e.g. 10 MHz in order to support MS\r\nSmooth Streaming as well), \"startTime / timescale * timescale\" may not\r\nalways be exactly \"startTime\" because of floating point precision,\r\nwhich could produce incorrect segment URLs.\r\n\r\nKeep startTime and presentationTimeOffset unchanged in the timeline\r\njust to avoid the multiply/divide dance.\r\n\r\nCloses #690"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a468d6ca63ac8d88f74b",
    "number": 702,
    "body": "This PR solves #690.\r\n\r\nWith the following SegmentTimeline snippet\r\n\r\n      <SegmentTemplate timescale=\"10000000\"  media=\"t$Time$.mp4\">\r\n      <SegmentTimeline>\r\n      <S t=\"5369174623790086\" d=\"40000000/>\r\n      <S d=\"40000000\" />\r\n      </SegmentTimeline>\r\n\r\nthe second segment erroneously gets the wrong timestamp\r\n\r\n5369174663790087 because it is calculated as\r\n\r\n     (5369174623790086 / 10000000 + 40000000 / 10000000) * 10000000 = 5369174663790087\r\n\r\nand results in an HTTP 404 error when requesting the segment using the $Time$.mp4 segment.\r\n\r\nBy avoiding, the division by 10000000 a more accurate calculation can be done:\r\n\r\n5369174623790086 + 40000000 = 5369174663790086\r\n\r\nThis is fixed in the PR by storing the unscaled values `unscaledStart` and `unscaledPresentationOffset` and using them for generating the `timeReplacement` for the segment request URL.\r\n\r\nA lot of other calculations use times scaled to seconds as before, but since they don't need to be fully accurate, no change is needed.\r\n\r\nUnfortunately, we haven't found a good way to add a unit or functional test for this PR, but no existing tests are broken.  The fix solves the issue we have seen and makes our streams play in shaka player as they do in dash.js. We don't have reliable public URL, though.\r\n\r\n\r\n",
    "head_branch": "reduce-time-rounding-problem",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a469d6ca63ac8d88f74c",
    "number": 700,
    "body": "For presentationTimeOffset is non-zero. We'll keep it as unscaled value. ",
    "head_branch": "Keep-unscale-time",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a46ad6ca63ac8d88f74d",
    "number": 689,
    "body": "With the brand new [Media Session API](https://developers.google.com/web/updates/2017/02/media-session), we can now customize media notifications by providing metadata for the media the web app is playing. It also allows us to handle media related events such as seeking or track changing which may come from notifications or media keys.\r\n\r\nSo here's a first stab to support the Media Session in the shaka demo.\r\nWDYT?\r\n\r\n![](https://developers.google.com/web/updates/images/2017/02/tldr.png)\r\n\r\n![screenshot_20170209-113048](https://cloud.githubusercontent.com/assets/634478/22779537/7b25974e-eebb-11e6-8a40-033c493cf0e7.png)\r\n\r\n",
    "head_branch": "addMediaSession",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Support Media Session title in demo (#689)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a46bd6ca63ac8d88f74e",
    "number": 687,
    "body": "Closes #686",
    "head_branch": "bugFix/ignoredEventStreams",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Don't ignore InbandEventStreams at the Representation level (#687)\n\nCloses #686"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a46cd6ca63ac8d88f74f",
    "number": 678,
    "body": "If no content has been loaded and therefore there is no streamingEngine\r\nthen these two functions will fail. Add a guard to check and return an\r\nempty array if there is no streamingEngine.\r\n\r\nClose #677",
    "head_branch": "bugFix/getAudioLanguagesError_677",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add guard to stop getAudioLanguages and getTextLanguages from failing (#678)\n\nIf no content has been loaded and therefore there is no streamingEngine\r\nthen these two functions will fail. Add a guard to check and return an\r\nempty array if there is no streamingEngine.\r\n\r\nClose #677"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a46dd6ca63ac8d88f750",
    "number": 650,
    "body": "Fix for issue #646.\r\n\r\nA div element with no timing and only whitespace should be considered empty.\r\nAdded a test that checks this.\r\n\r\n",
    "head_branch": "fix-ttml-whitespace-in-empty-div",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix parsing of white-space-only div in TTML (#650)\n\nA div element with no timing and only whitespace should be considered empty.\r\n\r\nCloses #646"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a46ed6ca63ac8d88f751",
    "number": 647,
    "body": "This PR fully replaces PR #596. \r\n\r\nIt introduces the possibility to override VTT region and VTT styling for all VTT cues. There are two use cases for this features:\r\n 1. You are stuck with an old legacy archive where all the subtitle styling is incorrect.\r\n 2. You have subtitling in live streams and it is not possible to adjust this at the source. \r\n\r\n## Example\r\n```\r\nvar overrideRegion = new window.VTTRegion()\r\noverrideRegion.viewportAnchorY = 85;\r\nvar overrideCueStyling = {\r\n  align: \"center\"\r\n};\r\n...\r\nshakaPlayer.configure({\r\n  { text: { override: true, region: overrideRegion, cueStyling: overrideCueStyling } }\r\n});\r\n```\r\n",
    "head_branch": "pr/text-override",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a46fd6ca63ac8d88f752",
    "number": 643,
    "body": "Toshiba dTV seems to have a different set of constructor arguments for TextTrackCue, just like the ones used here\r\nhttp://www.w3schools.com/TAGs/av_met_addtexttrack.asp . Not sure what are the extra arguments but empty strings and true did the job. This also solves https://github.com/google/shaka-player/issues/635",
    "head_branch": "fix/TextTrackCue",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a470d6ca63ac8d88f753",
    "number": 639,
    "body": "This PR solves an issue in latest build from Master where text streams of type \"application/mp4\" and codecs=\"stpp\" were incorrectly filtered out.",
    "head_branch": "bugfix/dropping-text-streams",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a471d6ca63ac8d88f754",
    "number": 638,
    "body": "Edge recently pushed an update which fixed a bug that we were working\naround.  This was that it didn't support multiple MIME types when\nquerying EME.  Now it will allow multiples to be passed in.\n\nHowever, Edge's update also introduced a new bug that when getting the\nconfiguration from the access object, it doesn't report the correct\nMIME types.  It should include every MIME type that is supported,\nbut it only includes the first one.\n\nCloses #634\n\nChange-Id: I7156887a112dc844b3cbc9bb2dd9676afee6cf56",
    "head_branch": "master",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a472d6ca63ac8d88f755",
    "number": 613,
    "body": "Fix for #612",
    "head_branch": "bugFix/addUnloadPromiseOnPlayer",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a473d6ca63ac8d88f756",
    "number": 611,
    "body": "This occurrs when hyphen is contained inside manifest Location/BaseUri element and new MutationObserver(...).observe(...) called before #608",
    "head_branch": "bug/issue-608-fix-msie11-fails-to-play",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix playback when IE11 modifies the XML DOM (#611)\n\nWhen there is a hypen contained inside manifest Location/BaseUri element and the application uses MutationObserver, IE11 can change the XML DOM of the manifest and break playback.\r\n\r\nThis changes the way the document is parsed so that it is resilient to these unintended changes.\r\n\r\nRelated IE bug: https://connect.microsoft.com/IE/feedback/details/1398926/ie11-does-not-parse-cdata-containing-hyphens-correctly\r\n\r\nCloses #608"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a474d6ca63ac8d88f757",
    "number": 607,
    "body": "Merge from head fork",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a475d6ca63ac8d88f758",
    "number": 605,
    "body": "Making shaka player working with Toshiba dTV\r\n\r\n`Mozilla/5.0 (Linux; U; Linux; ja-jp; DTV; TSBNetTV/T3A01C0.0203.0DD) AppleWebKit/536(KHTML, like Gecko) NX/3.0 (DTV; HTML; R1.0;) DTVNetBrowser/2.2 (000039;T3A01C0;0203;0DD) InettvBrowser/2.2 (000039;T3A01C0;0203;0DD) TOSHIBA dTV REGZA BROWSER 43Z700X`\r\n\r\nToshiba has unprefixed HTMLMediaElement apis (generateKeyRequest etc.) and events (needkey etc.) while it has prefixed window.performance.webkitNow()",
    "head_branch": "fix/v2.0.1-toshiba",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a476d6ca63ac8d88f759",
    "number": 604,
    "body": "Right now `CastProxy.prototype.cast` invokes `this.sender_.cast` to start casting and on success just unloads the local player calling `this.localPlayer_.unload()`\r\n\r\nI needed a way to start casting without unloading the local player.\r\n\r\nOne possible solution was to pass an optional parameter to `CastProxy.prototype.cast` like this:\r\n\r\n```\r\n/**\r\n * @param {boolean=} opt_keepLocal True to not unload local player on succesfull casting.\r\n * @return {!Promise} Resolved when connected to a receiver.  Rejected if the\r\n *   connection fails or is canceled by the user.\r\n * @suppress {unnecessaryCasts} to cast Player to Object to access with []\r\n * @export\r\n*/\r\nshaka.cast.CastProxy.prototype.cast = function(opt_keepLocal) {\r\n   var initState = this.getInitState_();\r\n \r\n   // TODO: transfer manually-selected tracks?\r\n   // TODO: transfer side-loaded text tracks?\r\n \r\n  return this.sender_.cast(initState)\r\n      if (!opt_keepLocal) {\r\n        // Unload the local manifest when casting succeeds.\r\n        return this.localPlayer_.unload();\r\n      }\r\n  }.bind(this));\r\n}\r\n```\r\nand call it like this:\r\n```\r\nthis.castProxy_.cast(true);\r\n```\r\nBut I didn't like the boolean parameter, so I made another method and call it like this:\r\n```\r\nthis.castProxy_.simpleCast();\r\n```\r\nI'm not happy with the name, but I don't have a better one for now.",
    "head_branch": "v2.0.x",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a476d6ca63ac8d88f75a",
    "number": 599,
    "body": "Closes #595",
    "head_branch": "bugFix/ignoreVTTTextOffset",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a477d6ca63ac8d88f75b",
    "number": 596,
    "body": "With this PR it makes it possible for the client application to override browser default cue box region. For example:\r\n\r\n```\r\nvar player = new shaka.Player(video);\r\nplayer.configure({\r\n  textcues: { override: true, viewportAnchorY: 80 }\r\n}\r\n````\r\nAbove overrides the default cue box region with a new cue box region that has its viewport anchor 80% of the viewport height from the top. This is useful to be able to \"mimic\" Silverlight player behaviour that by default has a cue box region on the bottom instead of having a cue box region equal to the viewport as many browsers have.",
    "head_branch": "vtt-region",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a478d6ca63ac8d88f75c",
    "number": 594,
    "body": "This PR contains a fix with incorrect TTML positioning. When converting tts:origin for example \"10% 10%\" we need to set the VTTCue.snapToLines to false as according to spec:\r\n\r\n> A boolean indicating whether the line is an integer number of lines (using the line dimensions of the first line of the cue), or whether it is a percentage of the dimension of the video. The flag is set to true when lines are counted, and false otherwise.\r\n\r\nThis PR also contains the required Externs for VTTCue / TextTrackCue properties that otherwise was not included in the compiled version and default values was used instead.\r\n\r\n_(This PR replaces the git mess I made in #591, sorry about that)_",
    "head_branch": "ttml-positioning-pr",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix TTML positioning and cue externs (#594)\n\nA number of TextTrackCue properties were not included in the externs and caused VTT default values to be used instead.  When converting TTML tts:origin values, we need to set VTTCue.snapToLines to false to indicate that cue.line is a percentage value."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a479d6ca63ac8d88f75d",
    "number": 591,
    "body": "This PR contains a fix with incorrect TTML positioning. When converting tts:origin for example \"10% 10%\" we need to set the VTTCue.snapToLines to false as according to spec:\r\n\r\n> A boolean indicating whether the line is an integer number of lines (using the line dimensions of the first line of the cue), or whether it is a percentage of the dimension of the video. The flag is set to true when lines are counted, and false otherwise.\r\n\r\nThis PR also contains the required Externs for VTTCue / TextTrackCue properties that otherwise was not included in the compiled version and default values was used instead.",
    "head_branch": "ttml-positioning",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a47ad6ca63ac8d88f75e",
    "number": 589,
    "body": "I discovered that a number of VTTCue / TextTrackCue properties actually was never used as the Closure compiler \"removed\" these properties. This PR adds these Externs.",
    "head_branch": "vtt-closure-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a47bd6ca63ac8d88f75f",
    "number": 588,
    "body": "It was discovered that TTML alignments that is not centered (e.g. left) was shown incorrectly in Firefox. The reason I discovered was that the cue.positionAlign was not set and defaulted to \"center\". This caused the subtitles to be positioned on the left (when tts:textAlign=left) but with the text center aligned.\r\n\r\nNote that for Firefox v48 or lower the implementation of cue.positionAlign did not fully follow the spec and was corrected in v49 and above.",
    "head_branch": "firefox-text-workaround",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix for TTML alignment (non-centered) in Firefox (#588)\n\nThis commit fixes non-centered TTML alignment issues in Firefox which defaults to centered position which causes problem when TTML alignment is left-adjusted for example."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a47cd6ca63ac8d88f760",
    "number": 584,
    "body": "This modifies the fix from #572. We have streams that also have `<br>` tags nested in `<span>` tags that were getting missed by #572 ",
    "head_branch": "bugFix/ttmlNewlines",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add new lines in TTML cues with nested <br> tags (#584)\n\nThis modifies the fix from #572.\r\nStreams that also have <br> tags nested in <span> tags were getting missed by #572."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a47dd6ca63ac8d88f761",
    "number": 583,
    "body": "Fixes #582",
    "head_branch": "bugFix/fix_bad_bandwidth_sampling",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Avoid ewma sampling from failing on 0 duration segments. (#583)\n\nThis fixes a divide-by-zero that caused the estimate to become NaN.\r\n\r\nFixes #582"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a47ed6ca63ac8d88f762",
    "number": 577,
    "body": "",
    "head_branch": "v2.0.0",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a47fd6ca63ac8d88f763",
    "number": 574,
    "body": "In commit 2ecd8bba19c, as workaround for a chromecast bug, whenever the sourcebuffer is cleared, a new seek is initiated in order to flush the media pipeline.\r\nHowever, this can cause an infinite loop if a seek is already pending.\r\n\r\nFixes #569.\r\n---- additional comments\r\nHere is a quick fix. I'm not familiar with shaka code so it may not be how you would have done it.\r\nThe issue at hand here is that the media pipeline is flushed when a seek is initiated. However, this flushing is done by seeking again. So you get something like seek -> clear -> flush (seek) -> seek -> clear -> flush (seek) -> repeat\r\n\r\nThe current code is racy in such that it relies on an event (seeking/seeked) be fired in a specific order, order with others.\r\n\r\nSo the work around is to not attempt to clear the media pipeline while we're seeking. It's more efficient that way anyway as when you're seeking there's no need to flush the pipeline (it's already been flushed). This will speed up seeking on all user agents.",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a480d6ca63ac8d88f764",
    "number": 573,
    "body": "This pull request solves the problem with TTML text alignment. We have TTML subtitles that has tts:textAlign=left and the subtitle was placed on the left side of the player but the text was centered. If I am reading the VTTCue specification correctly [1] the cue.align also needs to be set. This was not done and is solved by this PR.\r\n\r\n[1] https://w3c.github.io/webvtt/#dom-vttcue-align ",
    "head_branch": "fix-ttmlalign",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix for TTML text alignment (#573)\n\nParse TTML textAlign settings into align property of a VTTCue."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a481d6ca63ac8d88f765",
    "number": 572,
    "body": "We currently have TTML subtitles that contains `<br>` elements inside a paragraph for linebreaking. This pull request replaces the `<br>` elements with a newline character. Having `<br>` inside a paragraph is valid in TTML as far as I have understood by looking at the examples in https://www.w3.org/TR/ttaf1-dfxp/\r\n\r\n",
    "head_branch": "ttml-newline",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "TTML subtitles: Support for <br> inside a paragraph (#572)\n\nReplace <br> inside a paragraph with newlines."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a482d6ca63ac8d88f766",
    "number": 561,
    "body": "Currently, shaka-player will adapt to the highest resolution possible with the current bandwidth.\nThis can cause unnecessary battery drain and performance problems on certain devices, especially for Ultra HD videos.\n\nThis pull request adds a way to define a preferred maximum resolution.\nThis is not a hard limit, meaning that the ABR manager will adapt to a stream that fits the maximum resolution (if none is available that exactly matches the maximum resolution) but not to the streams that are bigger than necessary.\n\nIn my opinion, this is a nice mix of quality and performance.\n\nThis code currently lacks any additional unit tests (begging you pardon).\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a483d6ca63ac8d88f767",
    "number": 550,
    "body": "When using Data URIs for the manifest an `UNABLE_TO_GUESS_MANIFEST_TYPE` is thrown. The mimeType is used to look up the manifesst parser but mimeType is `undefined` because `shaka.net.DataUriPlugin` does not return the correct 'content-type' in the header.\n\nWith this change `shaka.media.ManifestParser` (lib/media/manifest_parser.js, line167) can select the manifest parser correctly.\n\nData URIs used:\n\n> data:application/dash+xml,[encoded xml]\n\nand\n\n> data:application/dash+xml;base64,[base64 encoded xml] \n",
    "head_branch": "v2.0.x",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Use data URI content-type for manifest type detection (#550)\n\n* Fix when using Data URIs for the manifest\r\n* update test/net/data_uri_plugin_unit.js to test Data URIs content-type header response"
    ],
    "has_test_file": true,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": true
  },
  {
    "_id": "6621a484d6ca63ac8d88f768",
    "number": 546,
    "body": "When the Content-Type header includes the character encoding (ex: application/dash+xml;charset=UTF-8), an UNABLE_TO_GUESS_MANIFEST_TYPE is thrown. This change gets the actual mimeType from the header string and uses that to look up the manifest parser.\n",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a485d6ca63ac8d88f769",
    "number": 542,
    "body": "Fix for #480\n\nThis should be reviewed closely. Specifically I'm not thrilled that I had to modify all the other text parsers to receiver an argument that none of them are going to use. That seems confusing to me but I wasn't sure how to avoid that.\n",
    "head_branch": "bugFix/live_vtt",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Add config option for using segment relative timestamps for VTT (#542)\n\n* Add config option for using segment relative timestamps for VTT\r\n\r\nFix for #480\r\n\r\n* Make useRelativeCueTimestamps a non-nullable param\r\n\r\n* Update tests for the new useRelativeCueTimestamps param\r\n\r\n* Move period relative timestamp deprecation warning to vtt parser\r\n\r\n* Log warning only if using absolute timestamps in text cue\r\n\r\n* Fix vtt text parser test"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a486d6ca63ac8d88f76a",
    "number": 536,
    "body": "- Add tutorial tag to shakaExtern.RetryParameters\n- Add more description to Lisence Server Auth Sample Code\n",
    "head_branch": "ts-doc-update",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Small Refinements on Documentation (#536)\n\n* Add tutorial tag to shakaExtern.RetryParameters\r\n\r\nProperties like `backoffFactor` or `fuzzFactor` is a little difficult to\r\nunderstand for new users.  Link to the tutorial to explain.\r\n\r\n* Additional Description to Sample Code\r\n\r\nExplains why request.uris is an array."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a487d6ca63ac8d88f76b",
    "number": 533,
    "body": "Solves #516 \n",
    "head_branch": "enhancement-516",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Provide framerate and codecs information on video tracks (#533)\n\n\r\nCloses #516"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a488d6ca63ac8d88f76c",
    "number": 529,
    "body": "Suggested fix for #528 \n",
    "head_branch": "feature-defaultkid",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Some DRM providers require default KID in wrapped license requests (#529)\n\nMakes key IDs from the manifest available to the app through DrmInfo.  From there, they can be used in license request filters."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a489d6ca63ac8d88f76d",
    "number": 522,
    "body": "Fixes https://github.com/google/shaka-player/issues/521\n",
    "head_branch": "fix_vtt_with_one_digit_hour",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Fix vtt with one digit hour (#522)"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a48ad6ca63ac8d88f76e",
    "number": 510,
    "body": "This fixes an issue that happens because ffmpeg, when converting from .srt to .vtt, strips the zero in '0n', where 0 < n < 10, from the times with hour < 10.\n\nThanks.\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a48bd6ca63ac8d88f76f",
    "number": 496,
    "body": "In version 1.6.x we noticed periodic video glitches on contents with over 2h of manifest.\nThis patch will solve the issue, we tried with manifest 4-6h long and we didn't spot further issues.\n\nThese are the issues related to this bug\nhttps://github.com/google/shaka-player/issues/408\nhttps://github.com/google/shaka-player/issues/405\nhttps://github.com/google/shaka-player/issues/449\n",
    "head_branch": "v1.6.x",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a48cd6ca63ac8d88f770",
    "number": 483,
    "body": "`presentationTimeline.getSegmentAvailabilityStart()` yields a start time relative to the AST, but all of the reference start/end times are relative to their PTOs. We need to normalize the start time to the period before we evict any segments.\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Do not prematurely evict segments from multi-period manifests (#483)\n\npresentationTimeline.getSegmentAvailabilityStart() yields a start time\r\nrelative to the AST, but all of the reference start/end times are relative\r\nto their PTO. We need to normalize the start time to the period before\r\nwe evict any segments."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a48dd6ca63ac8d88f771",
    "number": 481,
    "body": "Closes #480\n",
    "head_branch": "bugFix/live_vtt_offsets",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a48dd6ca63ac8d88f772",
    "number": 465,
    "body": "",
    "head_branch": "dep_mode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Use --dependency_mode=LOOSE for library compiles (#465)\n\nThis change does not order input files for the --checks_only\r\npass used to type-check the unit tests."
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a48ed6ca63ac8d88f773",
    "number": 464,
    "body": "Static assets do not necessarily specify a `mediaPresentationDuration`, so we cannot use `presentationDuration == null` as a proxy to `isLive`.\n\nConfirmed that this fixes #463 \n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a48fd6ca63ac8d88f774",
    "number": 461,
    "body": "Empty WebVTT cues are valid, and should still be considered buffered. \n\nBy using a cues object with 0 length as a proxy to the init segment, we lose valid empty WebVTT segments. Instead, use existence of start/end as a proxy to init segments.\n\nThis regression was introduced in ab64c76ee90eafe6f8813c400a54eedfdf22bf81\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #461 from baconz/master\n\nConsider empty text cues buffered"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a490d6ca63ac8d88f775",
    "number": 459,
    "body": "",
    "head_branch": "nontrivial_return",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #459 from hochhaus/nontrivial_return\n\nAdd JSDoc to functions with non-trivial return values"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a491d6ca63ac8d88f776",
    "number": 458,
    "body": "",
    "head_branch": "annotations",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #458 from hochhaus/annotations\n\nFix JSDoc annotations"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a492d6ca63ac8d88f777",
    "number": 457,
    "body": "",
    "head_branch": "quote_properties",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #457 from hochhaus/quote_properties\n\nQuote properties on window in tests"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a493d6ca63ac8d88f778",
    "number": 456,
    "body": "Change generated with:\n\ngrep -rl PatchedMediaKeys . | \\\n    xargs -I {} sed  -i 's/PatchedMediaKeys/patchedMediaKeys/g' {}\n",
    "head_branch": "mediakeys",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a494d6ca63ac8d88f779",
    "number": 455,
    "body": "",
    "head_branch": "require",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #455 from hochhaus/require\n\nAdd missing goog.require"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a495d6ca63ac8d88f77a",
    "number": 454,
    "body": "",
    "head_branch": "semicolons",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #454 from hochhaus/semicolons\n\nRemove extraneous semicolons"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a496d6ca63ac8d88f77b",
    "number": 453,
    "body": "",
    "head_branch": "string_number",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a497d6ca63ac8d88f77c",
    "number": 442,
    "body": "If there is a duration set the start of the window will not move.\n\nWe've been including a `timeShiftBufferDepth` equal to the duration for in-progress recordings. Otherwise the `presentationTimeline.isLive()` check fails.\n",
    "head_branch": "fix_in_progress_vod_playhead",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #442 from baconz/fix_in_progress_vod_playhead\n\nplayhead reposition: treat anything with a duration as vod"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a498d6ca63ac8d88f77d",
    "number": 441,
    "body": "Addresses #425 \n",
    "head_branch": "fix_in_progress_seek_end",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #441 from baconz/fix_in_progress_seek_end\n\nchange getSeekRangeEnd to allow scrubbing to end of in-progress VOD"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a499d6ca63ac8d88f77e",
    "number": 434,
    "body": "- moves the folders: `util`, `externs` and `assets` from the  root (`test`) to test `test/test`.\n- moves all the tests to their respective \"package\" ex: `test/mpd_utils_unit.js` → `test/dash/mpd_utils_unit.js`\n- updates asset path `var audioSegmentUri = 'test/test/assets/multidrm-audio-segment.mp4';`\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #434 from leandromoreira/master\n\nrestructures test files\r\n\r\nFixes #427"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a49ad6ca63ac8d88f77f",
    "number": 433,
    "body": "Nudge no longer needed on seek because http://crbug.com/478151\nhas been closed\n",
    "head_branch": "feature/removeNudge",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #433 from sanbornhnewyyz/feature/removeNudge\n\nRemove stream nudge"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": true
  },
  {
    "_id": "6621a49bd6ca63ac8d88f780",
    "number": 429,
    "body": "As per issue #330, manifests are only required to be approx.\ncorrect with respect to their description of the media segments.\nIn order to avoid stalling when seeking through content like this,\nfetch the chunk prior to the one that supposedly contains the\ncurrent time.\n\nThis is an attempt to apply a similar fix to Ia7bb74d0120.\n",
    "head_branch": "feature/handleManifestChunkDiscrepancies",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #429 from sanbornhnewyyz/feature/handleManifestChunkDiscrepancies\n\nAttempt to fetch one chunk prior on seeking"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": true
  },
  {
    "_id": "6621a49cd6ca63ac8d88f781",
    "number": 428,
    "body": "",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a49dd6ca63ac8d88f782",
    "number": 426,
    "body": "If we rely on duration != null in-progress recordings get their last segment stretched to the end.\n\nFix for #423 \n",
    "head_branch": "fix_live_check_in_fit_references",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #426 from baconz/fix_live_check_in_fit_references\n\nfitSegmentReferences: Check isLive() using presentationTimeline"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a49ed6ca63ac8d88f783",
    "number": 421,
    "body": "Note, this PR depends upon #420.\n",
    "head_branch": "ver",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #421 from hochhaus/ver\n\nUpdate to compiler v20160713"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a49ed6ca63ac8d88f784",
    "number": 420,
    "body": "This change adds missing dependencies to shaka-player with the exception of adding 'shaka.offline.Storage' to 'shaka.offline.DownloadManager'. Doing so creates a circular dependency.\n\n```\nChecking the tests for type errors...\nERROR - Circular dependency detected: shaka.offline.Storage -> shaka.offline.DownloadManager -> shaka.offline.Storage\n\n1 error(s), 0 warning(s)\n```\n\nI will look into resolving that circular dep in a dedicated change.\n",
    "head_branch": "pr",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #420 from hochhaus/pr\n\nAdd missing goog.require() dependencies"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a49fd6ca63ac8d88f785",
    "number": 419,
    "body": "",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #419 from hochhaus/master\n\nAdd missing goog.require for shaka.util.StringUtils"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4a0d6ca63ac8d88f786",
    "number": 411,
    "body": "The start/end times are derived from reference times which have\nalready had the offsets applied. Without this patch, when there\nis an offset present we buffer all available text segments at\nstream start.\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4a1d6ca63ac8d88f787",
    "number": 400,
    "body": "",
    "head_branch": "v1.6.x",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4a2d6ca63ac8d88f788",
    "number": 398,
    "body": "Pull Request for issue https://github.com/google/shaka-player/issues/395.\n",
    "head_branch": "v1.6.x_issue#395",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4a3d6ca63ac8d88f789",
    "number": 397,
    "body": "Changes for issue https://github.com/google/shaka-player/issues/395.\n",
    "head_branch": "v1.6.x_issue#395",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4a4d6ca63ac8d88f78a",
    "number": 396,
    "body": "This one is for issue https://github.com/google/shaka-player/issues/395.\n",
    "head_branch": "1.6.x_disable_cache_busting_for_blob",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4a5d6ca63ac8d88f78b",
    "number": 362,
    "body": "When using the closure compiler and shaka-player as a lib I'm seeing the following error: \n`Uncaught TypeError: this.O` is not a function associated with the `this.logPrefix_()` call in the following code block in `stream.js`:\n\n```\nshaka.media.Stream.prototype.onUpdate_ = function() {\n  shaka.log.v2(this.logPrefix_(), 'onUpdate_');\n  shaka.asserts.assert(this.streamInfo_);\n  shaka.asserts.assert(this.segmentIndex_);\n  shaka.asserts.assert((this.updateTimer_ != null) && !this.resyncing_);\n  shaka.asserts.assert(!this.fetching_);\n\n  if (this.started_ && !this.proceeded_) {\n    shaka.log.v1(this.logPrefix_(), 'waiting to proceed...');\n    this.updateTimer_ = null;\n    return;\n  }\n```\n\n`this.logPrefix_()` seems to only be defined when not compiled at line\n\n```\nif (!COMPILED) {\n  /**\n   * Returns a string with the form 'Stream MIME_TYPE:' for logging purposes.\n   *\n   * @return {string}\n   * @private\n   */\n  shaka.media.Stream.prototype.logPrefix_ = function() {\n    return 'Stream ' + this.mimeType_ + ':';\n  };\n}\n```\n\nThis change occurred from the following commit: 49e34bc\n\nVersions before this show no error while versions after do.\n\nSetting COMPILED to false as well as removing the compiled check both resolve this issue.\n\n<!-- Reviewable:start -->\n\n---\n\nThis change is [<img src=\"https://reviewable.io/review_button.svg\" height=\"35\" align=\"absmiddle\" alt=\"Reviewable\"/>](https://reviewable.io/reviews/google/shaka-player/362)\n\n<!-- Reviewable:end -->\n",
    "head_branch": "fix-streams-log-error",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4a6d6ca63ac8d88f78c",
    "number": 354,
    "body": "If you disable CC the TextTrack ends up with cues set to null, which\nbreaks the async remove call on TextEngine. We should bail if there\nare no cues.\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4a7d6ca63ac8d88f78d",
    "number": 319,
    "body": "Make it possible to access the response when requests fails.\n\nI tried to change to `['xhr'] =` but then the tests failed because of type error\n\nHope it's correct to target v1.6.x branch.\n",
    "head_branch": "extern-error-xhr-property",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #319 from wader/extern-error-xhr-property\n\nExtern xhr error property"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": true
  },
  {
    "_id": "6621a4a8d6ca63ac8d88f78e",
    "number": 315,
    "body": "Hi,\nI have a multi period live stream and, at some time shaka was stopping with an INVALID_SEGMENT_INDEX error.\n\nI discovered that the issue was caused by the fact that when segment references are merged at the manifest change, some of the segments are skipped, considered to be duplicates of the previous received segments. This is true in general, but when the period changes, last segment is expanded to end of the period (in MpdUtils.fitSegmentReferences). This updated segment was not merged into the final segment list which was causing a gap.\n\nI added a unit test that reproduce the issue and I also made a fix for it. \n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge pull request #315 from cmgrecu/master\n\nUpdate end time of last segment in a period when new periods are added\r\n\r\nFixes #310"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4a9d6ca63ac8d88f78f",
    "number": 307,
    "body": "I fixed the presentationTimeOffset handling, it works with our server which generates a template like this one:\n&lt;SegmentTemplate timescale=\"22050\" presentationTimeOffset=\"28137092096\"\n                    initialization=\"dash-init-0.m4a\"\n                    media=\"dash-$Time$.m4a\"&gt;\n                &lt;SegmentTimeline&gt;\n                    &lt;S t=\"28137092096\" d=\"110592\" /&gt;\n                    &lt;S t=\"28137202688\" d=\"110592\" /&gt;\n                    &lt;S t=\"28137313280\" d=\"9216\" /&gt;\n                &lt;/SegmentTimeline&gt;\n            &lt;/SegmentTemplate&gt;\n\nI considered offset in timeline creation and segment url computation.\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4aad6ca63ac8d88f790",
    "number": 300,
    "body": "#299, but for the `preview` branch. As I haven't tested this and don't generally speak a lot of python, vet with extra caution.\n",
    "head_branch": "stable-build",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4abd6ca63ac8d88f791",
    "number": 299,
    "body": "Leaning just on `find` for order, two different checkouts will produce different file list orders for different people building it, at the moment, on some OS:es / file systems. Sorting the input file list prior to compiling makes sure that built output will produce the same result no matter who builds it where, which is all sorts of helpful when the built file is also under version control.\n",
    "head_branch": "stable-build",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4acd6ca63ac8d88f792",
    "number": 292,
    "body": "Passing an empty config object is no longer acceptable because the\nkeySystem property is mandatory on drmConfig objects.\n\nAlso modified HttpVideoSource constructor comment so that the drmConfig\ncomments are the single source of truth regarding well-formed drmConfig\nobjects.\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4add6ca63ac8d88f793",
    "number": 291,
    "body": "- Adds the ability to read segmented text tracks and convert them to VTT Cue objects that can be passed into the textTracks object\n\nThis could be of use to this project, feel free to use. The web vtt parser is far from perfect and could use a different source, but the whole implementation works well (tested and used on magine.com)\n",
    "head_branch": "subtitles-v2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4add6ca63ac8d88f794",
    "number": 280,
    "body": "Negotiation was the intended spelling\n",
    "head_branch": "patch-2",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4afd6ca63ac8d88f795",
    "number": 267,
    "body": "This is a dummy PR for CI testing.  Please ignore it.\n",
    "head_branch": "preview",
    "is_a_fork": false,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b0d6ca63ac8d88f796",
    "number": 266,
    "body": "Add support for responseURL where supported.\n\nXMLHttpRequest spec 4.6.1 adds the responseUrl attribute:\nhttps://xhr.spec.whatwg.org/#the-responseurl-attribute\n\n**Browser Support**\nChromium: https://code.google.com/p/chromium/issues/detail?id=377583\nWebkit: https://bugs.webkit.org/show_bug.cgi?id=136938\nMozilla: https://bugzilla.mozilla.org/show_bug.cgi?id=998076\n\nA current use case is when the DASH manifest is located at a URL that is redirected via 302 to another location. Currently, the mpdParser will then pull the chunks from the original URI rather than the URl from which the manifest was ultimately downloaded.\n\n**Example - Current Flow**\nhttp://some.host.org/path/manifest.mpd returns 302 to http://other.host.org/path/manifest.mpd.\n\nSubsequent requests for mp4 chunks will be:\nhttp://some.host.org/path/chunk1.mp4\nhttp://some.host.org/path/chunk2.mp4\n\nIf the server has been configured to 302 redirect for everything, this will result in each of the above chunks also having a 302 redirect. If the server hasn't been configured, then they will fail.\n\n**Example - Proposed Flow**\nhttp://some.host.org/path/manifest.mpd returns 302 to http://other.host.org/path/manifest.mpd.\n\nSubsequent requests for mp4 chunks will be:\nhttp://other.host.org/path/chunk1.mp4\nhttp://other.host.org/path/chunk2.mp4\n\nAs the base_url should be the URI from which the manifest was downloaded.\n\nIn browsers without responseUrl support, flow will fallback to current.\n",
    "head_branch": "redirect-fix",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b1d6ca63ac8d88f797",
    "number": 265,
    "body": "Adding myself to Authors/Contrib following CLA submission\n",
    "head_branch": "rgc-authors",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b1d6ca63ac8d88f798",
    "number": 263,
    "body": "Add support for 302 redirect in browsers that have responseURL implemented for XHR per:\nhttps://xhr.spec.whatwg.org/#the-responseurl-attribute\n\nSee also:\nhttps://github.com/google/shaka-player/issues/225\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b2d6ca63ac8d88f799",
    "number": 260,
    "body": "",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b3d6ca63ac8d88f79a",
    "number": 256,
    "body": "Without this patch, it tries to find the files from\n- file://www.gstatic.com/cv/js/sender/v1/cast_sender.js\n- file://shaka-player-demo.appspot.com/assets/poster.jpg\n  and fails.\n",
    "head_branch": "seoz_devel",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b4d6ca63ac8d88f79b",
    "number": 254,
    "body": "In my use case i want to keep the live stream playing while switching audio tracks,\ni've added this option to allow switching audio at specific time and not pause the stream for that.\n\nThanks,\n",
    "head_branch": "add-offset-buffer-for-audio",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b5d6ca63ac8d88f79c",
    "number": 231,
    "body": "It is nice to be able to set the playhead position on in-progress recordings, which use \"live\" manifests.\n\nInteresting note:\n\nWe ran into this because we were setting the starting playback position by changing currentTime directly on the video node. Big, big, big mistake for in progress recordings! If we set the playhead too far into the past before beginPlayback gets called, the liveEdgeOffset gets very large, and users are unable to scrub into the future. It may be worth updating docs so that others don't run into this same trap.\n",
    "head_branch": "set-start-on-live",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge f6796e2baa304b6e0fd247d83da8358db30af8d7 into 52d218aff96ace84c15d755afce7bbf8302f53d9"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b6d6ca63ac8d88f79d",
    "number": 226,
    "body": "Without this fix there can only be one valid representation for each adaptation set if there is DRM with a pre/post license fetch callback.\n\nYuck.\n\nIn plain english: multiple bitrates don't work if you use DRM + callbacks. `createStreamSetInfo` will kick out all but the first representation.\n\nNot sure if you guys want to explore a more robust way to compare those callbacks. Obviously this will blow up if somebody passed different closures to identical drm configs.\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b7d6ca63ac8d88f79e",
    "number": 218,
    "body": "https://github.com/google/shaka-player/issues/217\n",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b8d6ca63ac8d88f79f",
    "number": 176,
    "body": "Added new EME polyfill for v20140218 which is the flavour of EME implemented by IE11/Edge. No support for peristent licenses, not 100% sure if this is possible in IE11/Edge. Not tested on live streams, don't have suitable content.\n\nAlso had to make some changes to work-around browser specific issues:\n1. Had to increase shaka.player.Player.UNDERFLOW_THRESHOLD_ from 0.2 to 0.5; because IE11 + Edge would automatically halt video before playhead reached the underflow theshold, a state it couldn't exit out of.\n1. Had to tweak shaka.util.FakeEventTarget.prototype.dispatchEvent to only define properties once as this caused an issue in IE11 (Edge OK). Also, IE11 didn't like the properties being defined with value/writable, only got it to work properly with get/set funcs. Issue was that event.target was always null, even if it was being set on the preceding line. I did experiment with using Object.defineProperty for each, instead of Object.defineProperties, as was discussed a little while back, but I had the same issue.\n2. Not sure if this is a browser bug in IE11, but when I handled PSSH data in the msneedkey event (within the new EME polyfill), I was occasionally getting the PSSH data duplicated back-to-back (e.g. if media contained PlayReady PSSH \"ABC\", sometime event.initData in msneedkey would have \"ABC\", and sometimes it would have \"ABCABC\"). Never found a reason why this was happening. This eventually caused an exception in IE11. So I tweaked the PSSH parser to keep track of the boundaries for each distinct PSSH box within a given array, which is used by the EME polyfil to remove duplicates within the msneedkey handler.\n3. EME manager uses shaka.util.Uint8ArrayUtils.key() to generate a unique key for a PSSH data array by converting to a comma separated string, which was later used as a property on an object. There must be a limit to the length of property names in IE11, as large values generated by the key() method (when PSSH data is large) caused the value of object.key to always be undefined. Modified this method to keep string representations of the given array internally, and assign it a randomly generated ID if it's not already present in the cache.\n\nTests:\nUnit tests are passing, but am having some flakiness in the integration tests, in both this branch as well as latest master:\n\nPR branch failing tests:\nPlayer end-of-stream behavior permits looping\n\nMaster failing tests:\nPlayer setPlaybackRate plays in reverse for negative rates\nPlayer end-of-stream behavior permits looping\n\nAny idea if there are known issues with the integration tests?\n",
    "head_branch": "pull-request/ie-edge-playready-support",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4b9d6ca63ac8d88f7a0",
    "number": 168,
    "body": "",
    "head_branch": "feature/ms-playready",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4bad6ca63ac8d88f7a1",
    "number": 167,
    "body": "Add a configurationchanged event that fires when videoSource.configure()\nis called. This is useful for components that need to know when certain\nconfigurations have changed such as when bandwidth restrictions have\nbeen changed. In this case, the simple_abr_manager can force a video track\nupdate when restrictions have been changed instead of waiting for a\nbandwidth update.\n\nThis is the kind of thing I have in mind for #160 as an alternative solution.\n",
    "head_branch": "feature/fastTrackSwitching",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4bbd6ca63ac8d88f7a2",
    "number": 163,
    "body": "To prevent crashing with other module loaders that support `define`, but are not full AMD module loaders, check for `define.amd` as well before defining the AMD module.\n",
    "head_branch": "patch-1",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4bcd6ca63ac8d88f7a3",
    "number": 161,
    "body": "I realize getAdaptationEnabled is deprecated but it was returning undefined. Until it gets taken out I assume it should be returning the correct value.\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4bdd6ca63ac8d88f7a4",
    "number": 144,
    "body": "Mainly for use in a custom ABR manager, where calling StreamVideoSource.selectVideoTrack could pass an optional offset param, which is the number of seconds in front of video.currentTime that the buffer should be cleared from. \n\nUseful when configuring the player with a large buffer that should be truncated when upgrading from a lower bitrate to a higher one (so that the user sees the newer bitrate without having to player through the size of the buffer)\n\nAddresses issue #95 \n",
    "head_branch": "pull-request/clear-buffer-on-switch",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4bed6ca63ac8d88f7a5",
    "number": 125,
    "body": "Sorry guys, when I updated that comment I didn't check that it compiled properly. I accidentally left a trailing space in the comment.\n",
    "head_branch": "feature/setPlaybackStartTime",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4bfd6ca63ac8d88f7a6",
    "number": 123,
    "body": "",
    "head_branch": "feature/setPlaybackStartTime",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4c0d6ca63ac8d88f7a7",
    "number": 120,
    "body": "This is only a test.\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4c0d6ca63ac8d88f7a8",
    "number": 110,
    "body": "This ports our fixes back into the Shaka source.\n\n@ustudio/dev Can somebody review this, before I open a PR back to the upstream source?\n",
    "head_branch": "old-ie",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4c1d6ca63ac8d88f7a9",
    "number": 103,
    "body": "Tested in FF (Nightly), Opera (Beta), and Safari\n",
    "head_branch": "firefox",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4c2d6ca63ac8d88f7aa",
    "number": 99,
    "body": "Add canvas based graph to the test page and build process.\n\nThis addresses issue  #98 \n",
    "head_branch": "create-stats-overlay",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4c3d6ca63ac8d88f7ab",
    "number": 79,
    "body": "Handling timeouts on Ajax Request\n",
    "head_branch": "ajax_timeout",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [
      "Merge 4a542cafdbeb36dd9ad64e0310c1fefa0e00cc91 into 561006b49fce97b4744c0079f93ff13be1b0d4c7"
    ],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": true
  },
  {
    "_id": "6621a4c4d6ca63ac8d88f7ac",
    "number": 64,
    "body": "For live streams, minimumUpdatePeriod can be set to 0. It means that\nwe shouldn't refresh the manifest until there's an explicit signal\nfrom within the stream. As of now, there's no way to get that signal\nfrom MSE. So as a workaround, if we see a minimumUpdatePeriod of 0,\nwe set it to 10 seconds. This is similar to how Exoplayer [1] and Dash.js [2]\nhandle this case.\n\n[1] https://github.com/Dash-Industry-Forum/dash.js/blob/fe14ee023c0e3aa073284ce034758942e8f3c7bf/build/test/js/utils/MPDHelper.js#L12\n[2] https://github.com/google/ExoPlayer/blob/953e1118a58a269ded8b0246874bd827d900fcf0/library/src/main/java/com/google/android/exoplayer/dash/DashChunkSource.java#L270\n",
    "head_branch": "master",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4c5d6ca63ac8d88f7ad",
    "number": 55,
    "body": "Build process now supports AMD.\n\nExample usage:\n\n```\n(function() {\n  'use strict';\n\n  require(['node_modules/shaka-player/amd'], function(shaka) {\n    shaka.polyfill.Fullscreen.install();\n    shaka.polyfill.MediaKeys.install();\n    shaka.polyfill.VideoPlaybackQuality.install();\n\n    var player = new shaka.player.Player(document.getElementById('foo'));\n    var playerSource = new shaka.player.HttpVideoSource('http://video.webmfiles.org/elephants-dream.webm');\n    player.load(playerSource).then(function() {\n      player.play();\n    });\n  });\n}());\n```\n",
    "head_branch": "amd",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4c6d6ca63ac8d88f7ae",
    "number": 40,
    "body": "This fixes handling of URIs with special characters. Without this patch, segment URIs such as e.g. http://example.com/0.webm?param=%26 are translated to http://example.com/0.webm?param=&.\n",
    "head_branch": "fix-query-decode",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4c7d6ca63ac8d88f7af",
    "number": 37,
    "body": "...ged\n\nChange-Id: If5878056ef799875bd39ad13e0f0ec2654d742fc\n",
    "head_branch": "contrib",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4c8d6ca63ac8d88f7b0",
    "number": 36,
    "body": "Updated pull request for #32 based on the discussion in #33 \n\nSeveral things worth discussing:\n1. Should all restrictions be settable? Since restrictions can be set at any time, there is the potential to override the restrictions set after the license request. Is this problematic?\n2. I had to remove @struct from the Restrictions object documentation in order to access it with '[]' notation. I'm not very familiar with the Closure compiler so you guys can provide guidance here if this is a poor approach.\n",
    "head_branch": "feature/restrictions",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4c9d6ca63ac8d88f7b1",
    "number": 35,
    "body": "... the root folder and exports all the main classes for CommonJS support\n\nChange-Id: I53e0bcf483f6e3d46e9d9a28a4881fad7b6be13c\n",
    "head_branch": "addModuleExports",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4cad6ca63ac8d88f7b2",
    "number": 33,
    "body": "This is a proposal for a way to set bandwidth limits on available video tracks as discussed #32.\n",
    "head_branch": "feature/bitrateLimit",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": false,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  },
  {
    "_id": "6621a4cbd6ca63ac8d88f7b3",
    "number": 31,
    "body": "Adds a method for getting whether automatic adaptation is enabled or disabled.\n",
    "head_branch": "feature/getAdaptationState",
    "is_a_fork": true,
    "comments": [],
    "commit_messages": [],
    "has_test_file": false,
    "was_merged": true,
    "documentation_file_was_changed": false,
    "documentation_or_comments_in_code_were_changed": false
  }
]